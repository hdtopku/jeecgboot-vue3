var r=(i,n,o)=>new Promise((s,f)=>{var y=t=>{try{a(o.next(t))}catch(l){f(l)}},e=t=>{try{a(o.throw(t))}catch(l){f(l)}},a=t=>t.done?s(t.value):Promise.resolve(t.value).then(y,e);a((o=o.apply(i,n)).next())});import{h as p}from"./BasicForm.e500713f.js";import{F as h,c8 as F,c9 as w,ca as b,af as S,L as m,bT as T,H as g,bU as v,a2 as V,bV as P,Q as k}from"./index.6c1aeca2.js";import{l as u}from"./helper.15e1830a.js";function R(i){const n=h(null),o=h(!1);u("OnlineSelectCascade",F),u("LinkTableCard",w),u("LinkTableSelect",b);function s(){return r(this,null,function*(){const e=m(n);return e||P("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),yield k(),e})}function f(e){S(()=>{n.value=null,o.value=null}),!(m(o)&&T()&&e===m(n))&&(n.value=e,o.value=!0,g(()=>i,()=>{i&&e.setProps(v(i))},{immediate:!0,deep:!0}))}return[f,{scrollToField:(e,a)=>r(this,null,function*(){(yield s()).scrollToField(e,a)}),setProps:e=>r(this,null,function*(){(yield s()).setProps(e)}),updateSchema:e=>r(this,null,function*(){(yield s()).updateSchema(e)}),resetSchema:e=>r(this,null,function*(){(yield s()).resetSchema(e)}),clearValidate:e=>r(this,null,function*(){(yield s()).clearValidate(e)}),resetFields:()=>r(this,null,function*(){s().then(e=>r(this,null,function*(){yield e.resetFields()}))}),removeSchemaByFiled:e=>r(this,null,function*(){var a;(a=m(n))==null||a.removeSchemaByFiled(e)}),getFieldsValue:()=>{var a;let e=(a=m(n))==null?void 0:a.getFieldsValue();return e&&Object.keys(e).map(t=>{e[t]instanceof Array&&(e[t]=e[t].join(","))}),e},setFieldsValue:e=>r(this,null,function*(){(yield s()).setFieldsValue(e)}),appendSchemaByField:(e,a,t)=>r(this,null,function*(){(yield s()).appendSchemaByField(e,a,t)}),submit:()=>r(this,null,function*(){return(yield s()).submit()}),validate:e=>r(this,null,function*(){const a=yield s();let t=i||a.getProps;return a.validate(e).then(c=>{for(let d in c)c[d]instanceof Array&&V(t,d)==="string"&&(c[d]=c[d].join(","));return p(t,c)})}),validateFields:e=>r(this,null,function*(){return(yield s()).validateFields(e)})}]}export{R as u};
