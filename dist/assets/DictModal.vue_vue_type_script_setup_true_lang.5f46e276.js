var F=Object.defineProperty,M=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(o,s,e)=>s in o?F(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,p=(o,s)=>{for(var e in s||(s={}))y.call(s,e)&&g(o,e,s[e]);if(d)for(var e of d(s))R.call(s,e)&&g(o,e,s[e]);return o},v=(o,s)=>M(o,x(s));var f=(o,s,e)=>new Promise((c,u)=>{var l=r=>{try{n(e.next(r))}catch(a){u(a)}},m=r=>{try{n(e.throw(r))}catch(a){u(a)}},n=r=>r.done?c(r.value):Promise.resolve(r.value).then(l,m);n((e=e.apply(o,s)).next())});import{B as U}from"./index.1f7bae22.js";import{B as b}from"./BasicForm.3a183fb4.js";import"./componentMap.336a260f.js";import{u as k}from"./useForm.41384b89.js";import"./JAddInput.00851a08.js";import{j as C,C as B,bH as H,H as i,m as L,s as D,Q as I,w as O,v as P,x as S}from"./index.c1f9bce8.js";import{f as V}from"./dict.data.ba7558d3.js";import{b as j}from"./dict.api.448540ab.js";const K=C({__name:"DictModal",emits:["register","success"],setup(o,{emit:s}){const e=B(!0),c=B(""),[u,{resetFields:l,setFieldsValue:m,validate:n}]=k({schemas:V,showActionButtonGroup:!1}),[r,{setModalProps:a,closeModal:w}]=H(t=>f(this,null,function*(){yield l(),a({confirmLoading:!1,minHeight:80}),e.value=!!(t!=null&&t.isUpdate),i(e)&&(c.value=t.record.id,yield m(p({},t.record)))})),_=L(()=>i(e)?"\u7F16\u8F91\u5B57\u5178":"\u65B0\u589E\u5B57\u5178");function h(){return f(this,null,function*(){try{let t=yield n();a({confirmLoading:!0}),yield j(t,e.value),w(),s("success",{isUpdate:i(e),values:v(p({},t),{id:c.value})})}finally{a({confirmLoading:!1})}})}return(t,A)=>(D(),I(i(U),S(t.$attrs,{onRegister:i(r),title:_.value,width:"500px",onOk:h}),{default:O(()=>[P(i(b),{onRegister:i(u)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{K as _};
