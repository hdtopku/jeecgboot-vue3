import{a as e,u as t}from"./useSysMessage.bb156b89.js";import{y as a,av as n,q as r,aJ as l,t as o,v as i,V as c,z as s,x as u,W as d,aW as f,D as g,C as b,ax as y}from"./index.b2c24a42.js";var m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M193 796c0 17.7 14.3 32 32 32h574c17.7 0 32-14.3 32-32V563c0-176.2-142.8-319-319-319S193 386.8 193 563v233zm72-233c0-136.4 110.6-247 247-247s247 110.6 247 247v193H404V585c0-5.5-4.5-10-10-10h-44c-5.5 0-10 4.5-10 10v171h-75V563zm-48.1-252.5l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3l-67.9-67.9a8.03 8.03 0 00-11.3 0l-39.6 39.6a8.03 8.03 0 000 11.3l67.9 67.9c3.1 3.1 8.1 3.1 11.3 0zm669.6-79.2l-39.6-39.6a8.03 8.03 0 00-11.3 0l-67.9 67.9a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l67.9-67.9c3.1-3.2 3.1-8.2 0-11.3zM832 892H192c-17.7 0-32 14.3-32 32v24c0 4.4 3.6 8 8 8h688c4.4 0 8-3.6 8-8v-24c0-17.7-14.3-32-32-32zM484 180h56c4.4 0 8-3.6 8-8V76c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v96c0 4.4 3.6 8 8 8z"}}]},name:"alert",theme:"outlined"};function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){v(e,t,a[t])}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=function(e,t){var r=p({},e,t.attrs);return a(n,p({},r,{icon:m}),null)};h.displayName="AlertOutlined",h.inheritAttrs=!1;var O=h,j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.8-240-277.2V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.8C336.3 170.2 232 286.9 232 428v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48z"}}]},name:"bell",theme:"filled"};function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){M(e,t,a[t])}))}return e}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=function(e,t){var r=k({},e,t.attrs);return a(n,k({},r,{icon:j}),null)};w.displayName="BellFilled",w.inheritAttrs=!1;var z=w,x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M448 804a64 64 0 10128 0 64 64 0 10-128 0zm32-168h64c4.4 0 8-3.6 8-8V164c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8z"}}]},name:"exclamation",theme:"outlined"};function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){P(e,t,a[t])}))}return e}function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=function(e,t){var r=S({},e,t.attrs);return a(n,S({},r,{icon:x}),null)};_.displayName="ExclamationOutlined",_.inheritAttrs=!1;var L=_,V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){C(e,t,a[t])}))}return e}function C(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var D=function(e,t){var r=H({},e,t.attrs);return a(n,H({},r,{icon:V}),null)};D.displayName="FilterOutlined",D.inheritAttrs=!1;var E=D,F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"};function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){A(e,t,a[t])}))}return e}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var B=function(e,t){var r=T({},e,t.attrs);return a(n,T({},r,{icon:F}),null)};B.displayName="InteractionOutlined",B.inheritAttrs=!1;var N=B,R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){K(e,t,a[t])}))}return e}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var U=function(e,t){var r=I({},e,t.attrs);return a(n,I({},r,{icon:R}),null)};U.displayName="MailOutlined",U.inheritAttrs=!1;const W={name:"SysMessageList",components:{FilterOutlined:E,CloseOutlined:l,BellFilled:z,ExclamationOutlined:L,MailOutlined:U,InteractionOutlined:N,AlertOutlined:O},props:{star:{type:Boolean,default:!1}},emits:["close","detail"],setup(a,{emit:n}){const{messageList:r,loadEndStatus:l,loadingMoreStatus:o,onLoadMore:i,noRead:c,getMsgCategory:s,searchParams:u,reset:d,loadData:f,updateStarMessage:g}=e();const{goPage:b}=t(n);return{messageList:r,loadEndStatus:l,loadingMoreStatus:o,onLoadMore:i,noRead:c,getMsgCategory:s,reload:function(e){let{fromUser:t,rangeDateKey:n,rangeDate:r}=e;u.fromUser=t||"",u.rangeDateKey=n||"",u.rangeDate=r||[],!0===a.star?u.starFlag="1":u.starFlag="",d(),f()},clickStar:function(e){g(e),"1"==e.starFlag?e.starFlag="0":e.starFlag="1"},showMessageDetail:function(e){e.readFlag="1",b(e),n("close",e.id)}}}},q={key:0,style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"}},J=b("加载更多"),G={key:1,style:{textAlign:"center",marginTop:"12px",height:"32px",lineHeight:"32px"}},Q={style:{position:"relative"}},X=["innerHTML"],Y=["innerHTML"],Z=["onClick"];var $=r(W,[["render",function(e,t,n,r,l,m){const p=o("a-button"),v=o("a-rate"),h=o("a-tooltip"),O=o("mail-outlined"),j=o("a-avatar"),k=o("a-badge"),M=o("interaction-outlined"),w=o("alert-outlined"),z=o("bell-filled"),x=o("a-list-item-meta"),S=o("a-list-item"),P=o("a-list");return i(),c(P,{"item-layout":"horizontal","data-source":r.messageList},{loadMore:s((()=>[r.messageList&&r.messageList.length>0&&!r.loadEndStatus&&!r.loadingMoreStatus?(i(),u("div",q,[a(p,{onClick:r.onLoadMore},{default:s((()=>[J])),_:1},8,["onClick"])])):d("",!0),r.messageList&&r.messageList.length>0&&r.loadEndStatus?(i(),u("div",G," 没有更多了 ")):d("",!0)])),renderItem:s((({item:e})=>[a(S,null,{actions:s((()=>[a(v,{value:"1"==e.starFlag?1:0,count:1,onClick:t=>r.clickStar(e),style:{cursor:"pointer"},disabled:""},null,8,["value","onClick"])])),default:s((()=>[a(x,{description:e.createTime},{title:s((()=>[f("div",Q,[f("span",null,g(r.getMsgCategory(e)),1),"bpm"==e.busType?(i(),u("span",{key:0,class:"bpm-cuiban-content",innerHTML:e.msgContent},null,8,X)):(i(),c(h,{key:1},{title:s((()=>[f("div",{innerHTML:e.msgContent},null,8,Y)])),default:s((()=>[b(" "+g(e.titile),1)])),_:2},1024)),f("a",{onClick:t=>r.showMessageDetail(e),style:{"margin-left":"16px"}},"查看详情",8,Z)])])),avatar:s((()=>["email"==e.busType?(i(),u(y,{key:0},[r.noRead(e)?(i(),c(k,{key:0,dot:"",class:"msg-no-read"},{default:s((()=>[a(j,{style:{background:"#79919d"}},{default:s((()=>[a(O,{style:{"font-size":"16px"},title:"未读消息"})])),_:1})])),_:1})):(i(),c(j,{key:1,style:{background:"#79919d"}},{default:s((()=>[a(O,{style:{"font-size":"16px"}})])),_:1}))],64)):"bpm_task"==e.busType?(i(),u(y,{key:1},[r.noRead(e)?(i(),c(k,{key:0,dot:"",class:"msg-no-read"},{default:s((()=>[a(j,{style:{background:"#79919d"}},{default:s((()=>[a(M,{style:{"font-size":"16px"},title:"未读消息"})])),_:1})])),_:1})):(i(),c(j,{key:1,style:{background:"#79919d"}},{default:s((()=>[a(M,{style:{"font-size":"16px"}})])),_:1}))],64)):"bpm"==e.busType?(i(),u(y,{key:2},[r.noRead(e)?(i(),c(k,{key:0,dot:"",class:"msg-no-read"},{default:s((()=>[a(j,{style:{background:"#79919d"}},{default:s((()=>[a(w,{style:{"font-size":"16px"},title:"未读消息"})])),_:1})])),_:1})):(i(),c(j,{key:1,style:{background:"#79919d"}},{default:s((()=>[a(w,{style:{"font-size":"16px"}})])),_:1}))],64)):(i(),u(y,{key:3},[r.noRead(e)?(i(),c(k,{key:0,dot:"",class:"msg-no-read"},{default:s((()=>[a(j,{style:{background:"#79919d"}},{default:s((()=>[a(z,{style:{"font-size":"16px"},title:"未读消息"})])),_:1})])),_:1})):(i(),c(j,{key:1,style:{background:"#79919d"}},{default:s((()=>[a(z,{style:{"font-size":"16px"}})])),_:1}))],64))])),_:2},1032,["description"])])),_:2},1024)])),_:1},8,["data-source"])}],["__scopeId","data-v-d974e744"]]),ee=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{z as B,L as E,E as F,$ as S,ee as a};
