import{j as g,r as B,s as e,Q as r,w as _,aW as a,z as p,S as D,q as S,m as $,t as h,y as k,v as x,B as A,C as w,a7 as E,a9 as F,V as I,ax as L,bc as T,bx as V,R as c,H as N,I as z,bF as j}from"./index.c5ce5f09.js";import{B as b}from"./Bar.544f88ad.js";import{useECharts as G}from"./useECharts.4e8890b6.js";import{b as O,c as R}from"./data.e9fbbbc1.js";const q={class:"chart-card-header"},P={class:"meta"},H={class:"chart-card-title"},M={class:"chart-card-action"},Q={class:"total"},W={class:"chart-card-content"},J={class:"content-fix"},K={class:"chart-card-footer"},U={class:"field"},X=g({__name:"ChartCard",props:{title:{type:String,default:""},total:{type:[Number,String],default:""},loading:{type:Boolean,default:!1}},setup(t){return(s,n)=>{const l=B("a-card");return e(),r(l,{loading:t.loading,"body-style":{padding:"20px 24px 8px"},bordered:!1},{default:_(()=>[a("div",q,[a("div",P,[a("span",H,p(t.title),1),a("span",M,[D(s.$slots,"action",{},void 0,!0)])]),a("div",Q,[a("span",null,p(t.total),1)])]),a("div",W,[a("div",J,[D(s.$slots,"default",{},void 0,!0)])]),a("div",K,[a("div",U,[D(s.$slots,"footer",{},void 0,!0)])])]),_:3},8,["loading"])}}});const Y=S(X,[["__scopeId","data-v-ed423c1e"]]),Z=g({name:"Trend",props:{term:{type:String,default:"",required:!0},percentage:{type:Number,default:null},type:{type:Boolean,default:null},target:{type:Number,default:0},value:{type:Number,default:0},fixed:{type:Number,default:2}},setup(t){const s=$(()=>(t.type===null?t.value>=t.target:t.type)?"up":"down"),n=$(()=>(t.percentage===null?Math.abs(t.value-t.target)*100/t.target:t.percentage).toFixed(t.fixed));return{trend:s,rate:n}}});const tt={class:"chart-trend"};function et(t,s,n,l,i,f){const u=B("Icon");return e(),h("div",tt,[k(p(t.term)+" ",1),a("span",null,p(t.rate)+"%",1),a("span",{class:A(["trend-icon",t.trend])},[x(u,{icon:"ant-design:caret-"+t.trend+"-outlined"},null,8,["icon"])],2)])}const v=S(Z,[["render",et],["__scopeId","data-v-620ec0b8"]]),at=g({name:"line",props:{chartData:{type:Array,default:()=>[]},option:{type:Object,default:()=>({})},width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh - 78px)"}},setup(t){const s=w(null),{setOptions:n,echarts:l}=G(s),i=E({tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#333"}}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"line",showSymbol:!1,smooth:!0,areaStyle:{},data:[]}]});F(()=>{t.chartData&&f()});function f(){t.option&&Object.assign(i,t.option);let u=t.chartData.map(m=>m.value),y=t.chartData.map(m=>m.name);i.series[0].data=u,i.xAxis.data=y,n(i)}return{chartRef:s}}});function nt(t,s,n,l,i,f){return e(),h("div",{ref:"chartRef",style:I({height:t.height,width:t.width})},null,4)}const C=S(at,[["render",nt]]),ot={class:"md:flex"},rt={key:0},st={key:1},lt={key:0},pt=g({__name:"ChartGroupCard",props:{loading:{type:Boolean},type:{type:String,default:"chart"}},setup(t){const s=t,n=w({xAxis:{show:!1,boundaryGap:!1},yAxis:{show:!1,boundaryGap:!1,max:220}}),l=w([{name:"1\u6708",value:50},{name:"2\u6708",value:100},{name:"3\u6708",value:150},{name:"4\u6708",value:40},{name:"5\u6708",value:110},{name:"6\u6708",value:120}]),i=$(()=>s.type==="dbc"?O:R);function f(u,y){return y===0?`\uFFE5${u}`:y===3?`${u}%`:u}return(u,y)=>{const m=B("a-tooltip");return e(),h("div",ot,[(e(!0),h(L,null,T(i.value,(d,o)=>(e(),r(Y,{key:d.title,loading:t.loading,title:d.title,total:f(d.total,o),class:A(["md:w-1/4 w-full !md:mt-0 !mt-4",[o+1<4&&"!md:mr-4"]])},V({action:_(()=>[x(m,{title:"\u6307\u6807\u8BF4\u660E"},{default:_(()=>[x(N(z),{icon:d.icon,size:20},null,8,["icon"])]),_:2},1024)]),default:_(()=>[t.type==="chart"?(e(),h("div",rt,[o===0?(e(),r(v,{key:0,term:"\u5468\u540C\u6BD4",percentage:12})):c("",!0),o===0?(e(),r(v,{key:1,term:"\u65E5\u540C\u6BD4",percentage:11,type:!1})):c("",!0),o===1?(e(),r(C,{key:2,option:n.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),o===2?(e(),r(b,{key:3,option:n.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),o===3?(e(),r(N(j),{key:4,percent:78,"show-info":!1})):c("",!0)])):(e(),h("div",st,[o===0?(e(),r(C,{key:0,option:n.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),o===1?(e(),r(C,{key:1,option:n.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),o===2?(e(),r(b,{key:2,option:n.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),o===3?(e(),r(b,{key:3,option:n.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0)]))]),_:2},[t.type==="chart"?{name:"footer",fn:_(()=>[u.inde!==3?(e(),h("span",lt,[k(p(d.footer),1),a("span",null,p(d.value),1)])):c("",!0),o===3?(e(),r(v,{key:1,term:"\u5468\u540C\u6BD4",percentage:12})):c("",!0),o===3?(e(),r(v,{key:2,term:"\u65E5\u540C\u6BD4",percentage:11,type:!1})):c("",!0)]),key:"0"}:{name:"footer",fn:_(()=>[a("span",null,[k(p(d.footer),1),a("span",null,p(d.value),1)])]),key:"1"}]),1032,["loading","title","total","class"]))),128))])}}});export{pt as _};
