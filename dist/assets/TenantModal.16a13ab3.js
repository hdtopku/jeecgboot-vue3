var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,n=(e,t,a)=>new Promise(((o,l)=>{var n=e=>{try{r(a.next(e))}catch(t){l(t)}},i=e=>{try{r(a.throw(e))}catch(t){l(t)}},r=e=>e.done?o(e.value):Promise.resolve(e.value).then(n,i);r((a=a.apply(e,t)).next())}));import{B as i}from"./index.934459b9.js";import{B as r}from"./BasicForm.5f094c03.js";import"./helper.7e5efd4b.js";import{u as s}from"./useForm.18cf269c.js";import"./JAddInput.a2bd8bfb.js";import{em as d,l as p,F as c,bH as m,L as u,o as f,v as b,V as y,z as v,y as h,B as g}from"./index.26a57b91.js";import{g as P,s as w}from"./tenant.api.b2340665.js";const j=[{title:"租户名称",dataIndex:"name",width:200,align:"left"},{title:"租户编号",dataIndex:"id",width:180},{title:"开始时间",dataIndex:"beginDate",sorter:!0,width:180},{title:"结束时间",dataIndex:"endDate",sorter:!0,width:180},{title:"状态",dataIndex:"status_dictText",width:100}],x=[{field:"name",label:"租户名称",component:"Input",colProps:{span:8}},{field:"status",label:"状态",component:"Select",componentProps:{options:[{label:"正常",value:1},{label:"冻结",value:0}]},colProps:{span:8}}],D=[{field:"name",label:"租户名称",component:"Input",required:!0},{field:"id",label:"租户编号",component:"InputNumber",required:!0},{field:"beginDate",label:"开始时间",component:"DatePicker",componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",getPopupContainer:d}},{field:"endDate",label:"结束时间",component:"DatePicker",componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",getPopupContainer:d}},{field:"status",label:"状态",component:"RadioButtonGroup",defaultValue:1,componentProps:{options:[{label:"正常",value:1},{label:"冻结",value:0}]}}],I=p({__name:"TenantModal",emits:["register","success"],setup(e,{emit:d}){const p=c(!0),[j,{resetFields:x,setFieldsValue:I,validate:O,updateSchema:_}]=s({schemas:D,showActionButtonGroup:!1}),[M,{setModalProps:Y,closeModal:F}]=m((e=>n(this,null,(function*(){yield x(),Y({confirmLoading:!1}),p.value=!!(null==e?void 0:e.isUpdate),u(p)?(_({field:"id",dynamicDisabled:!0}),e.record=yield P({id:e.record.id}),yield I(((e,n)=>{for(var i in n||(n={}))a.call(n,i)&&l(e,i,n[i]);if(t)for(var i of t(n))o.call(n,i)&&l(e,i,n[i]);return e})({},e.record))):_({field:"id",dynamicDisabled:!1})})))),B=f((()=>u(p)?"编辑租户":"新增租户"));function T(e){return n(this,null,(function*(){try{let e=yield O();Y({confirmLoading:!0}),yield w(e,p.value),F(),d("success")}finally{Y({confirmLoading:!1})}}))}return(e,t)=>(b(),y(u(i),g(e.$attrs,{onRegister:u(M),title:u(B),onOk:T,width:"700px"}),{default:v((()=>[h(u(r),{onRegister:u(j)},null,8,["onRegister"])])),_:1},16,["onRegister","title"]))}});var O=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{O as T,I as _,j as c,x as s};
