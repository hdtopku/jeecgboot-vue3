var z=(x,F,m)=>new Promise((M,g)=>{var N=a=>{try{c(m.next(a))}catch(h){g(h)}},E=a=>{try{c(m.throw(a))}catch(h){g(h)}},c=a=>a.done?M(a.value):Promise.resolve(a.value).then(N,E);c((m=m.apply(x,F)).next())});import{onMountedOrActivated as I}from"./onMountedOrActivated.5ca73ec3.js";import{useWindowSizeFn as K}from"./useWindowSizeFn.6297694a.js";import{u as V}from"./useContentViewHeight.2ffe4fbc.js";import{C as A,M as P,E as W,H as r,b3 as X,cb as Z,aR as _,K as $}from"./index.0be4b5b8.js";import"./usePageContext.c7f93940.js";function Q(x,F,m,M,g=0,N=A(0)){const E=A(null),{footerHeightRef:c}=V();let a={useLayoutFooter:!0};const h=e=>{a=e};function D(){P(()=>{B()})}function p(e,R="all"){var s,H,l,b;function u(t){return Number(t.replace(/[^\d]/g,""))}let i=0;const f="0px";if(e){const t=getComputedStyle(e),n=u((s=t==null?void 0:t.marginTop)!=null?s:f),o=u((H=t==null?void 0:t.marginBottom)!=null?H:f),d=u((l=t==null?void 0:t.paddingTop)!=null?l:f),k=u((b=t==null?void 0:t.paddingBottom)!=null?b:f);R==="all"?(i+=n,i+=o,i+=d,i+=k):R==="top"?(i+=n,i+=d):(i+=o,i+=k)}return i}function T(e){return e==null?null:e instanceof HTMLDivElement?e:e.$el}function B(){return z(this,null,function*(){var b;if(!x.value)return;yield P();const e=T(r(F));if(!e)return;const{bottomIncludeBody:R}=X(e);let u=0;m.forEach(t=>{var n,o;u+=(o=(n=T(r(t)))==null?void 0:n.offsetHeight)!=null?o:0});let i=(b=p(e))!=null?b:0;M.forEach(t=>{i+=p(T(r(t)))});let f=0;function s(t,n){if(t&&n){const o=t.parentElement;o&&(_(n)?o.classList.contains(n)?f+=p(o,"bottom"):(f+=p(o,"bottom"),s(o,n)):$(n)&&n>0&&(f+=p(o,"bottom"),s(o,--n)))}}Z(g)?s(e,r(g)):s(e,g);let H=R-r(c)-r(N)-u-i-f;const l=()=>{var t;(t=a.elements)==null||t.forEach(n=>{var o,d;H+=(d=(o=T(r(n)))==null?void 0:o.offsetHeight)!=null?d:0})};a.useLayoutFooter&&r(c)>0,l(),E.value=H})}return I(()=>{P(()=>{B()})}),K(()=>{B()},50,{immediate:!0}),W(()=>[c.value],()=>{B()},{flush:"post",immediate:!0}),{redoHeight:D,setCompensation:h,contentHeight:E}}export{Q as useContentHeight};
