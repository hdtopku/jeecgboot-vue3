var h=Object.defineProperty;var p=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var g=(a,s,e)=>s in a?h(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,w=(a,s)=>{for(var e in s||(s={}))v.call(s,e)&&g(a,e,s[e]);if(p)for(var e of p(s))y.call(s,e)&&g(a,e,s[e]);return a};var d=(a,s,e)=>new Promise((c,l)=>{var m=t=>{try{i(e.next(t))}catch(r){l(r)}},u=t=>{try{i(e.throw(t))}catch(r){l(r)}},i=t=>t.done?c(t.value):Promise.resolve(t.value).then(m,u);i((e=e.apply(a,s)).next())});import{B as M}from"./index.df1721d5.js";import{B as b}from"./BasicForm.be7f03c1.js";import"./componentMap.6d6ce384.js";import{u as x}from"./useForm.b4df01c5.js";import"./JAddInput.d2fd0723.js";import{j as D,C as R,bH as k,H as n,m as C,s as L,Q as S,w as T,v as U,x as H}from"./index.0be4b5b8.js";import{f as I}from"./tenant.data.7740e1c7.js";import{g as O,s as P}from"./tenant.api.c971b801.js";const z=D({__name:"TenantModal",emits:["register","success"],setup(a,{emit:s}){const e=R(!0),[c,{resetFields:l,setFieldsValue:m,validate:u,updateSchema:i}]=x({schemas:I,showActionButtonGroup:!1}),[t,{setModalProps:r,closeModal:B}]=k(o=>d(this,null,function*(){yield l(),r({confirmLoading:!1}),e.value=!!(o!=null&&o.isUpdate),n(e)?(i({field:"id",dynamicDisabled:!0}),o.record=yield O({id:o.record.id}),yield m(w({},o.record))):i({field:"id",dynamicDisabled:!1})})),F=C(()=>n(e)?"\u7F16\u8F91\u79DF\u6237":"\u65B0\u589E\u79DF\u6237");function _(o){return d(this,null,function*(){try{let f=yield u();r({confirmLoading:!0}),yield P(f,e.value),B(),s("success")}finally{r({confirmLoading:!1})}})}return(o,f)=>(L(),S(n(M),H(o.$attrs,{onRegister:n(t),title:F.value,onOk:_,width:"700px"}),{default:T(()=>[U(n(b),{onRegister:n(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{z as _};
