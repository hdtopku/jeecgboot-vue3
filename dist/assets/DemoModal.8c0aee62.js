var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,r=(e,t,o)=>new Promise(((a,l)=>{var r=e=>{try{i(o.next(e))}catch(t){l(t)}},n=e=>{try{i(o.throw(e))}catch(t){l(t)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,n);i((o=o.apply(e,t)).next())}));import{B as n}from"./index.934459b9.js";import{B as i}from"./BasicForm.5f094c03.js";import"./helper.7e5efd4b.js";import{u as s}from"./useForm.18cf269c.js";import"./JAddInput.a2bd8bfb.js";import{a1 as d,a5 as c,l as p,F as m,bH as u,L as b,o as f,v as h,V as y,z as g,y as P,B as x}from"./index.26a57b91.js";import{render as j}from"./renderUtils.9c2a0911.js";const D=[{title:"姓名",dataIndex:"name",width:170,align:"left",resizable:!0,sorter:{multiple:1}},{title:"关键词",dataIndex:"keyWord",width:130,resizable:!0},{title:"打卡时间",dataIndex:"punchTime",width:140,resizable:!0},{title:"工资",dataIndex:"salaryMoney",width:140,resizable:!0,sorter:{multiple:2}},{title:"奖金",dataIndex:"bonusMoney",width:140,resizable:!0},{title:"性别",dataIndex:"sex",sorter:{multiple:3},customRender:({record:e})=>j.renderDict(e.sex,"sex"),width:120,resizable:!0},{title:"生日",dataIndex:"birthday",width:120,resizable:!0},{title:"邮箱",dataIndex:"email",width:120,resizable:!0},{title:"个人简介",dataIndex:"content",width:120,resizable:!0}],I=[{field:"name",label:"姓名",component:"Input",colProps:{span:8}},{field:"birthday",label:"生日",component:"RangePicker",componentProps:{valueType:"Date"},colProps:{span:8}},{field:"age",label:"年龄",component:"Input",slot:"age",colProps:{span:8}},{field:"sex",label:"性别",colProps:{span:8},component:"JDictSelectTag",componentProps:{dictCode:"sex",placeholder:"请选择性别"}}],w=[{field:"id",label:"id",component:"Input",show:!1},{field:"createBy",label:"createBy",component:"Input",show:!1},{field:"createTime",label:"createTime",component:"Input",show:!1},{field:"name",label:"名字",component:"Input",required:!0,componentProps:{placeholder:"请输入名字"}},{field:"keyWord",label:"关键词",component:"Input",componentProps:{placeholder:"请输入关键词"}},{field:"punchTime",label:"打卡时间",component:"DatePicker",componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择打卡时间"}},{field:"salaryMoney",label:"工资",component:"Input",componentProps:{placeholder:"请输入工资"}},{field:"sex",label:"性别",component:"JDictSelectTag",defaultValue:"1",componentProps:{type:"radio",dictCode:"sex",placeholder:"请选择性别"}},{field:"age",label:"年龄",component:"InputNumber",defaultValue:1,componentProps:{placeholder:"请输入年龄"}},{field:"birthday",label:"生日",component:"DatePicker",defaultValue:"",componentProps:{valueFormat:"YYYY-MM-DD",placeholder:"请选择生日"}},{field:"email",label:"邮箱",component:"Input",rules:[{required:!1,type:"email",message:"邮箱格式不正确",trigger:"blur"}],componentProps:{placeholder:"请输入邮箱"}},{field:"content",label:"个人简介 - To introduce myself",component:"InputTextArea",labelLength:4,componentProps:{placeholder:"请输入个人简介"}}],v="/test/jeecgDemo/exportXls",T="/test/jeecgDemo/importExcel",B=e=>d.get({url:"/test/jeecgDemo/list",params:e}),z=(e,t)=>d.delete({url:"/test/jeecgDemo/delete",data:e},{joinParamsToUrl:!0}).then((()=>{t()})),M=(e,t)=>{c.confirm({title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>d.delete({url:"/test/jeecgDemo/deleteBatch",data:e},{joinParamsToUrl:!0}).then((()=>{t()}))})},O=p({__name:"DemoModal",props:{isDisabled:{type:Boolean,default:!1}},emits:["register","success"],setup(e,{emit:c}){const p=e,j=m(!0),[D,{resetFields:I,setFieldsValue:v,validate:T}]=s({schemas:w,showActionButtonGroup:!1}),[B,{setModalProps:z,closeModal:M}]=u((e=>r(this,null,(function*(){var r;yield I(),z({confirmLoading:!1,showOkBtn:!p.isDisabled}),j.value=!!(null==e?void 0:e.isUpdate),e.createBy&&(yield v({createBy:e.createBy})),e.createTime&&(yield v({createTime:e.createTime})),b(j)&&(e.record=yield(r={id:e.record.id},d.get({url:"/test/jeecgDemo/queryById",params:r})),yield v(((e,r)=>{for(var n in r||(r={}))o.call(r,n)&&l(e,n,r[n]);if(t)for(var n of t(r))a.call(r,n)&&l(e,n,r[n]);return e})({},e.record)))})))),O=f((()=>b(j)?"编辑":"新增"));function k(e){return r(this,null,(function*(){try{let e=yield T();z({confirmLoading:!0}),yield((e,t)=>{let o=t?"/test/jeecgDemo/edit":"/test/jeecgDemo/add";return d.post({url:o,params:e})})(e,j.value),M(),c("success",e)}finally{z({confirmLoading:!1})}}))}return(t,o)=>(h(),y(b(n),x(t.$attrs,{onRegister:b(B),title:b(O),onOk:k,width:"40%"}),{default:g((()=>[P(b(i),{onRegister:b(D),disabled:e.isDisabled},null,8,["onRegister","disabled"])])),_:1},16,["onRegister","title"]))}});var k=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));export{k as D,O as _,T as a,v as b,D as c,z as d,M as e,B as g,I as s};
