import{l as e,F as a,a8 as t,t as n,v as o,x as u,y as r,z as l,C as s,a1 as c,L as f}from"./index.26a57b91.js";import{B as i}from"./Bar.65e65a57.js";import{P as v}from"./Pie.76e4f80f.js";import"./useECharts.d9d73674.js";import"./echarts.6d32f04e.js";const h={class:"p-4"},d=s("按年统计"),p=s("按月统计"),g=s("按类别统计"),m=s("按柜号统计"),y=s("按年统计"),C=s("按月统计"),b=s("按类别统计"),_=s("按柜号统计"),I=e({__name:"index",setup(e){const s=a("bar"),I=a("year"),k=a("year"),x=a([]),j=t({getYearCountInfo:"/mock/api/report/getYearCountInfo",getMonthCountInfo:"/mock/api/report/getMonthCountInfo",getCntrNoCountInfo:"/mock/api/report/getCntrNoCountInfo",getCabinetCountInfo:"/mock/api/report/getCabinetCountInfo"});function M(e,a,t){return n=this,o=null,u=function*(){const n=yield c.get({url:e,params:t},{isTransformResponse:!1,errorMessageMode:"none"});if(n.success)switch(x.value=[],a){case"year":!function(e){for(let a=0;a<e.length;a++)x.value.push({name:`${e[a].year}年`,value:e[a].yearcount})}(n.result);break;case"month":!function(e){for(let a=0;a<e.length;a++)x.value.push({name:`${e[a].month}`,value:e[a].monthcount})}(n.result);break;case"category":!function(e){for(let a=0;a<e.length;a++)x.value.push({name:`${e[a].classifyname}`,value:e[a].cntrnocount})}(n.result);break;case"cabinet":!function(e){for(let a=0;a<e.length;a++)x.value.push({name:`${e[a].cabinetname}`,value:e[a].cabinetcocunt})}(n.result)}},new Promise(((e,a)=>{var t=e=>{try{l(u.next(e))}catch(t){a(t)}},r=e=>{try{l(u.throw(e))}catch(t){a(t)}},l=a=>a.done?e(a.value):Promise.resolve(a.value).then(t,r);l((u=u.apply(n,o)).next())}));var n,o,u}function w(e){"pie"===f(s)?M(D(f(k)),f(k),{}):M(D(f(I)),f(I),{})}function D(e){return"year"===e?j.getYearCountInfo:"month"===e?j.getMonthCountInfo:"category"===e?j.getCntrNoCountInfo:"cabinet"===e?j.getCabinetCountInfo:void 0}function P(e){}return M(j.getYearCountInfo,"year",{}),(e,a)=>{const t=n("a-radio-button"),c=n("a-radio-group"),f=n("a-col"),j=n("a-row"),M=n("a-tab-pane"),D=n("a-tabs"),Y=n("a-card");return o(),u("div",h,[r(Y,{bordered:!1,style:{height:"100%"}},{default:l((()=>[r(D,{activeKey:s.value,"onUpdate:activeKey":a[2]||(a[2]=e=>s.value=e),animated:"",onChange:P},{default:l((()=>[r(M,{key:"bar",tab:"柱状图"},{default:l((()=>[r(j,null,{default:l((()=>[r(f,{span:10},{default:l((()=>[r(c,{value:I.value,"onUpdate:value":a[0]||(a[0]=e=>I.value=e),onChange:w},{default:l((()=>[r(t,{value:"year"},{default:l((()=>[d])),_:1}),r(t,{value:"month"},{default:l((()=>[p])),_:1}),r(t,{value:"category"},{default:l((()=>[g])),_:1}),r(t,{value:"cabinet"},{default:l((()=>[m])),_:1})])),_:1},8,["value"])])),_:1})])),_:1}),r(i,{chartData:x.value,height:"50vh"},null,8,["chartData"])])),_:1}),r(M,{key:"pie",tab:"饼状图","force-render":""},{default:l((()=>[r(j,{gutter:24},{default:l((()=>[r(f,{span:10},{default:l((()=>[r(c,{value:k.value,"onUpdate:value":a[1]||(a[1]=e=>k.value=e),onChange:w},{default:l((()=>[r(t,{value:"year"},{default:l((()=>[y])),_:1}),r(t,{value:"month"},{default:l((()=>[C])),_:1}),r(t,{value:"category"},{default:l((()=>[b])),_:1}),r(t,{value:"cabinet"},{default:l((()=>[_])),_:1})])),_:1},8,["value"])])),_:1}),r(v,{chartData:x.value,height:"40vh"},null,8,["chartData"])])),_:1})])),_:1})])),_:1},8,["activeKey"])])),_:1})])}}});export{I as default};
