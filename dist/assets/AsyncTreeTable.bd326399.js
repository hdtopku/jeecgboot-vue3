var v=Object.defineProperty,y=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var _=(r,e,t)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e)=>{for(var t in e||(e={}))B.call(e,t)&&_(r,t,e[t]);if(f)for(var t of f(e))E.call(e,t)&&_(r,t,e[t]);return r},g=(r,e)=>y(r,C(e));var u=(r,e,t)=>new Promise((m,s)=>{var c=o=>{try{n(t.next(o))}catch(a){s(a)}},l=o=>{try{n(t.throw(o))}catch(a){s(a)}},n=o=>o.done?m(o.value):Promise.resolve(o.value).then(c,l);n((t=t.apply(r,e)).next())});import{l as F,F as x,t as I,v as R,V as k,z as T,y as b,L as d,a1 as w}from"./index.f119eb41.js";import{a as L}from"./index.ef895e32.js";import{B as S}from"./BasicTable.cd6d008f.js";import"./helper.add5f9b1.js";import"./TableImg.ba14a0ac.js";import{u as z}from"./useTable.f8295580.js";import"./useContentHeight.2144bf94.js";import"./onMountedOrActivated.a32fcaaf.js";import"./useWindowSizeFn.54f80105.js";import"./useContentViewHeight.c73be16c.js";import"./usePageContext.f570a323.js";import"./BasicForm.2df818ee.js";import"./uniqBy.444d4262.js";import"./index.ae4cc225.js";import"./BasicModal.25f98338.js";import"./useForm.ecb34db0.js";import"./JAddInput.0a10a637.js";import"./useFormItem.913bfb84.js";import"./api.41039c75.js";import"./props.f3576fdb.js";import"./index.af72ff9f.js";import"./bem.a7e666a8.js";import"./props.df9c3d6a.js";import"./useContextMenu.981f0461.js";import"./index.68ae2cdf.js";import"./index.8a2ad0af.js";import"./htmlmixed.9c9a62f3.js";import"./vue.b7b7bdb1.js";/* empty css             */import"./depart.api.0a168623.js";import"./RedoOutlined.2af35306.js";import"./functional.64118705.js";import"./download.4fb97c32.js";import"./base64Conver.030fa32c.js";import"./index.614d058e.js";import"./index.017fdf05.js";import"./useCountdown.1f570c2c.js";import"./JUpload.af005edc.js";import"./index.1c608bee.js";const bt=F({__name:"AsyncTreeTable",setup(r){const e="/mock/api/asynTreeList",t=x(!1),m=x([]),[s,{setLoading:c}]=z({rowKey:"id",bordered:!0,canResize:!1,isTreeTable:!0,showIndexColumn:!0,columns:[{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u7EC4\u4EF6",dataIndex:"component"},{title:"\u6392\u5E8F",dataIndex:"orderNum"}]});function l(a){return u(this,null,function*(){t.value=!0;let i=yield w.get({url:e,params:a});return t.value=!1,i.map(p=>p.hasChildren?g(h({},p),{children:[]}):p)})}function n(){return u(this,null,function*(){m.value=yield l({id:"0"})})}n();function o(a,i){return u(this,null,function*(){a&&i.hasChildren&&i.children.length===0&&(i.children=yield l({id:i.id}))})}return(a,i)=>{const p=I("a-card");return R(),k(d(L),null,{default:T(()=>[b(p,{bordered:!1},{default:T(()=>[b(d(S),{loading:t.value,dataSource:m.value,onRegister:d(s),onExpand:o},null,8,["loading","dataSource","onRegister"])]),_:1})]),_:1})}}});export{bt as default};
