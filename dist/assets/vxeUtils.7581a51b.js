import{a2 as e}from"./index.435ab247.js";const t=Symbol();function n(n,r,i,l,o){return s=this,f=null,u=function*(){if(!n||"function"!=typeof n)throw"validate 参数需要的是一个方法，而传入的却是"+typeof n;let s={},f=yield new Promise(((a,i)=>{n().then((()=>{for(let t in r)r[t]instanceof Array&&"string"===e(l,t)&&(r[t]=r[t].join(","));a(r)})).catch((()=>{i({error:t})}))}));Object.assign(s,{formValue:f});let u=yield a(i,o);return s=Object.assign(s,{tablesValue:u}),s},new Promise(((e,t)=>{var n=e=>{try{r(u.next(e))}catch(n){t(n)}},a=e=>{try{r(u.throw(e))}catch(n){t(n)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,a);r((u=u.apply(s,f)).next())}));var s,f,u}function a(e,n=!0){if(!(e instanceof Array))throw"'validateTables'函数的'cases'参数需要的是一个数组，而传入的却是"+typeof e;return new Promise(((a,i)=>{let l=[],o=0;e&&0!==e.length||a(l),function s(){let f=e[o];f.value.validateTable().then((u=>{if(u){let e,a=r(f.value,"ATabPane");if(a&&(e=a.$.vnode.key,n)){let t=r(a,"Tabs");t&&t.setActiveKey&&t.setActiveKey(e)}i({error:t,index:o,paneKey:e,errMap:u})}else l[o]={tableData:f.value.getTableData()},++o===e.length?a(l):s()}))}()}))}function r(e,t){let n=e.$parent;if(n&&n.$options){if(n.$options.name===t)return n;{let e=r(n,t);if(e)return e}}return null}export{t as VALIDATE_FAILED,r as getVmParentByName,n as validateFormModelAndTables,a as validateTables};
