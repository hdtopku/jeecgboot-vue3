import{a2 as e}from"./index.b3c93d64.js";const t=Symbol();function n(n,r,i,l,o){return s=this,c=null,f=function*(){if(!n||"function"!=typeof n)throw"validate 参数需要的是一个方法，而传入的却是"+typeof n;let s={},c=yield new Promise(((a,i)=>{n().then((()=>{for(let t in r)r[t]instanceof Array&&"string"===e(l,t)&&(r[t]=r[t].join(","));a(r)})).catch((()=>{i({error:t})}))}));Object.assign(s,{formValue:c});let f=yield a(i,o);return s=Object.assign(s,{tablesValue:f}),s},new Promise(((e,t)=>{var n=e=>{try{r(f.next(e))}catch(n){t(n)}},a=e=>{try{r(f.throw(e))}catch(n){t(n)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(n,a);r((f=f.apply(s,c)).next())}));var s,c,f}function a(e,n=!0){if(!(e instanceof Array))throw"'validateTables'函数的'cases'参数需要的是一个数组，而传入的却是"+typeof e;return new Promise(((a,i)=>{let l=[],o=0;e&&0!==e.length||a(l),function s(){let c=e[o];c.value.validateTable().then((f=>{if(f){let e,a=r(c.value,"ATabPane");if(a&&(e=a.$.vnode.key,n)){let t=r(a,"Tabs");t&&t.setActiveKey&&t.setActiveKey(e)}i({error:t,index:o,paneKey:e,errMap:f})}else l[o]={tableData:c.value.getTableData()},++o===e.length?a(l):s()}))}()}))}function r(e,t){let n=e.$parent;if(n&&n.$options){if(n.$options.name===t)return n;{let e=r(n,t);if(e)return e}}return null}export{t as VALIDATE_FAILED,r as getVmParentByName,n as validateFormModelAndTables,a as validateTables};
