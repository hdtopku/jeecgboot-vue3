var m=(g,u,r)=>new Promise((p,c)=>{var d=e=>{try{i(r.next(e))}catch(o){c(o)}},C=e=>{try{i(r.throw(e))}catch(o){c(o)}},i=e=>e.done?p(e.value):Promise.resolve(e.value).then(d,C);i((r=r.apply(g,u)).next())});import A from"./BasicTable.aad27bf2.js";import{T as M}from"./helper.e9a4c41e.js";import"./BasicTable.vue_vue_type_style_index_0_lang.f2c113ec.js";import"./TableImg.vue_vue_type_style_index_0_lang.9ed2a060.js";import{j,bj as z,bI as D,E as K,K as n,r as l,s as w,t as L,v as t,w as a,y as f,Q as N,R as V,i as O,u as P}from"./index.ee9fab4b.js";import{_ as U}from"./JeecgOrderCustomerModal.vue_vue_type_script_setup_true_lang.d086778e.js";import{useListPage as $}from"./useListPage.6e7777fd.js";import"./index.11480eef.js";import{c as H,a as J,d as Q,b as q}from"./erplist.api.844093c0.js";const ue=j({__name:"JeecgOrderCustomerList",setup(g){const u=z("orderId")||"",r=P(),[p,{openModal:c}]=D(),d={},{prefixCls:C,tableContext:i}=$({tableProps:{api:H,tableSetting:{cacheKey:"customer"},columns:J,canResize:!1,useSearchForm:!1,actionColumn:{width:180},pagination:{current:1,pageSize:5,pageSizeOptions:["5","10","20"]}}}),[e,{reload:o},{rowSelection:y,selectedRowKeys:_}]=i;K(u,()=>{d.orderId=n(u),o()});function F(){if(console.log("orderId=====\u300B",u),O(n(u))){r.createMessage.warning("\u8BF7\u9009\u62E9\u4E00\u4E2A\u8BA2\u5355\u4FE1\u606F");return}c(!0,{isUpdate:!1,showFooter:!0})}function B(s){return m(this,null,function*(){c(!0,{record:s,isUpdate:!0,showFooter:!0})})}function E(s){return m(this,null,function*(){yield q({id:s.id},o)})}function I(){return m(this,null,function*(){yield Q({ids:_.value},()=>{_.value=[],o()})})}function S(){o()}function k(s){return[{label:"\u7F16\u8F91",onClick:B.bind(null,s)},{label:"\u5220\u9664",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:E.bind(null,s)}}]}return(s,G)=>{const b=l("a-button"),h=l("Icon"),v=l("a-menu-item"),R=l("a-menu"),T=l("a-dropdown");return w(),L("div",null,[t(n(A),{onRegister:n(e),rowSelection:n(y),searchInfo:d},{tableTitle:a(()=>[t(b,{type:"primary",preIcon:"ant-design:plus-outlined",onClick:F},{default:a(()=>[f(" \u65B0\u589E")]),_:1}),n(_).length>0?(w(),N(T,{key:0},{overlay:a(()=>[t(R,null,{default:a(()=>[t(v,{key:"1",onClick:I},{default:a(()=>[t(h,{icon:"ant-design:delete-outlined"}),f(" \u5220\u9664 ")]),_:1})]),_:1})]),default:a(()=>[t(b,null,{default:a(()=>[f("\u6279\u91CF\u64CD\u4F5C "),t(h,{icon:"mdi:chevron-down"})]),_:1})]),_:1})):V("",!0)]),action:a(({record:x})=>[t(n(M),{actions:k(x)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"]),t(U,{onRegister:n(p),onSuccess:S},null,8,["onRegister"])])}}});export{ue as _};
