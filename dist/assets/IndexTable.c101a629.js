import{l as e,F as t,dz as a,f0 as l,t as o,v as i,V as r,B as s}from"./index.b2c24a42.js";import{u as d}from"./useTableSync.384f95b0.js";import"./pick.dbff1c58.js";import"./_flatRest.ff1861ce.js";import"./isArray.40a4ed15.js";import"./toString.cf909882.js";import"./_arrayPush.8821345e.js";import"./cgform.data.cfb4e3e8.js";var u=l(e({name:"IndexTable",components:{},props:{actionButton:{type:Boolean,default:!0,required:!1}},setup(){const e=t([{title:"索引名称",key:"indexName",width:330,type:a.input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"索引栏位",key:"indexField",width:330,type:a.selectMultiple,options:[],defaultValue:"",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"索引类型",key:"indexType",width:330,type:a.select,options:[{title:"normal",value:"normal"},{title:"unique",value:"unique"}],defaultValue:"normal",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]}]),l=d(e),{tableRef:o,loading:i,dataSource:r,tableHeight:s,tableProps:u,setDataSource:n,validateData:c}=l;return{tableRef:o,loading:i,dataSource:r,columns:e,tableHeight:s,tableProps:u,syncTable:function(t){let a=[];t.value.tableRef.getTableData().forEach((e=>{e.dbFieldName&&a.push({title:e.dbFieldName,value:e.dbFieldName})})),e.value[1].options=a},setDataSource:n,validateData:c}}}),[["render",function(e,t,a,l,d,u){const n=o("JVxeTable");return i(),r(n,s({ref:"tableRef",rowNumber:"",rowSelection:"",dragSort:"",keyboardEdit:"",sortKey:"orderNum",maxHeight:e.tableHeight.normal,loading:e.loading,columns:e.columns,dataSource:e.dataSource,toolbar:e.actionButton},e.tableProps),null,16,["maxHeight","loading","columns","dataSource","toolbar"])}]]);export{u as default};
