var l=(o,u,t)=>new Promise((c,s)=>{var p=e=>{try{r(t.next(e))}catch(a){s(a)}},n=e=>{try{r(t.throw(e))}catch(a){s(a)}},r=e=>e.done?c(e.value):Promise.resolve(e.value).then(p,n);r((t=t.apply(o,u)).next())});import C from"./CurrentPermissionMode.de4d98a4.js";import{q as F,l as k,t as i,v as B,V as A,z as m,bF as P,aX as b,d7 as g,G as D,o as v,eQ as M,y as d,aV as h,dF as y,C as _}from"./index.5f7d93b1.js";import{a as T}from"./index.065c9901.js";import"./useContentHeight.e1732b81.js";import"./onMountedOrActivated.d771aa37.js";import"./useWindowSizeFn.05229bfb.js";import"./useContentViewHeight.c38fa0d6.js";import"./usePageContext.49af5419.js";const $=k({components:{Alert:P,CurrentPermissionMode:C,PageWrapper:T},setup(){const{refreshMenu:o}=b(),u=g(),t=D(),c=v(()=>t.getProjectConfig.permissionMode===y.BACK);function s(p){return l(this,null,function*(){const n="fakeToken"+p;u.setToken(n),u.getUserInfoAction(),o()})}return{RoleEnum:M,refreshMenu:o,switchToken:s,isBackPremissionMode:c}}}),w={class:"mt-4"},V=_(" \u6743\u9650\u5207\u6362(\u8BF7\u5148\u5207\u6362\u6743\u9650\u6A21\u5F0F\u4E3A\u540E\u53F0\u6743\u9650\u6A21\u5F0F): "),x=_(" \u83B7\u53D6\u7528\u6237id\u4E3A1\u7684\u83DC\u5355 "),S=_(" \u83B7\u53D6\u7528\u6237id\u4E3A2\u7684\u83DC\u5355 ");function N(o,u,t,c,s,p){const n=i("CurrentPermissionMode"),r=i("Alert"),e=i("a-button"),a=i("a-button-group"),E=i("PageWrapper");return B(),A(E,{title:"\u540E\u53F0\u6743\u9650\u793A\u4F8B",contentBackground:"",contentClass:"p-4",content:"\u76EE\u524Dmock\u4E86\u4E24\u7EC4\u6570\u636E\uFF0C id\u4E3A1 \u548C 2 \u5177\u4F53\u8FD4\u56DE\u7684\u83DC\u5355\u53EF\u4EE5\u5728mock/sys/menu.ts\u5185\u67E5\u770B"},{default:m(()=>[d(n),d(r,{class:"mt-4",type:"info",message:"\u70B9\u51FB\u540E\u8BF7\u67E5\u770B\u5DE6\u4FA7\u83DC\u5355\u53D8\u5316","show-icon":""}),h("div",w,[V,d(a,null,{default:m(()=>[d(e,{onClick:u[0]||(u[0]=f=>o.switchToken(1)),disabled:!o.isBackPremissionMode},{default:m(()=>[x]),_:1},8,["disabled"]),d(e,{onClick:u[1]||(u[1]=f=>o.switchToken(2)),disabled:!o.isBackPremissionMode},{default:m(()=>[S]),_:1},8,["disabled"])]),_:1})])]),_:1})}var R=F($,[["render",N],["__scopeId","data-v-3b6d2b64"]]);export{R as default};
