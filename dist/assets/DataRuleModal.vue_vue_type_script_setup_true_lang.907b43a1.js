var h=Object.defineProperty;var d=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var f=(o,s,e)=>s in o?h(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,g=(o,s)=>{for(var e in s||(s={}))v.call(s,e)&&f(o,e,s[e]);if(d)for(var e of d(s))R.call(s,e)&&f(o,e,s[e]);return o};var p=(o,s,e)=>new Promise((i,c)=>{var l=t=>{try{u(e.next(t))}catch(a){c(a)}},m=t=>{try{u(e.throw(t))}catch(a){c(a)}},u=t=>t.done?i(t.value):Promise.resolve(t.value).then(l,m);u((e=e.apply(o,s)).next())});import{B as _}from"./index.2e6ee4c2.js";import{B as M}from"./BasicForm.3ce6e540.js";import"./componentMap.d10ae9f1.js";import{u as C}from"./useForm.2c44e7a2.js";import"./JAddInput.8e6807ce.js";import{j as x,C as y,bH as I,H as n,m as k,s as L,Q as S,w as U,v as b,x as H}from"./index.34e92307.js";import{e as O,s as P}from"./menu.data.3663ac77.js";const $=x({__name:"DataRuleModal",props:{permissionId:String},emits:["success","register"],setup(o,{emit:s}){const e=o,i=y(!0),[c,{resetFields:l,setFieldsValue:m,validate:u}]=C({schemas:O,showActionButtonGroup:!1}),[t,{setModalProps:a,closeModal:w}]=I(r=>p(this,null,function*(){yield l(),a({confirmLoading:!1}),i.value=!!(r!=null&&r.isUpdate),n(i)&&(yield m(g({},r.record)))})),B=k(()=>n(i)?"\u7F16\u8F91\u89C4\u5219":"\u65B0\u589E\u89C4\u5219");function F(){return p(this,null,function*(){try{const r=yield u();r.permissionId=e.permissionId,a({confirmLoading:!0}),yield P(r,i.value),w(),s("success")}finally{a({confirmLoading:!1})}})}return(r,V)=>(L(),S(n(_),H(r.$attrs,{onRegister:n(t),title:B.value,onOk:F,width:"700px"}),{default:U(()=>[b(n(M),{onRegister:n(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{$ as _};
