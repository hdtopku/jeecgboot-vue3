var w=Object.defineProperty;var d=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var f=(o,u,e)=>u in o?w(o,u,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[u]=e,F=(o,u)=>{for(var e in u||(u={}))v.call(u,e)&&f(o,e,u[e]);if(d)for(var e of d(u))A.call(u,e)&&f(o,e,u[e]);return o};var B=(o,u,e)=>new Promise((l,a)=>{var c=t=>{try{n(e.next(t))}catch(r){a(r)}},m=t=>{try{n(e.throw(t))}catch(r){a(r)}},n=t=>t.done?l(t.value):Promise.resolve(t.value).then(c,m);n((e=e.apply(o,u)).next())});import{B as g}from"./index.0d476352.js";import{B as I}from"./BasicForm.d162c3ca.js";import"./helper.8737e1c9.js";import{u as x}from"./useForm.8b0368e0.js";import"./JAddInput.842dcc4a.js";import{j as E,C as _,bH as b,K as i,m as k,s as y,Q as M,w as R,v as U,x as D}from"./index.366dce35.js";import{s as L}from"./Am.api.93d25cbb.js";const N=[{title:"\u94FE\u63A5key",dataIndex:"code"},{title:"\u6FC0\u6D3B\u7801\u72B6\u6001(0-\u6B63\u5E38,-1-\u5931\u6548)",dataIndex:"valid"},{title:"\u9A8C\u8BC1\u72B6\u6001(0-\u5F85\u4F7F\u7528,1-\u5F85\u9A8C\u8BC1,2-\u9A8C\u8BC1\u4E2D,3-\u9A8C\u8BC1\u5B8C\u6210)",dataIndex:"status"},{title:"\u5BA2\u6237\u9996\u6B21\u8BBF\u95EE\u7684\u65F6\u95F4",dataIndex:"visitTime"},{title:"\u5BA2\u6237\u5F00\u59CB\u9A8C\u8BC1\u7684\u65F6\u95F4",dataIndex:"verifyTime"}],Q=[{label:"\u94FE\u63A5key",field:"code",component:"Input"},{label:"\u6FC0\u6D3B\u7801\u72B6\u6001(0-\u6B63\u5E38,-1-\u5931\u6548)",field:"valid",component:"Input"}],O=[{label:"",field:"id",component:"Input",show:!1},{label:"\u5907\u6CE8",field:"remark",component:"InputTextArea"}],W=E({__name:"AmModal",emits:["register","success"],setup(o,{emit:u}){const e=_(!0),[l,{resetFields:a,setFieldsValue:c,validate:m}]=x({labelWidth:150,schemas:O,showActionButtonGroup:!1}),[n,{setModalProps:t,closeModal:r}]=b(s=>B(this,null,function*(){yield a(),t({confirmLoading:!1,showCancelBtn:s==null?void 0:s.showFooter,showOkBtn:s==null?void 0:s.showFooter}),e.value=!!(s!=null&&s.isUpdate),i(e)&&(yield c(F({},s.record)))})),C=k(()=>i(e)?"\u7F16\u8F91":"\u65B0\u589E");function h(s){return B(this,null,function*(){try{let p=yield m();t({confirmLoading:!0}),yield L(p,e.value),r(),u("success",{isUpdate:e.value,values:p})}finally{t({confirmLoading:!1})}})}return(s,p)=>(y(),M(i(g),D(s.$attrs,{onRegister:i(n),title:i(C),onOk:h,width:"96%"}),{default:R(()=>[U(i(I),{onRegister:i(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{W as _,N as c,Q as s};
