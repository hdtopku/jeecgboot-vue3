var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n;import{ap as o,o as s,F as l,H as u,ak as i,L as c,b0 as f,Q as p,am as v,c5 as d,al as b}from"./index.b3c93d64.js";import{e as m}from"./echarts.6d32f04e.js";function O(e,O="default"){const{getDarkMode:g}=o(),y=s((()=>"default"===O?g.value:O));let h=null,j=P;const w=l({});let k=()=>{};j=b(P,200);const z=s((()=>"dark"!==y.value?w.value:((e,o)=>{for(var s in o||(o={}))a.call(o,s)&&r(e,s,o[s]);if(t)for(var s of t(o))n.call(o,s)&&r(e,s,o[s]);return e})({backgroundColor:"transparent"},w.value)));function E(t=O){const a=c(e);if(!a||!c(a))return;h=m.init(a,t);const{removeEvent:n}=v({el:window,name:"resize",listener:j});k=n;const{widthRef:r,screenEnum:o}=d();(c(r)<=o.MD||0===a.offsetHeight)&&f((()=>{j()}),30)}function H(t,a=!0){var n;w.value=t,0!==(null==(n=c(e))?void 0:n.offsetHeight)?p((()=>{f((()=>{(h||(E(y.value),h))&&(a&&(null==h||h.clear()),null==h||h.setOption(c(z)))}),30)})):f((()=>{H(c(z))}),30)}function P(){null==h||h.resize()}return u((()=>y.value),(e=>{h&&(h.dispose(),E(e),H(w.value))})),i((()=>{h&&(k(),h.dispose(),h=null)})),{setOptions:H,resize:P,echarts:m,getInstance:function(){return h||E(y.value),h}}}export{O as useECharts};
