import w from"./LeftRole.ea48b91c.js";import D from"./LeftDepart.5d70bca0.js";import O from"./LeftUser.45fb2229.js";import k from"./AuthFieldTree.16a8bbd4.js";import L from"./AuthButtonTree.f3ed2c53.js";import E from"./AuthDataTree.c9a8dc18.js";import{B as K}from"./index.895ff6a5.js";import{j as U,C as f,m as j,bH as F,f6 as N,G as T,r as p,s as B,Q as $,w as n,v as o,t as V,ax as G,R as H}from"./index.9ce08993.js";import"./BasicTable.vue_vue_type_style_index_0_lang.a6a936b5.js";import"./componentMap.8b442f85.js";import"./TableImg.vue_vue_type_style_index_0_lang.0fe60630.js";import"./api.296f37ed.js";import"./BasicTable.6b3954a4.js";import"./BasicForm.517d2d6e.js";import"./BasicForm.vue_vue_type_style_index_0_lang.07fe2618.js";import"./uniqBy.b9492143.js";import"./BasicModal.625506fb.js";import"./useWindowSizeFn.8570b23a.js";import"./useFormItem.64365a36.js";import"./functional.3edf4999.js";import"./download.75118182.js";import"./base64Conver.030fa32c.js";import"./index.89304039.js";import"./index.d803dcfb.js";import"./useCountdown.9baa6599.js";import"./JAddInput.60007979.js";import"./areaDataUtil.3dbd13ab.js";import"./props.f8f5dab0.js";import"./index.c4190707.js";import"./bem.a252f79f.js";import"./props.ebfb3f28.js";import"./useContextMenu.34a6432c.js";import"./index.de347f26.js";import"./onMountedOrActivated.bf09fc49.js";import"./index.4b0ba5e1.js";import"./htmlmixed.d435622c.js";import"./vue.1bddc886.js";/* empty css             */import"./depart.api.e5fccb25.js";import"./MinusCircleOutlined.9187e57e.js";import"./JUpload.vue_vue_type_style_index_0_lang.53989de6.js";import"./index.122d29e6.js";import"./index.5b61e46d.js";import"./useForm.c32feb5a.js";import"./index.bb71217a.js";import"./useContentHeight.4d72022f.js";import"./useContentViewHeight.51f25d5f.js";import"./usePageContext.c479e6b3.js";import"./RedoOutlined.e52b20d5.js";import"./useListPage.62b30e76.js";import"./useTable.797fbe7c.js";import"./auth.api.bba6762f.js";import"./auth.data.81127b45.js";var Q=Object.defineProperty,q=Object.defineProperties,z=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,M=(e,t,r)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))J.call(t,r)&&M(e,r,t[r]);if(I)for(var r of I(t))W.call(t,r)&&M(e,r,t[r]);return e},Y=(e,t)=>q(e,z(t)),P=(e,t,r)=>new Promise((s,l)=>{var a=c=>{try{u(r.next(c))}catch(d){l(d)}},m=c=>{try{u(r.throw(c))}catch(d){l(d)}},u=c=>c.done?s(c.value):Promise.resolve(c.value).then(a,m);u((r=r.apply(e,t)).next())});const Z=U({name:"AuthSetterModal",components:{BasicModal:K,LeftRole:w,LeftDepart:D,LeftUser:O,AuthFieldTree:k,AuthButtonTree:L,AuthDataTree:E},props:{tableType:{type:Number,default:1}},setup(e){const t=f(""),r=f(!1),s=f("field"),l=f("role"),a={fieldRef:f(),buttonRef:f(),dataRef:f(),roleRef:f(),userRef:f(),departRef:f()},m=f(""),u=j(()=>e.tableType==1||e.tableType==2),[c,{closeModal:d}]=F(i=>{s.value="field",t.value!=i.cgformId&&(t.value=i.cgformId,h())});function v(i=s.value){var C;return(C=a[i+"Ref"])==null?void 0:C.value}function h(){return P(this,null,function*(){yield T(),g(),v().clear()})}function S(i){m.value=i,_(s.value),R()}function b(i){m.value=i,_(s.value),R()}function A(i){m.value=i,_(s.value),R()}function R(){l.value=="role"?(a.departRef.value.clearSelected(),a.userRef.value.clearSelected()):l.value=="depart"?(a.roleRef.value.clearSelected(),a.userRef.value.clearSelected()):l.value=="user"&&(a.departRef.value.clearSelected(),a.roleRef.value.clearSelected())}function g(){l.value=="role"?a.roleRef.value.clearSelected():l.value=="depart"?a.departRef.value.clearSelected():l.value=="user"&&a.userRef.value.clearSelected(),v().clearChecked()}function _(i){return P(this,null,function*(){yield T(),m.value&&v(i).loadChecked(m.value,l.value)})}function y(){g()}return Y(X({},a),{cgformId:t,loading:r,activeKey:s,hasDataAuth:u,authMode:l,onAuthModeChange:y,onAuthTypeChange:_,closeModal:d,onSelectRole:S,onSelectDepart:b,onSelectUser:A,registerModal:c})}});function x(e,t,r,s,l,a){const m=p("LeftRole"),u=p("a-tab-pane"),c=p("LeftDepart"),d=p("LeftUser"),v=p("a-tabs"),h=p("a-col"),S=p("AuthFieldTree"),b=p("AuthButtonTree"),A=p("AuthDataTree"),R=p("a-row"),g=p("a-spin"),_=p("BasicModal");return B(),$(_,{title:"Online\u6743\u9650\u6388\u6743",width:900,maskClosable:!1,defaultFullscreen:"",okButtonProps:{style:{display:"none"}},cancelText:"\u5173\u95ED",onCancel:e.closeModal,onRegister:e.registerModal},{default:n(()=>[o(g,{spinning:e.loading},{default:n(()=>[o(R,null,{default:n(()=>[o(h,{span:12},{default:n(()=>[o(v,{activeKey:e.authMode,"onUpdate:activeKey":t[0]||(t[0]=y=>e.authMode=y),onChange:e.onAuthModeChange},{default:n(()=>[o(u,{tab:"\u89D2\u8272\u6388\u6743",key:"role",forceRender:""},{default:n(()=>[o(m,{ref:"roleRef",onSelect:e.onSelectRole},null,8,["onSelect"])]),_:1}),o(u,{tab:"\u90E8\u95E8\u6388\u6743",key:"depart",forceRender:""},{default:n(()=>[o(c,{ref:"departRef",onSelect:e.onSelectDepart},null,8,["onSelect"])]),_:1}),o(u,{tab:"\u4EBA\u5458\u6388\u6743",key:"user",forceRender:""},{default:n(()=>[o(d,{ref:"userRef",onSelect:e.onSelectUser},null,8,["onSelect"])]),_:1})]),_:1},8,["activeKey","onChange"])]),_:1}),o(h,{span:1}),o(h,{span:11},{default:n(()=>[o(v,{activeKey:e.activeKey,"onUpdate:activeKey":t[1]||(t[1]=y=>e.activeKey=y),onChange:e.onAuthTypeChange},{default:n(()=>[o(u,{tab:"\u5B57\u6BB5\u6743\u9650",key:"field",forceRender:""},{default:n(()=>[o(S,{ref:"fieldRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1}),e.hasDataAuth?(B(),V(G,{key:0},[o(u,{tab:"\u6309\u94AE\u6743\u9650",key:"button",forceRender:""},{default:n(()=>[o(b,{ref:"buttonRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1}),o(u,{tab:"\u6570\u636E\u6743\u9650",key:"data",forceRender:""},{default:n(()=>[o(A,{ref:"dataRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1})],64)):H("",!0)]),_:1},8,["activeKey","onChange"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["onCancel","onRegister"])}var xe=N(Z,[["render",x]]);export{xe as default};
