var T=(_,B,u)=>new Promise((k,v)=>{var I=d=>{try{y(u.next(d))}catch(c){v(c)}},S=d=>{try{y(u.throw(d))}catch(c){v(c)}},y=d=>d.done?k(d.value):Promise.resolve(d.value).then(I,S);y((u=u.apply(_,B)).next())});import{q as pe,l as ce,dW as me,F as g,bG as V,o as _e,as as fe,a7 as A,H as ge,L as n,t as i,v as w,x as M,c7 as ve,y as e,z as t,av as ye,W as U,aU as E,C as r,D as q,V as he,E as be,ab as Ce,ds as xe,dt as Fe}from"./index.6c1aeca2.js";import{B as we}from"./BasicTable.1db2499e.js";import{T as Ee}from"./helper.15e1830a.js";import"./TableImg.e6a1ca63.js";import{u as Be}from"./useTable.d616a74c.js";import"./index.c1c509d9.js";import{g as ke,c as Ie,s as Se,a as z,b as De,_ as Re,d as Te,e as Ae}from"./DemoModal.23f4847c.js";import{J as Me}from"./JImportModal.6b4925df.js";import{e as Y}from"./JAddInput.5c78e955.js";import{useMethods as Ue}from"./useMethods.eccfa16d.js";import"./BasicForm.e500713f.js";import"./uniqBy.b316cd09.js";import"./BasicModal.2246c02b.js";import"./useWindowSizeFn.a6a246d2.js";import"./useForm.f4b29e26.js";import"./index.866fff1a.js";import"./useContentHeight.a77fa571.js";import"./onMountedOrActivated.0e85db74.js";import"./useContentViewHeight.bf6f2f30.js";import"./usePageContext.5da89706.js";import"./RedoOutlined.f33cdacc.js";import"./useFormItem.63b4eda3.js";import"./functional.32464814.js";import"./download.54491438.js";import"./base64Conver.030fa32c.js";import"./index.1785e33e.js";import"./index.9d763a26.js";import"./useCountdown.c7fbe84b.js";import"./JUpload.7c7f9634.js";import"./api.52ea4d1e.js";import"./index.af09c9a6.js";import"./renderUtils.b120a814.js";import"./index.3803400c.js";import"./props.0c0dfcc6.js";import"./index.5b79f8bf.js";import"./bem.8f063110.js";import"./props.ee552767.js";import"./useContextMenu.2ad8381d.js";import"./index.2847d809.js";import"./htmlmixed.6fb02709.js";import"./vue.ab8c7c18.js";/* empty css             */import"./usePopBiz.651349c4.js";import"./depart.api.c664bb73.js";const J=_=>(xe("data-v-cb513376"),_=_(),Fe(),_),Ke=["onKeyup"],$e=J(()=>E("span",null,"~",-1)),je={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},Ne=r("\u67E5\u8BE2"),Ve=r("\u91CD\u7F6E"),qe=J(()=>E("span",null,"~",-1)),ze=r("\u65B0\u589E"),Ye=r("\u5BFC\u5165"),Je=r("\u5BFC\u51FA"),Le=r("\u6253\u5F00Tab\u9875"),Oe=r("\u5F39\u7A97\u5BFC\u5165"),Pe=r(" \u5220\u9664 "),We=r("\u6279\u91CF\u64CD\u4F5C "),Ge=ce({__name:"index",setup(_){const B=me(),u=g([]),[k,{openModal:v}]=V(),[I,{openModal:S}]=V(),{handleExportXls:y,handleImportXls:d}=Ue(),c=g(),D=g(),[L,{reload:f,setProps:K}]=Be({title:"\u5355\u8868\u793A\u4F8B",api:ke,columns:Ie,formConfig:{schemas:Se,fieldMapToTime:[["birthday",["birthday_begin","birthday_end"],"YYYY-MM-DD"]],fieldMapToNumber:[["age",["age_begin","age_end"]]],autoAdvancedCol:2,actionColOptions:{style:{textAlign:"left"}}},defSort:{column:"sex,salaryMoney",order:"desc"},striped:!0,useSearchForm:!0,showTableSetting:!0,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,tableSetting:{fullScreen:!0},canResize:!1,rowKey:"id",actionColumn:{width:30,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),O={type:"checkbox",columnWidth:20,selectedRowKeys:u,onChange:H};function P(){S(!0)}const W=_e(()=>{let l={};return u.value&&u.value.length>0&&(l.selections=u.value.join(",")),fe(l)});function G(l){return[{label:"\u7F16\u8F91",onClick:Q.bind(null,l)},{label:"\u5220\u9664",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:Z.bind(null,l)}}]}function H(l){console.log("checkedKeys------>",u),u.value=l}function X(){v(!0,{isUpdate:!1})}function Q(l){v(!0,{record:l,isUpdate:!0})}function Z(l){return T(this,null,function*(){yield Te({id:l.id},f)})}function ee(){return T(this,null,function*(){yield Ae({ids:u.value},f)})}function $(l,o){l[o]=[n(c),n(D)]}function te(){B("/comp/jeecg/basic")}g();const oe=A({xs:{span:24},sm:{span:7}}),ae=A({xs:{span:24},sm:{span:16}}),h=g(!1),m=g(!1),s=A({name:"",age_begin:"",age_end:"",sex:"",id:""});ge(m,()=>{K({useSearchForm:!n(m)})});function j(){K({searchInfo:Ce(s)}),f()}function ne(){Object.assign(s,{name:"",age_begin:"",age_end:"",sex:"",id:""}),f()}return(l,o)=>{const b=i("a-input"),F=i("a-form-item"),C=i("a-col"),p=i("a-button"),R=i("Icon"),le=i("a-row"),ue=i("a-form"),se=i("a-upload"),ie=i("a-menu-item"),re=i("a-menu"),de=i("a-dropdown");return w(),M("div",null,[m.value?(w(),M("div",{key:0,class:"jeecg-basic-table-form-container",onKeyup:ve(j,["enter"])},[e(ue,{ref:"formRef",model:s,"label-col":oe,"wrapper-col":ae},{default:t(()=>[e(le,{gutter:24},{default:t(()=>[e(C,{lg:8},{default:t(()=>[e(F,{label:"\u7528\u6237\u540D"},{default:t(()=>[e(b,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u6A21\u7CCA\u67E5\u8BE2",value:s.name,"onUpdate:value":o[0]||(o[0]=a=>s.name=a)},null,8,["value"])]),_:1})]),_:1}),e(C,{lg:8},{default:t(()=>[e(F,{label:"\u5E74\u9F84"},{default:t(()=>[e(b,{placeholder:"\u6700\u5C0F\u5E74\u9F84",type:"ge",value:s.age_begin,"onUpdate:value":o[1]||(o[1]=a=>s.age_begin=a),style:{width:"calc(50% - 15px)"}},null,8,["value"]),$e,e(b,{placeholder:"\u6700\u5927\u5E74\u9F84",type:"le",value:s.age_end,"onUpdate:value":o[2]||(o[2]=a=>s.age_end=a),style:{width:"calc(50% - 15px)"}},null,8,["value"])]),_:1})]),_:1}),h.value?(w(),M(ye,{key:0},[e(C,{lg:8},{default:t(()=>[e(F,{label:"\u6027\u522B"},{default:t(()=>[e(Y,{value:s.sex,"onUpdate:value":o[3]||(o[3]=a=>s.sex=a),placeholder:"\u8BF7\u9009\u62E9\u6027\u522B",dictCode:"sex"},null,8,["value"])]),_:1})]),_:1}),e(C,{lg:8},{default:t(()=>[e(F,{label:"\u9009\u62E9\u7528\u6237"},{default:t(()=>[e(Y,{value:s.id,"onUpdate:value":o[4]||(o[4]=a=>s.id=a),placeholder:"\u8BF7\u9009\u62E9\u7528\u6237",dictCode:"demo,name,id"},null,8,["value"])]),_:1})]),_:1})],64)):U("",!0),E("span",je,[e(C,{lg:6},{default:t(()=>[e(p,{type:"primary",preIcon:"ant-design:search-outlined",onClick:j},{default:t(()=>[Ne]),_:1}),e(p,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:ne,style:{"margin-left":"8px"}},{default:t(()=>[Ve]),_:1}),E("a",{onClick:o[5]||(o[5]=a=>h.value=!h.value),style:{"margin-left":"8px"}},[r(q(h.value?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),e(R,{icon:h.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1},8,["model","label-col","wrapper-col"])],40,Ke)):U("",!0),e(n(we),{onRegister:n(L),rowSelection:O,class:be({"p-4":m.value})},{"form-age":t(({model:a,field:N})=>[e(b,{placeholder:"\u6700\u5C0F\u5E74\u9F84",type:"ge",value:c.value,"onUpdate:value":o[6]||(o[6]=x=>c.value=x),style:{width:"calc(50% - 15px)"},onChange:x=>$(a,N)},null,8,["value","onChange"]),qe,e(b,{placeholder:"\u6700\u5927\u5E74\u9F84",type:"le",value:D.value,"onUpdate:value":o[7]||(o[7]=x=>D.value=x),style:{width:"calc(50% - 15px)"},onChange:x=>$(a,N)},null,8,["value","onChange"])]),tableTitle:t(()=>[e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:X},{default:t(()=>[ze]),_:1}),e(se,{name:"file",showUploadList:!1,customRequest:a=>n(d)(a,n(z),n(f))},{default:t(()=>[e(p,{preIcon:"ant-design:import-outlined",type:"primary"},{default:t(()=>[Ye]),_:1})]),_:1},8,["customRequest"]),e(p,{preIcon:"ant-design:export-outlined",type:"primary",onClick:o[8]||(o[8]=a=>n(y)("\u5355\u8868\u793A\u4F8B",n(De),n(W)))},{default:t(()=>[Je]),_:1}),e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:te},{default:t(()=>[Le]),_:1}),e(p,{preIcon:"ant-design:retweet-outlined",type:"primary",onClick:o[9]||(o[9]=a=>m.value=!m.value)},{default:t(()=>[r(q(m.value?"\u8868\u5355\u914D\u7F6E\u67E5\u8BE2":"\u81EA\u5B9A\u4E49\u67E5\u8BE2"),1)]),_:1}),e(p,{preIcon:"ant-design:import-outlined",type:"primary",onClick:P},{default:t(()=>[Oe]),_:1}),u.value.length>0?(w(),he(de,{key:0},{overlay:t(()=>[e(re,null,{default:t(()=>[e(ie,{key:"1",onClick:ee},{default:t(()=>[e(R,{icon:"ant-design:delete-outlined"}),Pe]),_:1})]),_:1})]),default:t(()=>[e(p,null,{default:t(()=>[We,e(R,{style:{fontsize:"12px"},icon:"ant-design:down-outlined"})]),_:1})]),_:1})):U("",!0)]),action:t(({record:a})=>[e(n(Ee),{actions:G(a)},null,8,["actions"])]),_:1},8,["onRegister","class"]),e(Re,{onRegister:n(k),onSuccess:n(f)},null,8,["onRegister","onSuccess"]),e(Me,{onRegister:n(I),url:n(z),online:""},null,8,["onRegister","url"])])}}});var qt=pe(Ge,[["__scopeId","data-v-cb513376"]]);export{qt as default};
