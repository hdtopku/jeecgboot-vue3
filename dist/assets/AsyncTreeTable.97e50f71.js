var v=Object.defineProperty,y=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var _=(r,e,t)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e)=>{for(var t in e||(e={}))B.call(e,t)&&_(r,t,e[t]);if(f)for(var t of f(e))E.call(e,t)&&_(r,t,e[t]);return r},g=(r,e)=>y(r,C(e));var u=(r,e,t)=>new Promise((m,s)=>{var c=o=>{try{n(t.next(o))}catch(a){s(a)}},l=o=>{try{n(t.throw(o))}catch(a){s(a)}},n=o=>o.done?m(o.value):Promise.resolve(o.value).then(c,l);n((t=t.apply(r,e)).next())});import{l as F,F as x,t as I,v as R,V as k,z as T,y as b,L as d,a1 as w}from"./index.48973554.js";import{a as L}from"./index.4ec76882.js";import{B as S}from"./BasicTable.e157d4b8.js";import"./helper.348d808b.js";import"./TableImg.1804d2ee.js";import{u as z}from"./useTable.9e72b446.js";import"./useContentHeight.a372c55d.js";import"./onMountedOrActivated.77b2868b.js";import"./useWindowSizeFn.baf157d7.js";import"./useContentViewHeight.9106942e.js";import"./usePageContext.3811348f.js";import"./BasicForm.1ce98310.js";import"./uniqBy.10a392dc.js";import"./index.a8c318f8.js";import"./BasicModal.6df5b388.js";import"./useForm.aa443ff5.js";import"./JAddInput.26e96438.js";import"./useFormItem.418c264c.js";import"./api.9360c22b.js";import"./props.ad377147.js";import"./index.cf18bacf.js";import"./bem.53c5c04d.js";import"./props.8a838016.js";import"./useContextMenu.4c508609.js";import"./index.9fa749d9.js";import"./index.b47d33d0.js";import"./htmlmixed.7ebbe1b3.js";import"./vue.170e82bd.js";/* empty css             */import"./depart.api.fc69de8d.js";import"./RedoOutlined.05c3397a.js";import"./functional.a68fe013.js";import"./download.305bc1f7.js";import"./base64Conver.030fa32c.js";import"./index.4b4d8231.js";import"./index.86092ee6.js";import"./useCountdown.ac3557a4.js";import"./JUpload.8a53d8d7.js";import"./index.3ffef931.js";const bt=F({__name:"AsyncTreeTable",setup(r){const e="/mock/api/asynTreeList",t=x(!1),m=x([]),[s,{setLoading:c}]=z({rowKey:"id",bordered:!0,canResize:!1,isTreeTable:!0,showIndexColumn:!0,columns:[{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u7EC4\u4EF6",dataIndex:"component"},{title:"\u6392\u5E8F",dataIndex:"orderNum"}]});function l(a){return u(this,null,function*(){t.value=!0;let i=yield w.get({url:e,params:a});return t.value=!1,i.map(p=>p.hasChildren?g(h({},p),{children:[]}):p)})}function n(){return u(this,null,function*(){m.value=yield l({id:"0"})})}n();function o(a,i){return u(this,null,function*(){a&&i.hasChildren&&i.children.length===0&&(i.children=yield l({id:i.id}))})}return(a,i)=>{const p=I("a-card");return R(),k(d(L),null,{default:T(()=>[b(p,{bordered:!1},{default:T(()=>[b(d(S),{loading:t.value,dataSource:m.value,onRegister:d(s),onExpand:o},null,8,["loading","dataSource","onRegister"])]),_:1})]),_:1})}}});export{bt as default};
