var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,r=(e,t)=>{for(var o in t||(t={}))a.call(t,o)&&s(e,o,t[o]);if(n)for(var o of n(t))l.call(t,o)&&s(e,o,t[o]);return e},i=(e,t,o)=>new Promise(((n,a)=>{var l=e=>{try{r(o.next(e))}catch(t){a(t)}},s=e=>{try{r(o.throw(e))}catch(t){a(t)}},r=e=>e.done?n(e.value):Promise.resolve(e.value).then(l,s);r((o=o.apply(e,t)).next())}));import{o as c,L as d,N as u,l as f,b8 as m,R as p,y as h,bY as b,bZ as v,s as y,aQ as g,ay as A,bh as S,S as F,b7 as O,B as w,a7 as B,aX as C,C as P,b_ as j,b$ as R,c0 as x,ae as M,ad as V,c1 as T,c2 as D,aN as I,q as k,t as E,v as L,V as $,z as N,aW as Y,X as _,D as q,W as z,Y as H,bl as W,a4 as X,af as G,aO as J,c3 as K,aP as Q,aS as U,c4 as Z,c5 as ee,H as te,al as oe,ac as ne,bX as ae,c6 as le,a2 as se,aa as re,Q as ie,bC as ce,c7 as de,a8 as ue,F as fe,n as me,$ as pe,x as he,bc as be,ax as ve,bk as ye,bm as ge,c8 as Ae}from"./index.26a57b91.js";import{h as Se,i as Fe,s as Oe,j as we,k as Be}from"./helper.7e5efd4b.js";import{u as Ce}from"./uniqBy.006870c7.js";import"./index.934459b9.js";import{u as Pe}from"./BasicModal.e5e1fb3e.js";function je(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)}var Re=f({name:"BasicFormItem",inheritAttrs:!1,props:{schema:{type:Object,default:()=>({})},formProps:{type:Object,default:()=>({})},allDefaultValues:{type:Object,default:()=>({})},formModel:{type:Object,default:()=>({})},setFormModel:{type:Function,default:null},tableAction:{type:Object},formActionType:{type:Object}},setup(e,{slots:n}){const{t:a}=y(),{schema:l,formProps:s}=m(e),i=(f=l,v=s,c((()=>{const e=d(f),{labelCol:t={},wrapperCol:o={}}=e.itemProps||{},{labelWidth:n,disabledLabelWidth:a}=e,{labelWidth:l,labelCol:s,wrapperCol:i,layout:c}=d(v);if(a)return{labelCol:t,wrapperCol:o};if(!l&&!n&&!s)return t.style={textAlign:"left"},{labelCol:t,wrapperCol:o};let m=n||l;const p=r(r({},s),t),h=r(r({},i),o);return m&&(m=u(m)?`${m}px`:m),{labelCol:r({style:{width:m||"100%"}},p),wrapperCol:r({style:{width:"vertical"===c?"100%":`calc(100% - ${m})`}},h)}})));var f,v;const M=c((()=>{const{allDefaultValues:t,formModel:o,schema:n}=e,{mergeDynamicData:a}=e.formProps;return{field:n.field,model:o,values:r(r(r({},a),t),o),schema:n}})),V=c((()=>{var t;const{schema:o,tableAction:n,formModel:a,formActionType:l}=e;let{componentProps:s={}}=o;return g(s)&&(s=null!=(t=s({schema:o,tableAction:n,formModel:a,formActionType:l}))?t:{}),"Divider"===o.component&&(s=Object.assign({type:"horizontal"},s,{orientation:"left",plain:!0})),s})),T=c((()=>{const{disabled:t}=e.formProps,{dynamicDisabled:o}=e.schema,{disabled:n=!1}=d(V);let a=!!t||n;return A(o)&&(a=o),g(o)&&(a=o(d(M))),a}));function D(){const{show:t,ifShow:o}=e.schema,{showAdvancedButton:n}=e.formProps,a=!n||(!A(e.schema.isAdvanced)||e.schema.isAdvanced);let l=!0,s=!0;return A(t)&&(l=t),A(o)&&(s=o),g(t)&&(l=t(d(M))),g(o)&&(s=o(d(M))),l=l&&a,{isShow:l,isIfShow:s}}function I(){var t;const{rules:o=[],component:n,rulesMessageJoinLabel:l,label:s,dynamicRules:r,required:i}=e.schema;if(g(r))return r(d(M));let c=C(o);const{rulesMessageJoinLabel:u}=e.formProps,f=Reflect.has(e.schema,"rulesMessageJoinLabel")?l:u,m=Fe(n)+`${f?s:""}`;const p=g(i)?i(d(M)):i;c&&0!==c.length||!p||(c=[{required:p,validator:function(e,t){const o=e.message||m;return void 0===t||R(t)||Array.isArray(t)&&0===t.length||"string"==typeof t&&""===t.trim()||"object"==typeof t&&Reflect.has(t,"checked")&&Reflect.has(t,"halfChecked")&&Array.isArray(t.checked)&&Array.isArray(t.halfChecked)&&0===t.checked.length&&0===t.halfChecked.length?Promise.reject(o):Promise.resolve()}}]);const h=c.findIndex((e=>Reflect.has(e,"required")&&!Reflect.has(e,"validator")));if(-1!==h){const e=c[h],{isShow:o}=D();if(o||(e.required=!1),n){Reflect.has(e,"type")||(e.type="InputNumber"===n?"number":"string"),e.message=e.message||m,(n.includes("Input")||n.includes("Textarea"))&&(e.whitespace=!0);const o=null==(t=d(V))?void 0:t.valueFormat;Oe(e,n,o)}}const b=c.findIndex((e=>e.max));return-1===b||c[b].validator||(c[b].message=c[b].message||a("component.form.maxTip",[c[b].max])),c}function k(){var n;const{renderComponentContent:a,component:l,field:s,changeEvent:i="change",valueField:c}=e.schema,u=l&&["Switch","Checkbox"].includes(l),f=`on${x(i)}`,m={[f]:(...t)=>{const[o]=t;y[f]&&y[f](...t);const n=o?o.target:null,a=n?u?n.checked:n.value:o;e.setFormModel(s,a)}},p=Se.get(l),{autoSetPlaceHolder:b,size:v}=e.formProps,y=(A=r({allowClear:!0,getPopupContainer:e=>e.parentNode,size:v},d(V)),S={disabled:d(T)},t(A,o(S)));var A,S;!y.disabled&&b&&"RangePicker"!==l&&l&&(y.placeholder=(null==(n=d(V))?void 0:n.placeholder)||Fe(l)+e.schema.label),y.codeField=s,y.formValues=d(M);const F={[c||(u?"checked":"value")]:e.formModel[s]},O=r(r(r({},y),m),F);if(!a)return h(p,O,null);const w=g(a)?r({},a(d(M))):{default:()=>a};return h(p,O,je(w)?w:{default:()=>[w]})}function E(){const{label:t,helpMessage:o,helpComponentProps:n,subLabel:a,labelLength:l}=e.schema;let s=t+"";l&&s.length>4&&(s=s.substr(0,l));const r={title:t},i=a?h("span",null,[t,P(" "),h("span",{class:"text-secondary"},[a])]):l?h("label",r,[s]):t,c=g(o)?o(d(M)):o;return!c||Array.isArray(c)&&0===c.length?i:h("span",null,[i,h(j,w({placement:"top",class:"mx-1",text:c},n),null)])}return()=>{let t;const{colProps:o={},colSlot:a,renderColContent:l,component:s}=e.schema;if(!Se.has(s))return null;const{baseColProps:c={}}=e.formProps,u=r(r({},c),o),{isIfShow:f,isShow:m}=D(),v=d(M);return f&&p(h(b,u,je(t=a?S(n,a,v):l?l(v):function(){const{itemProps:t,slot:o,render:a,field:l,suffix:s,component:r}=e.schema,{labelCol:c,wrapperCol:u}=d(i),{colon:f}=e.formProps;if("Divider"===r){let e;return h(b,{span:24},{default:()=>[h(O,d(V),je(e=E())?e:{default:()=>[e]})]})}{const e=()=>o?S(n,o,d(M)):a?a(d(M)):k(),r=!!s,i=g(s)?s(d(M)):s;return h(B.Item,w({name:l,colon:f,class:{"suffix-item":r}},t,{label:E(),rules:I(),labelCol:c,wrapperCol:u}),{default:()=>[h("div",{style:"display:flex"},[h("div",{style:"flex:1; width: 100%;"},[e()]),r&&h("span",{class:"suffix"},[i])])]})}}())?t:{default:()=>[t]}),[[F,m]])}}});const xe=Symbol();var Me=k(f({name:"BasicFormAction",components:{FormItem:B.Item,Button:T,BasicArrow:D,[b.name]:b},props:{showActionButtonGroup:I.bool.def(!0),showResetButton:I.bool.def(!0),showSubmitButton:I.bool.def(!0),showAdvancedButton:I.bool.def(!0),resetButtonOptions:{type:Object,default:()=>({})},submitButtonOptions:{type:Object,default:()=>({})},actionColOptions:{type:Object,default:()=>({})},actionSpan:I.number.def(6),isAdvanced:I.bool,hideAdvanceBtn:I.bool},emits:["toggle-advanced"],setup(e,{emit:t}){const{t:o}=y(),n=c((()=>{const{showAdvancedButton:t,actionSpan:o,actionColOptions:n}=e,a=24-o;return r(r({style:{textAlign:"right"},span:t?6:4},t?{span:a<6?24:a}:{}),n)})),a=c((()=>Object.assign({text:o("common.resetText"),preIcon:"ic:baseline-restart-alt"},e.resetButtonOptions))),l=c((()=>Object.assign({},{text:o("common.queryText"),preIcon:"ant-design:search-outlined"},e.submitButtonOptions)));return r({t:o,actionColOpt:n,getResetBtnOptions:a,getSubmitBtnOptions:l,toggleAdvanced:function(){t("toggle-advanced")}},M(xe))}}),[["render",function(e,t,o,n,a,l){const s=E("Button"),r=E("BasicArrow"),i=E("FormItem"),c=E("a-col");return e.showActionButtonGroup?(L(),$(c,W(w({key:0},e.actionColOpt)),{default:N((()=>[Y("div",{style:H([{width:"100%"},{textAlign:e.actionColOpt.style.textAlign}])},[h(i,null,{default:N((()=>[_(e.$slots,"submitBefore"),e.showSubmitButton?(L(),$(s,w({key:0,type:"primary",class:"mr-2"},e.getSubmitBtnOptions,{onClick:e.submitAction}),{default:N((()=>[P(q(e.getSubmitBtnOptions.text),1)])),_:1},16,["onClick"])):z("",!0),_(e.$slots,"resetBefore"),e.showResetButton?(L(),$(s,w({key:1,type:"default",class:"mr-2"},e.getResetBtnOptions,{onClick:e.resetAction}),{default:N((()=>[P(q(e.getResetBtnOptions.text),1)])),_:1},16,["onClick"])):z("",!0),_(e.$slots,"advanceBefore"),e.showAdvancedButton&&!e.hideAdvanceBtn?(L(),$(s,{key:2,type:"link",size:"small",onClick:e.toggleAdvanced},{default:N((()=>[P(q(e.isAdvanced?e.t("component.form.putAway"):e.t("component.form.unfold"))+" ",1),h(r,{class:"ml-1",expand:!e.isAdvanced,up:""},null,8,["expand"])])),_:1},8,["onClick"])):z("",!0),_(e.$slots,"advanceAfter")])),_:3})],4)])),_:3},16)):z("",!0)}]]);function Ve(e,t){var o,n;(null==(o=d(e))?void 0:o.fieldMapToTime)&&(t=function(e,t){const o=d(e).fieldMapToTime;if(!o||!Array.isArray(o))return t;for(const[n,[a,l],s="YYYY-MM-DD"]of o){if(!(n&&a&&l&&t[n]))continue;let e=t[n];Array.isArray(e)||(e=e.split(","));const[o,r]=e;t[a]=X(o).format(s),t[l]=X(r).format(s),Reflect.deleteProperty(t,n)}return t}(e,t));return(null==(n=d(e))?void 0:n.fieldMapToNumber)&&(t=function(e,t){const o=d(e).fieldMapToNumber;if(!o||!Array.isArray(o))return t;for(const[n,[a,l]]of o){if(!(n&&a&&l&&t[n]))continue;let e=t[n];"string"==typeof e&&(e=e.split(","));const[o,s]=e;t[a]=o,t[l]=s,Reflect.deleteProperty(t,n)}return t}(e,t)),t}function Te({emit:e,getProps:t,formModel:o,getSchema:n,defaultValueRef:a,formElRef:l,schemaRef:s,handleFormValues:r}){function c(e,t){if(Q(e)){const n=t.findIndex((t=>t.field===e));-1!==n&&(delete o[e],t.splice(n,1))}}function u(e){return i(this,null,(function*(){var t;return null==(t=d(l))?void 0:t.validateFields(e)}))}function f(e){return i(this,null,(function*(){var t;return yield null==(t=d(l))?void 0:t.validate(e)}))}function m(e){return i(this,null,(function*(){var t;yield null==(t=d(l))?void 0:t.clearValidate(e)}))}function p(o){return i(this,null,(function*(){o&&o.preventDefault();const{submitFunc:n}=d(t);if(n&&g(n))return void(yield n());if(d(l))try{const o=yield f();for(let e in o)if(o[e]instanceof Array){"string"===se(t,e)&&(o[e]=o[e].join(","))}const n=r(o);e("submit",n)}catch(a){e("submit",{})}}))}return{handleSubmit:p,clearValidate:m,validate:f,validateFields:u,getFieldsValue:function(){return d(l)?r(ne(d(o))):{}},updateSchema:function(e){return i(this,null,(function*(){let t=[];G(e)&&t.push(e),J(e)&&(t=[...e]);if(!t.every((e=>"Divider"===e.component||Reflect.has(e,"field")&&e.field)))return void ae("All children of the form Schema array that need to be updated must contain the `field` field");const o=[];t.forEach((e=>{d(n).forEach((t=>{if(t.field===e.field){const n=le(t,e);o.push(n)}else o.push(t)}))})),s.value=Ce(o,"field")}))},resetSchema:function(e){return i(this,null,(function*(){let t=[];G(e)&&t.push(e),J(e)&&(t=[...e]);t.every((e=>"Divider"===e.component||Reflect.has(e,"field")&&e.field))?s.value=t:ae("All children of the form Schema array that need to be updated must contain the `field` field")}))},appendSchemaByField:function(e,t,o=!1){return i(this,null,(function*(){const a=C(d(n)),l=a.findIndex((e=>e.field===t));if(a.some((o=>o.field===t||e.field))){if(!t||-1===l||o)return o?a.unshift(e):a.push(e),void(s.value=a);-1!==l&&a.splice(l+1,0,e),s.value=a}}))},removeSchemaByFiled:function(e){return i(this,null,(function*(){const t=C(d(n));if(!e)return;let o=Q(e)?[e]:e;Q(e)&&(o=[e]);for(const e of o)c(e,t);s.value=t}))},resetFields:function(){return i(this,null,(function*(){const{resetFunc:n,submitOnReset:s}=d(t);n&&g(n)&&(yield n());d(l)&&(Object.keys(o).forEach((e=>{o[e]=a.value[e]})),m(),e("reset",ne(o)),s&&p())}))},setFieldsValue:function(e){return i(this,null,(function*(){const t=d(n).map((e=>e.field)).filter(Boolean),a=[];Object.keys(e).forEach((l=>{const s=d(n).find((e=>e.field===l));let r=e[l];if(!(e instanceof Object))return;const i=Reflect.has(e,l);if(r=we(null==s?void 0:s.component,r),i&&t.includes(l)){if(function(e){return d(n).some((t=>t.field===e&&Be.includes(t.component)))}(l))if(Array.isArray(r)){const e=[];for(const t of r)e.push(t?X(t):null);o[l]=e}else{const{componentProps:e}=s||{};let t=e;"function"==typeof e&&(t=t({formModel:o})),o[l]=r?(null==t?void 0:t.valueFormat)?r:X(r):null}else o[l]=r;a.push(l)}})),u(a).catch((e=>{}))}))},scrollToField:function(e,t){return i(this,null,(function*(){var o;yield null==(o=d(l))?void 0:o.scrollToField(e,t)}))}}}const{form:De}=ce,Ie={model:{type:Object,default:{}},labelWidth:{type:[Number,String],default:0},fieldMapToTime:{type:Array,default:()=>[]},fieldMapToNumber:{type:Array,default:()=>[]},compact:I.bool,schemas:{type:[Array],default:()=>[]},mergeDynamicData:{type:Object,default:null},baseRowStyle:{type:Object},baseColProps:{type:Object},autoSetPlaceHolder:I.bool.def(!0),autoSubmitOnEnter:I.bool.def(!1),submitOnReset:I.bool,size:I.oneOf(["default","small","large"]).def("default"),disabled:I.bool,emptySpan:{type:[Number,Object],default:0},showAdvancedButton:I.bool,transformDateFunc:{type:Function,default:e=>K.isDayjs(e)?null==e?void 0:e.format("YYYY-MM-DD HH:mm:ss"):e},rulesMessageJoinLabel:I.bool.def(!0),autoAdvancedCol:I.number.def(3),autoAdvancedLine:I.number.def(3),alwaysShowLines:I.number.def(1),showActionButtonGroup:I.bool.def(!0),actionColOptions:Object,showResetButton:I.bool.def(!0),autoFocusFirstItem:I.bool,resetButtonOptions:Object,showSubmitButton:I.bool.def(!0),submitButtonOptions:Object,resetFunc:Function,submitFunc:Function,hideRequiredMark:I.bool,labelCol:{type:Object,default:De.labelCol},layout:I.oneOf(["horizontal","vertical","inline"]).def("horizontal"),tableAction:{type:Object},wrapperCol:{type:Object,default:De.wrapperCol},colon:I.bool.def(De.colon),labelAlign:I.string,rowProps:Object};var ke=k(f({name:"BasicForm",components:{FormItem:Re,Form:B,Row:de,FormAction:Me},props:Ie,emits:["advanced-change","reset","submit","register"],setup(e,{emit:t,attrs:o}){const n=ue({}),a=Pe(),l=ue({isAdvanced:!1,hideAdvanceBtn:!0,isLoad:!1,actionSpan:6}),s=fe({}),f=fe(!1),m=fe({}),p=fe(null),h=fe(null),{prefixCls:b}=me("basic-form"),v=c((()=>{let t=r(r({},e),d(m));return t.labelWidth&&(t.labelCol=void 0),t})),y=c((()=>[b,{[`${b}--compact`]:d(v).compact}])),S=c((()=>{const{baseRowStyle:e={},rowProps:t}=d(v);return r({style:e},t)})),F=c((()=>r(r(r({},o),e),d(v)))),O=c((()=>{const e=d(p)||d(v).schemas;for(const t of e){const{defaultValue:e,component:o}=t;if(e&&Be.includes(o))if(Array.isArray(e)){const o=[];e.forEach((e=>{o.push(X(e))})),t.defaultValue=o}else t.defaultValue=X(e)}return d(v).showAdvancedButton?e.filter((e=>"Divider"!==e.component)):e})),{handleToggleAdvanced:w}=function({advanceState:e,emit:t,getProps:o,getSchema:n,formModel:a,defaultValueRef:l}){const{realWidthRef:s,screenEnum:i,screenRef:f}=ee(),m=c((()=>{if(!e.isAdvanced)return 0;const t=d(o).emptySpan||0;if(u(t))return t;if(G(t)){const{span:e=0}=t;return t[d(f).toLowerCase()]||e||0}return 0})),p=oe((function(){let s=0,i=0;const{baseColProps:c={}}=d(o),u=d(n);for(let e=0;e<u.length;e++){const t=u[e],{show:o,colProps:n}=t;let f=!0;if(A(o)&&(f=o),g(o)&&(f=o({schema:t,model:a,field:t.field,values:r(r({},d(l)),a)})),f&&(n||c)){const{itemColSum:o,isAdvanced:a}=h(r(r({},c),n),s,!1,e);s=o||0,a&&(i=s),t.isAdvanced=a}}e.actionSpan=i%24+d(m),h(d(o).actionColOptions||{span:24},s,!0),t("advanced-change")}),30);function h(t,a=0,l=!1,r=0){var c;const u=d(s),f=parseInt(t.md)||parseInt(t.xs)||parseInt(t.sm)||t.span||24,m=parseInt(t.lg)||f,p=parseInt(t.xl)||m,h=parseInt(t.xxl)||p;u<=i.LG?a+=f:u<i.XL?a+=m:u<i.XXL?a+=p:a+=h;let b=null!=(c=d(o).autoAdvancedCol)?c:3;return l?(e.hideAdvanceBtn=d(n).length<=b,a>48&&a<=24*(d(o).autoAdvancedLine||3)?e.hideAdvanceBtn=!1:e.isLoad||(e.isLoad=!0,e.isAdvanced=!e.isAdvanced,d(n).length>b&&(e.hideAdvanceBtn=!1,e.isAdvanced=!1)),{isAdvanced:e.isAdvanced,itemColSum:a}):a>24*(d(o).alwaysShowLines||1)?{isAdvanced:e.isAdvanced,itemColSum:a}:!e.isAdvanced&&r+1>b?{isAdvanced:!1,itemColSum:a}:{isAdvanced:!0,itemColSum:a}}return te([()=>d(n),()=>e.isAdvanced,()=>d(s)],(()=>{const{showAdvancedButton:e}=d(o);e&&p()}),{immediate:!0}),{handleToggleAdvanced:function(){e.isAdvanced=!e.isAdvanced}}}({advanceState:l,emit:t,getProps:v,getSchema:O,formModel:n,defaultValueRef:s}),{handleFormValues:B,initDefault:C}=function({defaultValueRef:e,getSchema:t,formModel:o,getProps:n}){return{handleFormValues:function(e){if(!G(e))return{};const t={};for(const o of Object.entries(e)){let[,e]=o;const[a]=o;if(!a||J(e)&&0===e.length||g(e))continue;const l=d(n).transformDateFunc;G(e)&&(e=null==l?void 0:l(e)),J(e)&&K.isDayjs(e[0])&&K.isDayjs(e[1])&&(e=e.map((e=>null==l?void 0:l(e)))),Q(e)&&(e=e.trim()),U(t,a,e)}return Ve(n,t)},initDefault:function(){const n=d(t),a={};n.forEach((e=>{const{defaultValue:t}=e;Z(t)||(a[e.field]=t,o[e.field]=t)})),e.value=a}}}({getProps:v,defaultValueRef:s,getSchema:O,formModel:n});!function(e){i(this,arguments,(function*({getSchema:e,getProps:t,formElRef:o,isInitedDefault:n}){re((()=>i(this,null,(function*(){if(d(n)||!d(t).autoFocusFirstItem)return;yield ie();const a=d(e),l=d(o),s=null==l?void 0:l.$el;if(!l||!s||!a||0===a.length)return;if(!a[0].component.includes("Input"))return;const r=s.querySelector(".ant-row:first-child input");r&&(null==r||r.focus())}))))}))}({getSchema:O,getProps:v,isInitedDefault:f,formElRef:h});const{handleSubmit:P,setFieldsValue:j,clearValidate:R,validate:x,validateFields:M,getFieldsValue:T,updateSchema:D,resetSchema:I,appendSchemaByField:k,removeSchemaByFiled:E,resetFields:L,scrollToField:$}=Te({emit:t,getProps:v,formModel:n,getSchema:O,defaultValueRef:s,formElRef:h,schemaRef:p,handleFormValues:B});V({resetAction:L,submitAction:P},xe),te((()=>d(v).model),(()=>{const{model:e}=d(v);e&&j(e)}),{immediate:!0}),te((()=>d(v).schemas),(e=>{I(null!=e?e:[])})),te((()=>O.value),(e=>{ie((()=>{var e;null==(e=null==a?void 0:a.redoModalHeight)||e.call(a)})),d(f)||(null==e?void 0:e.length)&&(C(),f.value=!0)}));const N={getFieldsValue:T,setFieldsValue:j,resetFields:L,updateSchema:D,resetSchema:I,setProps:function(e){return i(this,null,(function*(){m.value=le(d(m)||{},e)}))},getProps:v,removeSchemaByFiled:E,appendSchemaByField:k,clearValidate:R,validateFields:M,validate:x,submit:P,scrollToField:$};return pe((()=>{C(),t("register",N)})),r({getBindValue:F,handleToggleAdvanced:w,handleEnterPress:function(e){const{autoSubmitOnEnter:t}=d(v);if(t&&"Enter"===e.key&&e.target&&e.target instanceof HTMLElement){const t=e.target;t&&t.tagName&&"INPUT"==t.tagName.toUpperCase()&&P()}},formModel:n,defaultValueRef:s,advanceState:l,getRow:S,getProps:v,formElRef:h,getSchema:O,formActionType:N,setFormModel:function(e,t){n[e]=t;const{validateTrigger:o}=d(F);o&&"change"!==o||M([e]).catch((e=>{}))},getFormClass:y,getFormActionBindProps:c((()=>r(r({},v.value),l)))},N)}}),[["render",function(e,t,o,n,a,l){const s=E("FormItem"),r=E("FormAction"),i=E("Row"),c=E("Form");return L(),$(c,w(e.getBindValue,{class:e.getFormClass,ref:"formElRef",model:e.formModel,onKeypress:Ae(e.handleEnterPress,["enter"])}),{default:N((()=>[h(i,W(ge(e.getRow)),{default:N((()=>[_(e.$slots,"formHeader"),(L(!0),he(ve,null,be(e.getSchema,(t=>(L(),$(s,{key:t.field,tableAction:e.tableAction,formActionType:e.formActionType,schema:t,formProps:e.getProps,allDefaultValues:e.defaultValueRef,formModel:e.formModel,setFormModel:e.setFormModel},ye({_:2},[be(Object.keys(e.$slots),(t=>({name:t,fn:N((o=>[_(e.$slots,t,W(ge(o||{})))]))})))]),1032,["tableAction","formActionType","schema","formProps","allDefaultValues","formModel","setFormModel"])))),128)),h(r,w(e.getFormActionBindProps,{onToggleAdvanced:e.handleToggleAdvanced}),ye({_:2},[be(["resetBefore","submitBefore","advanceBefore","advanceAfter"],(t=>({name:t,fn:N((o=>[_(e.$slots,t,W(ge(o||{})))]))})))]),1040,["onToggleAdvanced"]),_(e.$slots,"formFooter")])),_:3},16)])),_:3},16,["class","model","onKeypress"])}]]);export{ke as B,Ve as h};
