var C=Object.defineProperty;var k=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var z=(s,t,n)=>t in s?C(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,D=(s,t)=>{for(var n in t||(t={}))H.call(t,n)&&z(s,n,t[n]);if(k)for(var n of k(t))b.call(t,n)&&z(s,n,t[n]);return s};import{ao as x,o as F,F as y,H as L,aj as R,L as o,a$ as p,Q as S,al as T,c5 as h,ak as j}from"./index.bd2180ec.js";import{e as O}from"./echarts.6d32f04e.js";function $(s,t="default"){const{getDarkMode:n}=x(),u=F(()=>t==="default"?n.value:t);let e=null,l=v;const a=y({});let g=()=>{};l=j(v,200);const m=F(()=>u.value!=="dark"?a.value:D({backgroundColor:"transparent"},a.value));function c(i=t){const r=o(s);if(!r||!o(r))return;e=O.init(r,i);const{removeEvent:f}=T({el:window,name:"resize",listener:l});g=f;const{widthRef:E,screenEnum:M}=h();(o(E)<=M.MD||r.offsetHeight===0)&&p(()=>{l()},30)}function d(i,r=!0){var f;if(a.value=i,((f=o(s))==null?void 0:f.offsetHeight)===0){p(()=>{d(o(m))},30);return}S(()=>{p(()=>{!e&&(c(u.value),!e)||(r&&(e==null||e.clear()),e==null||e.setOption(o(m)))},30)})}function v(){e==null||e.resize()}L(()=>u.value,i=>{e&&(e.dispose(),c(i),d(a.value))}),R(()=>{!e||(g(),e.dispose(),e=null)});function w(){return e||c(u.value),e}return{setOptions:d,resize:v,echarts:O,getInstance:w}}export{$ as useECharts};
