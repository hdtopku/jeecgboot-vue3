var r=(i,s,n)=>new Promise((o,f)=>{var u=t=>{try{a(n.next(t))}catch(l){f(l)}},e=t=>{try{a(n.throw(t))}catch(l){f(l)}},a=t=>t.done?o(t.value):Promise.resolve(t.value).then(u,e);a((n=n.apply(i,s)).next())});import{h}from"./BasicForm.77adc039.js";import{F as y,af as p,L as c,bU as F,H as w,bV as g,a2 as v,bW as b,Q as V}from"./index.a1b4e527.js";function j(i){const s=y(null),n=y(!1);function o(){return r(this,null,function*(){const e=c(s);return e||b("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),yield V(),e})}function f(e){p(()=>{s.value=null,n.value=null}),!(c(n)&&F()&&e===c(s))&&(s.value=e,n.value=!0,w(()=>i,()=>{i&&e.setProps(g(i))},{immediate:!0,deep:!0}))}return[f,{scrollToField:(e,a)=>r(this,null,function*(){(yield o()).scrollToField(e,a)}),setProps:e=>r(this,null,function*(){(yield o()).setProps(e)}),updateSchema:e=>r(this,null,function*(){(yield o()).updateSchema(e)}),resetSchema:e=>r(this,null,function*(){(yield o()).resetSchema(e)}),clearValidate:e=>r(this,null,function*(){(yield o()).clearValidate(e)}),resetFields:()=>r(this,null,function*(){o().then(e=>r(this,null,function*(){yield e.resetFields()}))}),removeSchemaByFiled:e=>r(this,null,function*(){var a;(a=c(s))==null||a.removeSchemaByFiled(e)}),getFieldsValue:()=>{var a;let e=(a=c(s))==null?void 0:a.getFieldsValue();return e&&Object.keys(e).map(t=>{e[t]instanceof Array&&(e[t]=e[t].join(","))}),e},setFieldsValue:e=>r(this,null,function*(){(yield o()).setFieldsValue(e)}),appendSchemaByField:(e,a,t)=>r(this,null,function*(){(yield o()).appendSchemaByField(e,a,t)}),submit:()=>r(this,null,function*(){return(yield o()).submit()}),validate:e=>r(this,null,function*(){const a=yield o();let t=i||a.getProps;return a.validate(e).then(m=>{for(let d in m)m[d]instanceof Array&&v(t,d)==="string"&&(m[d]=m[d].join(","));return h(t,m)})}),validateFields:e=>r(this,null,function*(){return(yield o()).validateFields(e)})}]}export{j as u};
