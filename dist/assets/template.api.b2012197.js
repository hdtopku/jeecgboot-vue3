import{rules as e}from"./validator.b4088ecf.js";import{eS as s,a1 as t,L as a,u as l}from"./index.b2c24a42.js";const o=[{title:"模板标题",dataIndex:"templateName",width:80},{title:"模板编码",dataIndex:"templateCode",width:100},{title:"通知模板",dataIndex:"templateContent",width:150},{title:"模板类型",dataIndex:"templateType",width:100,customRender:({text:e})=>s("msgType",e)},{title:"是否应用",dataIndex:"useStatus",width:90,customRender:function({text:e}){return"1"==e?"是":"否"}}],p=[{label:"模板标题",field:"templateName",component:"Input"},{label:"模板编码",field:"templateCode",component:"Input"},{label:"模板类型",field:"templateType",component:"JDictSelectTag",componentProps:{dictCode:"msgType"}}],n=[{label:"ID",field:"id",component:"Input",show:!1},{label:"模板标题",field:"templateName",component:"Input",required:!0},{label:"模板编码",field:"templateCode",component:"Input",dynamicRules:({model:s,schema:t})=>[...e.duplicateCheckRule("sys_sms_template","template_code",s,t,!0)],dynamicDisabled:e=>!!e.values.id},{label:"模板类型",field:"templateType",component:"JDictSelectTag",componentProps:{dictCode:"msgType",placeholder:"请选择模板类型"},required:!0},{label:"是否应用",field:"useStatus",component:"JSwitch",componentProps:{options:["1","0"]}},{label:"模板内容",field:"templateContent",component:"InputTextArea",componentProps:{autoSize:{minRows:8,maxRows:8}},ifShow:({values:e})=>!["2","4","5"].includes(e.templateType)},{label:"模板内容",field:"templateContent",component:"JEditor",ifShow:({values:e})=>["2","4"].includes(e.templateType)},{label:"模板内容",field:"templateContent",component:"JMarkdownEditor",ifShow:({values:e})=>["5"].includes(e.templateType)}],m=[{label:"模板编码",field:"templateCode",component:"Input",show:!1},{label:"模板标题",field:"templateName",component:"Input",componentProps:{disabled:!0}},{label:"模板内容",field:"templateContent",component:"InputTextArea",componentProps:{disabled:!0,rows:5}},{label:"测试数据",field:"testData",component:"InputTextArea",required:!0,helpMessage:"JSON数据",defaultValue:"{}",componentProps:{placeholder:"请输入JSON格式测试数据",rows:5}},{label:"消息类型",field:"msgType",component:"JDictSelectTag",required:!0,defaultValue:"system",componentProps:{dictCode:"messageType",type:"radio"}},{label:"消息接收方",field:"receiver",required:!0,component:"JSelectUser",componentProps:{labelKey:"username",rowKey:"username"}}],{createConfirm:d}=l();var i=(e=>(e.list="/sys/message/sysMessageTemplate/list",e.delete="/sys/message/sysMessageTemplate/delete",e.deleteBatch="/sys/message/sysMessageTemplate/deleteBatch",e.exportXls="sys/message/sysMessageTemplate/exportXls",e.importXls="sys/message/sysMessageTemplate/importExcel",e.save="/sys/message/sysMessageTemplate/add",e.edit="/sys/message/sysMessageTemplate/edit",e.send="/sys/message/sysMessageTemplate/sendMsg",e))(i||{});const r=e=>t.get({url:"/sys/message/sysMessageTemplate/list",params:e}),c=(e,s=!1)=>new Promise(((a,l)=>{const o=()=>{a(t.delete({url:"/sys/message/sysMessageTemplate/deleteBatch",params:e},{joinParamsToUrl:!0}))};s?d({iconType:"warning",title:"删除",content:"确定要删除吗？",onOk:()=>o(),onCancel:()=>l()}):o()})),u=(e,s)=>a(s)?t.put({url:"/sys/message/sysMessageTemplate/edit",params:e}):t.post({url:"/sys/message/sysMessageTemplate/add",params:e}),y=e=>t.post({url:"/sys/message/sysMessageTemplate/sendMsg",params:e});export{i as A,m as a,y as b,o as c,p as d,c as e,n as f,r as l,u as s};
