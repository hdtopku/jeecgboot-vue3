var L=(h,m,t)=>new Promise((e,p)=>{var u=r=>{try{a(t.next(r))}catch(s){p(s)}},f=r=>{try{a(t.throw(r))}catch(s){p(s)}},a=r=>r.done?e(r.value):Promise.resolve(r.value).then(u,f);a((t=t.apply(h,m)).next())});import{a1 as C,l as T,F as v,s as k,dU as D,bG as R,H as A,Q as S,aV as V,t as B,v as g,x as _,av as I,ba as M,R as j,S as F,y as i,L as o,z as n,C as y,D as b}from"./index.6c1aeca2.js";import H from"./DetailModal.3970a07e.js";import{B as N}from"./BasicTable.1db2499e.js";import{T as $}from"./helper.15e1830a.js";import"./TableImg.e6a1ca63.js";import{u as z}from"./useTable.d616a74c.js";import"./index.c1c509d9.js";import{getColumns as G}from"./data.dc3f89d1.js";import"./index.74c1ed26.js";import"./useDescription.0390352b.js";import"./BasicModal.2246c02b.js";import"./useWindowSizeFn.a6a246d2.js";import"./BasicForm.e500713f.js";import"./uniqBy.b316cd09.js";import"./useForm.f4b29e26.js";import"./JAddInput.5c78e955.js";import"./useFormItem.63b4eda3.js";import"./api.52ea4d1e.js";import"./props.0c0dfcc6.js";import"./index.5b79f8bf.js";import"./bem.8f063110.js";import"./props.ee552767.js";import"./useContextMenu.2ad8381d.js";import"./index.3803400c.js";import"./onMountedOrActivated.0e85db74.js";import"./index.2847d809.js";import"./htmlmixed.6fb02709.js";import"./vue.ab8c7c18.js";/* empty css             */import"./usePopBiz.651349c4.js";import"./useMethods.eccfa16d.js";import"./depart.api.c664bb73.js";import"./index.866fff1a.js";import"./useContentHeight.a77fa571.js";import"./useContentViewHeight.bf6f2f30.js";import"./usePageContext.5da89706.js";import"./RedoOutlined.f33cdacc.js";import"./functional.32464814.js";import"./download.54491438.js";import"./base64Conver.030fa32c.js";import"./index.1785e33e.js";import"./index.9d763a26.js";import"./useCountdown.c7fbe84b.js";import"./JUpload.7c7f9634.js";import"./index.af09c9a6.js";const Q=()=>C.get({url:"/error"}),U={class:"p-4"},q=["src"],Nr=T({__name:"index",setup(h){const m=v(),t=v([]),{t:e}=k(),p=D(),[u,{setTableData:f}]=z({title:e("sys.errorLog.tableTitle"),columns:G(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[a,{openModal:r}]=R();A(()=>p.getErrorLogInfoList,l=>{S(()=>{f(V(l))})},{immediate:!0});function s(l){m.value=l,r(!0)}function E(){throw new Error("fire vue error!")}function w(){t.value.push(`${new Date().getTime()}.png`)}function x(){return L(this,null,function*(){yield Q()})}return(l,J)=>{const d=B("a-button");return g(),_("div",U,[(g(!0),_(I,null,M(t.value,c=>j((g(),_("img",{key:c,src:c},null,8,q)),[[F,!1]])),128)),i(H,{info:m.value,onRegister:o(a)},null,8,["info","onRegister"]),i(o(N),{onRegister:o(u),class:"error-handle-table"},{toolbar:n(()=>[i(d,{onClick:E,type:"primary"},{default:n(()=>[y(b(o(e)("sys.errorLog.fireVueError")),1)]),_:1}),i(d,{onClick:w,type:"primary"},{default:n(()=>[y(b(o(e)("sys.errorLog.fireResourceError")),1)]),_:1}),i(d,{onClick:x,type:"primary"},{default:n(()=>[y(b(o(e)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:n(({record:c})=>[i(o($),{actions:[{label:o(e)("sys.errorLog.tableActionDesc"),onClick:s.bind(null,c)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{Nr as default};
