var g=(h,n,o)=>new Promise((l,r)=>{var c=t=>{try{a(o.next(t))}catch(s){r(s)}},d=t=>{try{a(o.throw(t))}catch(s){r(s)}},a=t=>t.done?l(t.value):Promise.resolve(t.value).then(c,d);a((o=o.apply(h,n)).next())});import{j as y,l as I,bB as v,C as _,r as w,s as B,Q as D,w as p,v as m,aW as T,H as x,y as k,z as E,B as N}from"./index.c1d8dbc8.js";import{l as S,_ as P,p as z}from"./DepartLeftTree.vue_vue_type_script_setup_true_lang.b3542789.js";import F from"./BasicTable.a8592173.js";import"./componentMap.995605ed.js";import"./BasicTable.vue_vue_type_style_index_0_lang.bed283e2.js";import"./useTable.08b8c8c7.js";import{useListPage as R}from"./useListPage.fbe26446.js";import"./depart.user.api.f6f2aa8d.js";import"./BasicForm.763c9f74.js";import"./BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js";import"./uniqBy.3dbe90b3.js";import"./index.5f6d2eec.js";import"./BasicModal.4c523d71.js";import"./useWindowSizeFn.1a55d327.js";import"./useFormItem.6935557d.js";import"./JUpload.vue_vue_type_style_index_0_lang.51f417a5.js";import"./api.221c4cde.js";import"./download.f2b87928.js";import"./base64Conver.030fa32c.js";import"./index.236167d6.js";import"./index.9b215829.js";import"./useCountdown.5186f11f.js";import"./JAddInput.c425dfe6.js";import"./areaDataUtil.b22cb30b.js";import"./props.adbaf37f.js";import"./index.201afc50.js";import"./bem.452cc75b.js";import"./props.82dd77cc.js";import"./useContextMenu.184539a6.js";import"./index.cf6640d7.js";import"./onMountedOrActivated.6b21dee8.js";import"./depart.api.ef5d901e.js";import"./MinusCircleOutlined.bac41ad8.js";import"./index.7a47645e.js";import"./useForm.4b03a18a.js";import"./injectionKey.1ad13e6c.js";import"./SettingOutlined.549e296f.js";import"./RedoOutlined.27cf802c.js";const j=[{title:"\u59D3\u540D",dataIndex:"realname",width:150},{title:"\u5DE5\u53F7",dataIndex:"workNo",width:100},{title:"\u90E8\u95E8",dataIndex:"departName",width:200},{title:"\u804C\u52A1",dataIndex:"post",width:150,slots:{customRender:"post"}},{title:"\u624B\u673A",width:150,dataIndex:"telephone"},{title:"\u90AE\u7BB1",width:150,dataIndex:"email"}],A=[{label:"\u59D3\u540D",field:"realname",component:"Input",colProps:{span:6}},{label:"\u5DE5\u53F7",field:"workNo",component:"Input",colProps:{span:6}}],V={style:{height:"100%"},class:"address-book"},vt=y({__name:"index",setup(h){const{prefixCls:n}=I("address-list");v("prefixCls",n);const o=_(),l=_(""),r=_({}),{tableContext:c}=R({tableProps:{api:S,columns:j,rowKey:"userId",showIndexColumn:!0,formConfig:{schemas:A},canResize:!1,actionColumn:null,showTableSetting:!1,beforeFetch(e){e.orgCode=l.value}}}),[d,{reload:a}]=c;function t(e){l.value=e.orgCode,a()}function s(){return g(this,null,function*(){const e=yield z({pageSize:99999});if(e){let u={};e.records.forEach(i=>{u[i.code]=i.name}),r.value=u}})}return s(),(e,u)=>{const i=w("a-col"),C=w("a-row");return B(),D(C,{class:N(["p-4",`${x(n)}--box`]),type:"flex",gutter:10,style:{"max-height":"800px"}},{default:p(()=>[m(i,{xl:6,lg:24,md:24,style:{"margin-bottom":"10px"}},{default:p(()=>[m(P,{ref_key:"leftTree",ref:o,onSelect:t},null,512)]),_:1}),m(i,{xl:18,lg:24,md:24,style:{"margin-bottom":"10px"}},{default:p(()=>[T("div",V,[m(x(F),{onRegister:x(d)},{post:p(({text:b})=>[k(E((b||"").split(",").map(f=>r.value[f]?r.value[f]:f).join(",")),1)]),_:1},8,["onRegister"])])]),_:1})]),_:1},8,["class"])}}});export{vt as default};
