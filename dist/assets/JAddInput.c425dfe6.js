var Zd=Object.defineProperty,Yd=Object.defineProperties;var Qd=Object.getOwnPropertyDescriptors;var Xs=Object.getOwnPropertySymbols;var ec=Object.prototype.hasOwnProperty,tc=Object.prototype.propertyIsEnumerable;var Zs=(b,ce,H)=>ce in b?Zd(b,ce,{enumerable:!0,configurable:!0,writable:!0,value:H}):b[ce]=H,or=(b,ce)=>{for(var H in ce||(ce={}))ec.call(ce,H)&&Zs(b,H,ce[H]);if(Xs)for(var H of Xs(ce))tc.call(ce,H)&&Zs(b,H,ce[H]);return b},ti=(b,ce)=>Yd(b,Qd(ce));var tn=(b,ce,H)=>new Promise((O,K)=>{var ae=m=>{try{C(H.next(m))}catch(g){K(g)}},W=m=>{try{C(H.throw(m))}catch(g){K(g)}},C=m=>m.done?O(m.value):Promise.resolve(m.value).then(ae,W);C((H=H.apply(b,ce)).next())});import{v as ht,av as nc,j as Bt,bR as rc,aN as Me,C as Be,bv as nn,m as On,a9 as ar,q as Jt,r as Ye,s as tt,Q as Lt,x as Nt,bj as ni,a7 as dr,E as It,H as ot,u as jo,c2 as Ji,c3 as Xi,bH as Zi,t as zt,w as ct,aW as Nr,bw as Al,B as Ml,y as pn,R as Kn,bI as Yi,bB as Vn,n as Ou,a as Nu,c4 as ic,z as ur,M as Sa,c5 as Dl,aP as oc,ax as Yn,bc as Cr,c6 as ac,ab as Ys,b8 as lc,e as Ol,c7 as sc,L as uc,ap as dc,F as cc,G as fc,W as Pu,l as Nl,X as Pl,c8 as pc,c9 as hc,by as mc,bz as gc,ca as vc,b_ as bc,N as yc,O as wc,cb as kc,bA as _c,Z as Or,al as xc,cc as Sc,i as Qs}from"./index.c1d8dbc8.js";import{r as eu,a as Cc,p as Ec,b as Lc,c as Tc,g as zo,d as Ac}from"./areaDataUtil.b22cb30b.js";import{useRuleFormItem as lr}from"./useFormItem.6935557d.js";import{B as Qi}from"./index.5f6d2eec.js";import{g as tu,a as nu,b as ru,c as Mc,q as Dc,d as Oc,l as iu,e as Nc,f as Pc,h as ou}from"./api.221c4cde.js";import{s as Ca,t as Hc}from"./props.adbaf37f.js";import{_ as Hu}from"./index.201afc50.js";import{T as Ic}from"./index.cf6640d7.js";import{onMountedOrActivated as zc}from"./onMountedOrActivated.6b21dee8.js";import{u as jc}from"./BasicModal.4c523d71.js";import{q as au}from"./depart.api.ef5d901e.js";import{M as Rc}from"./MinusCircleOutlined.bac41ad8.js";var Fc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const Bc=Fc;function lu(b){for(var ce=1;ce<arguments.length;ce++){var H=arguments[ce]!=null?Object(arguments[ce]):{},O=Object.keys(H);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(H).filter(function(K){return Object.getOwnPropertyDescriptor(H,K).enumerable}))),O.forEach(function(K){qc(b,K,H[K])})}return b}function qc(b,ce,H){return ce in b?Object.defineProperty(b,ce,{value:H,enumerable:!0,configurable:!0,writable:!0}):b[ce]=H,b}var Hl=function(ce,H){var O=lu({},ce,H.attrs);return ht(nc,lu({},O,{icon:Bc}),null)};Hl.displayName="UploadOutlined";Hl.inheritAttrs=!1;const Wc=Hl,Uc=Bt({name:"JAreaLinkage",components:{Cascader:rc},inheritAttrs:!1,props:{value:Me.oneOfType([Me.object,Me.array]),showArea:Me.bool.def(!0),showAll:Me.bool.def(!1)},emits:["options-change","change"],setup(b,{emit:ce,refs:H}){const O=Be([]),K=nn(),[ae]=lr(b,"value","change",O),W=On(()=>{if(b.showArea&&b.showAll)return Cc;if(b.showArea&&!b.showAll)return eu;if(!b.showArea&&!b.showAll)return Ec;if(!b.showArea&&b.showAll)return Lc});ar(()=>{b.value&&C()});function C(){let g=b.value?b.value:[];g&&typeof g=="string"&&g!="null"&&g!="undefined"&&(ae.value=g.split(","))}function m(g,...w){ae.value=g}return{state:ae,attrs:K,regionData:eu,getOptions:W,handleChange:m}}});function Kc(b,ce,H,O,K,ae){const W=Ye("Cascader");return tt(),Lt(W,Nt(b.attrs,{value:b.state,options:b.getOptions,onChange:b.handleChange}),null,16,["value","options","onChange"])}const qp=Jt(Uc,[["render",Kc]]);function Ea(b,ce){const H=ni("selectOptions",Be([])),O=ni("selectValues",dr({value:[],change:!1})),K=ni("loadingEcho",Be(!1)),ae=Be([]),W=Be([]),C=Be([]),m=jo();let g=!0;It(O,()=>{if(O.change==!1){let F={};F[ce.rowKey]=O.value.join(","),K.value=g,g=!1,y(F,!0).then().finally(()=>{K.value=g})}W.value=O.value},{immediate:!0});function w(F,s){return tn(this,null,function*(){if(W.value=F,ce.showSelected&&ot(W).length!==ot(s).length){let{records:p}=yield b({code:ot(W).join(","),pageSize:ot(W).length});C.value=p}else C.value=s})}const k={type:ce.isRadioSelection?"radio":"checkbox",columnWidth:20,selectedRowKeys:W,onChange:w,preserveSelectedRowKeys:!0},A={dataIndex:"index",width:20};function y(F,s){return tn(this,null,function*(){let{records:p}=yield b(F);if(ae.value=p,s){let c=[];p.forEach(_=>{c.push({label:_[ce.labelKey],value:_[ce.rowKey]})}),H.value=c}})}function S(){return tn(this,null,function*(){let{records:F}=yield b({code:O.value.join(","),pageSize:O.value.length});W.value=O.value,C.value=F})}function L(F){return tn(this,null,function*(){F&&ce.showSelected&&S()})}function D(F){let s=[],p=[];if(C.value.forEach(c=>{s.push({label:c[ce.labelKey],value:c[ce.rowKey]})}),W.value.forEach(c=>{p.push(c)}),H.value=s,ce.maxSelectCount&&p.length>ce.maxSelectCount)return m.createMessage.warning(`\u6700\u591A\u53EA\u80FD\u9009\u62E9${ce.maxSelectCount}\u6761\u6570\u636E`),!1;F&&F(s,p)}function E(F){W.value=W.value.filter(s=>s!=F[ce.rowKey]),C.value=C.value.filter(s=>s[ce.rowKey]!==F[ce.rowKey])}function N(){W.value=[],C.value=[]}return[{onSelectChange:w,getDataSource:y,visibleChange:L,selectOptions:H,selectValues:O,rowSelection:k,indexColumnProps:A,checkedKeys:W,selectRows:C,dataSource:ae,getSelectResult:D,handleDeleteSelected:E,reset:N}]}const Vc=Bt({name:"UserSelectModal",components:{BasicModal:Qi,BasicTable:Ji(()=>Xi(()=>import("./BasicTable.a8592173.js"),["assets/BasicTable.a8592173.js","assets/BasicTable.vue_vue_type_style_index_0_lang.bed283e2.js","assets/index.c1d8dbc8.js","assets/index.8a10b1a2.css","assets/BasicForm.763c9f74.js","assets/BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js","assets/componentMap.995605ed.js","assets/useFormItem.6935557d.js","assets/index.5f6d2eec.js","assets/BasicModal.4c523d71.js","assets/useWindowSizeFn.1a55d327.js","assets/BasicModal.1e1b2ed9.css","assets/index.361bf2db.css","assets/JUpload.vue_vue_type_style_index_0_lang.51f417a5.js","assets/api.221c4cde.js","assets/JUpload.2a8a7c7c.css","assets/download.f2b87928.js","assets/base64Conver.030fa32c.js","assets/index.236167d6.js","assets/index.399aa0e3.css","assets/index.9b215829.js","assets/useCountdown.5186f11f.js","assets/index.15cc10f8.css","assets/index.7a47645e.js","assets/index.600d2c21.css","assets/componentMap.524c5264.css","assets/uniqBy.3dbe90b3.js","assets/BasicForm.384f4697.css","assets/useForm.4b03a18a.js","assets/injectionKey.1ad13e6c.js","assets/onMountedOrActivated.6b21dee8.js","assets/SettingOutlined.549e296f.js","assets/RedoOutlined.27cf802c.js","assets/BasicTable.ffdc5c98.css","assets/areaDataUtil.b22cb30b.js","assets/props.adbaf37f.js","assets/index.201afc50.js","assets/bem.452cc75b.js","assets/props.82dd77cc.js","assets/useContextMenu.184539a6.js","assets/useContextMenu.6fcaad79.css","assets/index.a95e0833.css","assets/index.cf6640d7.js","assets/index.e8c59073.css","assets/depart.api.ef5d901e.js","assets/MinusCircleOutlined.bac41ad8.js"]),{loading:!0})},props:ti(or({},Ca),{modalTitle:{type:String,default:"\u9009\u62E9\u7528\u6237"}}),emits:["register","getSelectResult"],setup(b,{emit:ce,refs:H}){const O=Be({x:!1}),K=Be(),[ae,{closeModal:W}]=Zi(()=>{window.innerWidth<900?O.value={x:900}:O.value={x:!1},setTimeout(()=>{K.value&&K.value.setSelectedRowKeys(A.value||[])},800)}),C=nn(),m={canResize:!1,bordered:!0,size:"small"},g=Object.assign({},ot(b),ot(C),m),[{rowSelection:w,visibleChange:k,selectValues:A,indexColumnProps:y,getSelectResult:S,handleDeleteSelected:L,selectRows:D}]=Ea(tu,g),E=Be(b.params),N={baseColProps:{xs:24,sm:8,md:6,lg:8,xl:6,xxl:6},actionColOptions:{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8},schemas:[{label:"\u8D26\u53F7",field:"username",component:"JInput"},{label:"\u59D3\u540D",field:"realname",component:"JInput"}]},F=[{title:"\u7528\u6237\u8D26\u53F7",dataIndex:"username",width:40,align:"left"},{title:"\u7528\u6237\u59D3\u540D",dataIndex:"realname",width:40},{title:"\u6027\u522B",dataIndex:"sex_dictText",width:20},{title:"\u624B\u673A\u53F7\u7801",dataIndex:"phone",width:30},{title:"\u90AE\u7BB1",dataIndex:"email",width:40},{title:"\u72B6\u6001",dataIndex:"status_dictText",width:20}],s={pagination:!1,showIndexColumn:!1,scroll:{y:390},size:"small",canResize:!1,bordered:!0,rowKey:"id",columns:[{title:"\u7528\u6237\u59D3\u540D",dataIndex:"realname",width:40},{title:"\u64CD\u4F5C",dataIndex:"action",align:"center",width:40,slots:{customRender:"action"}}]};function p(){S((c,_)=>{ce("getSelectResult",c,_),W()})}return{handleOk:p,searchInfo:E,register:ae,indexColumnProps:y,visibleChange:k,getBindValue:g,getUserList:tu,formConfig:N,columns:F,rowSelection:w,selectRows:D,selectedTable:s,handleDeleteSelected:L,tableScroll:O,tableRef:K}}}),$c=["onClick"];function Gc(b,ce,H,O,K,ae){const W=Ye("BasicTable"),C=Ye("a-col"),m=Ye("Icon"),g=Ye("a-row"),w=Ye("BasicModal");return tt(),zt("div",null,[ht(w,Nt(b.$attrs,{onRegister:b.register,title:b.modalTitle,width:"900px",wrapClassName:"j-user-select-modal",onOk:b.handleOk,destroyOnClose:"",onVisibleChange:b.visibleChange}),{default:ct(()=>[ht(g,null,{default:ct(()=>[ht(C,{span:b.showSelected?18:24},{default:ct(()=>[ht(W,Nt({ref:"tableRef",columns:b.columns,scroll:b.tableScroll},b.getBindValue,{useSearchForm:!0,formConfig:b.formConfig,api:b.getUserList,searchInfo:b.searchInfo,rowSelection:b.rowSelection,indexColumnProps:b.indexColumnProps}),{tableTitle:ct(()=>[]),_:1},16,["columns","scroll","formConfig","api","searchInfo","rowSelection","indexColumnProps"])]),_:1},8,["span"]),ht(C,{span:b.showSelected?6:0},{default:ct(()=>[ht(W,Nt(b.selectedTable,{dataSource:b.selectRows,useSearchForm:!0,formConfig:{showActionButtonGroup:!1,baseRowStyle:{minHeight:"40px"}}}),{action:ct(({record:k})=>[Nr("a",{href:"javascript:void(0)",onClick:A=>b.handleDeleteSelected(k)},[ht(m,{icon:"ant-design:delete-outlined"})],8,$c)]),_:1},16,["dataSource"])]),_:1},8,["span"])]),_:1})]),_:1},16,["onRegister","title","onOk","onVisibleChange"])])}const Jc=Jt(Vc,[["render",Gc]]),Xc=Bt({name:"JSelectBiz",components:{LoadingOutlined:Al},inheritAttrs:!1,props:{showButton:Me.bool.def(!0),disabled:Me.bool.def(!1),placeholder:{type:String,default:"\u8BF7\u9009\u62E9"},multiple:{type:String,default:"multiple"},loading:Me.bool.def(!1),maxTagCount:Me.number,buttonIcon:Me.string.def("")},emits:["handleOpen","change"],setup(b,{emit:ce,refs:H}){const O=ni("selectOptions")||Be([]),K=ni("selectValues")||Be({}),ae=nn();function W(m){b.showButton&&m&&ce("handleOpen"),!b.showButton&&!m&&ce("handleOpen")}function C(m){K.value=m,K.change=!0,ce("change",m)}return{attrs:ae,selectValues:K,options:O,handleChange:C,openModal:W}}});function Zc(b,ce,H,O,K,ae){const W=Ye("LoadingOutlined"),C=Ye("a-input"),m=Ye("a-select"),g=Ye("a-col"),w=Ye("a-button"),k=Ye("a-row");return tt(),zt("div",null,[ht(k,{class:"j-select-row",type:"flex",gutter:8},{default:ct(()=>[ht(g,{class:Ml(["left",{full:!b.showButton}])},{default:ct(()=>[b.loading?(tt(),Lt(C,{key:0,readOnly:"",placeholder:"\u52A0\u8F7D\u4E2D\u2026"},{prefix:ct(()=>[ht(W)]),_:1})):(tt(),Lt(m,Nt({key:1,ref:"select",value:b.selectValues.value,"onUpdate:value":ce[0]||(ce[0]=A=>b.selectValues.value=A),placeholder:b.placeholder,mode:b.multiple,open:!1,disabled:b.disabled,options:b.options,maxTagCount:b.maxTagCount,onChange:b.handleChange,style:{width:"100%"},onClick:ce[1]||(ce[1]=A=>!b.disabled&&b.openModal(!1))},b.attrs),null,16,["value","placeholder","mode","disabled","options","maxTagCount","onChange"]))]),_:1},8,["class"]),b.showButton?(tt(),Lt(g,{key:0,class:"right"},{default:ct(()=>[b.buttonIcon?(tt(),Lt(w,{key:0,preIcon:b.buttonIcon,type:"primary",onClick:ce[2]||(ce[2]=A=>b.openModal(!0)),disabled:b.disabled},{default:ct(()=>[pn("\u9009\u62E9")]),_:1},8,["preIcon","disabled"])):(tt(),Lt(w,{key:1,type:"primary",onClick:ce[3]||(ce[3]=A=>b.openModal(!0)),disabled:b.disabled},{default:ct(()=>[pn("\u9009\u62E9")]),_:1},8,["disabled"]))]),_:1})):Kn("",!0)]),_:1})])}const Ro=Jt(Xc,[["render",Zc],["__scopeId","data-v-1d684096"]]),Yc=Bt({name:"JSelectUser",components:{UserSelectModal:Jc,JSelectBiz:Ro},inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.array]),labelKey:{type:String,default:"realname"},rowKey:{type:String,default:"username"},params:{type:Object,default:()=>{}}},emits:["options-change","change","update:value"],setup(b,{emit:ce}){const H=Be(),[O,{openModal:K}]=Yi(),[ae]=lr(b,"value","change",H),W=Be([]);let C=dr({value:[],change:!1});const m=Be(!1);Vn("selectOptions",W),Vn("selectValues",C),Vn("loadingEcho",m);const g=Be(!1),w=nn();ar(()=>{b.value&&A(),b.value||(C.value=[])}),It(C,()=>{C&&(ae.value=C.value)});function k(){g.value=!0,K(!0,{isUpdate:!1})}function A(){let L=b.value?b.value:[];L&&typeof L=="string"&&L!="null"&&L!="undefined"?(ae.value=L.split(","),C.value=L.split(",")):C.value=L}function y(L,D){W.value=L,ae.value=D,C.value=D,ce("update:value",D.join(","))}const S=Object.assign({},ot(b),ot(w));return{state:ae,attrs:w,selectOptions:W,getBindValue:S,selectValues:C,loadingEcho:m,tag:g,regModal:O,setValue:y,handleOpen:k}}});function Qc(b,ce,H,O,K,ae){const W=Ye("JSelectBiz"),C=Ye("UserSelectModal");return tt(),zt("div",null,[ht(W,Nt({onHandleOpen:b.handleOpen,loading:b.loadingEcho},b.attrs),null,16,["onHandleOpen","loading"]),ht(C,Nt({rowKey:b.rowKey,onRegister:b.regModal,onGetSelectResult:b.setValue},b.getBindValue),null,16,["rowKey","onRegister","onGetSelectResult"])])}const Wp=Jt(Yc,[["render",Qc],["__scopeId","data-v-3774b5f0"]]),ef=Bt({name:"PositionSelectModal",components:{BasicModal:Qi,BasicTable:Ji(()=>Xi(()=>import("./BasicTable.a8592173.js"),["assets/BasicTable.a8592173.js","assets/BasicTable.vue_vue_type_style_index_0_lang.bed283e2.js","assets/index.c1d8dbc8.js","assets/index.8a10b1a2.css","assets/BasicForm.763c9f74.js","assets/BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js","assets/componentMap.995605ed.js","assets/useFormItem.6935557d.js","assets/index.5f6d2eec.js","assets/BasicModal.4c523d71.js","assets/useWindowSizeFn.1a55d327.js","assets/BasicModal.1e1b2ed9.css","assets/index.361bf2db.css","assets/JUpload.vue_vue_type_style_index_0_lang.51f417a5.js","assets/api.221c4cde.js","assets/JUpload.2a8a7c7c.css","assets/download.f2b87928.js","assets/base64Conver.030fa32c.js","assets/index.236167d6.js","assets/index.399aa0e3.css","assets/index.9b215829.js","assets/useCountdown.5186f11f.js","assets/index.15cc10f8.css","assets/index.7a47645e.js","assets/index.600d2c21.css","assets/componentMap.524c5264.css","assets/uniqBy.3dbe90b3.js","assets/BasicForm.384f4697.css","assets/useForm.4b03a18a.js","assets/injectionKey.1ad13e6c.js","assets/onMountedOrActivated.6b21dee8.js","assets/SettingOutlined.549e296f.js","assets/RedoOutlined.27cf802c.js","assets/BasicTable.ffdc5c98.css","assets/areaDataUtil.b22cb30b.js","assets/props.adbaf37f.js","assets/index.201afc50.js","assets/bem.452cc75b.js","assets/props.82dd77cc.js","assets/useContextMenu.184539a6.js","assets/useContextMenu.6fcaad79.css","assets/index.a95e0833.css","assets/index.cf6640d7.js","assets/index.e8c59073.css","assets/depart.api.ef5d901e.js","assets/MinusCircleOutlined.bac41ad8.js"]),{loading:!0})},props:ti(or({},Ca),{modalTitle:{type:String,default:"\u804C\u52A1\u9009\u62E9"}}),emits:["register","getSelectResult"],setup(b,{emit:ce,refs:H}){const[O,{closeModal:K}]=Zi(),ae=nn(),W={canResize:!1,bordered:!0,size:"small",rowKey:"code"},C=Object.assign({},ot(b),ot(ae),W),[{rowSelection:m,visibleChange:g,indexColumnProps:w,getSelectResult:k,handleDeleteSelected:A,selectRows:y}]=Ea(nu,C);Be(b.params);const S={labelCol:{span:8},baseColProps:{xs:24,sm:10,md:10,lg:10,xl:10,xxl:10},schemas:[{label:"\u804C\u52A1\u540D\u79F0",field:"name",component:"JInput",colProps:{span:10}}]},L=[{title:"\u804C\u52A1\u7F16\u7801",dataIndex:"code",width:40,align:"left"},{title:"\u804C\u52A1\u540D\u79F0",dataIndex:"name",width:40},{title:"\u804C\u52A1\u7B49\u7EA7",dataIndex:"postRank_dictText",width:40}],D={pagination:!1,showIndexColumn:!1,scroll:{y:390},size:"small",canResize:!1,bordered:!0,rowKey:"id",columns:[{title:"\u804C\u52A1\u540D\u79F0",dataIndex:"name",width:40},{title:"\u64CD\u4F5C",dataIndex:"action",align:"center",width:40,slots:{customRender:"action"}}]};function E(){k((N,F)=>{ce("getSelectResult",N,F),K()})}return{handleOk:E,getPositionList:nu,register:O,visibleChange:g,getBindValue:C,formConfig:S,indexColumnProps:w,columns:L,rowSelection:m,selectedTable:D,selectRows:y,handleDeleteSelected:A}}}),tf=["onClick"];function nf(b,ce,H,O,K,ae){const W=Ye("BasicTable"),C=Ye("a-col"),m=Ye("Icon"),g=Ye("a-row"),w=Ye("BasicModal");return tt(),zt("div",null,[ht(w,Nt(b.$attrs,{onRegister:b.register,title:b.modalTitle,width:"900px",wrapClassName:"j-user-select-modal",onOk:b.handleOk,destroyOnClose:"",onVisibleChange:b.visibleChange}),{default:ct(()=>[ht(g,null,{default:ct(()=>[ht(C,{span:b.showSelected?18:24},{default:ct(()=>[ht(W,Nt({columns:b.columns,bordered:!0,useSearchForm:!0,formConfig:b.formConfig,api:b.getPositionList,searchInfo:b.searchInfo,rowSelection:b.rowSelection,indexColumnProps:b.indexColumnProps},b.getBindValue),null,16,["columns","formConfig","api","searchInfo","rowSelection","indexColumnProps"])]),_:1},8,["span"]),ht(C,{span:b.showSelected?6:0},{default:ct(()=>[ht(W,Nt(b.selectedTable,{dataSource:b.selectRows,useSearchForm:!0,formConfig:{showActionButtonGroup:!1,baseRowStyle:{minHeight:"40px"}}}),{action:ct(({record:k})=>[Nr("a",{href:"javascript:void(0)",onClick:A=>b.handleDeleteSelected(k)},[ht(m,{icon:"ant-design:delete-outlined"})],8,tf)]),_:1},16,["dataSource"])]),_:1},8,["span"])]),_:1})]),_:1},16,["onRegister","title","onOk","onVisibleChange"])])}const rf=Jt(ef,[["render",nf]]),of=Bt({name:"JSelectPosition",components:{PositionSelectModal:rf,JSelectBiz:Ro},inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.array]),labelKey:{type:String,default:"name"},rowKey:{type:String,default:"code"},params:{type:Object,default:()=>{}}},emits:["options-change","change","update:value"],setup(b,{emit:ce,refs:H}){const O=Be(),[K,{openModal:ae}]=Yi(),[W]=lr(b,"value","change",O),C=Be([]);let m=dr({value:[],change:!1});const g=Be(!1);Vn("selectOptions",C),Vn("selectValues",m),Vn("loadingEcho",g);const w=Be(!1),k=nn();ar(()=>{b.value&&y()}),It(m,()=>{m&&(W.value=m.value)});function A(){w.value=!0,ae(!0,{isUpdate:!1})}function y(){let D=b.value?b.value:[];D&&typeof D=="string"&&D!="null"&&D!="undefined"&&(W.value=D.split(","),m.value=D.split(","))}function S(D,E){C.value=D,W.value=E,m.value=E,ce("update:value",E.join(","))}const L=Object.assign({},ot(b),ot(k));return{state:W,getBindValue:L,attrs:k,selectOptions:C,selectValues:m,loadingEcho:g,tag:w,regModal:K,setValue:S,handleOpen:A}}});function af(b,ce,H,O,K,ae){const W=Ye("JSelectBiz"),C=Ye("PositionSelectModal");return tt(),zt("div",null,[ht(W,Nt({onHandleOpen:b.handleOpen,loading:b.loadingEcho},b.attrs),null,16,["onHandleOpen","loading"]),ht(C,Nt({onRegister:b.regModal,onGetSelectResult:b.setValue},b.getBindValue),null,16,["onRegister","onGetSelectResult"])])}const Up=Jt(of,[["render",af],["__scopeId","data-v-9e0c8fae"]]),lf=Bt({name:"UserSelectModal",components:{BasicModal:Qi,BasicTable:Ji(()=>Xi(()=>import("./BasicTable.a8592173.js"),["assets/BasicTable.a8592173.js","assets/BasicTable.vue_vue_type_style_index_0_lang.bed283e2.js","assets/index.c1d8dbc8.js","assets/index.8a10b1a2.css","assets/BasicForm.763c9f74.js","assets/BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js","assets/componentMap.995605ed.js","assets/useFormItem.6935557d.js","assets/index.5f6d2eec.js","assets/BasicModal.4c523d71.js","assets/useWindowSizeFn.1a55d327.js","assets/BasicModal.1e1b2ed9.css","assets/index.361bf2db.css","assets/JUpload.vue_vue_type_style_index_0_lang.51f417a5.js","assets/api.221c4cde.js","assets/JUpload.2a8a7c7c.css","assets/download.f2b87928.js","assets/base64Conver.030fa32c.js","assets/index.236167d6.js","assets/index.399aa0e3.css","assets/index.9b215829.js","assets/useCountdown.5186f11f.js","assets/index.15cc10f8.css","assets/index.7a47645e.js","assets/index.600d2c21.css","assets/componentMap.524c5264.css","assets/uniqBy.3dbe90b3.js","assets/BasicForm.384f4697.css","assets/useForm.4b03a18a.js","assets/injectionKey.1ad13e6c.js","assets/onMountedOrActivated.6b21dee8.js","assets/SettingOutlined.549e296f.js","assets/RedoOutlined.27cf802c.js","assets/BasicTable.ffdc5c98.css","assets/areaDataUtil.b22cb30b.js","assets/props.adbaf37f.js","assets/index.201afc50.js","assets/bem.452cc75b.js","assets/props.82dd77cc.js","assets/useContextMenu.184539a6.js","assets/useContextMenu.6fcaad79.css","assets/index.a95e0833.css","assets/index.cf6640d7.js","assets/index.e8c59073.css","assets/depart.api.ef5d901e.js","assets/MinusCircleOutlined.bac41ad8.js"]),{loading:!0})},props:ti(or({},Ca),{modalTitle:{type:String,default:"\u89D2\u8272\u9009\u62E9"}}),emits:["register","getSelectResult"],setup(b,{emit:ce,refs:H}){const[O,{closeModal:K}]=Zi(),ae=nn(),W={canResize:!1,bordered:!0,size:"small",rowKey:ot(b).rowKey},C=Object.assign({},ot(b),ot(ae),W),[{rowSelection:m,indexColumnProps:g,visibleChange:w,getSelectResult:k}]=Ea(ru,C),A=Be(b.params),y={baseColProps:{xs:24,sm:24,md:24,lg:14,xl:14,xxl:14},schemas:[{label:"\u89D2\u8272\u540D\u79F0",field:"roleName",component:"JInput"}]},S=[{title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",width:40,align:"left"},{title:"\u89D2\u8272\u7F16\u7801",dataIndex:"roleCode",width:40}];function L(){k((D,E)=>{ce("getSelectResult",D,E),K()})}return{config:W,handleOk:L,searchInfo:A,register:O,indexColumnProps:g,visibleChange:w,getRoleList:ru,formConfig:y,getBindValue:C,columns:S,rowSelection:m}}});function sf(b,ce,H,O,K,ae){const W=Ye("BasicTable"),C=Ye("BasicModal");return tt(),zt("div",null,[ht(C,Nt(b.$attrs,{onRegister:b.register,title:b.modalTitle,width:"800px",onOk:b.handleOk,destroyOnClose:"",onVisibleChange:b.visibleChange}),{default:ct(()=>[ht(W,Nt({columns:b.columns},b.config,{useSearchForm:!0,formConfig:b.formConfig,api:b.getRoleList,searchInfo:b.searchInfo,rowSelection:b.rowSelection,indexColumnProps:b.indexColumnProps}),null,16,["columns","formConfig","api","searchInfo","rowSelection","indexColumnProps"])]),_:1},16,["onRegister","title","onOk","onVisibleChange"])])}const uf=Jt(lf,[["render",sf]]),df=Bt({name:"JSelectRole",components:{RoleSelectModal:uf,JSelectBiz:Ro},inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.array]),labelKey:{type:String,default:"roleName"},rowKey:{type:String,default:"id"},params:{type:Object,default:()=>{}}},emits:["options-change","change"],setup(b,{emit:ce,refs:H}){const O=Be(),[K,{openModal:ae}]=Yi(),[W]=lr(b,"value","change",O),C=Be([]);let m=dr({value:[],change:!1});const g=Be(!1);Vn("selectOptions",C),Vn("selectValues",m),Vn("loadingEcho",g);const w=Be(!1),k=nn();ar(()=>{b.value&&y(),b.value||(m.value=[])}),It(m,()=>{m&&(W.value=m.value)});function A(){w.value=!0,ae(!0,{isUpdate:!1})}function y(){let D=b.value?b.value:[];D&&typeof D=="string"&&D!="null"&&D!="undefined"?(W.value=D.split(","),m.value=D.split(",")):m.value=D}function S(D,E){C.value=D,W.value=E,m.value=E}const L=Object.assign({},ot(b),ot(k));return{state:W,attrs:k,getBindValue:L,selectOptions:C,selectValues:m,loadingEcho:g,tag:w,regModal:K,setValue:S,handleOpen:A}}});function cf(b,ce,H,O,K,ae){const W=Ye("JSelectBiz"),C=Ye("RoleSelectModal");return tt(),zt("div",null,[ht(W,Nt({onHandleOpen:b.handleOpen,loading:b.loadingEcho},b.attrs),null,16,["onHandleOpen","loading"]),ht(C,Nt({onRegister:b.regModal,onGetSelectResult:b.setValue},b.getBindValue),null,16,["onRegister","onGetSelectResult"])])}const Kp=Jt(df,[["render",cf],["__scopeId","data-v-995a92d0"]]),{createMessage:su,createErrorModal:Vp}=jo(),ff=Bt({name:"JImageUpload",components:{LoadingOutlined:Al,UploadOutlined:Wc},inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.array]),listType:{type:String,required:!1,default:"picture-card"},text:{type:String,required:!1,default:"\u4E0A\u4F20"},bizPath:{type:String,required:!1,default:"temp"},disabled:{type:Boolean,required:!1,default:!1},fileMax:{type:Number,required:!1,default:1}},emits:["options-change","change","update:value"],setup(b,{emit:ce,refs:H}){const O=Be([]),K=nn(),[ae]=lr(b,"value","change",O),W=p=>{if(p.lastIndexOf("\\")>=0){let c=new RegExp("\\\\","g");p=p.replace(c,"/")}return p.substring(p.lastIndexOf("/")+1)},C=Be({"X-Access-Token":Ou()}),m=Be(!1),g=Be(!0);let w=Be([]);const k=Be(""),A=Be(!1),y=On(()=>b.fileMax>1),S=On(()=>w.value.length<b.fileMax);It(()=>b.value,(p,c)=>{p&&p instanceof Array&&(p=p.join(",")),g.value==!0&&L(p)},{immediate:!0});function L(p){if(!p||p.length==0){w.value=[];return}let c=[];p.split(",").forEach(z=>{let M=Nu(z);c.push({uid:ic(10),name:W(z),status:"done",url:M,response:{status:"history",message:z}})}),w.value=c}function D(p){if(p.type.indexOf("image")<0)return su.info("\u8BF7\u4E0A\u4F20\u56FE\u7247"),!1}function E({file:p,fileList:c,event:_}){g.value=!1,w.value=c,p.status==="error"&&su.error(`${p.name} \u4E0A\u4F20\u5931\u8D25.`);let z=[];p.status!="uploading"&&(c.forEach(M=>{M.status==="done"&&(g.value=!0,z.push(M.response.message))}),p.status==="removed"&&N(p)),ae.value=z.join(","),ce("update:value",z.join(","))}function N(p){console.log(p)}function F(p){k.value=p.url||p.thumbUrl,A.value=!0}function s(){A.value=!1}return{state:ae,attrs:K,previewImage:k,previewVisible:A,uploadFileList:w,multiple:y,headers:C,loading:m,uploadUrl:Mc,beforeUpload:D,uploadVisible:S,handlePreview:F,handleCancel:s,handleChange:E}}});const pf={class:"clearfix"},hf={key:0},mf={key:0},gf={class:"ant-upload-text"},vf=["src"];function bf(b,ce,H,O,K,ae){const W=Ye("LoadingOutlined"),C=Ye("UploadOutlined"),m=Ye("a-button"),g=Ye("a-upload"),w=Ye("a-modal");return tt(),zt("div",pf,[ht(g,{listType:b.listType,accept:"image/*",multiple:b.multiple,action:b.uploadUrl,headers:b.headers,data:{biz:b.bizPath},fileList:b.uploadFileList,"onUpdate:fileList":ce[0]||(ce[0]=k=>b.uploadFileList=k),beforeUpload:b.beforeUpload,disabled:b.disabled,onChange:b.handleChange,onPreview:b.handlePreview},{default:ct(()=>[b.uploadVisible?(tt(),zt("div",hf,[b.listType=="picture-card"?(tt(),zt("div",mf,[b.loading?(tt(),Lt(W,{key:0})):(tt(),Lt(C,{key:1})),Nr("div",gf,ur(b.text),1)])):Kn("",!0),b.listType=="picture"?(tt(),Lt(m,{key:1,disabled:b.disabled},{default:ct(()=>[ht(C),pn(" "+ur(b.text),1)]),_:1},8,["disabled"])):Kn("",!0)])):Kn("",!0)]),_:1},8,["listType","multiple","action","headers","data","fileList","beforeUpload","disabled","onChange","onPreview"]),ht(w,{visible:b.previewVisible,footer:null,onCancel:ce[1]||(ce[1]=k=>b.handleCancel())},{default:ct(()=>[Nr("img",{alt:"example",style:{width:"100%"},src:b.previewImage},null,8,vf)]),_:1},8,["visible"])])}const $p=Jt(ff,[["render",bf],["__scopeId","data-v-a4ed526e"]]);var Iu=(b=>(b.Radio="radio",b.RadioButton="radioButton",b.Select="select",b.List="list",b.Switch="switch",b.SelTree="sel_tree",b.CatTree="cat_tree",b.SelSearch="search",b.SelUser="sel_user",b.Checkbox="checkbox",b.ListMulti="list_multi",b.Pca="pca",b.Popup="popup",b.SelDepart="sel_depart",b))(Iu||{});const yf=Bt({name:"JDictSelectTag",inheritAttrs:!1,components:{LoadingOutlined:Al},props:{value:Me.oneOfType([Me.string,Me.number,Me.array]),dictCode:Me.string,type:Me.string,placeholder:Me.string,stringToNumber:Me.bool,getPopupContainer:{type:Function,default:b=>b.parentNode},showChooseOption:Me.bool.def(!0),options:{type:Array,default:[],required:!1},style:Me.any},emits:["options-change","change","update:value"],setup(b,{emit:ce,refs:H}){const O=Be([]),K=nn(),[ae,,,W]=lr(b,"value","change"),C=Object.assign({},ot(b),ot(K)),m=Be(!1);let g=!0;const w=On(()=>!b.type||b.type==="list"?"select":b.type);ar(()=>{b.dictCode&&(m.value=g,g=!1,k().finally(()=>{m.value=g})),b.dictCode||(O.value=b.options)}),It(()=>b.value,()=>{b.value===""&&(ce("change",""),Sa(()=>W.onFieldChange()))});function k(){return tn(this,null,function*(){let{dictCode:L,stringToNumber:D}=b;const E=yield Dl(L);O.value=E.reduce((N,F)=>{if(F){const s=F.value;N.push(or({label:F.text||F.label,value:D?+s:s},oc(F,["text","value"])))}return N},[])})}function A(L){var N,F,s,p;const{mode:D}=ot(C);let E;D==="multiple"?(E=(F=(N=L==null?void 0:L.target)==null?void 0:N.value)!=null?F:L,(E==null||E==="")&&(E=[]),Array.isArray(E)&&(E=E.filter(c=>c!=null&&c!==""))):E=(p=(s=L==null?void 0:L.target)==null?void 0:s.value)!=null?p:L,ae.value=E,ce("update:value",E)}function y(L){var D,E,N,F;ae.value=(E=(D=L==null?void 0:L.target)==null?void 0:D.value)!=null?E:L,ce("update:value",(F=(N=L==null?void 0:L.target)==null?void 0:N.value)!=null?F:L)}function S(L,D){var N;return((N=D.children()[0])==null?void 0:N.children.toLowerCase().indexOf(L.toLowerCase()))>=0?!0:(D.value||"").toString().toLowerCase().indexOf(L.toLowerCase())>=0}return{state:ae,compType:w,attrs:K,loadingEcho:m,getBindValue:C,dictOptions:O,CompTypeEnum:Iu,handleChange:A,handleChangeRadio:y,handleFilterOption:S}}}),wf=["title"];function kf(b,ce,H,O,K,ae){const W=Ye("a-radio"),C=Ye("a-radio-group"),m=Ye("a-radio-button"),g=Ye("LoadingOutlined"),w=Ye("a-input"),k=Ye("a-select-option"),A=Ye("a-select");return b.compType===b.CompTypeEnum.Radio?(tt(),Lt(C,Nt({key:0},b.attrs,{value:b.state,"onUpdate:value":ce[0]||(ce[0]=y=>b.state=y),onChange:b.handleChangeRadio}),{default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.dictOptions,y=>(tt(),Lt(W,{key:`${y.value}`,value:y.value},{default:ct(()=>[pn(ur(y.label),1)]),_:2},1032,["value"]))),128))]),_:1},16,["value","onChange"])):b.compType===b.CompTypeEnum.RadioButton?(tt(),Lt(C,Nt({key:1},b.attrs,{value:b.state,"onUpdate:value":ce[1]||(ce[1]=y=>b.state=y),buttonStyle:"solid",onChange:b.handleChangeRadio}),{default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.dictOptions,y=>(tt(),Lt(m,{key:`${y.value}`,value:y.value},{default:ct(()=>[pn(ur(y.label),1)]),_:2},1032,["value"]))),128))]),_:1},16,["value","onChange"])):b.compType===b.CompTypeEnum.Select?(tt(),zt(Yn,{key:2},[b.loadingEcho?(tt(),Lt(w,{key:0,readOnly:"",placeholder:"\u52A0\u8F7D\u4E2D\u2026"},{prefix:ct(()=>[ht(g)]),_:1})):(tt(),Lt(A,Nt({key:1,placeholder:b.placeholder},b.attrs,{value:b.state,"onUpdate:value":ce[2]||(ce[2]=y=>b.state=y),filterOption:b.handleFilterOption,getPopupContainer:b.getPopupContainer,style:b.style,onChange:b.handleChange}),{default:ct(()=>[b.showChooseOption?(tt(),Lt(k,{key:0,value:null},{default:ct(()=>[pn("\u8BF7\u9009\u62E9\u2026")]),_:1})):Kn("",!0),(tt(!0),zt(Yn,null,Cr(b.dictOptions,y=>(tt(),Lt(k,{key:`${y.value}`,value:y.value},{default:ct(()=>[Nr("span",{style:{display:"inline-block",width:"100%"},title:y.label},ur(y.label),9,wf)]),_:2},1032,["value"]))),128))]),_:1},16,["placeholder","value","filterOption","getPopupContainer","style","onChange"]))],64)):Kn("",!0)}const Gp=Jt(yf,[["render",kf]]);function _f(b,ce,H){const O=ni("selectOptions",Be([])),K=ni("selectValues",dr({})),ae=ni("loadingEcho",Be(!1)),W=Be([]),C=Be([]),m=Be([]),g=Be(!1),w=On(()=>H.multiple?H.checkStrictly:!0);let k=!0;It(K,({value:_})=>{!_||g.value==!1&&_.length>0&&(ae.value=k,k=!1,F(null,_.join(",")).finally(()=>{ae.value=!1}))},{immediate:!0});function A(){const _=ot(b);if(!_)throw new Error("tree is null!");return _}function y(){Sa(()=>{H.defaultExpandLevel&&H.defaultExpandLevel>0&&A().filterByLevel(H.defaultExpandLevel),C.value=K.value}).then()}function S(_,z){if(H.checkable==!1){C.value=H.checkStrictly?_.checked:_;const{selectedNodes:M}=z;let x=[];M.forEach(R=>{x.push(R)}),m.value=x}}function L(_,z){if(H.checkable==!0){if(!H.multiple){if(z.checked){C.value=[z.node.eventKey];let R=H.rowKey,X=z.checkedNodes.find($=>$[R]===z.node.eventKey);m.value=[X]}else C.value=[],m.value=[];return}C.value=H.checkStrictly?_.checked:_;const{checkedNodes:M}=z;let x=[];M.forEach(R=>{x.push(R)}),m.value=x}}function D(_){return tn(this,null,function*(){A().checkAll(_),yield Sa(),C.value=A().getCheckedKeys(),_?E():m.value=[]})}function E(){let _="";ot(C).length>0&&(_=C.value.join(",")),ce({ids:_}).then(z=>{m.value=z})}function N(_){A().expandAll(_)}function F(_,z){return tn(this,null,function*(){let M={},x="";_&&(x=_.eventKey,M.pid=_.value),z&&(x="",M.ids=z);let R=yield ce(M),X=R;if(H.serverTreeData||(R=ac(R,H,x),R.length==0&&_&&s(x,W.value)),g.value==!0){if(!_)W.value=R;else return new Promise($=>{if(!_.children){$();return}const Z=ot(b);Z&&(Z.updateNodeByKey(_.eventKey,{children:R}),Z.setExpandedKeys([_.eventKey,...Z.getExpandedKeys()])),$()});y()}else{const $=[];X.forEach(Z=>{$.push({label:Z[H.titleKey],value:Z[H.rowKey]})}),O.value=$}})}function s(_,z){if(z&&z.length>0)for(let M of z)if(M.key==_){M.child||(M.isLeaf=!0);break}else s(_,M.children)}function p(_){const z=[],M=[];m.value.forEach(x=>{z.push({label:x[H.labelKey],value:x[H.rowKey]})}),C.value.forEach(x=>{M.push(x)}),O.value=z,_&&_(z,M)}function c(_){return tn(this,null,function*(){_?(g.value=!0,yield F(null,null)):g.value=!1})}return[{visibleChange:c,selectOptions:O,selectValues:K,onLoadData:F,onCheck:L,onSelect:S,checkALL:D,expandAll:N,checkedKeys:C,selectRows:m,treeData:W,getCheckStrictly:w,getSelectTreeData:p}]}const xf=Bt({name:"DeptSelectModal",components:{BasicModal:Qi,BasicTree:Hu},props:ti(or({},Hc),{modalTitle:{type:String,default:"\u90E8\u95E8\u9009\u62E9"},value:Me.oneOfType([Me.string,Me.array])}),emits:["register","getSelectResult"],setup(b,{emit:ce,refs:H}){const[O,{closeModal:K}]=Zi(),ae=nn(),W=Be(null);let C=b.value===""?[]:b.value;const m=Object.assign({},ot(b),ot(ae),{value:C},{disabled:!1}),g=z(),[{visibleChange:w,checkedKeys:k,getCheckStrictly:A,getSelectTreeData:y,onCheck:S,onLoadData:L,treeData:D,checkALL:E,expandAll:N,onSelect:F}]=_f(W,g,m),s=Be(b.params),p=Be([]),c={key:b.rowKey};function _(){y((M,x)=>{ce("getSelectResult",M,x),K()})}function z(){let M=b.sync?Dc:Oc;return x=>M(Object.assign({},x,{primaryKey:b.rowKey}))}return{tree:p,handleOk:_,searchInfo:s,treeRef:W,treeData:D,onCheck:S,onSelect:F,checkALL:E,expandAll:N,fieldNames:c,checkedKeys:k,register:O,getBindValue:m,getCheckStrictly:A,visibleChange:w,onLoadData:L}}});function Sf(b,ce,H,O,K,ae){const W=Ye("BasicTree"),C=Ye("a-menu-item"),m=Ye("a-menu"),g=Ye("Icon"),w=Ye("a-button"),k=Ye("a-dropdown"),A=Ye("BasicModal");return tt(),zt("div",null,[ht(A,Nt(b.$attrs,{onRegister:b.register,title:b.modalTitle,width:"500px",onOk:b.handleOk,destroyOnClose:"",onVisibleChange:b.visibleChange}),{insertFooter:ct(()=>[ht(k,{placement:"top"},{overlay:ct(()=>[ht(m,null,{default:ct(()=>[b.multiple?(tt(),Lt(C,{key:"1",onClick:ce[0]||(ce[0]=y=>b.checkALL(!0))},{default:ct(()=>[pn("\u5168\u90E8\u52FE\u9009")]),_:1})):Kn("",!0),b.multiple?(tt(),Lt(C,{key:"2",onClick:ce[1]||(ce[1]=y=>b.checkALL(!1))},{default:ct(()=>[pn("\u53D6\u6D88\u5168\u9009")]),_:1})):Kn("",!0),ht(C,{key:"3",onClick:ce[2]||(ce[2]=y=>b.expandAll(!0))},{default:ct(()=>[pn("\u5C55\u5F00\u5168\u90E8")]),_:1}),ht(C,{key:"4",onClick:ce[3]||(ce[3]=y=>b.expandAll(!1))},{default:ct(()=>[pn("\u6298\u53E0\u5168\u90E8")]),_:1})]),_:1})]),default:ct(()=>[ht(w,{style:{float:"left"}},{default:ct(()=>[pn(" \u6811\u64CD\u4F5C "),ht(g,{icon:"ant-design:up-outlined"})]),_:1})]),_:1})]),default:ct(()=>[ht(W,Nt({ref:"treeRef",treeData:b.treeData,"load-data":b.sync==!1?null:b.onLoadData},b.getBindValue,{onSelect:b.onSelect,onCheck:b.onCheck,fieldNames:b.fieldNames,checkedKeys:b.checkedKeys,checkStrictly:b.getCheckStrictly}),null,16,["treeData","load-data","onSelect","onCheck","fieldNames","checkedKeys","checkStrictly"])]),_:1},16,["onRegister","title","onOk","onVisibleChange"])])}const Cf=Jt(xf,[["render",Sf]]),Ef=Bt({name:"JSelectDept",components:{DeptSelectModal:Cf,JSelectBiz:Ro},inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.array]),multiple:Me.bool.def(!0)},emits:["options-change","change","select","update:value"],setup(b,{emit:ce,refs:H}){const O=Be(),[K,{openModal:ae}]=Yi(),[W]=lr(b,"value","change",O),C=Be([]);let m=dr({value:[]});const g=Be(!1);Vn("selectOptions",C),Vn("selectValues",m),Vn("loadingEcho",g);const w=Be(!1),k=nn();ar(()=>{b.value&&y()}),It(()=>b.value,()=>{y()}),It(m,()=>{m&&(W.value=m.value)}),It(C,()=>{C&&ce("select",Ys(ot(C)),Ys(ot(m)))});function A(){w.value=!0,ae(!0,{isUpdate:!1})}function y(){let E=b.value?b.value:[];E&&typeof E=="string"?(W.value=E.split(","),m.value=E.split(",")):m.value=E}function S(E,N){C.value=E,W.value=N,m.value=N,ce("update:value",N.join(","))}const L=Object.assign({},ot(b),ot(k));function D(E){ce("update:value",E)}return{state:W,attrs:k,selectOptions:C,selectValues:m,loadingEcho:g,getBindValue:L,tag:w,regModal:K,setValue:S,handleOpen:A,handleChange:D}}});function Lf(b,ce,H,O,K,ae){const W=Ye("JSelectBiz"),C=Ye("DeptSelectModal");return tt(),zt("div",null,[ht(W,Nt({onHandleOpen:b.handleOpen,loading:b.loadingEcho},b.attrs,{onChange:b.handleChange}),null,16,["onHandleOpen","loading","onChange"]),ht(C,Nt({onRegister:b.regModal,onGetSelectResult:b.setValue},b.getBindValue),null,16,["onRegister","onGetSelectResult"])])}const Jp=Jt(Ef,[["render",Lf],["__scopeId","data-v-82cb815e"]]),Tf=Bt({name:"JAreaSelect",props:{value:[Array,String],province:[String],city:[String],area:[String],level:Me.number.def(3),disabled:Me.bool.def(!1),codeField:Me.string,size:Me.string,placeholder:Me.string,formValues:Me.any,allowClear:Me.bool.def(!1),getPopupContainer:{type:Function,default:b=>b.parentNode}},emits:["change","update:value","update:area","update:city","update:province"],setup(b,{emit:ce,refs:H}){const O=Be([]),K=dr({province:"",city:"",area:""}),[ae]=lr(b,"value","change",O),W=On(()=>K.province?zo(K.province):[]),C=On(()=>K.city?zo(K.city):[]);ar(()=>{b&&m()}),It(K,A=>{b.value||(ce("update:province",K.province),ce("update:city",K.city),ce("update:area",K.area))});function m(){if(b.value)if(Array.isArray(b.value))K.province=b.value[0],K.city=b.value[1]?b.value[1]:"",K.area=b.value[2]?b.value[2]:"";else{let A=Ac(b.value,b.level);A&&(K.province=A[0],K.city=b.level>=2&&A[1]?A[1]:"",K.area=b.level>=3&&A[2]?A[2]:"")}else K.province=b.province?b.province:"",K.city=b.city?b.city:"",K.area=b.area?b.area:""}function g(A){var y,S;K.city=A&&((y=zo(A)[0])==null?void 0:y.value),K.area=K.city&&((S=zo(K.city)[0])==null?void 0:S.value),ae.value=b.level<=1?A:b.level<=2?K.city:K.area,ce("update:value",ot(ae))}function w(A){var y;K.area=A&&((y=zo(A)[0])==null?void 0:y.value),ae.value=b.level<=2?A:K.area,ce("update:value",ot(ae))}function k(A){ae.value=A,ce("update:value",ot(ae))}return ti(or({},lc(K)),{provinceOptions:Tc,cityOptions:W,areaOptions:C,proChange:g,cityChange:w,areaChange:k})}});const Af={class:"area-select"};function Mf(b,ce,H,O,K,ae){const W=Ye("a-select-option"),C=Ye("a-select"),m=Ye("a-form-item-rest");return tt(),Lt(m,null,{default:ct(()=>[Nr("div",Af,[ht(C,{value:b.province,"onUpdate:value":ce[0]||(ce[0]=g=>b.province=g),onChange:b.proChange,allowClear:"",disabled:b.disabled},{default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.provinceOptions,g=>(tt(),Lt(W,{key:`${g.value}`,value:g.value},{default:ct(()=>[pn(ur(g.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange","disabled"]),b.level>=2?(tt(),Lt(C,{key:0,value:b.city,"onUpdate:value":ce[1]||(ce[1]=g=>b.city=g),onChange:b.cityChange,disabled:b.disabled},{default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.cityOptions,g=>(tt(),Lt(W,{key:`${g.value}`,value:g.value},{default:ct(()=>[pn(ur(g.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange","disabled"])):Kn("",!0),b.level>=3?(tt(),Lt(C,{key:1,value:b.area,"onUpdate:value":ce[2]||(ce[2]=g=>b.area=g),onChange:b.areaChange,disabled:b.disabled},{default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.areaOptions,g=>(tt(),Lt(W,{key:`${g.value}`,value:g.value},{default:ct(()=>[pn(ur(g.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange","disabled"])):Kn("",!0)])]),_:1})}const Xp=Jt(Tf,[["render",Mf],["__scopeId","data-v-9a519c80"]]),Df=Bt({name:"JEditor",inheritAttrs:!1,components:{Tinymce:Ic},props:{value:Me.string.def(""),disabled:Me.bool.def(!1)},emits:["change","update:value"],setup(b,{emit:ce,attrs:H}){const O=On(()=>Object.assign({},b,H));function K(ae){ce("change",ae),ce("update:value",ae)}return{bindProps:O,onChange:K}}});function Of(b,ce,H,O,K,ae){const W=Ye("Tinymce");return tt(),Lt(W,Nt(b.bindProps,{onChange:b.onChange}),null,16,["onChange"])}const Zp=Jt(Df,[["render",Of]]);var zu={exports:{}};(function(b,ce){(function(H,O){b.exports=O()})(Ol,function(){return(()=>{var H={14:W=>{var C=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},m=-1;C.Diff=function(g,w){return[g,w]},C.prototype.diff_main=function(g,w,k,A){A===void 0&&(A=this.Diff_Timeout<=0?Number.MAX_VALUE:new Date().getTime()+1e3*this.Diff_Timeout);var y=A;if(g==null||w==null)throw new Error("Null input. (diff_main)");if(g==w)return g?[new C.Diff(0,g)]:[];k===void 0&&(k=!0);var S=k,L=this.diff_commonPrefix(g,w),D=g.substring(0,L);g=g.substring(L),w=w.substring(L),L=this.diff_commonSuffix(g,w);var E=g.substring(g.length-L);g=g.substring(0,g.length-L),w=w.substring(0,w.length-L);var N=this.diff_compute_(g,w,S,y);return D&&N.unshift(new C.Diff(0,D)),E&&N.push(new C.Diff(0,E)),this.diff_cleanupMerge(N),N},C.prototype.diff_compute_=function(g,w,k,A){var y;if(!g)return[new C.Diff(1,w)];if(!w)return[new C.Diff(m,g)];var S=g.length>w.length?g:w,L=g.length>w.length?w:g,D=S.indexOf(L);if(D!=-1)return y=[new C.Diff(1,S.substring(0,D)),new C.Diff(0,L),new C.Diff(1,S.substring(D+L.length))],g.length>w.length&&(y[0][0]=y[2][0]=m),y;if(L.length==1)return[new C.Diff(m,g),new C.Diff(1,w)];var E=this.diff_halfMatch_(g,w);if(E){var N=E[0],F=E[1],s=E[2],p=E[3],c=E[4],_=this.diff_main(N,s,k,A),z=this.diff_main(F,p,k,A);return _.concat([new C.Diff(0,c)],z)}return k&&g.length>100&&w.length>100?this.diff_lineMode_(g,w,A):this.diff_bisect_(g,w,A)},C.prototype.diff_lineMode_=function(g,w,k){var A=this.diff_linesToChars_(g,w);g=A.chars1,w=A.chars2;var y=A.lineArray,S=this.diff_main(g,w,!1,k);this.diff_charsToLines_(S,y),this.diff_cleanupSemantic(S),S.push(new C.Diff(0,""));for(var L=0,D=0,E=0,N="",F="";L<S.length;){switch(S[L][0]){case 1:E++,F+=S[L][1];break;case m:D++,N+=S[L][1];break;case 0:if(D>=1&&E>=1){S.splice(L-D-E,D+E),L=L-D-E;for(var s=this.diff_main(N,F,!1,k),p=s.length-1;p>=0;p--)S.splice(L,0,s[p]);L+=s.length}E=0,D=0,N="",F=""}L++}return S.pop(),S},C.prototype.diff_bisect_=function(g,w,k){for(var A=g.length,y=w.length,S=Math.ceil((A+y)/2),L=S,D=2*S,E=new Array(D),N=new Array(D),F=0;F<D;F++)E[F]=-1,N[F]=-1;E[L+1]=0,N[L+1]=0;for(var s=A-y,p=s%2!=0,c=0,_=0,z=0,M=0,x=0;x<S&&!(new Date().getTime()>k);x++){for(var R=-x+c;R<=x-_;R+=2){for(var X=L+R,$=(J=R==-x||R!=x&&E[X-1]<E[X+1]?E[X+1]:E[X-1]+1)-R;J<A&&$<y&&g.charAt(J)==w.charAt($);)J++,$++;if(E[X]=J,J>A)_+=2;else if($>y)c+=2;else if(p&&(B=L+s-R)>=0&&B<D&&N[B]!=-1&&J>=(I=A-N[B]))return this.diff_bisectSplit_(g,w,J,$,k)}for(var Z=-x+z;Z<=x-M;Z+=2){for(var I,B=L+Z,Y=(I=Z==-x||Z!=x&&N[B-1]<N[B+1]?N[B+1]:N[B-1]+1)-Z;I<A&&Y<y&&g.charAt(A-I-1)==w.charAt(y-Y-1);)I++,Y++;if(N[B]=I,I>A)M+=2;else if(Y>y)z+=2;else if(!p&&(X=L+s-Z)>=0&&X<D&&E[X]!=-1){var J;if($=L+(J=E[X])-X,J>=(I=A-I))return this.diff_bisectSplit_(g,w,J,$,k)}}}return[new C.Diff(m,g),new C.Diff(1,w)]},C.prototype.diff_bisectSplit_=function(g,w,k,A,y){var S=g.substring(0,k),L=w.substring(0,A),D=g.substring(k),E=w.substring(A),N=this.diff_main(S,L,!1,y),F=this.diff_main(D,E,!1,y);return N.concat(F)},C.prototype.diff_linesToChars_=function(g,w){var k=[],A={};function y(D){for(var E="",N=0,F=-1,s=k.length;F<D.length-1;){(F=D.indexOf(`
`,N))==-1&&(F=D.length-1);var p=D.substring(N,F+1);(A.hasOwnProperty?A.hasOwnProperty(p):A[p]!==void 0)?E+=String.fromCharCode(A[p]):(s==S&&(p=D.substring(N),F=D.length),E+=String.fromCharCode(s),A[p]=s,k[s++]=p),N=F+1}return E}k[0]="";var S=4e4,L=y(g);return S=65535,{chars1:L,chars2:y(w),lineArray:k}},C.prototype.diff_charsToLines_=function(g,w){for(var k=0;k<g.length;k++){for(var A=g[k][1],y=[],S=0;S<A.length;S++)y[S]=w[A.charCodeAt(S)];g[k][1]=y.join("")}},C.prototype.diff_commonPrefix=function(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var k=0,A=Math.min(g.length,w.length),y=A,S=0;k<y;)g.substring(S,y)==w.substring(S,y)?S=k=y:A=y,y=Math.floor((A-k)/2+k);return y},C.prototype.diff_commonSuffix=function(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var k=0,A=Math.min(g.length,w.length),y=A,S=0;k<y;)g.substring(g.length-y,g.length-S)==w.substring(w.length-y,w.length-S)?S=k=y:A=y,y=Math.floor((A-k)/2+k);return y},C.prototype.diff_commonOverlap_=function(g,w){var k=g.length,A=w.length;if(k==0||A==0)return 0;k>A?g=g.substring(k-A):k<A&&(w=w.substring(0,k));var y=Math.min(k,A);if(g==w)return y;for(var S=0,L=1;;){var D=g.substring(y-L),E=w.indexOf(D);if(E==-1)return S;L+=E,E!=0&&g.substring(y-L)!=w.substring(0,L)||(S=L,L++)}},C.prototype.diff_halfMatch_=function(g,w){if(this.Diff_Timeout<=0)return null;var k=g.length>w.length?g:w,A=g.length>w.length?w:g;if(k.length<4||2*A.length<k.length)return null;var y=this;function S(c,_,z){for(var M,x,R,X,$=c.substring(z,z+Math.floor(c.length/4)),Z=-1,I="";(Z=_.indexOf($,Z+1))!=-1;){var B=y.diff_commonPrefix(c.substring(z),_.substring(Z)),Y=y.diff_commonSuffix(c.substring(0,z),_.substring(0,Z));I.length<Y+B&&(I=_.substring(Z-Y,Z)+_.substring(Z,Z+B),M=c.substring(0,z-Y),x=c.substring(z+B),R=_.substring(0,Z-Y),X=_.substring(Z+B))}return 2*I.length>=c.length?[M,x,R,X,I]:null}var L,D,E,N,F,s=S(k,A,Math.ceil(k.length/4)),p=S(k,A,Math.ceil(k.length/2));return s||p?(L=p?s&&s[4].length>p[4].length?s:p:s,g.length>w.length?(D=L[0],E=L[1],N=L[2],F=L[3]):(N=L[0],F=L[1],D=L[2],E=L[3]),[D,E,N,F,L[4]]):null},C.prototype.diff_cleanupSemantic=function(g){for(var w=!1,k=[],A=0,y=null,S=0,L=0,D=0,E=0,N=0;S<g.length;)g[S][0]==0?(k[A++]=S,L=E,D=N,E=0,N=0,y=g[S][1]):(g[S][0]==1?E+=g[S][1].length:N+=g[S][1].length,y&&y.length<=Math.max(L,D)&&y.length<=Math.max(E,N)&&(g.splice(k[A-1],0,new C.Diff(m,y)),g[k[A-1]+1][0]=1,A--,S=--A>0?k[A-1]:-1,L=0,D=0,E=0,N=0,y=null,w=!0)),S++;for(w&&this.diff_cleanupMerge(g),this.diff_cleanupSemanticLossless(g),S=1;S<g.length;){if(g[S-1][0]==m&&g[S][0]==1){var F=g[S-1][1],s=g[S][1],p=this.diff_commonOverlap_(F,s),c=this.diff_commonOverlap_(s,F);p>=c?(p>=F.length/2||p>=s.length/2)&&(g.splice(S,0,new C.Diff(0,s.substring(0,p))),g[S-1][1]=F.substring(0,F.length-p),g[S+1][1]=s.substring(p),S++):(c>=F.length/2||c>=s.length/2)&&(g.splice(S,0,new C.Diff(0,F.substring(0,c))),g[S-1][0]=1,g[S-1][1]=s.substring(0,s.length-c),g[S+1][0]=m,g[S+1][1]=F.substring(c),S++),S++}S++}},C.prototype.diff_cleanupSemanticLossless=function(g){function w(c,_){if(!c||!_)return 6;var z=c.charAt(c.length-1),M=_.charAt(0),x=z.match(C.nonAlphaNumericRegex_),R=M.match(C.nonAlphaNumericRegex_),X=x&&z.match(C.whitespaceRegex_),$=R&&M.match(C.whitespaceRegex_),Z=X&&z.match(C.linebreakRegex_),I=$&&M.match(C.linebreakRegex_),B=Z&&c.match(C.blanklineEndRegex_),Y=I&&_.match(C.blanklineStartRegex_);return B||Y?5:Z||I?4:x&&!X&&$?3:X||$?2:x||R?1:0}for(var k=1;k<g.length-1;){if(g[k-1][0]==0&&g[k+1][0]==0){var A=g[k-1][1],y=g[k][1],S=g[k+1][1],L=this.diff_commonSuffix(A,y);if(L){var D=y.substring(y.length-L);A=A.substring(0,A.length-L),y=D+y.substring(0,y.length-L),S=D+S}for(var E=A,N=y,F=S,s=w(A,y)+w(y,S);y.charAt(0)===S.charAt(0);){A+=y.charAt(0),y=y.substring(1)+S.charAt(0),S=S.substring(1);var p=w(A,y)+w(y,S);p>=s&&(s=p,E=A,N=y,F=S)}g[k-1][1]!=E&&(E?g[k-1][1]=E:(g.splice(k-1,1),k--),g[k][1]=N,F?g[k+1][1]=F:(g.splice(k+1,1),k--))}k++}},C.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,C.whitespaceRegex_=/\s/,C.linebreakRegex_=/[\r\n]/,C.blanklineEndRegex_=/\n\r?\n$/,C.blanklineStartRegex_=/^\r?\n\r?\n/,C.prototype.diff_cleanupEfficiency=function(g){for(var w=!1,k=[],A=0,y=null,S=0,L=!1,D=!1,E=!1,N=!1;S<g.length;)g[S][0]==0?(g[S][1].length<this.Diff_EditCost&&(E||N)?(k[A++]=S,L=E,D=N,y=g[S][1]):(A=0,y=null),E=N=!1):(g[S][0]==m?N=!0:E=!0,y&&(L&&D&&E&&N||y.length<this.Diff_EditCost/2&&L+D+E+N==3)&&(g.splice(k[A-1],0,new C.Diff(m,y)),g[k[A-1]+1][0]=1,A--,y=null,L&&D?(E=N=!0,A=0):(S=--A>0?k[A-1]:-1,E=N=!1),w=!0)),S++;w&&this.diff_cleanupMerge(g)},C.prototype.diff_cleanupMerge=function(g){g.push(new C.Diff(0,""));for(var w,k=0,A=0,y=0,S="",L="";k<g.length;)switch(g[k][0]){case 1:y++,L+=g[k][1],k++;break;case m:A++,S+=g[k][1],k++;break;case 0:A+y>1?(A!==0&&y!==0&&((w=this.diff_commonPrefix(L,S))!==0&&(k-A-y>0&&g[k-A-y-1][0]==0?g[k-A-y-1][1]+=L.substring(0,w):(g.splice(0,0,new C.Diff(0,L.substring(0,w))),k++),L=L.substring(w),S=S.substring(w)),(w=this.diff_commonSuffix(L,S))!==0&&(g[k][1]=L.substring(L.length-w)+g[k][1],L=L.substring(0,L.length-w),S=S.substring(0,S.length-w))),k-=A+y,g.splice(k,A+y),S.length&&(g.splice(k,0,new C.Diff(m,S)),k++),L.length&&(g.splice(k,0,new C.Diff(1,L)),k++),k++):k!==0&&g[k-1][0]==0?(g[k-1][1]+=g[k][1],g.splice(k,1)):k++,y=0,A=0,S="",L=""}g[g.length-1][1]===""&&g.pop();var D=!1;for(k=1;k<g.length-1;)g[k-1][0]==0&&g[k+1][0]==0&&(g[k][1].substring(g[k][1].length-g[k-1][1].length)==g[k-1][1]?(g[k][1]=g[k-1][1]+g[k][1].substring(0,g[k][1].length-g[k-1][1].length),g[k+1][1]=g[k-1][1]+g[k+1][1],g.splice(k-1,1),D=!0):g[k][1].substring(0,g[k+1][1].length)==g[k+1][1]&&(g[k-1][1]+=g[k+1][1],g[k][1]=g[k][1].substring(g[k+1][1].length)+g[k+1][1],g.splice(k+1,1),D=!0)),k++;D&&this.diff_cleanupMerge(g)},C.prototype.diff_xIndex=function(g,w){var k,A=0,y=0,S=0,L=0;for(k=0;k<g.length&&(g[k][0]!==1&&(A+=g[k][1].length),g[k][0]!==m&&(y+=g[k][1].length),!(A>w));k++)S=A,L=y;return g.length!=k&&g[k][0]===m?L:L+(w-S)},C.prototype.diff_prettyHtml=function(g){for(var w=[],k=/&/g,A=/</g,y=/>/g,S=/\n/g,L=0;L<g.length;L++){var D=g[L][0],E=g[L][1].replace(k,"&amp;").replace(A,"&lt;").replace(y,"&gt;").replace(S,"&para;<br>");switch(D){case 1:w[L]='<ins style="background:#e6ffe6;">'+E+"</ins>";break;case m:w[L]='<del style="background:#ffe6e6;">'+E+"</del>";break;case 0:w[L]="<span>"+E+"</span>"}}return w.join("")},C.prototype.diff_text1=function(g){for(var w=[],k=0;k<g.length;k++)g[k][0]!==1&&(w[k]=g[k][1]);return w.join("")},C.prototype.diff_text2=function(g){for(var w=[],k=0;k<g.length;k++)g[k][0]!==m&&(w[k]=g[k][1]);return w.join("")},C.prototype.diff_levenshtein=function(g){for(var w=0,k=0,A=0,y=0;y<g.length;y++){var S=g[y][0],L=g[y][1];switch(S){case 1:k+=L.length;break;case m:A+=L.length;break;case 0:w+=Math.max(k,A),k=0,A=0}}return w+=Math.max(k,A)},C.prototype.diff_toDelta=function(g){for(var w=[],k=0;k<g.length;k++)switch(g[k][0]){case 1:w[k]="+"+encodeURI(g[k][1]);break;case m:w[k]="-"+g[k][1].length;break;case 0:w[k]="="+g[k][1].length}return w.join("	").replace(/%20/g," ")},C.prototype.diff_fromDelta=function(g,w){for(var k=[],A=0,y=0,S=w.split(/\t/g),L=0;L<S.length;L++){var D=S[L].substring(1);switch(S[L].charAt(0)){case"+":try{k[A++]=new C.Diff(1,decodeURI(D))}catch(F){throw new Error("Illegal escape in diff_fromDelta: "+D)}break;case"-":case"=":var E=parseInt(D,10);if(isNaN(E)||E<0)throw new Error("Invalid number in diff_fromDelta: "+D);var N=g.substring(y,y+=E);S[L].charAt(0)=="="?k[A++]=new C.Diff(0,N):k[A++]=new C.Diff(m,N);break;default:if(S[L])throw new Error("Invalid diff operation in diff_fromDelta: "+S[L])}}if(y!=g.length)throw new Error("Delta length ("+y+") does not equal source text length ("+g.length+").");return k},C.prototype.match_main=function(g,w,k){if(g==null||w==null||k==null)throw new Error("Null input. (match_main)");return k=Math.max(0,Math.min(k,g.length)),g==w?0:g.length?g.substring(k,k+w.length)==w?k:this.match_bitap_(g,w,k):-1},C.prototype.match_bitap_=function(g,w,k){if(w.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var A=this.match_alphabet_(w),y=this;function S($,Z){var I=$/w.length,B=Math.abs(k-Z);return y.Match_Distance?I+B/y.Match_Distance:B?1:I}var L=this.Match_Threshold,D=g.indexOf(w,k);D!=-1&&(L=Math.min(S(0,D),L),(D=g.lastIndexOf(w,k+w.length))!=-1&&(L=Math.min(S(0,D),L)));var E,N,F=1<<w.length-1;D=-1;for(var s,p=w.length+g.length,c=0;c<w.length;c++){for(E=0,N=p;E<N;)S(c,k+N)<=L?E=N:p=N,N=Math.floor((p-E)/2+E);p=N;var _=Math.max(1,k-N+1),z=Math.min(k+N,g.length)+w.length,M=Array(z+2);M[z+1]=(1<<c)-1;for(var x=z;x>=_;x--){var R=A[g.charAt(x-1)];if(M[x]=c===0?(M[x+1]<<1|1)&R:(M[x+1]<<1|1)&R|(s[x+1]|s[x])<<1|1|s[x+1],M[x]&F){var X=S(c,x-1);if(X<=L){if(L=X,!((D=x-1)>k))break;_=Math.max(1,2*k-D)}}}if(S(c+1,k)>L)break;s=M}return D},C.prototype.match_alphabet_=function(g){for(var w={},k=0;k<g.length;k++)w[g.charAt(k)]=0;for(k=0;k<g.length;k++)w[g.charAt(k)]|=1<<g.length-k-1;return w},C.prototype.patch_addContext_=function(g,w){if(w.length!=0){if(g.start2===null)throw Error("patch not initialized");for(var k=w.substring(g.start2,g.start2+g.length1),A=0;w.indexOf(k)!=w.lastIndexOf(k)&&k.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)A+=this.Patch_Margin,k=w.substring(g.start2-A,g.start2+g.length1+A);A+=this.Patch_Margin;var y=w.substring(g.start2-A,g.start2);y&&g.diffs.unshift(new C.Diff(0,y));var S=w.substring(g.start2+g.length1,g.start2+g.length1+A);S&&g.diffs.push(new C.Diff(0,S)),g.start1-=y.length,g.start2-=y.length,g.length1+=y.length+S.length,g.length2+=y.length+S.length}},C.prototype.patch_make=function(g,w,k){var A,y;if(typeof g=="string"&&typeof w=="string"&&k===void 0)A=g,(y=this.diff_main(A,w,!0)).length>2&&(this.diff_cleanupSemantic(y),this.diff_cleanupEfficiency(y));else if(g&&typeof g=="object"&&w===void 0&&k===void 0)y=g,A=this.diff_text1(y);else if(typeof g=="string"&&w&&typeof w=="object"&&k===void 0)A=g,y=w;else{if(typeof g!="string"||typeof w!="string"||!k||typeof k!="object")throw new Error("Unknown call format to patch_make.");A=g,y=k}if(y.length===0)return[];for(var S=[],L=new C.patch_obj,D=0,E=0,N=0,F=A,s=A,p=0;p<y.length;p++){var c=y[p][0],_=y[p][1];switch(D||c===0||(L.start1=E,L.start2=N),c){case 1:L.diffs[D++]=y[p],L.length2+=_.length,s=s.substring(0,N)+_+s.substring(N);break;case m:L.length1+=_.length,L.diffs[D++]=y[p],s=s.substring(0,N)+s.substring(N+_.length);break;case 0:_.length<=2*this.Patch_Margin&&D&&y.length!=p+1?(L.diffs[D++]=y[p],L.length1+=_.length,L.length2+=_.length):_.length>=2*this.Patch_Margin&&D&&(this.patch_addContext_(L,F),S.push(L),L=new C.patch_obj,D=0,F=s,E=N)}c!==1&&(E+=_.length),c!==m&&(N+=_.length)}return D&&(this.patch_addContext_(L,F),S.push(L)),S},C.prototype.patch_deepCopy=function(g){for(var w=[],k=0;k<g.length;k++){var A=g[k],y=new C.patch_obj;y.diffs=[];for(var S=0;S<A.diffs.length;S++)y.diffs[S]=new C.Diff(A.diffs[S][0],A.diffs[S][1]);y.start1=A.start1,y.start2=A.start2,y.length1=A.length1,y.length2=A.length2,w[k]=y}return w},C.prototype.patch_apply=function(g,w){if(g.length==0)return[w,[]];g=this.patch_deepCopy(g);var k=this.patch_addPadding(g);w=k+w+k,this.patch_splitMax(g);for(var A=0,y=[],S=0;S<g.length;S++){var L,D,E=g[S].start2+A,N=this.diff_text1(g[S].diffs),F=-1;if(N.length>this.Match_MaxBits?(L=this.match_main(w,N.substring(0,this.Match_MaxBits),E))!=-1&&((F=this.match_main(w,N.substring(N.length-this.Match_MaxBits),E+N.length-this.Match_MaxBits))==-1||L>=F)&&(L=-1):L=this.match_main(w,N,E),L==-1)y[S]=!1,A-=g[S].length2-g[S].length1;else if(y[S]=!0,A=L-E,N==(D=F==-1?w.substring(L,L+N.length):w.substring(L,F+this.Match_MaxBits)))w=w.substring(0,L)+this.diff_text2(g[S].diffs)+w.substring(L+N.length);else{var s=this.diff_main(N,D,!1);if(N.length>this.Match_MaxBits&&this.diff_levenshtein(s)/N.length>this.Patch_DeleteThreshold)y[S]=!1;else{this.diff_cleanupSemanticLossless(s);for(var p,c=0,_=0;_<g[S].diffs.length;_++){var z=g[S].diffs[_];z[0]!==0&&(p=this.diff_xIndex(s,c)),z[0]===1?w=w.substring(0,L+p)+z[1]+w.substring(L+p):z[0]===m&&(w=w.substring(0,L+p)+w.substring(L+this.diff_xIndex(s,c+z[1].length))),z[0]!==m&&(c+=z[1].length)}}}}return[w=w.substring(k.length,w.length-k.length),y]},C.prototype.patch_addPadding=function(g){for(var w=this.Patch_Margin,k="",A=1;A<=w;A++)k+=String.fromCharCode(A);for(A=0;A<g.length;A++)g[A].start1+=w,g[A].start2+=w;var y=g[0],S=y.diffs;if(S.length==0||S[0][0]!=0)S.unshift(new C.Diff(0,k)),y.start1-=w,y.start2-=w,y.length1+=w,y.length2+=w;else if(w>S[0][1].length){var L=w-S[0][1].length;S[0][1]=k.substring(S[0][1].length)+S[0][1],y.start1-=L,y.start2-=L,y.length1+=L,y.length2+=L}return(S=(y=g[g.length-1]).diffs).length==0||S[S.length-1][0]!=0?(S.push(new C.Diff(0,k)),y.length1+=w,y.length2+=w):w>S[S.length-1][1].length&&(L=w-S[S.length-1][1].length,S[S.length-1][1]+=k.substring(0,L),y.length1+=L,y.length2+=L),k},C.prototype.patch_splitMax=function(g){for(var w=this.Match_MaxBits,k=0;k<g.length;k++)if(!(g[k].length1<=w)){var A=g[k];g.splice(k--,1);for(var y=A.start1,S=A.start2,L="";A.diffs.length!==0;){var D=new C.patch_obj,E=!0;for(D.start1=y-L.length,D.start2=S-L.length,L!==""&&(D.length1=D.length2=L.length,D.diffs.push(new C.Diff(0,L)));A.diffs.length!==0&&D.length1<w-this.Patch_Margin;){var N=A.diffs[0][0],F=A.diffs[0][1];N===1?(D.length2+=F.length,S+=F.length,D.diffs.push(A.diffs.shift()),E=!1):N===m&&D.diffs.length==1&&D.diffs[0][0]==0&&F.length>2*w?(D.length1+=F.length,y+=F.length,E=!1,D.diffs.push(new C.Diff(N,F)),A.diffs.shift()):(F=F.substring(0,w-D.length1-this.Patch_Margin),D.length1+=F.length,y+=F.length,N===0?(D.length2+=F.length,S+=F.length):E=!1,D.diffs.push(new C.Diff(N,F)),F==A.diffs[0][1]?A.diffs.shift():A.diffs[0][1]=A.diffs[0][1].substring(F.length))}L=(L=this.diff_text2(D.diffs)).substring(L.length-this.Patch_Margin);var s=this.diff_text1(A.diffs).substring(0,this.Patch_Margin);s!==""&&(D.length1+=s.length,D.length2+=s.length,D.diffs.length!==0&&D.diffs[D.diffs.length-1][0]===0?D.diffs[D.diffs.length-1][1]+=s:D.diffs.push(new C.Diff(0,s))),E||g.splice(++k,0,D)}}},C.prototype.patch_toText=function(g){for(var w=[],k=0;k<g.length;k++)w[k]=g[k];return w.join("")},C.prototype.patch_fromText=function(g){var w=[];if(!g)return w;for(var k=g.split(`
`),A=0,y=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;A<k.length;){var S=k[A].match(y);if(!S)throw new Error("Invalid patch string: "+k[A]);var L=new C.patch_obj;for(w.push(L),L.start1=parseInt(S[1],10),S[2]===""?(L.start1--,L.length1=1):S[2]=="0"?L.length1=0:(L.start1--,L.length1=parseInt(S[2],10)),L.start2=parseInt(S[3],10),S[4]===""?(L.start2--,L.length2=1):S[4]=="0"?L.length2=0:(L.start2--,L.length2=parseInt(S[4],10)),A++;A<k.length;){var D=k[A].charAt(0);try{var E=decodeURI(k[A].substring(1))}catch(N){throw new Error("Illegal escape in patch_fromText: "+E)}if(D=="-")L.diffs.push(new C.Diff(m,E));else if(D=="+")L.diffs.push(new C.Diff(1,E));else if(D==" ")L.diffs.push(new C.Diff(0,E));else{if(D=="@")break;if(D!=="")throw new Error('Invalid patch mode "'+D+'" in: '+E)}A++}}return w},(C.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var g,w=["@@ -"+(this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1)+" +"+(this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2)+` @@
`],k=0;k<this.diffs.length;k++){switch(this.diffs[k][0]){case 1:g="+";break;case m:g="-";break;case 0:g=" "}w[k+1]=g+encodeURI(this.diffs[k][1])+`
`}return w.join("").replace(/%20/g," ")},W.exports=C,W.exports.diff_match_patch=C,W.exports.DIFF_DELETE=m,W.exports.DIFF_INSERT=1,W.exports.DIFF_EQUAL=0},872:(W,C,m)=>{m.d(C,{default:()=>U});var g=m(478),w=m(156),k=m(314),A=m(730),y=m(66),S=m(218),L=m(702),D=function(_e){_e===void 0&&(_e=document);var Ne=function(me){var ve=document.createElement("img");ve.src=me.getAttribute("data-src"),ve.addEventListener("load",function(){me.getAttribute("style")||me.getAttribute("class")||me.getAttribute("width")||me.getAttribute("height")||ve.naturalHeight>ve.naturalWidth&&ve.naturalWidth/ve.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&ve.naturalHeight>window.innerHeight-40&&(me.style.height=window.innerHeight-40+"px"),me.src=ve.src}),me.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return _e.querySelectorAll("img").forEach(function(me){me.getAttribute("data-src")&&Ne(me)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),_e.querySelectorAll("img").forEach(function(me){window.vditorImageIntersectionObserver.observe(me)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(me){me.forEach(function(ve){(ve.isIntersecting===void 0?ve.intersectionRatio!==0:ve.isIntersecting)&&ve.target.getAttribute("data-src")&&Ne(ve.target)})}),_e.querySelectorAll("img").forEach(function(me){window.vditorImageIntersectionObserver.observe(me)}))},E=m(466),N=m(554),F=m(40),s=m(563),p=m(749),c=m(818),_=m(408),z=m(54),M=m(227),x=m(526),R=m(827),X=m(640),$=m(895),Z=m(393),I=function(_e,Ne){if(Ne===void 0&&(Ne="zh_CN"),typeof speechSynthesis!="undefined"&&typeof SpeechSynthesisUtterance!="undefined"){var me='<svg><use xlink:href="#vditor-icon-play"></use></svg>',ve='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(me='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',ve='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var ke=document.querySelector(".vditor-speech");if(!ke){(ke=document.createElement("div")).className="vditor-speech",document.body.insertAdjacentElement("beforeend",ke);var Fe=function(){var Ue,Re;return speechSynthesis.getVoices().forEach(function(ut){ut.lang===Ne.replace("_","-")&&(Ue=ut),ut.default&&(Re=ut)}),Ue||(Ue=Re),Ue};speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=Fe);var qe=Fe();ke.onclick=function(){if(ke.className==="vditor-speech"){var Ue=new SpeechSynthesisUtterance(ke.getAttribute("data-text"));Ue.voice=qe,Ue.onend=function(){ke.className="vditor-speech",speechSynthesis.cancel(),ke.innerHTML=me},speechSynthesis.speak(Ue),ke.className="vditor-speech vditor-speech--current",ke.innerHTML=ve}else speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),ke.innerHTML=ve):(speechSynthesis.pause(),ke.innerHTML=me));(0,Z.Hc)(window.vditorSpeechRange)},document.body.addEventListener("click",function(){getSelection().toString().trim()===""&&ke.style.display==="block"&&(ke.className="vditor-speech",speechSynthesis.cancel(),ke.style.display="none")})}_e.addEventListener("mouseup",function(Ue){var Re=getSelection().toString().trim();if(speechSynthesis.cancel(),getSelection().toString().trim()!==""){window.vditorSpeechRange=getSelection().getRangeAt(0).cloneRange();var ut=getSelection().getRangeAt(0).getBoundingClientRect();ke.innerHTML=me,ke.style.display="block",ke.style.top=ut.top+ut.height+document.querySelector("html").scrollTop-20+"px",ke.style.left=Ue.clientX+2+"px",ke.setAttribute("data-text",Re)}else ke.style.display==="block"&&(ke.className="vditor-speech",ke.style.display="none")})}},B=function(_e,Ne,me,ve){return new(me||(me=Promise))(function(ke,Fe){function qe(ut){try{Re(ve.next(ut))}catch(De){Fe(De)}}function Ue(ut){try{Re(ve.throw(ut))}catch(De){Fe(De)}}function Re(ut){var De;ut.done?ke(ut.value):(De=ut.value,De instanceof me?De:new me(function(Pt){Pt(De)})).then(qe,Ue)}Re((ve=ve.apply(_e,Ne||[])).next())})},Y=function(_e,Ne){var me,ve,ke,Fe,qe={label:0,sent:function(){if(1&ke[0])throw ke[1];return ke[1]},trys:[],ops:[]};return Fe={next:Ue(0),throw:Ue(1),return:Ue(2)},typeof Symbol=="function"&&(Fe[Symbol.iterator]=function(){return this}),Fe;function Ue(Re){return function(ut){return function(De){if(me)throw new TypeError("Generator is already executing.");for(;qe;)try{if(me=1,ve&&(ke=2&De[0]?ve.return:De[0]?ve.throw||((ke=ve.return)&&ke.call(ve),0):ve.next)&&!(ke=ke.call(ve,De[1])).done)return ke;switch(ve=0,ke&&(De=[2&De[0],ke.value]),De[0]){case 0:case 1:ke=De;break;case 4:return qe.label++,{value:De[1],done:!1};case 5:qe.label++,ve=De[1],De=[0];continue;case 7:De=qe.ops.pop(),qe.trys.pop();continue;default:if(ke=qe.trys,!((ke=ke.length>0&&ke[ke.length-1])||De[0]!==6&&De[0]!==2)){qe=0;continue}if(De[0]===3&&(!ke||De[1]>ke[0]&&De[1]<ke[3])){qe.label=De[1];break}if(De[0]===6&&qe.label<ke[1]){qe.label=ke[1],ke=De;break}if(ke&&qe.label<ke[2]){qe.label=ke[2],qe.ops.push(De);break}ke[2]&&qe.ops.pop(),qe.trys.pop();continue}De=Ne.call(_e,qe)}catch(Pt){De=[6,Pt],ve=0}finally{me=ke=0}if(5&De[0])throw De[1];return{value:De[0]?De[1]:void 0,done:!0}}([Re,ut])}}},J=function(_e){var Ne={anchor:0,cdn:z.g.CDN,customEmoji:{},emojiPath:(_e&&_e.emojiPath||z.g.CDN)+"/dist/images/emoji",hljs:z.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:z.g.MARKDOWN_OPTIONS,math:z.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},theme:z.g.THEME_OPTIONS};return(0,X.T)(Ne,_e)},te=function(_e,Ne){var me=J(Ne);return(0,x.G)(me.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){var ve=(0,$.X)({autoSpace:me.markdown.autoSpace,codeBlockPreview:me.markdown.codeBlockPreview,emojiSite:me.emojiPath,emojis:me.customEmoji,fixTermTypo:me.markdown.fixTermTypo,footnotes:me.markdown.footnotes,headingAnchor:me.anchor!==0,inlineMathDigit:me.math.inlineDigit,lazyLoadImage:me.lazyLoadImage,linkBase:me.markdown.linkBase,linkPrefix:me.markdown.linkPrefix,listStyle:me.markdown.listStyle,mark:me.markdown.mark,mathBlockPreview:me.markdown.mathBlockPreview,paragraphBeginningSpace:me.markdown.paragraphBeginningSpace,sanitize:me.markdown.sanitize,toc:me.markdown.toc});return Ne!=null&&Ne.renderers&&ve.SetJSRenderers({renderers:{Md2HTML:Ne.renderers}}),ve.SetHeadingID(!0),ve.Md2HTML(_e)})},ye=function(_e,Ne,me){return B(void 0,void 0,void 0,function(){var ve,ke,Fe;return Y(this,function(qe){switch(qe.label){case 0:return ve=J(me),[4,te(Ne,ve)];case 1:if(ke=qe.sent(),ve.transform&&(ke=ve.transform(ke)),_e.innerHTML=ke,_e.classList.add("vditor-reset"),ve.i18n)return[3,5];if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(ve.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return Fe="vditorI18nScript"+ve.lang,document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach(function(Re){Re.id!==Fe&&document.head.removeChild(Re)}),[4,(0,x.G)(ve.cdn+"/dist/js/i18n/"+ve.lang+".js",Fe)];case 3:qe.sent(),qe.label=4;case 4:return[3,6];case 5:window.VditorI18n=ve.i18n,qe.label=6;case 6:return ve.icon?[4,(0,x.G)(ve.cdn+"/dist/js/icons/"+ve.icon+".js","vditorIconScript")]:[3,8];case 7:qe.sent(),qe.label=8;case 8:return(0,M.Z)(ve.theme.current,ve.theme.path),ve.anchor===1&&_e.classList.add("vditor-reset--anchor"),(0,A.O)(_e),(0,L.s)(ve.hljs,_e,ve.cdn),(0,E.H)(_e,{cdn:ve.cdn,math:ve.math}),(0,F.i)(_e,ve.cdn,ve.mode),(0,s.K)(_e,ve.cdn,ve.mode),(0,y.P)(_e,ve.cdn),(0,S.v)(_e,ve.cdn),(0,k.p)(_e,ve.cdn,ve.mode),(0,p.P)(_e,ve.cdn,ve.mode),(0,_.B)(_e,ve.cdn),(0,g.Q)(_e,ve.cdn),(0,N.Y)(_e),ve.speech.enable&&I(_e),ve.anchor!==0&&(Ue=ve.anchor,document.querySelectorAll(".vditor-anchor").forEach(function(Re){Ue===1&&Re.classList.add("vditor-anchor--left"),Re.onclick=function(){var ut=Re.getAttribute("href").substr(1),De=document.getElementById("vditorAnchor-"+ut).offsetTop;document.querySelector("html").scrollTop=De}}),window.onhashchange=function(){var Re=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));Re&&(document.querySelector("html").scrollTop=Re.offsetTop)}),ve.after&&ve.after(),ve.lazyLoadImage&&D(_e),_e.addEventListener("click",function(Re){var ut=(0,R.lG)(Re.target,"SPAN");if(ut&&(0,R.fb)(ut,"vditor-toc")){var De=_e.querySelector("#"+ut.getAttribute("data-target-id"));De&&window.scrollTo(window.scrollX,De.offsetTop)}}),[2]}var Ue})})},ie=m(863),ne=m(312);const U=function(){function _e(){}return _e.adapterRender=w,_e.previewImage=ie.E,_e.codeRender=A.O,_e.graphvizRender=S.v,_e.highlightRender=L.s,_e.mathRender=E.H,_e.mermaidRender=F.i,_e.markmapRender=s.K,_e.flowchartRender=y.P,_e.chartRender=k.p,_e.abcRender=g.Q,_e.mindmapRender=p.P,_e.plantumlRender=_.B,_e.outlineRender=c.k,_e.mediaRender=N.Y,_e.speechRender=I,_e.lazyLoadImageRender=D,_e.md2html=te,_e.preview=ye,_e.setCodeTheme=ne.Y,_e.setContentTheme=M.Z,_e}()},54:(W,C,m)=>{m.d(C,{H:()=>g,g:()=>w});var g="3.9.3",w=function(){function k(){}return k.ZWSP="\u200B",k.DROP_EDITOR="application/editor",k.MOBILE_WIDTH=520,k.CLASS_MENU_DISABLED="vditor-menu--disabled",k.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],k.CODE_THEME=["abap","algol","algol_nu","arduino","autumn","borland","bw","colorful","dracula","emacs","friendly","fruity","github","igor","lovelace","manni","monokai","monokailight","murphy","native","paraiso-dark","paraiso-light","pastie","perldoc","pygments","rainbow_dash","rrt","solarized-dark","solarized-dark256","solarized-light","swapoff","tango","trac","vim","vs","xcode","ant-design"],k.CODE_LANGUAGES=["mermaid","echarts","mindmap","plantuml","abc","graphviz","flowchart","apache","js","ts","html","markmap","properties","apache","bash","c","csharp","cpp","css","coffeescript","diff","go","xml","http","json","java","javascript","kotlin","less","lua","makefile","markdown","nginx","objectivec","php","php-template","perl","plaintext","python","python-repl","r","ruby","rust","scss","sql","shell","swift","ini","typescript","vbnet","yaml","ada","clojure","dart","erb","fortran","gradle","haskell","julia","julia-repl","lisp","matlab","pgsql","powershell","sql_more","stata","cmake","mathematica","solidity","yul"],k.CDN="https://unpkg.com/vditor@3.9.3",k.MARKDOWN_OPTIONS={autoSpace:!1,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},k.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},k.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},k.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:k.CDN+"/dist/css/content-theme"},k}()},478:(W,C,m)=>{m.d(C,{Q:()=>A});var g=m(54),w=m(526),k=m(156),A=function(y,S){y===void 0&&(y=document),S===void 0&&(S=g.g.CDN);var L=k.abcRenderAdapter.getElements(y);L.length>0&&(0,w.G)(S+"/dist/js/abcjs/abcjs_basic.min.js","vditorAbcjsScript").then(function(){L.forEach(function(D){D.parentElement.classList.contains("vditor-wysiwyg__pre")||D.parentElement.classList.contains("vditor-ir__marker--pre")||D.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(D,k.abcRenderAdapter.getCode(D).trim()),D.style.overflowX="auto",D.setAttribute("data-processed","true"))})})}},156:(W,C,m)=>{m.r(C),m.d(C,{mathRenderAdapter:()=>g,mermaidRenderAdapter:()=>w,markmapRenderAdapter:()=>k,mindmapRenderAdapter:()=>A,chartRenderAdapter:()=>y,abcRenderAdapter:()=>S,graphvizRenderAdapter:()=>L,flowchartRenderAdapter:()=>D,plantumlRenderAdapter:()=>E});var g={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-math")}},w={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-mermaid")}},k={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-markmap")}},A={getCode:function(N){return N.getAttribute("data-code")},getElements:function(N){return N.querySelectorAll(".language-mindmap")}},y={getCode:function(N){return N.innerText},getElements:function(N){return N.querySelectorAll(".language-echarts")}},S={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-abc")}},L={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-graphviz")}},D={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-flowchart")}},E={getCode:function(N){return N.textContent},getElements:function(N){return N.querySelectorAll(".language-plantuml")}}},314:(W,C,m)=>{m.d(C,{p:()=>A});var g=m(54),w=m(526),k=m(156),A=function(y,S,L){y===void 0&&(y=document),S===void 0&&(S=g.g.CDN);var D=k.chartRenderAdapter.getElements(y);D.length>0&&(0,w.G)(S+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){D.forEach(function(E){if(!E.parentElement.classList.contains("vditor-wysiwyg__pre")&&!E.parentElement.classList.contains("vditor-ir__marker--pre")){var N=k.chartRenderAdapter.getCode(E).trim();if(N)try{if(E.getAttribute("data-processed")==="true")return;var F=JSON.parse(N);echarts.init(E,L==="dark"?"dark":void 0).setOption(F),E.setAttribute("data-processed","true")}catch(s){E.className="vditor-reset--error",E.innerHTML="echarts render error: <br>"+s}}})})}},730:(W,C,m)=>{m.d(C,{O:()=>k});var g=m(51),w=m(54),k=function(A){A.querySelectorAll("pre > code").forEach(function(y,S){var L,D,E;if(!y.parentElement.classList.contains("vditor-wysiwyg__pre")&&!y.parentElement.classList.contains("vditor-ir__marker--pre")&&!(y.classList.contains("language-mermaid")||y.classList.contains("language-flowchart")||y.classList.contains("language-echarts")||y.classList.contains("language-mindmap")||y.classList.contains("language-plantuml")||y.classList.contains("language-markmap")||y.classList.contains("language-abc")||y.classList.contains("language-graphviz")||y.classList.contains("language-math")||y.style.maxHeight.indexOf("px")>-1||A.classList.contains("vditor-preview")&&S>5)){var N=y.innerText;if(y.classList.contains("highlight-chroma")){var F=document.createElement("code");F.innerHTML=y.innerHTML,F.querySelectorAll(".highlight-ln").forEach(function(_){_.remove()}),N=F.innerText}else N.endsWith(`
`)&&(N=N.substr(0,N.length-1));var s='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(s='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var p=document.createElement("div");p.className="vditor-copy",p.innerHTML='<span aria-label="'+(((L=window.VditorI18n)===null||L===void 0?void 0:L.copy)||"\u590D\u5236")+`"
onmouseover="this.setAttribute('aria-label', '`+(((D=window.VditorI18n)===null||D===void 0?void 0:D.copy)||"\u590D\u5236")+`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`+(((E=window.VditorI18n)===null||E===void 0?void 0:E.copied)||"\u5DF2\u590D\u5236")+`')">`+s+"</span>";var c=document.createElement("textarea");c.value=(0,g.X)(N),p.insertAdjacentElement("afterbegin",c),y.before(p),y.style.maxHeight=window.outerHeight-40+"px",y.insertAdjacentHTML("afterend",'<span style="position: absolute">'+w.g.ZWSP+"</span>")}})}},66:(W,C,m)=>{m.d(C,{P:()=>A});var g=m(54),w=m(526),k=m(156),A=function(y,S){S===void 0&&(S=g.g.CDN);var L=k.flowchartRenderAdapter.getElements(y);L.length!==0&&(0,w.G)(S+"/dist/js/flowchart.js/flowchart.min.js","vditorFlowchartScript").then(function(){L.forEach(function(D){if(D.getAttribute("data-processed")!=="true"){var E=flowchart.parse(k.flowchartRenderAdapter.getCode(D));D.innerHTML="",E.drawSVG(D),D.setAttribute("data-processed","true")}})})}},218:(W,C,m)=>{m.d(C,{v:()=>A});var g=m(54),w=m(526),k=m(156),A=function(y,S){S===void 0&&(S=g.g.CDN);var L=k.graphvizRenderAdapter.getElements(y);L.length!==0&&(0,w.G)(S+"/dist/js/graphviz/viz.js","vditorGraphVizScript").then(function(){L.forEach(function(D){var E=k.graphvizRenderAdapter.getCode(D);if(!D.parentElement.classList.contains("vditor-wysiwyg__pre")&&!D.parentElement.classList.contains("vditor-ir__marker--pre")&&D.getAttribute("data-processed")!=="true"&&E.trim()!==""){try{var N=new Blob(["importScripts('"+document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js")+"');"],{type:"application/javascript"}),F=(window.URL||window.webkitURL).createObjectURL(N),s=new Worker(F);new Viz({worker:s}).renderSVGElement(E).then(function(p){D.innerHTML=p.outerHTML}).catch(function(p){D.innerHTML="graphviz render error: <br>"+p,D.className="vditor-reset--error"})}catch(p){console.error("graphviz error",p)}D.setAttribute("data-processed","true")}})})}},702:(W,C,m)=>{m.d(C,{s:()=>A});var g=m(54),w=m(526),k=m(578),A=function(y,S,L){S===void 0&&(S=document),L===void 0&&(L=g.g.CDN);var D=y.style;g.g.CODE_THEME.includes(D)||(D="github");var E=document.getElementById("vditorHljsStyle"),N=L+"/dist/js/highlight.js/styles/"+D+".css";E&&E.href!==N&&E.remove(),(0,k.c)(L+"/dist/js/highlight.js/styles/"+D+".css","vditorHljsStyle"),y.enable!==!1&&S.querySelectorAll("pre > code").length!==0&&(0,w.G)(L+"/dist/js/highlight.js/highlight.pack.js","vditorHljsScript").then(function(){(0,w.G)(L+"/dist/js/highlight.js/solidity.min.js","vditorHljsSolidityScript").then(function(){(0,w.G)(L+"/dist/js/highlight.js/yul.min.js","vditorHljsYulScript").then(function(){S.querySelectorAll("pre > code").forEach(function(F){if(!F.parentElement.classList.contains("vditor-ir__marker--pre")&&!F.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(F.classList.contains("language-mermaid")||F.classList.contains("language-flowchart")||F.classList.contains("language-echarts")||F.classList.contains("language-mindmap")||F.classList.contains("language-plantuml")||F.classList.contains("language-abc")||F.classList.contains("language-graphviz")||F.classList.contains("language-math"))&&(y.defaultLang!==""&&F.className.indexOf("language-")===-1&&F.classList.add("language-"+y.defaultLang),hljs.highlightElement(F),y.lineNumber)){F.classList.add("vditor-linenumber");var s=F.querySelector(".vditor-linenumber__temp");s||((s=document.createElement("div")).className="vditor-linenumber__temp",F.insertAdjacentElement("beforeend",s));var p=getComputedStyle(F).whiteSpace,c=!1;p!=="pre-wrap"&&p!=="pre-line"||(c=!0);var _="",z=F.textContent.split(/\r\n|\r|\n/g);z.pop(),z.map(function(M){var x="";c&&(s.textContent=M||`
`,x=' style="height:'+s.getBoundingClientRect().height+'px"'),_+="<span"+x+"></span>"}),s.style.display="none",_='<span class="vditor-linenumber__rows">'+_+"</span>",F.insertAdjacentHTML("beforeend",_)}})})})})}},563:(W,C,m)=>{m.d(C,{K:()=>S});var g=m(54),w=m(526),k=m(156),A={},y=function(L,D){var E=window.markmap,N=E.Transformer,F=E.Markmap,s=E.deriveOptions,p=(E.globalCSS,new N);L.innerHTML='<svg style="width:100%"></svg>';var c=L.firstChild,_=F.create(c,null),z=function(X,$){var Z=X.transform($),I=Object.keys(Z.features).filter(function(ye){return!A[ye]});I.forEach(function(ye){A[ye]=!0});var B=X.getAssets(I),Y=B.styles,J=B.scripts,te=window.markmap;return Y&&te.loadCSS(Y),J&&te.loadJS(J),Z}(p,D),M=z.root,x=z.frontmatter,R=s(x==null?void 0:x.markmap);_.setData(M,R),_.fit()},S=function(L,D,E){D===void 0&&(D=g.g.CDN);var N=k.markmapRenderAdapter.getElements(L);N.length!==0&&(0,w.G)(D+"/src/js/markmap/markmap.min.js","vditorMermaidScript").then(function(){N.forEach(function(F){var s=k.markmapRenderAdapter.getCode(F);if(F.getAttribute("data-processed")!=="true"&&s.trim()!==""){var p=document.createElement("div");p.className="language-markmap",F.parentNode.appendChild(p),y(p,s),F.parentNode.childNodes[0].nodeName=="CODE"&&F.parentNode.removeChild(F.parentNode.childNodes[0])}})})}},466:(W,C,m)=>{m.d(C,{H:()=>S});var g=m(54),w=m(526),k=m(578),A=m(51),y=m(156),S=function(L,D){var E=y.mathRenderAdapter.getElements(L);if(E.length!==0){var N={cdn:g.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(D&&D.math&&(D.math=Object.assign({},N.math,D.math)),(D=Object.assign({},N,D)).math.engine==="KaTeX")(0,k.c)(D.cdn+"/dist/js/katex/katex.min.css","vditorKatexStyle"),(0,w.G)(D.cdn+"/dist/js/katex/katex.min.js","vditorKatexScript").then(function(){(0,w.G)(D.cdn+"/dist/js/katex/mhchem.min.js","vditorKatexChemScript").then(function(){E.forEach(function(s){if(!s.parentElement.classList.contains("vditor-wysiwyg__pre")&&!s.parentElement.classList.contains("vditor-ir__marker--pre")&&!s.getAttribute("data-math")){var p=(0,A.X)(y.mathRenderAdapter.getCode(s));s.setAttribute("data-math",p);try{s.innerHTML=katex.renderToString(p,{displayMode:s.tagName==="DIV",output:"html"})}catch(c){s.innerHTML=c.message,s.className="language-math vditor-reset--error"}s.addEventListener("copy",function(c){c.stopPropagation(),c.preventDefault();var _=c.currentTarget.closest(".language-math");c.clipboardData.setData("text/html",_.innerHTML),c.clipboardData.setData("text/plain",_.getAttribute("data-math"))})}})})});else if(D.math.engine==="MathJax"){window.MathJax||(window.MathJax={loader:{paths:{mathjax:D.cdn+"/dist/js/mathjax"}},startup:{typeset:!1},tex:{macros:D.math.macros}}),(0,w.J)(D.cdn+"/dist/js/mathjax/tex-svg-full.js","protyleMathJaxScript");var F=function(s,p){var c=(0,A.X)(s.textContent).trim(),_=window.MathJax.getMetricsFor(s);_.display=s.tagName==="DIV",window.MathJax.tex2svgPromise(c,_).then(function(z){s.innerHTML="",s.setAttribute("data-math",c),s.append(z),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var M=z.querySelector('[data-mml-node="merror"]');M&&M.textContent.trim()!==""&&(s.innerHTML=M.textContent.trim(),s.className="vditor-reset--error"),p&&p()})};window.MathJax.startup.promise.then(function(){for(var s=[],p=function(_){var z=E[_];z.parentElement.classList.contains("vditor-wysiwyg__pre")||z.parentElement.classList.contains("vditor-ir__marker--pre")||z.getAttribute("data-math")||!(0,A.X)(z.textContent).trim()||s.push(function(M){_===E.length-1?F(z):F(z,M)})},c=0;c<E.length;c++)p(c);(function(_){if(_.length!==0){var z=0,M=_[_.length-1],x=function(){var R=_[z++];R===M?R():R(x)};x()}})(s)})}}}},554:(W,C,m)=>{m.d(C,{Y:()=>g});var g=function(w){w&&w.querySelectorAll("a").forEach(function(k){var A=k.getAttribute("href");A&&(A.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(y,S){y.insertAdjacentHTML("afterend",'<video controls="controls" src="'+S+'"></video>'),y.remove()}(k,A):A.match(/^.+.(mp3|wav|flac)$/)?function(y,S){y.insertAdjacentHTML("afterend",'<audio controls="controls" src="'+S+'"></audio>'),y.remove()}(k,A):function(y,S){var L=S.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),D=S.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),E=S.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),N=S.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),F=S.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),s=S.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),p=S.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),c=S.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);L&&L[1].length===11?(y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'+L[1]+(L[2]?"?start="+L[2]:"")+'"></iframe>'),y.remove()):D&&D[1]?(y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'+D[1]+'"></iframe>'),y.remove()):E&&E[1]?(y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='+E[1]+'"></iframe>'),y.remove()):N&&N[1]?(y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`+N[1]+'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>'),y.remove()):F&&F[0]?(y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`+encodeURIComponent(F[0])+'"></iframe>'),y.remove()):s&&s[2]?(y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`+s[2]+'"></iframe>'),y.remove()):p&&p[1]?(y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//player.bilibili.com/player.html?bvid=`+p[1]+'"></iframe>'),y.remove()):c&&c[1]&&(y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'+c[1]+'"></iframe>'),y.remove())}(k,A))})}},40:(W,C,m)=>{m.d(C,{i:()=>A});var g=m(54),w=m(526),k=m(156),A=function(y,S,L){S===void 0&&(S=g.g.CDN);var D=k.mermaidRenderAdapter.getElements(y);D.length!==0&&(0,w.G)(S+"/dist/js/mermaid/mermaid.min.js","vditorMermaidScript").then(function(){var E={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8},gantt:{leftPadding:75,rightPadding:20}};L==="dark"&&(E.theme="dark"),mermaid.initialize(E),D.forEach(function(N){var F=k.mermaidRenderAdapter.getCode(N);N.getAttribute("data-processed")!=="true"&&F.trim()!==""&&(mermaid.init(void 0,N),N.setAttribute("data-processed","true"))})})}},749:(W,C,m)=>{m.d(C,{P:()=>A});var g=m(54),w=m(526),k=m(156),A=function(y,S,L){y===void 0&&(y=document),S===void 0&&(S=g.g.CDN);var D=k.mindmapRenderAdapter.getElements(y);D.length>0&&(0,w.G)(S+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){D.forEach(function(E){if(!E.parentElement.classList.contains("vditor-wysiwyg__pre")&&!E.parentElement.classList.contains("vditor-ir__marker--pre")){var N=k.mindmapRenderAdapter.getCode(E);if(N)try{if(E.getAttribute("data-processed")==="true")return;echarts.init(E,L==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(N))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(F,s){var p;return!((p=s==null?void 0:s.data)===null||p===void 0)&&p.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),E.setAttribute("data-processed","true")}catch(F){E.className="vditor-reset--error",E.innerHTML="mindmap render error: <br>"+F}}})})}},818:(W,C,m)=>{m.d(C,{k:()=>k});var g=m(64),w=m(466),k=function(A,y,S){var L="",D=[];if(Array.from(A.children).forEach(function(s,p){if((0,g.W)(s)){if(S){var c=s.id.lastIndexOf("_");s.id=s.id.substring(0,c===-1?void 0:c)+"_"+p}D.push(s.id),L+=s.outerHTML.replace("<wbr>","")}}),L==="")return y.innerHTML="","";var E=document.createElement("div");if(S)S.lute.SetToC(!0),S.currentMode!=="wysiwyg"||S.preview.element.contains(A)?S.currentMode!=="ir"||S.preview.element.contains(A)?E.innerHTML=S.lute.HTML2VditorDOM("<p>[ToC]</p>"+L):E.innerHTML=S.lute.SpinVditorIRDOM("<p>[ToC]</p>"+L):E.innerHTML=S.lute.SpinVditorDOM("<p>[ToC]</p>"+L),S.lute.SetToC(S.options.preview.markdown.toc);else{y.classList.add("vditor-outline");var N=Lute.New();N.SetToC(!0),E.innerHTML=N.HTML2VditorDOM("<p>[ToC]</p>"+L)}var F=E.firstElementChild.querySelectorAll("li > span[data-target-id]");return F.forEach(function(s,p){if(s.nextElementSibling&&s.nextElementSibling.tagName==="UL"){var c="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(c='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),s.innerHTML=c+"<span>"+s.innerHTML+"</span>"}else s.innerHTML="<svg></svg><span>"+s.innerHTML+"</span>";s.setAttribute("data-target-id",D[p])}),L=E.firstElementChild.innerHTML,F.length===0?(y.innerHTML="",L):(y.innerHTML=L,S&&(0,w.H)(y,{cdn:S.options.cdn,math:S.options.preview.math}),y.firstElementChild.addEventListener("click",function(s){for(var p=s.target;p&&!p.isEqualNode(y);){if(p.classList.contains("vditor-outline__action")){p.classList.contains("vditor-outline__action--close")?(p.classList.remove("vditor-outline__action--close"),p.parentElement.nextElementSibling.setAttribute("style","display:block")):(p.classList.add("vditor-outline__action--close"),p.parentElement.nextElementSibling.setAttribute("style","display:none")),s.preventDefault(),s.stopPropagation();break}if(p.getAttribute("data-target-id")){s.preventDefault(),s.stopPropagation();var c=document.getElementById(p.getAttribute("data-target-id"));if(!c)return;if(S)if(S.options.height==="auto"){var _=c.offsetTop+S.element.offsetTop;S.options.toolbarConfig.pin||(_+=S.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,_)}else S.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,S.element.offsetTop),S.preview.element.contains(A)?A.parentElement.scrollTop=c.offsetTop:A.scrollTop=c.offsetTop;else window.scrollTo(window.scrollX,c.offsetTop);break}p=p.parentElement}}),L)}},408:(W,C,m)=>{m.d(C,{B:()=>A});var g=m(54),w=m(526),k=m(156),A=function(y,S){y===void 0&&(y=document),S===void 0&&(S=g.g.CDN);var L=k.plantumlRenderAdapter.getElements(y);L.length!==0&&(0,w.G)(S+"/dist/js/plantuml/plantuml-encoder.min.js","vditorPlantumlScript").then(function(){L.forEach(function(D){if(!D.parentElement.classList.contains("vditor-wysiwyg__pre")&&!D.parentElement.classList.contains("vditor-ir__marker--pre")){var E=k.plantumlRenderAdapter.getCode(D).trim();if(E)try{D.innerHTML='<img src="http://www.plantuml.com/plantuml/svg/~1'+plantumlEncoder.encode(E)+'">'}catch(N){D.className="vditor-reset--error",D.innerHTML="plantuml render error: <br>"+N}}})})}},895:(W,C,m)=>{m.d(C,{X:()=>g});var g=function(w){var k=Lute.New();return k.PutEmojis(w.emojis),k.SetEmojiSite(w.emojiSite),k.SetHeadingAnchor(w.headingAnchor),k.SetInlineMathAllowDigitAfterOpenMarker(w.inlineMathDigit),k.SetAutoSpace(w.autoSpace),k.SetToC(w.toc),k.SetFootnotes(w.footnotes),k.SetFixTermTypo(w.fixTermTypo),k.SetVditorCodeBlockPreview(w.codeBlockPreview),k.SetVditorMathBlockPreview(w.mathBlockPreview),k.SetSanitize(w.sanitize),k.SetChineseParagraphBeginningSpace(w.paragraphBeginningSpace),k.SetRenderListStyle(w.listStyle),k.SetLinkBase(w.linkBase),k.SetLinkPrefix(w.linkPrefix),k.SetMark(w.mark),w.lazyLoadImage&&k.SetImageLazyLoading(w.lazyLoadImage),k}},863:(W,C,m)=>{m.d(C,{E:()=>g});var g=function(w,k,A){A===void 0&&(A="classic");var y=w.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'+(A==="dark"?" vditor--dark":"")+`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `+window.VditorI18n.spin+`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`+window.VditorI18n.close+`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `+w.width+"px;height:"+w.height+"px;transform: translate3d("+y.left+"px, "+(y.top-36)+'px, 0)" src="'+w.getAttribute("src")+`">
    </div>
</div>`),document.body.style.overflow="hidden";var S=document.querySelector(".vditor-img img"),L="translate3d("+Math.max(0,window.innerWidth-w.naturalWidth)/2+"px, "+Math.max(0,window.innerHeight-36-w.naturalHeight)/2+"px, 0)";setTimeout(function(){S.setAttribute("style","transition: transform .3s ease-in-out;transform: "+L),setTimeout(function(){S.parentElement.scrollTo((S.parentElement.scrollWidth-S.parentElement.clientWidth)/2,(S.parentElement.scrollHeight-S.parentElement.clientHeight)/2)},400)});var D=document.querySelector(".vditor-img__btn");D.addEventListener("click",function(){var E=parseInt(D.getAttribute("data-deg"),10)+90;E/90%2==1&&w.naturalWidth>S.parentElement.clientHeight?S.style.transform="translate3d("+Math.max(0,window.innerWidth-w.naturalWidth)/2+"px, "+(w.naturalWidth/2-w.naturalHeight/2)+"px, 0) rotateZ("+E+"deg)":S.style.transform=L+" rotateZ("+E+"deg)",D.setAttribute("data-deg",E.toString()),setTimeout(function(){S.parentElement.scrollTo((S.parentElement.scrollWidth-S.parentElement.clientWidth)/2,(S.parentElement.scrollHeight-S.parentElement.clientHeight)/2)},400)})}},312:(W,C,m)=>{m.d(C,{Y:()=>k});var g=m(54),w=m(578),k=function(A,y){y===void 0&&(y=g.g.CDN),g.g.CODE_THEME.includes(A)||(A="github");var S=document.getElementById("vditorHljsStyle"),L=y+"/dist/js/highlight.js/styles/"+A+".css";S?S.href!==L&&(S.remove(),(0,w.c)(L,"vditorHljsStyle")):(0,w.c)(L,"vditorHljsStyle")}},227:(W,C,m)=>{m.d(C,{Z:()=>w});var g=m(578),w=function(k,A){if(k&&A){var y=document.getElementById("vditorContentTheme"),S=A+"/"+k+".css";y?y.getAttribute("href")!==S&&(y.remove(),(0,g.c)(S,"vditorContentTheme")):(0,g.c)(S,"vditorContentTheme")}}},526:(W,C,m)=>{m.d(C,{J:()=>g,G:()=>w});var g=function(k,A){if(document.getElementById(A))return!1;var y=new XMLHttpRequest;y.open("GET",k,!1),y.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),y.send("");var S=document.createElement("script");S.type="text/javascript",S.text=y.responseText,S.id=A,document.head.appendChild(S)},w=function(k,A){return new Promise(function(y,S){if(document.getElementById(A))return y(),!1;var L=document.createElement("script");L.src=k,L.async=!0,document.head.appendChild(L),L.onload=function(){if(document.getElementById(A))return L.remove(),y(),!1;L.id=A,y()}})}},578:(W,C,m)=>{m.d(C,{c:()=>g});var g=function(w,k){if(!document.getElementById(k)){var A=document.createElement("link");A.id=k,A.rel="stylesheet",A.type="text/css",A.href=w,document.getElementsByTagName("head")[0].appendChild(A)}}},51:(W,C,m)=>{m.d(C,{X:()=>g});var g=function(w){return w.replace(/\u00a0/g," ")}},794:(W,C,m)=>{m.d(C,{G6:()=>g,vU:()=>w,pK:()=>k,Le:()=>A,yl:()=>y,ns:()=>S,i7:()=>L});var g=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},w=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},k=function(){try{return typeof localStorage!="undefined"}catch(D){return!1}},A=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},y=function(D){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!(!D.metaKey||D.ctrlKey):!(D.metaKey||!D.ctrlKey)},S=function(D){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?D.indexOf("\u21E7")>-1&&w()&&(D=D.replace(";",":").replace("=","+").replace("-","_")):(D=(D=D.startsWith("\u2318")?D.replace("\u2318","\u2318+"):D.startsWith("\u2325")&&D.substr(1,1)!=="\u2318"?D.replace("\u2325","\u2325+"):D.replace("\u21E7\u2318","\u2318+\u21E7+").replace("\u2325\u2318","\u2325+\u2318+")).replace("\u2318","Ctrl").replace("\u21E7","Shift").replace("\u2325","Alt")).indexOf("Shift")>-1&&(D=D.replace(";",":").replace("=","+").replace("-","_")),D},L=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},827:(W,C,m)=>{m.d(C,{JQ:()=>w,E2:()=>k,O9:()=>A,a1:()=>y,F9:()=>S,lG:()=>L,fb:()=>D,DX:()=>E});var g=m(64),w=function(N,F){for(var s=D(N,F),p=!1,c=!1;s&&!s.classList.contains("vditor-reset")&&!c;)(p=D(s.parentElement,F))?s=p:c=!0;return s||!1},k=function(N,F){for(var s=(0,g.S)(N,F),p=!1,c=!1;s&&!s.classList.contains("vditor-reset")&&!c;)(p=(0,g.S)(s.parentElement,F))?s=p:c=!0;return s||!1},A=function(N){var F=k(N,"UL"),s=k(N,"OL"),p=F;return s&&(!F||F&&s.contains(F))&&(p=s),p},y=function(N,F,s){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var p=N,c=!1;p&&!c&&!p.classList.contains("vditor-reset");)p.getAttribute(F)===s?c=!0:p=p.parentElement;return c&&p},S=function(N){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);var F=N,s=!1,p=y(N,"data-block","0");if(p)return p;for(;F&&!s&&!F.classList.contains("vditor-reset");)F.tagName==="H1"||F.tagName==="H2"||F.tagName==="H3"||F.tagName==="H4"||F.tagName==="H5"||F.tagName==="H6"||F.tagName==="P"||F.tagName==="BLOCKQUOTE"||F.tagName==="OL"||F.tagName==="UL"?s=!0:F=F.parentElement;return s&&F},L=function(N,F){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var s=N,p=!1;s&&!p&&!s.classList.contains("vditor-reset");)s.nodeName===F?p=!0:s=s.parentElement;return p&&s},D=function(N,F){if(!N)return!1;N.nodeType===3&&(N=N.parentElement);for(var s=N,p=!1;s&&!p&&!s.classList.contains("vditor-reset");)s.classList.contains(F)?p=!0:s=s.parentElement;return p&&s},E=function(N){for(;N&&N.lastChild;)N=N.lastChild;return N}},64:(W,C,m)=>{m.d(C,{S:()=>g,W:()=>w});var g=function(k,A){if(!k)return!1;k.nodeType===3&&(k=k.parentElement);for(var y=k,S=!1;y&&!S&&!y.classList.contains("vditor-reset");)y.nodeName.indexOf(A)===0?S=!0:y=y.parentElement;return S&&y},w=function(k){var A=g(k,"H");return!(!A||A.tagName.length!==2||A.tagName==="HR")&&A}},640:(W,C,m)=>{m.d(C,{T:()=>g});var g=function(){for(var w=[],k=0;k<arguments.length;k++)w[k]=arguments[k];for(var A={},y=function(L){for(var D in L)L.hasOwnProperty(D)&&(Object.prototype.toString.call(L[D])==="[object Object]"?A[D]=g(A[D],L[D]):A[D]=L[D])},S=0;S<w.length;S++)y(w[S]);return A}},393:(W,C,m)=>{m.d(C,{zh:()=>A,Ny:()=>y,Gb:()=>S,Hc:()=>L,im:()=>D,$j:()=>E,ib:()=>N,oC:()=>F});var g=m(54),w=m(794),k=m(827),A=function(s){var p,c=s[s.currentMode].element;return getSelection().rangeCount>0&&(p=getSelection().getRangeAt(0),c.isEqualNode(p.startContainer)||c.contains(p.startContainer))?p:s[s.currentMode].range?s[s.currentMode].range:(c.focus(),(p=c.ownerDocument.createRange()).setStart(c,0),p.collapse(!0),p)},y=function(s){var p=window.getSelection().getRangeAt(0);if(!s.contains(p.startContainer)&&!(0,k.fb)(p.startContainer,"vditor-panel--none"))return{left:0,top:0};var c,_=s.parentElement.getBoundingClientRect();if(p.getClientRects().length===0)if(p.startContainer.nodeType===3){var z=p.startContainer.parentElement;if(!(z&&z.getClientRects().length>0))return{left:0,top:0};c=z.getClientRects()[0]}else{var M=p.startContainer.children;if(M[p.startOffset]&&M[p.startOffset].getClientRects().length>0)c=M[p.startOffset].getClientRects()[0];else if(p.startContainer.childNodes.length>0){var x=p.cloneRange();p.selectNode(p.startContainer.childNodes[Math.max(0,p.startOffset-1)]),c=p.getClientRects()[0],p.setEnd(x.endContainer,x.endOffset),p.setStart(x.startContainer,x.startOffset)}else c=p.startContainer.getClientRects()[0];if(!c){for(var R=p.startContainer.childNodes[p.startOffset];!R.getClientRects||R.getClientRects&&R.getClientRects().length===0;)R=R.parentElement;c=R.getClientRects()[0]}}else c=p.getClientRects()[0];return{left:c.left-_.left,top:c.top-_.top}},S=function(s,p){if(!p){if(getSelection().rangeCount===0)return!1;p=getSelection().getRangeAt(0)}var c=p.commonAncestorContainer;return s.isEqualNode(c)||s.contains(c)},L=function(s){var p=window.getSelection();p.removeAllRanges(),p.addRange(s)},D=function(s,p,c){var _={end:0,start:0};if(!c){if(getSelection().rangeCount===0)return _;c=window.getSelection().getRangeAt(0)}if(S(p,c)){var z=c.cloneRange();s.childNodes[0]&&s.childNodes[0].childNodes[0]?z.setStart(s.childNodes[0].childNodes[0],0):z.selectNodeContents(s),z.setEnd(c.startContainer,c.startOffset),_.start=z.toString().length,_.end=_.start+c.toString().length}return _},E=function(s,p,c){var _=0,z=0,M=c.childNodes[z],x=!1,R=!1;s=Math.max(0,s),p=Math.max(0,p);var X=c.ownerDocument.createRange();for(X.setStart(M||c,0),X.collapse(!0);!R&&M;){var $=_+M.textContent.length;if(!x&&s>=_&&s<=$&&(s===0?X.setStart(M,0):M.childNodes[0].nodeType===3?X.setStart(M.childNodes[0],s-_):M.nextSibling?X.setStartBefore(M.nextSibling):X.setStartAfter(M),x=!0,s===p)){R=!0;break}x&&p>=_&&p<=$&&(p===0?X.setEnd(M,0):M.childNodes[0].nodeType===3?X.setEnd(M.childNodes[0],p-_):M.nextSibling?X.setEndBefore(M.nextSibling):X.setEndAfter(M),R=!0),_=$,M=c.childNodes[++z]}return!R&&c.childNodes[z-1]&&X.setStartBefore(c.childNodes[z-1]),L(X),X},N=function(s,p){var c=s.querySelector("wbr");if(c){if(c.previousElementSibling)if(c.previousElementSibling.isSameNode(c.previousSibling)){if(c.previousElementSibling.lastChild)return p.setStartBefore(c),p.collapse(!0),L(p),!(0,w.i7)()||c.previousElementSibling.tagName!=="EM"&&c.previousElementSibling.tagName!=="STRONG"&&c.previousElementSibling.tagName!=="S"||(p.insertNode(document.createTextNode(g.g.ZWSP)),p.collapse(!1)),void c.remove();p.setStartAfter(c.previousElementSibling)}else p.setStart(c.previousSibling,c.previousSibling.textContent.length);else c.previousSibling?p.setStart(c.previousSibling,c.previousSibling.textContent.length):c.nextSibling?c.nextSibling.nodeType===3?p.setStart(c.nextSibling,0):p.setStartBefore(c.nextSibling):p.setStart(c.parentElement,0);p.collapse(!0),c.remove(),L(p)}},F=function(s,p){var c=document.createElement("div");c.innerHTML=s;var _=c.querySelectorAll("p");_.length===1&&!_[0].previousSibling&&!_[0].nextSibling&&p[p.currentMode].element.children.length>0&&c.firstElementChild.tagName==="P"&&(s=_[0].innerHTML.trim());var z=document.createElement("div");z.innerHTML=s;var M=A(p);if(M.toString()!==""&&(p[p.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),z.firstElementChild&&z.firstElementChild.getAttribute("data-block")==="0"){z.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var x=(0,k.F9)(M.startContainer);x?x.insertAdjacentHTML("afterend",z.innerHTML):p[p.currentMode].element.insertAdjacentHTML("beforeend",z.innerHTML),N(p[p.currentMode].element,M)}else{var R=document.createElement("template");R.innerHTML=s,M.insertNode(R.content.cloneNode(!0)),M.collapse(!1),L(M)}}}},O={};function K(W){var C=O[W];if(C!==void 0)return C.exports;var m=O[W]={exports:{}};return H[W](m,m.exports,K),m.exports}K.d=(W,C)=>{for(var m in C)K.o(C,m)&&!K.o(W,m)&&Object.defineProperty(W,m,{enumerable:!0,get:C[m]})},K.o=(W,C)=>Object.prototype.hasOwnProperty.call(W,C),K.r=W=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})};var ae={};return(()=>{K.d(ae,{default:()=>ia});var W,C=K(872),m=K(54),g=K(51),w=function(i){return i.currentMode==="sv"?(0,g.X)((i.sv.element.textContent+`
`).replace(/\n\n$/,`
`)):i.currentMode==="wysiwyg"?i.lute.VditorDOM2Md(i.wysiwyg.element.innerHTML):i.currentMode==="ir"?i.lute.VditorIRDOM2Md(i.ir.element.innerHTML):""},k=K(526),A=function(){function i(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return i.prototype.renderEchart=function(o){var l=this;o.devtools.element.style.display==="block"&&(0,k.G)(o.options.cdn+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then(function(){l.ASTChart||(l.ASTChart=echarts.init(o.devtools.element.lastElementChild));try{l.element.lastElementChild.style.display="block",l.element.firstElementChild.innerHTML="",l.ASTChart.setOption({series:[{data:JSON.parse(o.lute.RenderEChartsJSON(w(o))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),l.ASTChart.resize()}catch(d){l.element.lastElementChild.style.display="none",l.element.firstElementChild.innerHTML=d}})},i}(),y=K(794),S=function(i,o){o.forEach(function(l){if(i[l]){var d=i[l].children[0];d&&d.classList.contains("vditor-menu--current")&&d.classList.remove("vditor-menu--current")}})},L=function(i,o){o.forEach(function(l){if(i[l]){var d=i[l].children[0];d&&!d.classList.contains("vditor-menu--current")&&d.classList.add("vditor-menu--current")}})},D=function(i,o){o.forEach(function(l){if(i[l]){var d=i[l].children[0];d&&d.classList.contains(m.g.CLASS_MENU_DISABLED)&&d.classList.remove(m.g.CLASS_MENU_DISABLED)}})},E=function(i,o){o.forEach(function(l){if(i[l]){var d=i[l].children[0];d&&!d.classList.contains(m.g.CLASS_MENU_DISABLED)&&d.classList.add(m.g.CLASS_MENU_DISABLED)}})},N=function(i,o){o.forEach(function(l){i[l]&&i[l]&&(i[l].style.display="none")})},F=function(i,o){o.forEach(function(l){i[l]&&i[l]&&(i[l].style.display="block")})},s=function(i,o,l){o.includes("subToolbar")&&(i.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(d){l&&d.isEqualNode(l)||(d.style.display="none")}),i.toolbar.elements.emoji&&(i.toolbar.elements.emoji.lastElementChild.style.display="none")),o.includes("hint")&&(i.hint.element.style.display="none"),i.wysiwyg.popover&&o.includes("popover")&&(i.wysiwyg.popover.style.display="none")},p=function(i,o,l,d){l.addEventListener((0,y.Le)(),function(u){u.preventDefault(),u.stopPropagation(),l.classList.contains(m.g.CLASS_MENU_DISABLED)||(i.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(h){h.classList.remove("vditor-hint--current")}),o.style.display==="block"?o.style.display="none":(s(i,["subToolbar","hint","popover"],l.parentElement.parentElement),l.classList.contains("vditor-tooltipped")||l.classList.add("vditor-hint--current"),o.style.display="block",i.toolbar.element.getBoundingClientRect().right-l.getBoundingClientRect().right<250?o.classList.add("vditor-panel--left"):o.classList.remove("vditor-panel--left")))})},c=K(827),_=K(64),z=function(i,o,l,d){d&&console.log(i+" - "+l+": "+o)},M=K(478),x=K(314),R=K(730),X=K(66),$=K(218),Z=K(702),I=K(466),B=K(40),Y=K(563),J=K(749),te=K(408),ye=function(i,o){if(i)if(i.parentElement.getAttribute("data-type")!=="html-block"){var l=i.firstElementChild.className.replace("language-","");l==="abc"?(0,M.Q)(i,o.options.cdn):l==="mermaid"?(0,B.i)(i,o.options.cdn,o.options.theme):l==="markmap"?(0,Y.K)(i,o.options.cdn,o.options.theme):l==="flowchart"?(0,X.P)(i,o.options.cdn):l==="echarts"?(0,x.p)(i,o.options.cdn,o.options.theme):l==="mindmap"?(0,J.P)(i,o.options.cdn,o.options.theme):l==="plantuml"?(0,te.B)(i,o.options.cdn):l==="graphviz"?(0,$.v)(i,o.options.cdn):l==="math"?(0,I.H)(i,{cdn:o.options.cdn,math:o.options.preview.math}):((0,Z.s)(Object.assign({},o.options.preview.hljs),i,o.options.cdn),(0,R.O)(i)),i.setAttribute("data-render","1")}else i.setAttribute("data-render","1")},ie=K(393),ne=function(i){if(i.currentMode!=="sv"){var o=i[i.currentMode].element,l=i.outline.render(i);l===""&&(l="[ToC]"),o.querySelectorAll('[data-type="toc-block"]').forEach(function(d){d.innerHTML=l,(0,I.H)(d,{cdn:i.options.cdn,math:i.options.preview.math})})}},U=function(i,o){var l=(0,c.lG)(i.target,"SPAN");if(l&&(0,c.fb)(l,"vditor-toc")){var d=o[o.currentMode].element.querySelector("#"+l.getAttribute("data-target-id"));if(d)if(o.options.height==="auto"){var u=d.offsetTop+o.element.offsetTop;o.options.toolbarConfig.pin||(u+=o.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,u)}else o.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,o.element.offsetTop),o[o.currentMode].element.scrollTop=d.offsetTop}},_e=function(i,o,l,d){if(i.previousElementSibling&&i.previousElementSibling.classList.contains("vditor-toc")){if(l.key==="Backspace"&&(0,ie.im)(i,o[o.currentMode].element,d).start===0)return i.previousElementSibling.remove(),ft(o),!0;if(Tn(o,l,d,i,i.previousElementSibling))return!0}if(i.nextElementSibling&&i.nextElementSibling.classList.contains("vditor-toc")){if(l.key==="Delete"&&(0,ie.im)(i,o[o.currentMode].element,d).start>=i.textContent.trimRight().length)return i.nextElementSibling.remove(),ft(o),!0;if(Ht(o,l,d,i,i.nextElementSibling))return!0}if(l.key==="Backspace"||l.key==="Delete"){var u=(0,c.fb)(d.startContainer,"vditor-toc");if(u)return u.remove(),ft(o),!0}},Ne=function(i,o,l,d){l===void 0&&(l=!1);var u=(0,c.F9)(o.startContainer);if(u&&!l&&u.getAttribute("data-type")!=="code-block"){if(kt(u.innerHTML)&&u.previousElementSibling||Ot(u.innerHTML))return;for(var h=(0,ie.im)(u,i.ir.element,o).start,P=!0,G=h-1;G>u.textContent.substr(0,h).lastIndexOf(`
`);G--)if(u.textContent.charAt(G)!==" "&&u.textContent.charAt(G)!=="	"){P=!1;break}h===0&&(P=!1);var re=!0;for(G=h-1;G<u.textContent.length;G++)if(u.textContent.charAt(G)!==" "&&u.textContent.charAt(G)!==`
`){re=!1;break}if(P)return void(typeof i.options.input=="function"&&i.options.input(w(i)));if(re&&!(0,c.fb)(o.startContainer,"vditor-ir__marker")){var ee=o.startContainer.previousSibling;return ee&&ee.nodeType!==3&&ee.classList.contains("vditor-ir__node--expand")&&ee.classList.remove("vditor-ir__node--expand"),void(typeof i.options.input=="function"&&i.options.input(w(i)))}}if(i.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(dt){dt.classList.remove("vditor-ir__node--expand")}),u||(u=i.ir.element),!u.querySelector("wbr")){var Q=(0,c.fb)(o.startContainer,"vditor-ir__preview");Q?Q.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):o.insertNode(document.createElement("wbr"))}u.querySelectorAll("[style]").forEach(function(dt){dt.removeAttribute("style")}),u.getAttribute("data-type")==="link-ref-defs-block"&&(u=i.ir.element);var Se,je=u.isEqualNode(i.ir.element),Ke=(0,c.a1)(u,"data-type","footnotes-block"),xe="";if(je)xe=u.innerHTML;else{var He=(0,_.S)(o.startContainer,"BLOCKQUOTE"),nt=(0,c.O9)(o.startContainer);if(nt&&(u=nt),He&&(!nt||nt&&!He.contains(nt))&&(u=He),Ke&&(u=Ke),xe=u.outerHTML,u.tagName==="UL"||u.tagName==="OL"){var $e=u.previousElementSibling,Qe=u.nextElementSibling;!$e||$e.tagName!=="UL"&&$e.tagName!=="OL"||(xe=$e.outerHTML+xe,$e.remove()),!Qe||Qe.tagName!=="UL"&&Qe.tagName!=="OL"||(xe+=Qe.outerHTML,Qe.remove()),xe=xe.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else u.previousElementSibling&&u.previousElementSibling.textContent.replace(m.g.ZWSP,"")!==""&&d&&d.inputType==="insertParagraph"&&(xe=u.previousElementSibling.outerHTML+xe,u.previousElementSibling.remove());u.innerText.startsWith("```")||(i.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(dt){dt&&!u.isEqualNode(dt)&&(xe+=dt.outerHTML,dt.remove())}),i.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(dt){dt&&!u.isEqualNode(dt)&&(xe+=dt.outerHTML,dt.remove())}))}if(z("SpinVditorIRDOM",xe,"argument",i.options.debugger),xe=i.lute.SpinVditorIRDOM(xe),z("SpinVditorIRDOM",xe,"result",i.options.debugger),je)u.innerHTML=xe;else if(u.outerHTML=xe,Ke){var Je=(0,c.a1)(i.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(Je){var Le=Je.textContent,rt=Le.substring(1,Le.indexOf("]:")),wt=i.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+rt+'"]');wt&&wt.setAttribute("aria-label",Le.substr(rt.length+3).trim().substr(0,24))}}var gt,mt=i.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");mt.forEach(function(dt,Et){Et===0?Se=dt:(Se.insertAdjacentHTML("beforeend",dt.innerHTML),dt.remove())}),mt.length>0&&i.ir.element.insertAdjacentElement("beforeend",mt[0]);var bt=i.ir.element.querySelectorAll("[data-type='footnotes-block']");bt.forEach(function(dt,Et){Et===0?gt=dt:(gt.insertAdjacentHTML("beforeend",dt.innerHTML),dt.remove())}),bt.length>0&&i.ir.element.insertAdjacentElement("beforeend",bt[0]),(0,ie.ib)(i.ir.element,o),i.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(dt){ye(dt,i)}),ne(i),gr(i,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},me=function(i,o){if(i==="")return!1;if(i.indexOf("\u21E7")===-1&&i.indexOf("\u2318")===-1&&i.indexOf("\u2325")===-1)return!((0,y.yl)(o)||o.altKey||o.shiftKey||o.code!==i);if(i==="\u21E7Tab")return!((0,y.yl)(o)||o.altKey||!o.shiftKey||o.code!=="Tab");var l=i.split("");if(i.startsWith("\u2325")){var d=l.length===3?l[2]:l[1];return!((l.length===3?!(0,y.yl)(o):(0,y.yl)(o))||!o.altKey||o.shiftKey||o.code!==(/^[0-9]$/.test(d)?"Digit":"Key")+d)}i==="\u2318Enter"&&(l=["\u2318","Enter"]);var u=l.length>2&&l[0]==="\u21E7",h=u?l[2]:l[1];return!u||!(0,y.vU)()&&/Mac/.test(navigator.platform)||(h==="-"?h="_":h==="="&&(h="+")),!(!(0,y.yl)(o)||o.key.toLowerCase()!==h.toLowerCase()||o.altKey||!(!u&&!o.shiftKey||u&&o.shiftKey))},ve=function(i,o){o.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(P){P.classList.remove("vditor-ir__node--expand")});var l=(0,c.JQ)(i.startContainer,"vditor-ir__node"),d=!i.collapsed&&(0,c.JQ)(i.endContainer,"vditor-ir__node");if(i.collapsed||l&&l===d){l&&(l.classList.add("vditor-ir__node--expand"),l.classList.remove("vditor-ir__node--hidden"),(0,ie.Hc)(i));var u=function(P){var G=P.startContainer;if(G.nodeType===3&&G.nodeValue.length!==P.startOffset)return!1;for(var re=G.nextSibling;re&&re.textContent==="";)re=re.nextSibling;if(!re){var ee=(0,c.fb)(G,"vditor-ir__marker");if(ee&&!ee.nextSibling){var Q=G.parentElement.parentElement.nextSibling;if(Q&&Q.nodeType!==3&&Q.classList.contains("vditor-ir__node"))return Q}return!1}return!(!re||re.nodeType===3||!re.classList.contains("vditor-ir__node")||re.getAttribute("data-block"))&&re}(i);if(u)return u.classList.add("vditor-ir__node--expand"),void u.classList.remove("vditor-ir__node--hidden");var h=function(P){var G=P.startContainer,re=G.previousSibling;return!(G.nodeType!==3||P.startOffset!==0||!re||re.nodeType===3||!re.classList.contains("vditor-ir__node")||re.getAttribute("data-block"))&&re}(i);return h?(h.classList.add("vditor-ir__node--expand"),void h.classList.remove("vditor-ir__node--hidden")):void 0}},ke=K(863),Fe=function(i,o){var l,d=getSelection().getRangeAt(0).cloneRange(),u=d.startContainer;d.startContainer.nodeType!==3&&d.startContainer.tagName==="DIV"&&(u=d.startContainer.childNodes[d.startOffset-1]);var h=(0,c.a1)(u,"data-block","0");if(h&&o&&(o.inputType==="deleteContentBackward"||o.data===" ")){for(var P=(0,ie.im)(h,i.sv.element,d).start,G=!0,re=P-1;re>h.textContent.substr(0,P).lastIndexOf(`
`);re--)if(h.textContent.charAt(re)!==" "&&h.textContent.charAt(re)!=="	"){G=!1;break}if(P===0&&(G=!1),G)return void $t(i);if(o.inputType==="deleteContentBackward"){var ee=(0,c.a1)(u,"data-type","code-block-open-marker")||(0,c.a1)(u,"data-type","code-block-close-marker");if(ee){var Q;if(ee.getAttribute("data-type")==="code-block-close-marker"&&(Q=fr(u,"code-block-open-marker"))||ee.getAttribute("data-type")==="code-block-open-marker"&&(Q=fr(u,"code-block-close-marker",!1)))return Q.textContent=ee.textContent,void $t(i)}var Se=(0,c.a1)(u,"data-type","math-block-open-marker");if(Se){var je=Se.nextElementSibling.nextElementSibling;return void(je&&je.getAttribute("data-type")==="math-block-close-marker"&&(je.remove(),$t(i)))}h.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(Le){Le.textContent.length===1&&Le.remove()}),h.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(Le){Le.textContent.length===1&&Le.remove()});var Ke=(0,c.a1)(u,"data-type","heading-marker");if(Ke&&Ke.textContent.indexOf("#")===-1)return void $t(i)}if((o.data===" "||o.inputType==="deleteContentBackward")&&((0,c.a1)(u,"data-type","padding")||(0,c.a1)(u,"data-type","li-marker")||(0,c.a1)(u,"data-type","task-marker")||(0,c.a1)(u,"data-type","blockquote-marker")))return void $t(i)}if(h&&h.textContent.trimRight()==="$$")$t(i);else{h||(h=i.sv.element),((l=h.firstElementChild)===null||l===void 0?void 0:l.getAttribute("data-type"))==="link-ref-defs-block"&&(h=i.sv.element),(0,c.a1)(u,"data-type","footnotes-link")&&(h=i.sv.element),h.textContent.indexOf(Lute.Caret)===-1&&d.insertNode(document.createTextNode(Lute.Caret)),h.querySelectorAll("[style]").forEach(function(Le){Le.removeAttribute("style")}),h.querySelectorAll("font").forEach(function(Le){Le.outerHTML=Le.innerHTML});var xe,He=h.textContent,nt=h.isEqualNode(i.sv.element);nt?He=h.textContent:(h.previousElementSibling&&(He=h.previousElementSibling.textContent+He,h.previousElementSibling.remove()),h.previousElementSibling&&He.indexOf(`---
`)===0&&(He=h.previousElementSibling.textContent+He,h.previousElementSibling.remove()),h.innerText.startsWith("```")||(i.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(Le,rt){rt===0&&Le&&!h.isEqualNode(Le.parentElement)&&(He+=`
`+Le.parentElement.textContent,Le.parentElement.remove())}),i.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(Le,rt){rt===0&&Le&&!h.isEqualNode(Le.parentElement)&&(He+=`
`+Le.parentElement.textContent,Le.parentElement.remove())}))),He=ii(He,i),nt?h.innerHTML=He:h.outerHTML=He;var $e,Qe=i.sv.element.querySelectorAll("[data-type='link-ref-defs-block']");Qe.forEach(function(Le,rt){rt===0?xe=Le.parentElement:(xe.lastElementChild.remove(),xe.insertAdjacentHTML("beforeend",""+Le.parentElement.innerHTML),Le.parentElement.remove())}),Qe.length>0&&i.sv.element.insertAdjacentElement("beforeend",xe);var Je=i.sv.element.querySelectorAll("[data-type='footnotes-link']");Je.forEach(function(Le,rt){rt===0?$e=Le.parentElement:($e.lastElementChild.remove(),$e.insertAdjacentHTML("beforeend",""+Le.parentElement.innerHTML),Le.parentElement.remove())}),Je.length>0&&i.sv.element.insertAdjacentElement("beforeend",$e),(0,ie.ib)(i.sv.element,d),Xt(i),$t(i,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})}},qe=K(227),Ue=function(i){i.options.theme==="dark"?i.element.classList.add("vditor--dark"):i.element.classList.remove("vditor--dark")},Re=function(i){var o=window.innerWidth<=m.g.MOBILE_WIDTH?10:35;if(i.wysiwyg.element.parentElement.style.display!=="none"){var l=(i.wysiwyg.element.parentElement.clientWidth-i.options.preview.maxWidth)/2;i.wysiwyg.element.style.padding="10px "+Math.max(o,l)+"px"}i.ir.element.parentElement.style.display!=="none"&&(l=(i.ir.element.parentElement.clientWidth-i.options.preview.maxWidth)/2,i.ir.element.style.padding="10px "+Math.max(o,l)+"px"),i.preview.element.style.display!=="block"?i.toolbar.element.style.paddingLeft=Math.max(5,parseInt(i[i.currentMode].element.style.paddingLeft||"0",10)+(i.options.outline.position==="left"?i.outline.element.offsetWidth:0))+"px":i.toolbar.element.style.paddingLeft=5+(i.options.outline.position==="left"?i.outline.element.offsetWidth:0)+"px"},ut=function(i){if(i.options.typewriterMode){var o=window.innerHeight;typeof i.options.height=="number"?(o=i.options.height,typeof i.options.minHeight=="number"&&(o=Math.max(o,i.options.minHeight)),o=Math.min(window.innerHeight,o)):o=i.element.clientHeight,i.element.classList.contains("vditor--fullscreen")&&(o=window.innerHeight),i[i.currentMode].element.style.setProperty("--editor-bottom",(o-i.toolbar.element.offsetHeight)/2+"px")}};function De(){window.removeEventListener("resize",W)}var Pt,Ct,_t=function(i){ut(i),De(),window.addEventListener("resize",W=function(){Re(i),ut(i)});var o=(0,y.pK)()&&localStorage.getItem(i.options.cache.id);return i.options.cache.enable&&o||(i.options.value?o=i.options.value:i.originalInnerHTML?o=i.lute.HTML2Md(i.originalInnerHTML):i.options.cache.enable||(o="")),o||""},le=function(i){clearTimeout(i[i.currentMode].hlToolbarTimeoutId),i[i.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(i[i.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,ie.Gb)(i[i.currentMode].element)){S(i.toolbar.elements,m.g.EDIT_TOOLBARS),D(i.toolbar.elements,m.g.EDIT_TOOLBARS);var o=(0,ie.zh)(i),l=o.startContainer;o.startContainer.nodeType===3&&(l=o.startContainer.parentElement),l.classList.contains("vditor-reset")&&(l=l.childNodes[o.startOffset]),(i.currentMode==="sv"?(0,c.a1)(l,"data-type","heading"):(0,_.W)(l))&&L(i.toolbar.elements,["headings"]),(i.currentMode==="sv"?(0,c.a1)(l,"data-type","blockquote"):(0,c.lG)(l,"BLOCKQUOTE"))&&L(i.toolbar.elements,["quote"]),(0,c.a1)(l,"data-type","strong")&&L(i.toolbar.elements,["bold"]),(0,c.a1)(l,"data-type","em")&&L(i.toolbar.elements,["italic"]),(0,c.a1)(l,"data-type","s")&&L(i.toolbar.elements,["strike"]),(0,c.a1)(l,"data-type","a")&&L(i.toolbar.elements,["link"]);var d=(0,c.lG)(l,"LI");d?(d.classList.contains("vditor-task")?L(i.toolbar.elements,["check"]):d.parentElement.tagName==="OL"?L(i.toolbar.elements,["ordered-list"]):d.parentElement.tagName==="UL"&&L(i.toolbar.elements,["list"]),D(i.toolbar.elements,["outdent","indent"])):E(i.toolbar.elements,["outdent","indent"]),(0,c.a1)(l,"data-type","code-block")&&(E(i.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),L(i.toolbar.elements,["code"])),(0,c.a1)(l,"data-type","code")&&(E(i.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),L(i.toolbar.elements,["inline-code"])),(0,c.a1)(l,"data-type","table")&&E(i.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},fe=function(i,o){o===void 0&&(o={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),o.enableHint&&i.hint.render(i),clearTimeout(i.wysiwyg.afterRenderTimeoutId),i.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!i.wysiwyg.composingLock){var l=w(i);typeof i.options.input=="function"&&o.enableInput&&i.options.input(l),i.options.counter.enable&&i.counter.render(i,l),i.options.cache.enable&&(0,y.pK)()&&(localStorage.setItem(i.options.cache.id,l),i.options.cache.after&&i.options.cache.after(l)),i.devtools&&i.devtools.renderEchart(i),o.enableAddUndoStack&&i.undo.addToUndoStack(i)}},i.options.undoDelay)},We=function(i){for(var o="",l=i.nextSibling;l;)l.nodeType===3?o+=l.textContent:o+=l.outerHTML,l=l.nextSibling;return o},Tt=function(i){for(var o="",l=i.previousSibling;l;)o=l.nodeType===3?l.textContent+o:l.outerHTML+o,l=l.previousSibling;return o},we=function(i,o){Array.from(i.wysiwyg.element.childNodes).find(function(l){if(l.nodeType===3){var d=document.createElement("p");d.setAttribute("data-block","0"),d.textContent=l.textContent;var u=o.startContainer.nodeType===3?o.startOffset:l.textContent.length;return l.parentNode.insertBefore(d,l),l.remove(),o.setStart(d.firstChild,Math.min(d.firstChild.textContent.length,u)),o.collapse(!0),(0,ie.Hc)(o),!0}if(!l.getAttribute("data-block"))return l.tagName==="P"?l.remove():(l.tagName==="DIV"?(o.insertNode(document.createElement("wbr")),l.outerHTML='<p data-block="0">'+l.innerHTML+"</p>"):l.tagName==="BR"?l.outerHTML='<p data-block="0">'+l.outerHTML+"<wbr></p>":(o.insertNode(document.createElement("wbr")),l.outerHTML='<p data-block="0">'+l.outerHTML+"</p>"),(0,ie.ib)(i.wysiwyg.element,o),o=getSelection().getRangeAt(0)),!0})},Pe=function(i,o){var l=(0,ie.zh)(i),d=(0,c.F9)(l.startContainer);d||(d=l.startContainer.childNodes[l.startOffset]),d||i.wysiwyg.element.children.length!==0||(d=i.wysiwyg.element),d&&!d.classList.contains("vditor-wysiwyg__block")&&(l.insertNode(document.createElement("wbr")),d.innerHTML.trim()==="<wbr>"&&(d.innerHTML="<wbr><br>"),d.tagName==="BLOCKQUOTE"||d.classList.contains("vditor-reset")?d.innerHTML="<"+o+' data-block="0">'+d.innerHTML.trim()+"</"+o+">":d.outerHTML="<"+o+' data-block="0">'+d.innerHTML.trim()+"</"+o+">",(0,ie.ib)(i.wysiwyg.element,l),ne(i))},Ee=function(i){var o=getSelection().getRangeAt(0),l=(0,c.F9)(o.startContainer);l||(l=o.startContainer.childNodes[o.startOffset]),l&&(o.insertNode(document.createElement("wbr")),l.outerHTML='<p data-block="0">'+l.innerHTML+"</p>",(0,ie.ib)(i.wysiwyg.element,o)),i.wysiwyg.popover.style.display="none"},St=function(i,o,l){l===void 0&&(l=!0);var d=i.previousElementSibling,u=d.ownerDocument.createRange();d.tagName==="CODE"?(d.style.display="inline-block",l?u.setStart(d.firstChild,1):u.selectNodeContents(d)):(d.style.display="block",d.firstChild.firstChild||d.firstChild.appendChild(document.createTextNode("")),u.selectNodeContents(d.firstChild)),l?u.collapse(!0):u.collapse(!1),(0,ie.Hc)(u),i.firstElementChild.classList.contains("language-mindmap")||Xt(o)},Ve=function(i,o){if(me("\u21E7\u2318X",o)){var l=i.wysiwyg.popover.querySelector('[data-type="remove"]');return l&&l.click(),o.preventDefault(),!0}},at=function(i){clearTimeout(i.wysiwyg.hlToolbarTimeoutId),i.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(i.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,ie.Gb)(i.wysiwyg.element)){S(i.toolbar.elements,m.g.EDIT_TOOLBARS),D(i.toolbar.elements,m.g.EDIT_TOOLBARS);var o=getSelection().getRangeAt(0),l=o.startContainer;l=o.startContainer.nodeType===3?o.startContainer.parentElement:l.childNodes[o.startOffset>=l.childNodes.length?l.childNodes.length-1:o.startOffset];var d=(0,c.a1)(l,"data-type","footnotes-block");if(d)return i.wysiwyg.popover.innerHTML="",lt(d,i),void Ge(i,d);var u=(0,c.lG)(l,"LI");u?(u.classList.contains("vditor-task")?L(i.toolbar.elements,["check"]):u.parentElement.tagName==="OL"?L(i.toolbar.elements,["ordered-list"]):u.parentElement.tagName==="UL"&&L(i.toolbar.elements,["list"]),D(i.toolbar.elements,["outdent","indent"])):E(i.toolbar.elements,["outdent","indent"]),(0,c.lG)(l,"BLOCKQUOTE")&&L(i.toolbar.elements,["quote"]),((0,c.lG)(l,"B")||(0,c.lG)(l,"STRONG"))&&L(i.toolbar.elements,["bold"]),((0,c.lG)(l,"I")||(0,c.lG)(l,"EM"))&&L(i.toolbar.elements,["italic"]),((0,c.lG)(l,"STRIKE")||(0,c.lG)(l,"S"))&&L(i.toolbar.elements,["strike"]),i.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(et){et.classList.remove("vditor-comment--focus")});var h=(0,c.fb)(l,"vditor-comment");if(h){var P=h.getAttribute("data-cmtids").split(" ");if(P.length>1&&h.nextSibling.isSameNode(h.nextElementSibling)){var G=h.nextElementSibling.getAttribute("data-cmtids").split(" ");P.find(function(et){if(G.includes(et))return P=[et],!0})}i.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(et){et.getAttribute("data-cmtids").indexOf(P[0])>-1&&et.classList.add("vditor-comment--focus")})}var re=(0,c.lG)(l,"A");re&&L(i.toolbar.elements,["link"]);var ee=(0,c.lG)(l,"TABLE"),Q=(0,_.W)(l);(0,c.lG)(l,"CODE")?(0,c.lG)(l,"PRE")?(E(i.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),L(i.toolbar.elements,["code"])):(E(i.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),L(i.toolbar.elements,["inline-code"])):Q?(E(i.toolbar.elements,["bold"]),L(i.toolbar.elements,["headings"])):ee&&E(i.toolbar.elements,["table"]);var Se=(0,c.fb)(l,"vditor-toc");if(Se)return i.wysiwyg.popover.innerHTML="",lt(Se,i),void Ge(i,Se);var je=(0,_.S)(l,"BLOCKQUOTE");if(je&&(i.wysiwyg.popover.innerHTML="",de(o,je,i),Ae(o,je,i),lt(je,i),Ge(i,je)),u&&(i.wysiwyg.popover.innerHTML="",de(o,u,i),Ae(o,u,i),lt(u,i),Ge(i,u)),ee){i.options.lang,i.options,i.wysiwyg.popover.innerHTML="";var Ke=function(){var et=ee.rows.length,At=ee.rows[0].cells.length,In=parseInt(Et.value,10)||et,En=parseInt(Yt.value,10)||At;if(In!==et||At!==En){if(At!==En)for(var hi=En-At,Gr=0;Gr<ee.rows.length;Gr++)if(hi>0)for(var mo=0;mo<hi;mo++)Gr===0?ee.rows[Gr].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):ee.rows[Gr].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var zr=At-1;zr>=En;zr--)ee.rows[Gr].cells[zr].remove();if(et!==In){var go=In-et;if(go>0){for(var mi="<tr>",_r=0;_r<En;_r++)mi+="<td> </td>";for(var oa=0;oa<go;oa++)ee.querySelector("tbody")?ee.querySelector("tbody").insertAdjacentHTML("beforeend",mi):ee.querySelector("thead").insertAdjacentHTML("afterend",mi+"</tr>")}else for(_r=et-1;_r>=In;_r--)ee.rows[_r].remove(),ee.rows.length===1&&ee.querySelector("tbody").remove()}}},xe=function(et){Ce(ee,et),et==="right"?(Qe.classList.remove("vditor-icon--current"),Je.classList.remove("vditor-icon--current"),Le.classList.add("vditor-icon--current")):et==="center"?(Qe.classList.remove("vditor-icon--current"),Le.classList.remove("vditor-icon--current"),Je.classList.add("vditor-icon--current")):(Je.classList.remove("vditor-icon--current"),Le.classList.remove("vditor-icon--current"),Qe.classList.add("vditor-icon--current")),(0,ie.Hc)(o),fe(i)},He=(0,c.lG)(l,"TD"),nt=(0,c.lG)(l,"TH"),$e="left";He?$e=He.getAttribute("align")||"left":nt&&($e=nt.getAttribute("align")||"center");var Qe=document.createElement("button");Qe.setAttribute("type","button"),Qe.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,y.ns)("\u21E7\u2318L")+">"),Qe.setAttribute("data-type","left"),Qe.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',Qe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+($e==="left"?" vditor-icon--current":""),Qe.onclick=function(){xe("left")};var Je=document.createElement("button");Je.setAttribute("type","button"),Je.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,y.ns)("\u21E7\u2318C")+">"),Je.setAttribute("data-type","center"),Je.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',Je.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+($e==="center"?" vditor-icon--current":""),Je.onclick=function(){xe("center")};var Le=document.createElement("button");Le.setAttribute("type","button"),Le.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,y.ns)("\u21E7\u2318R")+">"),Le.setAttribute("data-type","right"),Le.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',Le.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+($e==="right"?" vditor-icon--current":""),Le.onclick=function(){xe("right")};var rt=document.createElement("button");rt.setAttribute("type","button"),rt.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,y.ns)("\u2318=")+">"),rt.setAttribute("data-type","insertRow"),rt.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',rt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",rt.onclick=function(){var et=getSelection().getRangeAt(0).startContainer,At=(0,c.lG)(et,"TD")||(0,c.lG)(et,"TH");At&&Fo(i,o,At)};var wt=document.createElement("button");wt.setAttribute("type","button"),wt.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,y.ns)("\u21E7\u2318F")+">"),wt.setAttribute("data-type","insertRow"),wt.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',wt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",wt.onclick=function(){var et=getSelection().getRangeAt(0).startContainer,At=(0,c.lG)(et,"TD")||(0,c.lG)(et,"TH");At&&eo(i,o,At)};var gt=document.createElement("button");gt.setAttribute("type","button"),gt.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,y.ns)("\u21E7\u2318=")+">"),gt.setAttribute("data-type","insertColumn"),gt.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',gt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",gt.onclick=function(){var et=getSelection().getRangeAt(0).startContainer,At=(0,c.lG)(et,"TD")||(0,c.lG)(et,"TH");At&&Hr(i,ee,At)};var mt=document.createElement("button");mt.setAttribute("type","button"),mt.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,y.ns)("\u21E7\u2318G")+">"),mt.setAttribute("data-type","insertColumn"),mt.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',mt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",mt.onclick=function(){var et=getSelection().getRangeAt(0).startContainer,At=(0,c.lG)(et,"TD")||(0,c.lG)(et,"TH");At&&Hr(i,ee,At,"beforebegin")};var bt=document.createElement("button");bt.setAttribute("type","button"),bt.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,y.ns)("\u2318-")+">"),bt.setAttribute("data-type","deleteRow"),bt.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',bt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",bt.onclick=function(){var et=getSelection().getRangeAt(0).startContainer,At=(0,c.lG)(et,"TD")||(0,c.lG)(et,"TH");At&&tr(i,o,At)};var dt=document.createElement("button");dt.setAttribute("type","button"),dt.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,y.ns)("\u21E7\u2318-")+">"),dt.setAttribute("data-type","deleteColumn"),dt.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',dt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",dt.onclick=function(){var et=getSelection().getRangeAt(0).startContainer,At=(0,c.lG)(et,"TD")||(0,c.lG)(et,"TH");At&&to(i,o,ee,At)},(Hn=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.row),Hn.className="vditor-tooltipped vditor-tooltipped__n";var Et=document.createElement("input");Hn.appendChild(Et),Et.type="number",Et.min="1",Et.className="vditor-input",Et.style.width="42px",Et.style.textAlign="center",Et.setAttribute("placeholder",window.VditorI18n.row),Et.value=ee.rows.length.toString(),Et.oninput=function(){Ke()},Et.onkeydown=function(et){if(!et.isComposing)return et.key==="Tab"?(Yt.focus(),Yt.select(),void et.preventDefault()):void(Ve(i,et)||Vt(et,o))};var qt=document.createElement("span");qt.setAttribute("aria-label",window.VditorI18n.column),qt.className="vditor-tooltipped vditor-tooltipped__n";var Yt=document.createElement("input");qt.appendChild(Yt),Yt.type="number",Yt.min="1",Yt.className="vditor-input",Yt.style.width="42px",Yt.style.textAlign="center",Yt.setAttribute("placeholder",window.VditorI18n.column),Yt.value=ee.rows[0].cells.length.toString(),Yt.oninput=function(){Ke()},Yt.onkeydown=function(et){if(!et.isComposing)return et.key==="Tab"?(Et.focus(),Et.select(),void et.preventDefault()):void(Ve(i,et)||Vt(et,o))},de(o,ee,i),Ae(o,ee,i),lt(ee,i),i.wysiwyg.popover.insertAdjacentElement("beforeend",Qe),i.wysiwyg.popover.insertAdjacentElement("beforeend",Je),i.wysiwyg.popover.insertAdjacentElement("beforeend",Le),i.wysiwyg.popover.insertAdjacentElement("beforeend",wt),i.wysiwyg.popover.insertAdjacentElement("beforeend",rt),i.wysiwyg.popover.insertAdjacentElement("beforeend",mt),i.wysiwyg.popover.insertAdjacentElement("beforeend",gt),i.wysiwyg.popover.insertAdjacentElement("beforeend",bt),i.wysiwyg.popover.insertAdjacentElement("beforeend",dt),i.wysiwyg.popover.insertAdjacentElement("beforeend",Hn),i.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),i.wysiwyg.popover.insertAdjacentElement("beforeend",qt),Ge(i,ee)}var rr=(0,c.a1)(l,"data-type","link-ref");rr&&pe(i,rr,o);var Pn=(0,c.a1)(l,"data-type","footnotes-ref");if(Pn){i.options.lang,i.options,i.wysiwyg.popover.innerHTML="",(Hn=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,y.ns)("\u2325Enter")+">"),Hn.className="vditor-tooltipped vditor-tooltipped__n";var Fn=document.createElement("input");Hn.appendChild(Fn),Fn.className="vditor-input",Fn.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,y.ns)("\u2325Enter")+">"),Fn.style.width="120px",Fn.value=Pn.getAttribute("data-footnotes-label"),Fn.oninput=function(){Fn.value.trim()!==""&&Pn.setAttribute("data-footnotes-label",Fn.value)},Fn.onkeydown=function(et){et.isComposing||Ve(i,et)||Vt(et,o)},lt(Pn,i),i.wysiwyg.popover.insertAdjacentElement("beforeend",Hn),Ge(i,Pn)}var sn=(0,c.fb)(l,"vditor-wysiwyg__block"),Jn=!!sn&&sn.getAttribute("data-type").indexOf("block")>-1;if(i.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(et){(!sn||sn&&Jn&&!sn.contains(et))&&(et.previousElementSibling.style.display="none")}),sn&&Jn){if(i.wysiwyg.popover.innerHTML="",de(o,sn,i),Ae(o,sn,i),lt(sn,i),sn.getAttribute("data-type")==="code-block"){var wr=document.createElement("span");wr.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,y.ns)("\u2325Enter")+">"),wr.className="vditor-tooltipped vditor-tooltipped__n";var Cn=document.createElement("input");wr.appendChild(Cn);var Ir=sn.firstElementChild.firstElementChild;Cn.className="vditor-input",Cn.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,y.ns)("\u2325Enter")+">"),Cn.value=Ir.className.indexOf("language-")>-1?Ir.className.split("-")[1].split(" ")[0]:"",Cn.oninput=function(et){Cn.value.trim()!==""?Ir.className="language-"+Cn.value:(Ir.className="",i.hint.recentLanguage=""),sn.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(sn.lastElementChild.innerHTML=sn.firstElementChild.innerHTML,ye(sn.lastElementChild,i)),fe(i),et.detail===1&&(o.setStart(Ir.firstChild,0),o.collapse(!0),(0,ie.Hc)(o))},Cn.onkeydown=function(et){if(!et.isComposing&&!Ve(i,et)){if(et.key==="Escape"&&i.hint.element.style.display==="block")return i.hint.element.style.display="none",void et.preventDefault();i.hint.select(et,i),Vt(et,o)}},Cn.onkeyup=function(et){if(!et.isComposing&&et.key!=="Enter"&&et.key!=="ArrowUp"&&et.key!=="Escape"&&et.key!=="ArrowDown"){var At=[],In=Cn.value.substring(0,Cn.selectionStart);m.g.CODE_LANGUAGES.forEach(function(En){En.indexOf(In.toLowerCase())>-1&&At.push({html:En,value:En})}),i.hint.genHTML(At,In,i),et.preventDefault()}},i.wysiwyg.popover.insertAdjacentElement("beforeend",wr)}Ge(i,sn)}else sn=void 0;if(Q){var Hn;i.wysiwyg.popover.innerHTML="",(Hn=document.createElement("span")).setAttribute("aria-label","ID<"+(0,y.ns)("\u2325Enter")+">"),Hn.className="vditor-tooltipped vditor-tooltipped__n";var kr=document.createElement("input");Hn.appendChild(kr),kr.className="vditor-input",kr.setAttribute("placeholder","ID<"+(0,y.ns)("\u2325Enter")+">"),kr.style.width="120px",kr.value=Q.getAttribute("data-id")||"",kr.oninput=function(){Q.setAttribute("data-id",kr.value)},kr.onkeydown=function(et){et.isComposing||Ve(i,et)||Vt(et,o)},de(o,Q,i),Ae(o,Q,i),lt(Q,i),i.wysiwyg.popover.insertAdjacentElement("beforeend",Hn),Ge(i,Q)}if(re&&bn(i,re,o),!(je||u||ee||sn||re||rr||Pn||Q||Se)){var Ar=(0,c.a1)(l,"data-block","0");Ar&&Ar.parentElement.isEqualNode(i.wysiwyg.element)?(i.wysiwyg.popover.innerHTML="",de(o,Ar,i),Ae(o,Ar,i),lt(Ar,i),Ge(i,Ar)):i.wysiwyg.popover.style.display="none"}i.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(et){et.style.display="none"});var Mr=(0,c.a1)(o.startContainer,"data-type","backslash");Mr&&(Mr.querySelector("span").style.display="inline")}},200)},Ge=function(i,o){var l=o,d=(0,c.lG)(o,"TABLE");d&&(l=d),i.wysiwyg.popover.style.left="0",i.wysiwyg.popover.style.display="block",i.wysiwyg.popover.style.top=Math.max(-8,l.offsetTop-21-i.wysiwyg.element.scrollTop)+"px",i.wysiwyg.popover.style.left=Math.min(l.offsetLeft,i.wysiwyg.element.clientWidth-i.wysiwyg.popover.clientWidth)+"px",i.wysiwyg.popover.setAttribute("data-top",(l.offsetTop-21).toString())},pe=function(i,o,l){l===void 0&&(l=getSelection().getRangeAt(0)),i.wysiwyg.popover.innerHTML="";var d=function(){h.value.trim()!==""&&(o.tagName==="IMG"?o.setAttribute("alt",h.value):o.textContent=h.value),G.value.trim()!==""&&o.setAttribute("data-link-label",G.value)},u=document.createElement("span");u.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),u.className="vditor-tooltipped vditor-tooltipped__n";var h=document.createElement("input");u.appendChild(h),h.className="vditor-input",h.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),h.style.width="120px",h.value=o.getAttribute("alt")||o.textContent,h.oninput=function(){d()},h.onkeydown=function(re){Ve(i,re)||Vt(re,l)||jt(i,o,re,G)};var P=document.createElement("span");P.setAttribute("aria-label",window.VditorI18n.linkRef),P.className="vditor-tooltipped vditor-tooltipped__n";var G=document.createElement("input");P.appendChild(G),G.className="vditor-input",G.setAttribute("placeholder",window.VditorI18n.linkRef),G.value=o.getAttribute("data-link-label"),G.oninput=function(){d()},G.onkeydown=function(re){Ve(i,re)||Vt(re,l)||jt(i,o,re,h)},lt(o,i),i.wysiwyg.popover.insertAdjacentElement("beforeend",u),i.wysiwyg.popover.insertAdjacentElement("beforeend",P),Ge(i,o)},de=function(i,o,l){var d=o.previousElementSibling;if(d&&(o.parentElement.isEqualNode(l.wysiwyg.element)||o.tagName==="LI")){var u=document.createElement("button");u.setAttribute("type","button"),u.setAttribute("data-type","up"),u.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,y.ns)("\u21E7\u2318U")+">"),u.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',u.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",u.onclick=function(){i.insertNode(document.createElement("wbr")),d.insertAdjacentElement("beforebegin",o),(0,ie.ib)(l.wysiwyg.element,i),fe(l),at(l),Xt(l)},l.wysiwyg.popover.insertAdjacentElement("beforeend",u)}},Ae=function(i,o,l){var d=o.nextElementSibling;if(d&&(o.parentElement.isEqualNode(l.wysiwyg.element)||o.tagName==="LI")){var u=document.createElement("button");u.setAttribute("type","button"),u.setAttribute("data-type","down"),u.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,y.ns)("\u21E7\u2318D")+">"),u.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',u.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",u.onclick=function(){i.insertNode(document.createElement("wbr")),d.insertAdjacentElement("afterend",o),(0,ie.ib)(l.wysiwyg.element,i),fe(l),at(l),Xt(l)},l.wysiwyg.popover.insertAdjacentElement("beforeend",u)}},lt=function(i,o){var l=document.createElement("button");l.setAttribute("type","button"),l.setAttribute("data-type","remove"),l.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,y.ns)("\u21E7\u2318X")+">"),l.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',l.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",l.onclick=function(){var d=(0,ie.zh)(o);d.setStartAfter(i),(0,ie.Hc)(d),i.remove(),fe(o),at(o),["H1","H2","H3","H4","H5","H6"].includes(i.tagName)&&ne(o)},o.wysiwyg.popover.insertAdjacentElement("beforeend",l)},jt=function(i,o,l,d){if(!l.isComposing){if(l.key==="Tab")return d.focus(),d.select(),void l.preventDefault();if(!(0,y.yl)(l)&&!l.shiftKey&&l.altKey&&l.key==="Enter"){var u=(0,ie.zh)(i);o.insertAdjacentHTML("afterend",m.g.ZWSP),u.setStartAfter(o.nextSibling),u.collapse(!0),(0,ie.Hc)(u),l.preventDefault()}}},bn=function(i,o,l){i.wysiwyg.popover.innerHTML="";var d=function(){h.value.trim()!==""&&(o.innerHTML=h.value),o.setAttribute("href",G.value),o.setAttribute("title",ee.value),fe(i)};o.querySelectorAll("[data-marker]").forEach(function(Q){Q.removeAttribute("data-marker")});var u=document.createElement("span");u.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),u.className="vditor-tooltipped vditor-tooltipped__n";var h=document.createElement("input");u.appendChild(h),h.className="vditor-input",h.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),h.style.width="120px",h.value=o.innerHTML||"",h.oninput=function(){d()},h.onkeydown=function(Q){Ve(i,Q)||Vt(Q,l)||jt(i,o,Q,G)};var P=document.createElement("span");P.setAttribute("aria-label",window.VditorI18n.link),P.className="vditor-tooltipped vditor-tooltipped__n";var G=document.createElement("input");P.appendChild(G),G.className="vditor-input",G.setAttribute("placeholder",window.VditorI18n.link),G.value=o.getAttribute("href")||"",G.oninput=function(){d()},G.onkeydown=function(Q){Ve(i,Q)||Vt(Q,l)||jt(i,o,Q,ee)};var re=document.createElement("span");re.setAttribute("aria-label",window.VditorI18n.tooltipText),re.className="vditor-tooltipped vditor-tooltipped__n";var ee=document.createElement("input");re.appendChild(ee),ee.className="vditor-input",ee.setAttribute("placeholder",window.VditorI18n.tooltipText),ee.style.width="60px",ee.value=o.getAttribute("title")||"",ee.oninput=function(){d()},ee.onkeydown=function(Q){Ve(i,Q)||Vt(Q,l)||jt(i,o,Q,h)},lt(o,i),i.wysiwyg.popover.insertAdjacentElement("beforeend",u),i.wysiwyg.popover.insertAdjacentElement("beforeend",P),i.wysiwyg.popover.insertAdjacentElement("beforeend",re),Ge(i,o)},Vt=function(i,o){if(!(0,y.yl)(i)&&!i.shiftKey&&i.key==="Enter"||i.key==="Escape")return o&&(0,ie.Hc)(o),i.preventDefault(),i.stopPropagation(),!0},an=function(i){i.currentMode==="wysiwyg"?at(i):i.currentMode==="ir"&&le(i)},Ie=function(i,o,l){l===void 0&&(l={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var d=i.wysiwyg.element;d.innerHTML=i.lute.Md2VditorDOM(o),d.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(u){ye(u,i),u.previousElementSibling.setAttribute("style","display:none")}),fe(i,l)},hn=function(i,o,l){for(var d=i.startContainer.parentElement,u=!1,h="",P="",G=function(xe){var He=Tt(xe.startContainer),nt=We(xe.startContainer),$e=xe.startContainer.textContent,Qe=xe.startOffset,Je="",Le="";return($e.substr(0,Qe)!==""&&$e.substr(0,Qe)!==m.g.ZWSP||He)&&(Je=""+He+$e.substr(0,Qe)),($e.substr(Qe)!==""&&$e.substr(Qe)!==m.g.ZWSP||nt)&&(Le=""+$e.substr(Qe)+nt),{afterHTML:Le,beforeHTML:Je}}(i),re=G.beforeHTML,ee=G.afterHTML;d&&!u;){var Q=d.tagName;if(Q==="STRIKE"&&(Q="S"),Q==="I"&&(Q="EM"),Q==="B"&&(Q="STRONG"),Q==="S"||Q==="STRONG"||Q==="EM"){var Se="",je="",Ke="";d.parentElement.getAttribute("data-block")!=="0"&&(je=Tt(d),Ke=We(d)),(re||je)&&(re=Se=je+"<"+Q+">"+re+"</"+Q+">"),(l==="bold"&&Q==="STRONG"||l==="italic"&&Q==="EM"||l==="strikeThrough"&&Q==="S")&&(Se+=""+h+m.g.ZWSP+"<wbr>"+P,u=!0),(ee||Ke)&&(Se+=ee="<"+Q+">"+ee+"</"+Q+">"+Ke),d.parentElement.getAttribute("data-block")!=="0"?(d=d.parentElement).innerHTML=Se:(d.outerHTML=Se,d=d.parentElement),h="<"+Q+">"+h,P="</"+Q+">"+P}else u=!0}(0,ie.ib)(o.wysiwyg.element,i)},Dt=function(i,o){var l,d=this;this.element=document.createElement("div"),o.className&&(l=this.element.classList).add.apply(l,o.className.split(" "));var u=o.hotkey?" <"+(0,y.ns)(o.hotkey)+">":"";o.level===2&&(u=o.hotkey?" &lt;"+(0,y.ns)(o.hotkey)+"&gt;":"");var h=o.tip?o.tip+u:""+window.VditorI18n[o.name]+u,P=o.name==="upload"?"div":"button";if(o.level===2)this.element.innerHTML="<"+P+' data-type="'+o.name+'">'+h+"</"+P+">";else{this.element.classList.add("vditor-toolbar__item");var G=document.createElement(P);G.setAttribute("data-type",o.name),G.className="vditor-tooltipped vditor-tooltipped__"+o.tipPosition,G.setAttribute("aria-label",h),G.innerHTML=o.icon,this.element.appendChild(G)}o.prefix&&this.element.children[0].addEventListener((0,y.Le)(),function(re){re.preventDefault(),d.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)||(i.currentMode==="wysiwyg"?function(ee,Q,Se){if(!(ee.wysiwyg.composingLock&&Se instanceof CustomEvent)){var je=!0,Ke=!0;ee.wysiwyg.element.querySelector("wbr")&&ee.wysiwyg.element.querySelector("wbr").remove();var xe=(0,ie.zh)(ee),He=Q.getAttribute("data-type");if(Q.classList.contains("vditor-menu--current"))if(He==="strike"&&(He="strikeThrough"),He==="quote"){var nt=(0,c.lG)(xe.startContainer,"BLOCKQUOTE");nt||(nt=xe.startContainer.childNodes[xe.startOffset]),nt&&(je=!1,Q.classList.remove("vditor-menu--current"),xe.insertNode(document.createElement("wbr")),nt.outerHTML=nt.innerHTML.trim()===""?'<p data-block="0">'+nt.innerHTML+"</p>":nt.innerHTML,(0,ie.ib)(ee.wysiwyg.element,xe))}else if(He==="inline-code"){var $e=(0,c.lG)(xe.startContainer,"CODE");$e||($e=xe.startContainer.childNodes[xe.startOffset]),$e&&($e.outerHTML=$e.innerHTML.replace(m.g.ZWSP,"")+"<wbr>",(0,ie.ib)(ee.wysiwyg.element,xe))}else He==="link"?(xe.collapsed&&xe.selectNode(xe.startContainer.parentElement),document.execCommand("unlink",!1,"")):He==="check"||He==="list"||He==="ordered-list"?(V(ee,xe,He),(0,ie.ib)(ee.wysiwyg.element,xe),je=!1,Q.classList.remove("vditor-menu--current")):(je=!1,Q.classList.remove("vditor-menu--current"),xe.toString()===""?hn(xe,ee,He):document.execCommand(He,!1,""));else{ee.wysiwyg.element.childNodes.length===0&&(ee.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,ie.ib)(ee.wysiwyg.element,xe));var Qe=(0,c.F9)(xe.startContainer);if(He==="quote"){if(Qe||(Qe=xe.startContainer.childNodes[xe.startOffset]),Qe){je=!1,Q.classList.add("vditor-menu--current"),xe.insertNode(document.createElement("wbr"));var Je=(0,c.lG)(xe.startContainer,"LI");Je&&Qe.contains(Je)?Je.innerHTML='<blockquote data-block="0">'+Je.innerHTML+"</blockquote>":Qe.outerHTML='<blockquote data-block="0">'+Qe.outerHTML+"</blockquote>",(0,ie.ib)(ee.wysiwyg.element,xe)}}else if(He==="check"||He==="list"||He==="ordered-list")V(ee,xe,He,!1),(0,ie.ib)(ee.wysiwyg.element,xe),je=!1,S(ee.toolbar.elements,["check","list","ordered-list"]),Q.classList.add("vditor-menu--current");else if(He==="inline-code"){if(xe.toString()==="")(Le=document.createElement("code")).textContent=m.g.ZWSP,xe.insertNode(Le),xe.setStart(Le.firstChild,1),xe.collapse(!0),(0,ie.Hc)(xe);else if(xe.startContainer.nodeType===3){var Le=document.createElement("code");xe.surroundContents(Le),xe.insertNode(Le),(0,ie.Hc)(xe)}Q.classList.add("vditor-menu--current")}else if(He==="code")(Le=document.createElement("div")).className="vditor-wysiwyg__block",Le.setAttribute("data-type","code-block"),Le.setAttribute("data-block","0"),Le.setAttribute("data-marker","```"),xe.toString()===""?Le.innerHTML=`<pre><code><wbr>
</code></pre>`:(Le.innerHTML="<pre><code>"+xe.toString()+"<wbr></code></pre>",xe.deleteContents()),xe.insertNode(Le),Qe&&(Qe.outerHTML=ee.lute.SpinVditorDOM(Qe.outerHTML)),(0,ie.ib)(ee.wysiwyg.element,xe),ee.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Yt){ye(Yt,ee)}),Q.classList.add("vditor-menu--disabled");else if(He==="link"){if(xe.toString()===""){var rt=document.createElement("a");rt.innerText=m.g.ZWSP,xe.insertNode(rt),xe.setStart(rt.firstChild,1),xe.collapse(!0),bn(ee,rt,xe);var wt=ee.wysiwyg.popover.querySelector("input");wt.value="",wt.focus(),Ke=!1}else{(Le=document.createElement("a")).setAttribute("href",""),Le.innerHTML=xe.toString(),xe.surroundContents(Le),xe.insertNode(Le),(0,ie.Hc)(xe),bn(ee,Le,xe);var gt=ee.wysiwyg.popover.querySelectorAll("input");gt[0].value=Le.innerText,gt[1].focus()}je=!1,Q.classList.add("vditor-menu--current")}else if(He==="table"){var mt='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(xe.toString().trim()==="")Qe&&Qe.innerHTML.trim().replace(m.g.ZWSP,"")===""?Qe.outerHTML=mt:document.execCommand("insertHTML",!1,mt),xe.selectNode(ee.wysiwyg.element.querySelector("wbr").previousSibling),ee.wysiwyg.element.querySelector("wbr").remove(),(0,ie.Hc)(xe);else{mt='<table data-block="0"><thead><tr>';var bt=xe.toString().split(`
`),dt=bt[0].split(",").length>bt[0].split("	").length?",":"	";bt.forEach(function(Yt,rr){rr===0?(Yt.split(dt).forEach(function(Pn,Fn){mt+=Fn===0?"<th>"+Pn+"<wbr></th>":"<th>"+Pn+"</th>"}),mt+="</tr></thead>"):(mt+=rr===1?"<tbody><tr>":"<tr>",Yt.split(dt).forEach(function(Pn){mt+="<td>"+Pn+"</td>"}),mt+="</tr>")}),mt+="</tbody></table>",document.execCommand("insertHTML",!1,mt),(0,ie.ib)(ee.wysiwyg.element,xe)}je=!1,Q.classList.add("vditor-menu--disabled")}else if(He==="line"){if(Qe){var Et=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;Qe.innerHTML.trim()===""?Qe.outerHTML=Et:Qe.insertAdjacentHTML("afterend",Et),(0,ie.ib)(ee.wysiwyg.element,xe)}}else if(je=!1,Q.classList.add("vditor-menu--current"),He==="strike"&&(He="strikeThrough"),xe.toString()!==""||He!=="bold"&&He!=="italic"&&He!=="strikeThrough")document.execCommand(He,!1,"");else{var qt="strong";He==="italic"?qt="em":He==="strikeThrough"&&(qt="s"),(Le=document.createElement(qt)).textContent=m.g.ZWSP,xe.insertNode(Le),Le.previousSibling&&Le.previousSibling.textContent===m.g.ZWSP&&(Le.previousSibling.textContent=""),xe.setStart(Le.firstChild,1),xe.collapse(!0),(0,ie.Hc)(xe)}}je&&at(ee),Ke&&fe(ee)}}(i,d.element.children[0],re):i.currentMode==="ir"?vr(i,d.element.children[0],o.prefix||"",o.suffix||""):sr(i,d.element.children[0],o.prefix||"",o.suffix||""))})},Kt=(Pt=function(i,o){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var u in d)d.hasOwnProperty(u)&&(l[u]=d[u])},Pt(i,o)},function(i,o){function l(){this.constructor=i}Pt(i,o),i.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),Ft=function(i,o,l){var d;if(typeof l!="string"?(s(i,["subToolbar","hint"]),l.preventDefault(),d=w(i)):d=l,i.currentMode!==o||typeof l=="string"){if(i.devtools&&i.devtools.renderEchart(i),i.options.preview.mode==="both"&&o==="sv"?i.preview.element.style.display="block":i.preview.element.style.display="none",D(i.toolbar.elements,m.g.EDIT_TOOLBARS),S(i.toolbar.elements,m.g.EDIT_TOOLBARS),E(i.toolbar.elements,["outdent","indent"]),o==="ir")N(i.toolbar.elements,["both"]),F(i.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),i.sv.element.style.display="none",i.wysiwyg.element.parentElement.style.display="none",i.ir.element.parentElement.style.display="block",i.lute.SetVditorIR(!0),i.lute.SetVditorWYSIWYG(!1),i.lute.SetVditorSV(!1),i.currentMode="ir",i.ir.element.innerHTML=i.lute.Md2VditorIRDOM(d),gr(i,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Re(i),i.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(h){ye(h,i)}),i.ir.element.querySelectorAll(".vditor-toc").forEach(function(h){(0,I.H)(h,{cdn:i.options.cdn,math:i.options.preview.math})});else if(o==="wysiwyg")N(i.toolbar.elements,["both"]),F(i.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),i.sv.element.style.display="none",i.wysiwyg.element.parentElement.style.display="block",i.ir.element.parentElement.style.display="none",i.lute.SetVditorIR(!1),i.lute.SetVditorWYSIWYG(!0),i.lute.SetVditorSV(!1),i.currentMode="wysiwyg",Re(i),Ie(i,d,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),i.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(h){(0,I.H)(h,{cdn:i.options.cdn,math:i.options.preview.math})}),i.wysiwyg.popover.style.display="none";else if(o==="sv"){F(i.toolbar.elements,["both"]),N(i.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),i.wysiwyg.element.parentElement.style.display="none",i.ir.element.parentElement.style.display="none",(i.options.preview.mode==="both"||i.options.preview.mode==="editor")&&(i.sv.element.style.display="block"),i.lute.SetVditorIR(!1),i.lute.SetVditorWYSIWYG(!1),i.lute.SetVditorSV(!0),i.currentMode="sv";var u=ii(d,i);u==="<div data-block='0'></div>"&&(u=""),i.sv.element.innerHTML=u,$t(i,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Re(i)}i.undo.resetIcon(i),typeof l!="string"&&(i[i.currentMode].element.focus(),an(i)),ne(i),ut(i),i.toolbar.elements["edit-mode"]&&(i.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(h){h.classList.remove("vditor-menu--current")}),i.toolbar.elements["edit-mode"].querySelector('button[data-mode="'+i.currentMode+'"]').classList.add("vditor-menu--current")),i.outline.toggle(i,i.currentMode!=="sv"&&i.options.outline.enable,typeof l!="string")}},_i=function(i){function o(l,d){var u=i.call(this,l,d)||this,h=document.createElement("div");return h.className="vditor-hint"+(d.level===2?"":" vditor-panel--arrow"),h.innerHTML='<button data-mode="wysiwyg">'+window.VditorI18n.wysiwyg+" &lt;"+(0,y.ns)("\u2325\u23187")+`></button>
<button data-mode="ir">`+window.VditorI18n.instantRendering+" &lt;"+(0,y.ns)("\u2325\u23188")+`></button>
<button data-mode="sv">`+window.VditorI18n.splitView+" &lt;"+(0,y.ns)("\u2325\u23189")+"></button>",u.element.appendChild(h),u._bindEvent(l,h,d),u}return Kt(o,i),o.prototype._bindEvent=function(l,d,u){var h=this.element.children[0];p(l,d,h,u.level),d.children.item(0).addEventListener((0,y.Le)(),function(P){Ft(l,"wysiwyg",P),P.preventDefault(),P.stopPropagation()}),d.children.item(1).addEventListener((0,y.Le)(),function(P){Ft(l,"ir",P),P.preventDefault(),P.stopPropagation()}),d.children.item(2).addEventListener((0,y.Le)(),function(P){Ft(l,"sv",P),P.preventDefault(),P.stopPropagation()})},o}(Dt),ln=function(i,o){return(0,ie.Gb)(i,o)?getSelection().toString():""},mn=function(i,o){o.addEventListener("focus",function(){i.options.focus&&i.options.focus(w(i)),s(i,["subToolbar","hint"])})},gn=function(i,o){o.addEventListener("dblclick",function(l){l.target.tagName==="IMG"&&(i.options.image.preview?i.options.image.preview(l.target):i.options.image.isPreview&&(0,ke.E)(l.target,i.options.lang,i.options.theme))})},cr=function(i,o){o.addEventListener("blur",function(l){if(i.currentMode==="ir"){var d=i.ir.element.querySelector(".vditor-ir__node--expand");d&&d.classList.remove("vditor-ir__node--expand")}else i.currentMode!=="wysiwyg"||i.wysiwyg.selectPopover.contains(l.relatedTarget)||i.wysiwyg.hideComment();i[i.currentMode].range=(0,ie.zh)(i),i.options.blur&&i.options.blur(w(i))})},Pr=function(i,o){o.addEventListener("dragstart",function(l){l.dataTransfer.setData(m.g.DROP_EDITOR,m.g.DROP_EDITOR)}),o.addEventListener("drop",function(l){l.dataTransfer.getData(m.g.DROP_EDITOR)?ft(i):(l.dataTransfer.types.includes("Files")||l.dataTransfer.types.includes("text/html"))&&li(i,l,{pasteCode:function(d){document.execCommand("insertHTML",!1,d)}})})},Qn=function(i,o,l){o.addEventListener("copy",function(d){return l(d,i)})},yn=function(i,o,l){o.addEventListener("cut",function(d){l(d,i),i.options.comment.enable&&i.currentMode==="wysiwyg"&&i.wysiwyg.getComments(i),document.execCommand("delete")})},Xt=function(i){if(i.currentMode==="wysiwyg"&&i.options.comment.enable&&i.options.comment.adjustTop(i.wysiwyg.getComments(i,!0)),i.options.typewriterMode){var o=i[i.currentMode].element,l=(0,ie.Ny)(o).top;i.options.height!=="auto"||i.element.classList.contains("vditor--fullscreen")||window.scrollTo(window.scrollX,l+i.element.offsetTop+i.toolbar.element.offsetHeight-window.innerHeight/2+10),(i.options.height!=="auto"||i.element.classList.contains("vditor--fullscreen"))&&(o.scrollTop=l+o.scrollTop-o.clientHeight/2+10)}},ri=function(i,o){o.addEventListener("keydown",function(l){if(!l.isComposing&&i.options.keydown&&i.options.keydown(l),!(i.options.hint.extend.length>1||i.toolbar.elements.emoji)||!i.hint.select(l,i)){if(i.options.comment.enable&&i.currentMode==="wysiwyg"&&(l.key==="Backspace"||me("\u2318X",l))&&i.wysiwyg.getComments(i),i.currentMode==="sv"){if(function(u,h){var P,G,re,ee,Q;if(u.sv.composingLock=h.isComposing,h.isComposing||(h.key.indexOf("Arrow")!==-1||h.key==="Meta"||h.key==="Control"||h.key==="Alt"||h.key==="Shift"||h.key==="CapsLock"||h.key==="Escape"||/^F\d{1,2}$/.test(h.key)||u.undo.recordFirstPosition(u,h),h.key!=="Enter"&&h.key!=="Tab"&&h.key!=="Backspace"&&h.key.indexOf("Arrow")===-1&&!(0,y.yl)(h)&&h.key!=="Escape"))return!1;var Se=(0,ie.zh)(u),je=Se.startContainer;Se.startContainer.nodeType!==3&&Se.startContainer.tagName==="DIV"&&(je=Se.startContainer.childNodes[Se.startOffset-1]);var Ke=(0,c.a1)(je,"data-type","text"),xe=(0,c.a1)(je,"data-type","blockquote-marker");if(!xe&&Se.startOffset===0&&Ke&&Ke.previousElementSibling&&Ke.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(xe=Ke.previousElementSibling),xe&&h.key==="Enter"&&!(0,y.yl)(h)&&!h.altKey&&xe.nextElementSibling.textContent.trim()===""&&(0,ie.im)(xe,u.sv.element,Se).start===xe.textContent.length)return((P=xe.previousElementSibling)===null||P===void 0?void 0:P.getAttribute("data-type"))==="padding"&&xe.previousElementSibling.setAttribute("data-action","enter-remove"),xe.remove(),$t(u),h.preventDefault(),!0;var He=(0,c.a1)(je,"data-type","li-marker"),nt=(0,c.a1)(je,"data-type","task-marker"),$e=He;if($e||nt&&nt.nextElementSibling.getAttribute("data-type")!=="task-marker"&&($e=nt),$e||Se.startOffset!==0||!Ke||!Ke.previousElementSibling||Ke.previousElementSibling.getAttribute("data-type")!=="li-marker"&&Ke.previousElementSibling.getAttribute("data-type")!=="task-marker"||($e=Ke.previousElementSibling),$e){var Qe=(0,ie.im)($e,u.sv.element,Se).start,Je=$e.getAttribute("data-type")==="task-marker",Le=$e;if(Je&&(Le=$e.previousElementSibling.previousElementSibling.previousElementSibling),Qe===$e.textContent.length){if(h.key==="Enter"&&!(0,y.yl)(h)&&!h.altKey&&!h.shiftKey&&$e.nextElementSibling.textContent.trim()==="")return((G=Le.previousElementSibling)===null||G===void 0?void 0:G.getAttribute("data-type"))==="padding"?(Le.previousElementSibling.remove(),Fe(u)):(Je&&(Le.remove(),$e.previousElementSibling.previousElementSibling.remove(),$e.previousElementSibling.remove()),$e.nextElementSibling.remove(),$e.remove(),$t(u)),h.preventDefault(),!0;if(h.key==="Tab")return Le.insertAdjacentHTML("beforebegin",'<span data-type="padding">'+Le.textContent.replace(/\S/g," ")+"</span>"),/^\d/.test(Le.textContent)&&(Le.textContent=Le.textContent.replace(/^\d{1,}/,"1"),Se.selectNodeContents($e.firstChild),Se.collapse(!1)),Fe(u),h.preventDefault(),!0}}if(An(u,Se,h))return!0;var rt=(0,c.a1)(je,"data-block","0"),wt=(0,_.S)(je,"SPAN");if(h.key==="Enter"&&!(0,y.yl)(h)&&!h.altKey&&!h.shiftKey&&rt){var gt=!1,mt=rt.textContent.match(/^\n+/);(0,ie.im)(rt,u.sv.element).start<=(mt?mt[0].length:0)&&(gt=!0);var bt=`
`;if(wt){if(((re=wt.previousElementSibling)===null||re===void 0?void 0:re.getAttribute("data-action"))==="enter-remove")return wt.previousElementSibling.remove(),$t(u),h.preventDefault(),!0;bt+=oi(wt)}return Se.insertNode(document.createTextNode(bt)),Se.collapse(!1),rt&&rt.textContent.trim()!==""&&!gt?Fe(u):$t(u),h.preventDefault(),!0}if(h.key==="Backspace"&&!(0,y.yl)(h)&&!h.altKey&&!h.shiftKey){if(wt&&((ee=wt.previousElementSibling)===null||ee===void 0?void 0:ee.getAttribute("data-type"))==="newline"&&(0,ie.im)(wt,u.sv.element,Se).start===1&&wt.getAttribute("data-type").indexOf("code-block-")===-1)return Se.setStart(wt,0),Se.extractContents(),wt.textContent.trim()!==""?Fe(u):$t(u),h.preventDefault(),!0;if(rt&&(0,ie.im)(rt,u.sv.element,Se).start===0&&rt.previousElementSibling){Se.extractContents();var dt=rt.previousElementSibling.lastElementChild;return dt.getAttribute("data-type")==="newline"&&(dt.remove(),dt=rt.previousElementSibling.lastElementChild),dt.getAttribute("data-type")!=="newline"&&(dt.insertAdjacentHTML("afterend",rt.innerHTML),rt.remove()),rt.textContent.trim()===""||((Q=rt.previousElementSibling)===null||Q===void 0?void 0:Q.querySelector('[data-type="code-block-open-marker"]'))?(dt.getAttribute("data-type")!=="newline"&&(Se.selectNodeContents(dt.lastChild),Se.collapse(!1)),$t(u)):Fe(u),h.preventDefault(),!0}}return!1}(i,l))return}else if(i.currentMode==="wysiwyg"){if(function(u,h){if(u.wysiwyg.composingLock=h.isComposing,h.isComposing)return!1;h.key.indexOf("Arrow")!==-1||h.key==="Meta"||h.key==="Control"||h.key==="Alt"||h.key==="Shift"||h.key==="CapsLock"||h.key==="Escape"||/^F\d{1,2}$/.test(h.key)||u.undo.recordFirstPosition(u,h);var P=(0,ie.zh)(u),G=P.startContainer;if(!hr(h,u,G)||(qr(P,u,h),io(P),h.key!=="Enter"&&h.key!=="Tab"&&h.key!=="Backspace"&&h.key.indexOf("Arrow")===-1&&!(0,y.yl)(h)&&h.key!=="Escape"&&h.key!=="Delete"))return!1;var re=(0,c.F9)(G),ee=(0,c.lG)(G,"P");if(xt(h,u,ee,P)||rn(P,u,ee,h)||no(u,h,P))return!0;var Q=(0,c.fb)(G,"vditor-wysiwyg__block");if(Q){if(h.key==="Escape"&&Q.children.length===2)return u.wysiwyg.popover.style.display="none",Q.firstElementChild.style.display="none",u.wysiwyg.element.blur(),h.preventDefault(),!0;if(!(0,y.yl)(h)&&!h.shiftKey&&h.altKey&&h.key==="Enter"&&Q.getAttribute("data-type")==="code-block"){var Se=u.wysiwyg.popover.querySelector(".vditor-input");return Se.focus(),Se.select(),h.preventDefault(),!0}if(Q.getAttribute("data-block")==="0"&&(Ur(u,h,Q.firstElementChild,P)||Ht(u,h,P,Q.firstElementChild,Q)||Q.getAttribute("data-type")!=="yaml-front-matter"&&Tn(u,h,P,Q.firstElementChild,Q)))return!0}if(Ei(u,P,h,ee))return!0;var je=(0,c.E2)(G,"BLOCKQUOTE");if(je&&!h.shiftKey&&h.altKey&&h.key==="Enter"){(0,y.yl)(h)?P.setStartBefore(je):P.setStartAfter(je),(0,ie.Hc)(P);var Ke=document.createElement("p");return Ke.setAttribute("data-block","0"),Ke.innerHTML=`
`,P.insertNode(Ke),P.collapse(!0),(0,ie.Hc)(P),fe(u),Xt(u),h.preventDefault(),!0}var xe,He=(0,_.W)(G);if(He){if(He.tagName==="H6"&&G.textContent.length===P.startOffset&&!(0,y.yl)(h)&&!h.shiftKey&&!h.altKey&&h.key==="Enter"){var nt=document.createElement("p");return nt.textContent=`
`,nt.setAttribute("data-block","0"),G.parentElement.insertAdjacentElement("afterend",nt),P.setStart(nt,0),(0,ie.Hc)(P),fe(u),Xt(u),h.preventDefault(),!0}var $e;if(me("\u2318=",h))return($e=parseInt(He.tagName.substr(1),10)-1)>0&&(Pe(u,"h"+$e),fe(u)),h.preventDefault(),!0;if(me("\u2318-",h))return($e=parseInt(He.tagName.substr(1),10)+1)<7&&(Pe(u,"h"+$e),fe(u)),h.preventDefault(),!0;h.key!=="Backspace"||(0,y.yl)(h)||h.shiftKey||h.altKey||He.textContent.length!==1||Ee(u)}if(ro(u,P,h))return!0;if(h.altKey&&h.key==="Enter"&&!(0,y.yl)(h)&&!h.shiftKey){var Qe=(0,c.lG)(G,"A"),Je=(0,c.a1)(G,"data-type","link-ref"),Le=(0,c.a1)(G,"data-type","footnotes-ref");if(Qe||Je||Le||He&&He.tagName.length===2){var rt=u.wysiwyg.popover.querySelector("input");rt.focus(),rt.select()}}if(Ve(u,h))return!0;if(me("\u21E7\u2318U",h)&&(xe=u.wysiwyg.popover.querySelector('[data-type="up"]'))||me("\u21E7\u2318D",h)&&(xe=u.wysiwyg.popover.querySelector('[data-type="down"]')))return xe.click(),h.preventDefault(),!0;if(An(u,P,h))return!0;if(!(0,y.yl)(h)&&h.shiftKey&&!h.altKey&&h.key==="Enter"&&G.parentElement.tagName!=="LI"&&G.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(G.parentElement.tagName)?P.insertNode(document.createTextNode(`
`+m.g.ZWSP)):P.insertNode(document.createTextNode(`
`)),P.collapse(!1),(0,ie.Hc)(P),fe(u),Xt(u),h.preventDefault(),!0;if(h.key==="Backspace"&&!(0,y.yl)(h)&&!h.shiftKey&&!h.altKey&&P.toString()===""){if(Li(u,P,h,ee))return!0;if(re){if(re.previousElementSibling&&re.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&re.previousElementSibling.getAttribute("data-block")==="0"&&re.tagName!=="UL"&&re.tagName!=="OL"){var wt=(0,ie.im)(re,u.wysiwyg.element,P).start;if(wt===0&&P.startOffset===0||wt===1&&re.innerText.startsWith(m.g.ZWSP))return St(re.previousElementSibling.lastElementChild,u,!1),re.innerHTML.trim().replace(m.g.ZWSP,"")===""&&(re.remove(),fe(u)),h.preventDefault(),!0}var gt=P.startOffset;if(P.toString()===""&&G.nodeType===3&&G.textContent.charAt(gt-2)===`
`&&G.textContent.charAt(gt-1)!==m.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(G.parentElement.tagName))return G.textContent=G.textContent.substring(0,gt-1)+m.g.ZWSP,P.setStart(G,gt),P.collapse(!0),fe(u),h.preventDefault(),!0;G.textContent===m.g.ZWSP&&P.startOffset===1&&!G.previousSibling&&function(bt){for(var dt=bt.startContainer.nextSibling;dt&&dt.textContent==="";)dt=dt.nextSibling;return!(!dt||dt.nodeType===3||dt.tagName!=="CODE"&&dt.getAttribute("data-type")!=="math-inline"&&dt.getAttribute("data-type")!=="html-entity"&&dt.getAttribute("data-type")!=="html-inline")}(P)&&(G.textContent=""),re.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(bt){bt.firstElementChild.style.display="inline",bt.lastElementChild.style.display="none"}),re.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(bt){bt.firstElementChild.style.display="inline",bt.lastElementChild.style.display="none"})}}if((0,y.vU)()&&P.startOffset===1&&G.textContent.indexOf(m.g.ZWSP)>-1&&G.previousSibling&&G.previousSibling.nodeType!==3&&G.previousSibling.tagName==="CODE"&&(h.key==="Backspace"||h.key==="ArrowLeft"))return P.selectNodeContents(G.previousSibling),P.collapse(!1),h.preventDefault(),!0;if(oo(h,re,P))return h.preventDefault(),!0;if(Zt(P,h.key),h.key==="ArrowDown"){var mt=G.nextSibling;mt&&mt.nodeType!==3&&mt.getAttribute("data-type")==="math-inline"&&P.setStartAfter(mt)}return!(!re||!_e(re,u,h,P)||(h.preventDefault(),0))}(i,l))return}else if(i.currentMode==="ir"&&function(u,h){if(u.ir.composingLock=h.isComposing,h.isComposing)return!1;h.key.indexOf("Arrow")!==-1||h.key==="Meta"||h.key==="Control"||h.key==="Alt"||h.key==="Shift"||h.key==="CapsLock"||h.key==="Escape"||/^F\d{1,2}$/.test(h.key)||u.undo.recordFirstPosition(u,h);var P=(0,ie.zh)(u),G=P.startContainer;if(!hr(h,u,G)||(qr(P,u,h),io(P),h.key!=="Enter"&&h.key!=="Tab"&&h.key!=="Backspace"&&h.key.indexOf("Arrow")===-1&&!(0,y.yl)(h)&&h.key!=="Escape"&&h.key!=="Delete"))return!1;var re=(0,c.a1)(G,"data-newline","1");if(!(0,y.yl)(h)&&!h.altKey&&!h.shiftKey&&h.key==="Enter"&&re&&P.startOffset<re.textContent.length){var ee=re.previousElementSibling;ee&&(P.insertNode(document.createTextNode(ee.textContent)),P.collapse(!1));var Q=re.nextSibling;Q&&(P.insertNode(document.createTextNode(Q.textContent)),P.collapse(!0))}var Se=(0,c.lG)(G,"P");if(xt(h,u,Se,P)||rn(P,u,Se,h)||Ei(u,P,h,Se))return!0;var je=(0,c.fb)(G,"vditor-ir__marker--pre");if(je&&je.tagName==="PRE"){var Ke=je.firstChild;if(Ur(u,h,je,P)||(Ke.getAttribute("data-type")==="math-block"||Ke.getAttribute("data-type")==="html-block")&&Tn(u,h,P,Ke,je.parentElement)||Ht(u,h,P,Ke,je.parentElement))return!0}var xe=(0,c.a1)(G,"data-type","code-block-info");if(xe){if(h.key==="Enter"||h.key==="Tab")return P.selectNodeContents(xe.nextElementSibling.firstChild),P.collapse(!0),h.preventDefault(),s(u,["hint"]),!0;if(h.key==="Backspace"){var He=(0,ie.im)(xe,u.ir.element).start;He===1&&P.setStart(G,0),He===2&&(u.hint.recentLanguage="")}if(Tn(u,h,P,xe,xe.parentElement))return s(u,["hint"]),!0}var nt=(0,c.lG)(G,"TD")||(0,c.lG)(G,"TH");if(h.key.indexOf("Arrow")>-1&&nt){var $e=mr(nt);if($e&&Tn(u,h,P,nt,$e))return!0;var Qe=Wr(nt);if(Qe&&Ht(u,h,P,nt,Qe))return!0}if(no(u,h,P)||ro(u,P,h)||An(u,P,h))return!0;var Je=(0,_.W)(G);if(Je){var Le;if(me("\u2318=",h))return(Le=Je.querySelector(".vditor-ir__marker--heading"))&&Le.textContent.trim().length>1&&si(u,Le.textContent.substr(1)),h.preventDefault(),!0;if(me("\u2318-",h))return(Le=Je.querySelector(".vditor-ir__marker--heading"))&&Le.textContent.trim().length<6&&si(u,Le.textContent.trim()+"# "),h.preventDefault(),!0}var rt=(0,c.F9)(G);if(h.key==="Backspace"&&!(0,y.yl)(h)&&!h.shiftKey&&!h.altKey&&P.toString()===""){if(Li(u,P,h,Se))return!0;if(rt&&rt.previousElementSibling&&rt.tagName!=="UL"&&rt.tagName!=="OL"&&(rt.previousElementSibling.getAttribute("data-type")==="code-block"||rt.previousElementSibling.getAttribute("data-type")==="math-block")){var wt=(0,ie.im)(rt,u.ir.element,P).start;if(wt===0||wt===1&&rt.innerText.startsWith(m.g.ZWSP))return P.selectNodeContents(rt.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),P.collapse(!1),ve(P,u),rt.textContent.trim().replace(m.g.ZWSP,"")===""&&(rt.remove(),gr(u)),h.preventDefault(),!0}if(Je){var gt=Je.firstElementChild.textContent.length;(0,ie.im)(Je,u.ir.element).start===gt&&(P.setStart(Je.firstElementChild.firstChild,gt-1),P.collapse(!0),(0,ie.Hc)(P))}}return!((h.key!=="ArrowUp"&&h.key!=="ArrowDown"||!rt||(rt.querySelectorAll(".vditor-ir__node").forEach(function(mt){mt.contains(G)||mt.classList.add("vditor-ir__node--hidden")}),!oo(h,rt,P)))&&(Zt(P,h.key),!rt||!_e(rt,u,h,P)||(h.preventDefault(),0)))}(i,l))return;if(i.options.ctrlEnter&&me("\u2318Enter",l))return i.options.ctrlEnter(w(i)),void l.preventDefault();if(me("\u2318Z",l)&&!i.toolbar.elements.undo)return i.undo.undo(i),void l.preventDefault();if(me("\u2318Y",l)&&!i.toolbar.elements.redo)return i.undo.redo(i),void l.preventDefault();if(l.key==="Escape")return i.hint.element.style.display==="block"?i.hint.element.style.display="none":i.options.esc&&!l.isComposing&&i.options.esc(w(i)),void l.preventDefault();if((0,y.yl)(l)&&l.altKey&&!l.shiftKey&&/^Digit[1-6]$/.test(l.code)){if(i.currentMode==="wysiwyg"){var d=l.code.replace("Digit","H");(0,c.lG)(getSelection().getRangeAt(0).startContainer,d)?Ee(i):Pe(i,d),fe(i)}else i.currentMode==="sv"?er(i,"#".repeat(parseInt(l.code.replace("Digit",""),10))+" "):i.currentMode==="ir"&&si(i,"#".repeat(parseInt(l.code.replace("Digit",""),10))+" ");return l.preventDefault(),!0}if((0,y.yl)(l)&&l.altKey&&!l.shiftKey&&/^Digit[7-9]$/.test(l.code))return l.code==="Digit7"?Ft(i,"wysiwyg",l):l.code==="Digit8"?Ft(i,"ir",l):l.code==="Digit9"&&Ft(i,"sv",l),!0;i.options.toolbar.find(function(u){return!u.hotkey||u.toolbar?!!u.toolbar&&!!u.toolbar.find(function(h){return!!h.hotkey&&(me(h.hotkey,l)?(i.toolbar.elements[h.name].children[0].dispatchEvent(new CustomEvent((0,y.Le)())),l.preventDefault(),!0):void 0)}):me(u.hotkey,l)?(i.toolbar.elements[u.name].children[0].dispatchEvent(new CustomEvent((0,y.Le)())),l.preventDefault(),!0):void 0})}})},Nn=function(i,o){o.addEventListener("selectstart",function(l){o.onmouseup=function(){setTimeout(function(){var d=ln(i[i.currentMode].element);d.trim()?(i.currentMode==="wysiwyg"&&i.options.comment.enable&&((0,c.a1)(l.target,"data-type","footnotes-block")||(0,c.a1)(l.target,"data-type","link-ref-defs-block")?i.wysiwyg.hideComment():i.wysiwyg.showComment()),i.options.select&&i.options.select(d)):i.currentMode==="wysiwyg"&&i.options.comment.enable&&i.wysiwyg.hideComment()})}})},xi=function(i,o){var l=(0,ie.zh)(i);l.extractContents(),l.insertNode(document.createTextNode(Lute.Caret)),l.insertNode(document.createTextNode(o));var d=(0,c.a1)(l.startContainer,"data-block","0");d||(d=i.sv.element);var u=i.lute.SpinVditorSVDOM(d.textContent);u=u.indexOf('data-type="footnotes-link"')>-1||u.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+u+"</div>":"<div data-block='0'>"+u.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",d.isEqualNode(i.sv.element)?d.innerHTML=u:d.outerHTML=u,(0,ie.ib)(i.sv.element,l),Xt(i)},fr=function(i,o,l){l===void 0&&(l=!0);var d=i;for(d.nodeType===3&&(d=d.parentElement);d;){if(d.getAttribute("data-type")===o)return d;d=l?d.previousElementSibling:d.nextElementSibling}return!1},ii=function(i,o){z("SpinVditorSVDOM",i,"argument",o.options.debugger);var l=o.lute.SpinVditorSVDOM(i);return i=l.indexOf('data-type="footnotes-link"')>-1||l.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+l+"</div>":"<div data-block='0'>"+l.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",z("SpinVditorSVDOM",i,"result",o.options.debugger),i},oi=function(i){var o=i.getAttribute("data-type"),l=i.previousElementSibling,d=o&&o!=="text"&&o!=="table"&&o!=="heading-marker"&&o!=="newline"&&o!=="yaml-front-matter-open-marker"&&o!=="yaml-front-matter-close-marker"&&o!=="code-block-info"&&o!=="code-block-close-marker"&&o!=="code-block-open-marker"?i.textContent:"",u=!1;for(o==="newline"&&(u=!0);l&&!u;){var h=l.getAttribute("data-type");if(h==="li-marker"||h==="blockquote-marker"||h==="task-marker"||h==="padding"){var P=l.textContent;if(h!=="li-marker"||o!=="code-block-open-marker"&&o!=="code-block-info")if(o==="code-block-close-marker"&&l.nextElementSibling.isSameNode(i)){var G=fr(i,"code-block-open-marker");G&&G.previousElementSibling&&(l=G.previousElementSibling,d=P+d)}else d=P+d;else d=P.replace(/\S/g," ")+d}else h==="newline"&&(u=!0);l=l.previousElementSibling}return d},$t=function(i,o){o===void 0&&(o={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),o.enableHint&&i.hint.render(i),i.preview.render(i);var l=w(i);typeof i.options.input=="function"&&o.enableInput&&i.options.input(l),i.options.counter.enable&&i.counter.render(i,l),i.options.cache.enable&&(0,y.pK)()&&(localStorage.setItem(i.options.cache.id,l),i.options.cache.after&&i.options.cache.after(l)),i.devtools&&i.devtools.renderEchart(i),clearTimeout(i.sv.processTimeoutId),i.sv.processTimeoutId=window.setTimeout(function(){o.enableAddUndoStack&&!i.sv.composingLock&&i.undo.addToUndoStack(i)},i.options.undoDelay)},er=function(i,o){var l=(0,ie.zh)(i),d=(0,_.S)(l.startContainer,"SPAN");d&&d.textContent.trim()!==""&&(o=`
`+o),l.collapse(!0),document.execCommand("insertHTML",!1,o)},sr=function(i,o,l,d){var u=(0,ie.zh)(i),h=o.getAttribute("data-type");i.sv.element.childNodes.length===0&&(i.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,ie.ib)(i.sv.element,u));var P=(0,c.F9)(u.startContainer),G=(0,_.S)(u.startContainer,"SPAN");if(P){if(h==="link"){var re=void 0;return re=u.toString()===""?""+l+Lute.Caret+d:""+l+u.toString()+d.replace(")",Lute.Caret+")"),void document.execCommand("insertHTML",!1,re)}if(h==="italic"||h==="bold"||h==="strike"||h==="inline-code"||h==="code"||h==="table"||h==="line")return re=void 0,re=u.toString()===""?""+l+Lute.Caret+(h==="code"?"":d):""+l+u.toString()+Lute.Caret+(h==="code"?"":d),h==="table"||h==="code"&&G&&G.textContent!==""?re=`

`+re:h==="line"&&(re=`

`+l+`
`+Lute.Caret),void document.execCommand("insertHTML",!1,re);if((h==="check"||h==="list"||h==="ordered-list"||h==="quote")&&G){var ee="* ";h==="check"?ee="* [ ] ":h==="ordered-list"?ee="1. ":h==="quote"&&(ee="> ");var Q=fr(G,"newline");return Q?Q.insertAdjacentText("afterend",ee):P.insertAdjacentText("afterbegin",ee),void Fe(i)}(0,ie.ib)(i.sv.element,u),$t(i)}},ai=function(i){switch(i.currentMode){case"ir":return i.ir.element;case"wysiwyg":return i.wysiwyg.element;case"sv":return i.sv.element}},$n=function(i,o){i.options.upload.setHeaders&&(i.options.upload.headers=i.options.upload.setHeaders()),i.options.upload.headers&&Object.keys(i.options.upload.headers).forEach(function(l){o.setRequestHeader(l,i.options.upload.headers[l])})},Er=function(i,o,l,d){return new(l||(l=Promise))(function(u,h){function P(ee){try{re(d.next(ee))}catch(Q){h(Q)}}function G(ee){try{re(d.throw(ee))}catch(Q){h(Q)}}function re(ee){var Q;ee.done?u(ee.value):(Q=ee.value,Q instanceof l?Q:new l(function(Se){Se(Q)})).then(P,G)}re((d=d.apply(i,o||[])).next())})},Si=function(i,o){var l,d,u,h,P={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return h={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function G(re){return function(ee){return function(Q){if(l)throw new TypeError("Generator is already executing.");for(;P;)try{if(l=1,d&&(u=2&Q[0]?d.return:Q[0]?d.throw||((u=d.return)&&u.call(d),0):d.next)&&!(u=u.call(d,Q[1])).done)return u;switch(d=0,u&&(Q=[2&Q[0],u.value]),Q[0]){case 0:case 1:u=Q;break;case 4:return P.label++,{value:Q[1],done:!1};case 5:P.label++,d=Q[1],Q=[0];continue;case 7:Q=P.ops.pop(),P.trys.pop();continue;default:if(u=P.trys,!((u=u.length>0&&u[u.length-1])||Q[0]!==6&&Q[0]!==2)){P=0;continue}if(Q[0]===3&&(!u||Q[1]>u[0]&&Q[1]<u[3])){P.label=Q[1];break}if(Q[0]===6&&P.label<u[1]){P.label=u[1],u=Q;break}if(u&&P.label<u[2]){P.label=u[2],P.ops.push(Q);break}u[2]&&P.ops.pop(),P.trys.pop();continue}Q=o.call(i,P)}catch(Se){Q=[6,Se],d=0}finally{l=u=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([re,ee])}}},Br=function(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"},Sn=function(i,o,l){return Er(void 0,void 0,void 0,function(){var d,u,h,P,G,re,ee,Q,Se,je,Ke,xe,He,nt;return Si(this,function($e){switch($e.label){case 0:for(d=[],u=i.options.upload.multiple===!0?o.length:1,xe=0;xe<u;xe++)(h=o[xe])instanceof DataTransferItem&&(h=h.getAsFile()),d.push(h);return i.options.upload.handler?[4,i.options.upload.handler(d)]:[3,2];case 1:return P=$e.sent(),l&&(l.value=""),typeof P=="string"?(i.tip.show(P),[2]):[2];case 2:return i.options.upload.url&&i.upload?i.options.upload.file?[4,i.options.upload.file(d)]:[3,4]:(l&&(l.value=""),i.tip.show("please config: options.upload.url"),[2]);case 3:d=$e.sent(),$e.label=4;case 4:if(i.options.upload.validate&&typeof(P=i.options.upload.validate(d))=="string")return i.tip.show(P),[2];if(G=ai(i),i.upload.range=(0,ie.zh)(i),re=function(Qe,Je){Qe.tip.hide();for(var Le=[],rt="",wt="",gt=(Qe.options.lang,Qe.options,function(dt,Et){var qt=Je[Et],Yt=!0;qt.name||(rt+="<li>"+window.VditorI18n.nameEmpty+"</li>",Yt=!1),qt.size>Qe.options.upload.max&&(rt+="<li>"+qt.name+" "+window.VditorI18n.over+" "+Qe.options.upload.max/1024/1024+"M</li>",Yt=!1);var rr=qt.name.lastIndexOf("."),Pn=qt.name.substr(rr),Fn=Qe.options.upload.filename(qt.name.substr(0,rr))+Pn;Qe.options.upload.accept&&(Qe.options.upload.accept.split(",").some(function(sn){var Jn=sn.trim();if(Jn.indexOf(".")===0){if(Pn.toLowerCase()===Jn.toLowerCase())return!0}else if(qt.type.split("/")[0]===Jn.split("/")[0])return!0;return!1})||(rt+="<li>"+qt.name+" "+window.VditorI18n.fileTypeError+"</li>",Yt=!1)),Yt&&(Le.push(qt),wt+="<li>"+Fn+" "+window.VditorI18n.uploading+"</li>")}),mt=Je.length,bt=0;bt<mt;bt++)gt(0,bt);return Qe.tip.show("<ul>"+rt+wt+"</ul>"),Le}(i,d),re.length===0)return l&&(l.value=""),[2];for(ee=new FormData,Q=i.options.upload.extraData,Se=0,je=Object.keys(Q);Se<je.length;Se++)Ke=je[Se],ee.append(Ke,Q[Ke]);for(xe=0,He=re.length;xe<He;xe++)ee.append(i.options.upload.fieldName,re[xe]);return(nt=new XMLHttpRequest).open("POST",i.options.upload.url),i.options.upload.token&&nt.setRequestHeader("X-Upload-Token",i.options.upload.token),i.options.upload.withCredentials&&(nt.withCredentials=!0),$n(i,nt),i.upload.isUploading=!0,G.setAttribute("contenteditable","false"),nt.onreadystatechange=function(){if(nt.readyState===XMLHttpRequest.DONE){if(i.upload.isUploading=!1,G.setAttribute("contenteditable","true"),nt.status>=200&&nt.status<300)if(i.options.upload.success)i.options.upload.success(G,nt.responseText);else{var Qe=nt.responseText;i.options.upload.format&&(Qe=i.options.upload.format(o,nt.responseText)),function(Je,Le){ai(Le).focus();var rt=JSON.parse(Je),wt="";rt.code===1&&(wt=""+rt.msg),rt.data.errFiles&&rt.data.errFiles.length>0&&(wt="<ul><li>"+wt+"</li>",rt.data.errFiles.forEach(function(mt){var bt=mt.lastIndexOf("."),dt=Le.options.upload.filename(mt.substr(0,bt))+mt.substr(bt);wt+="<li>"+dt+" "+window.VditorI18n.uploadError+"</li>"}),wt+="</ul>"),wt?Le.tip.show(wt):Le.tip.hide();var gt="";Object.keys(rt.data.succMap).forEach(function(mt){var bt=rt.data.succMap[mt],dt=mt.lastIndexOf("."),Et=mt.substr(dt),qt=Le.options.upload.filename(mt.substr(0,dt))+Et;(Et=Et.toLowerCase()).indexOf(".wav")===0||Et.indexOf(".mp3")===0||Et.indexOf(".ogg")===0?Le.currentMode==="wysiwyg"?gt+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`+bt+'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="'+bt+`"></audio></pre></div>
`:Le.currentMode==="ir"?gt+='<audio controls="controls" src="'+bt+`"></audio>
`:gt+="["+qt+"]("+bt+`)
`:Et.indexOf(".apng")===0||Et.indexOf(".bmp")===0||Et.indexOf(".gif")===0||Et.indexOf(".ico")===0||Et.indexOf(".cur")===0||Et.indexOf(".jpg")===0||Et.indexOf(".jpeg")===0||Et.indexOf(".jfif")===0||Et.indexOf(".pjp")===0||Et.indexOf(".pjpeg")===0||Et.indexOf(".png")===0||Et.indexOf(".svg")===0||Et.indexOf(".webp")===0?Le.currentMode==="wysiwyg"?gt+='<img alt="'+qt+'" src="'+bt+`">
`:gt+="!["+qt+"]("+bt+`)
`:Le.currentMode==="wysiwyg"?gt+='<a href="'+bt+'">'+qt+`</a>
`:gt+="["+qt+"]("+bt+`)
`}),(0,ie.Hc)(Le.upload.range),document.execCommand("insertHTML",!1,gt),Le.upload.range=getSelection().getRangeAt(0).cloneRange()}(Qe,i)}else i.options.upload.error?i.options.upload.error(nt.responseText):i.tip.show(nt.responseText);l&&(l.value=""),i.upload.element.style.display="none"}},nt.upload.onprogress=function(Qe){if(Qe.lengthComputable){var Je=Qe.loaded/Qe.total*100;i.upload.element.style.display="block",i.upload.element.style.width=Je+"%"}},nt.send(ee),[2]}})})},Gn=function(i,o,l){var d,u=(0,c.F9)(o.startContainer);if(u||(u=i.wysiwyg.element),l&&l.inputType!=="formatItalic"&&l.inputType!=="deleteByDrag"&&l.inputType!=="insertFromDrop"&&l.inputType!=="formatBold"&&l.inputType!=="formatRemove"&&l.inputType!=="formatStrikeThrough"&&l.inputType!=="insertUnorderedList"&&l.inputType!=="insertOrderedList"&&l.inputType!=="formatOutdent"&&l.inputType!=="formatIndent"&&l.inputType!==""||!l){var h=function(Je){for(var Le=Je.previousSibling;Le;){if(Le.nodeType!==3&&Le.tagName==="A"&&!Le.previousSibling&&Le.innerHTML.replace(m.g.ZWSP,"")===""&&Le.nextSibling)return Le;Le=Le.previousSibling}return!1}(o.startContainer);h&&h.remove(),i.wysiwyg.element.querySelectorAll("wbr").forEach(function(Je){Je.remove()}),o.insertNode(document.createElement("wbr")),u.querySelectorAll("[style]").forEach(function(Je){Je.removeAttribute("style")}),u.querySelectorAll(".vditor-comment").forEach(function(Je){Je.textContent.trim()===""&&(Je.classList.remove("vditor-comment","vditor-comment--focus"),Je.removeAttribute("data-cmtids"))}),(d=u.previousElementSibling)===null||d===void 0||d.querySelectorAll(".vditor-comment").forEach(function(Je){Je.textContent.trim()===""&&(Je.classList.remove("vditor-comment","vditor-comment--focus"),Je.removeAttribute("data-cmtids"))});var P="";u.getAttribute("data-type")==="link-ref-defs-block"&&(u=i.wysiwyg.element);var G,re=u.isEqualNode(i.wysiwyg.element),ee=(0,c.a1)(u,"data-type","footnotes-block");if(re)P=u.innerHTML;else{var Q=(0,c.O9)(o.startContainer);if(Q&&!ee){var Se=(0,_.S)(o.startContainer,"BLOCKQUOTE");u=Se?(0,c.F9)(o.startContainer)||u:Q}if(ee&&(u=ee),P=u.outerHTML,u.tagName==="UL"||u.tagName==="OL"){var je=u.previousElementSibling,Ke=u.nextElementSibling;!je||je.tagName!=="UL"&&je.tagName!=="OL"||(P=je.outerHTML+P,je.remove()),!Ke||Ke.tagName!=="UL"&&Ke.tagName!=="OL"||(P+=Ke.outerHTML,Ke.remove()),P=P.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}u.innerText.startsWith("```")||(i.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(Je){Je&&!u.isEqualNode(Je)&&(P+=Je.outerHTML,Je.remove())}),i.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(Je){Je&&!u.isEqualNode(Je)&&(P+=Je.outerHTML,Je.remove())}))}if((P=P.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""))==='<p data-block="0">```<wbr></p>'&&i.hint.recentLanguage&&(P='<p data-block="0">```<wbr></p>'.replace("```","```"+i.hint.recentLanguage)),z("SpinVditorDOM",P,"argument",i.options.debugger),P=i.lute.SpinVditorDOM(P),z("SpinVditorDOM",P,"result",i.options.debugger),re)u.innerHTML=P;else if(u.outerHTML=P,ee){var xe=(0,c.E2)(i.wysiwyg.element.querySelector("wbr"),"LI");if(xe){var He=i.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+xe.getAttribute("data-marker")+'"]');He&&He.setAttribute("aria-label",xe.textContent.trim().substr(0,24))}}var nt,$e=i.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");$e.forEach(function(Je,Le){Le===0?G=Je:(G.insertAdjacentHTML("beforeend",Je.innerHTML),Je.remove())}),$e.length>0&&i.wysiwyg.element.insertAdjacentElement("beforeend",$e[0]);var Qe=i.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");Qe.forEach(function(Je,Le){Le===0?nt=Je:(nt.insertAdjacentHTML("beforeend",Je.innerHTML),Je.remove())}),Qe.length>0&&i.wysiwyg.element.insertAdjacentElement("beforeend",Qe[0]),(0,ie.ib)(i.wysiwyg.element,o),i.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Je){ye(Je,i)}),l&&(l.inputType==="deleteContentBackward"||l.inputType==="deleteContentForward")&&i.options.comment.enable&&(i.wysiwyg.triggerRemoveComment(i),i.options.comment.adjustTop(i.wysiwyg.getComments(i,!0)))}ne(i),fe(i,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},Lr=function(i,o){return Object.defineProperty?Object.defineProperty(i,"raw",{value:o}):i.raw=o,i},Ci=function(i,o,l,d){return new(l||(l=Promise))(function(u,h){function P(ee){try{re(d.next(ee))}catch(Q){h(Q)}}function G(ee){try{re(d.throw(ee))}catch(Q){h(Q)}}function re(ee){var Q;ee.done?u(ee.value):(Q=ee.value,Q instanceof l?Q:new l(function(Se){Se(Q)})).then(P,G)}re((d=d.apply(i,o||[])).next())})},pr=function(i,o){var l,d,u,h,P={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return h={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function G(re){return function(ee){return function(Q){if(l)throw new TypeError("Generator is already executing.");for(;P;)try{if(l=1,d&&(u=2&Q[0]?d.return:Q[0]?d.throw||((u=d.return)&&u.call(d),0):d.next)&&!(u=u.call(d,Q[1])).done)return u;switch(d=0,u&&(Q=[2&Q[0],u.value]),Q[0]){case 0:case 1:u=Q;break;case 4:return P.label++,{value:Q[1],done:!1};case 5:P.label++,d=Q[1],Q=[0];continue;case 7:Q=P.ops.pop(),P.trys.pop();continue;default:if(u=P.trys,!((u=u.length>0&&u[u.length-1])||Q[0]!==6&&Q[0]!==2)){P=0;continue}if(Q[0]===3&&(!u||Q[1]>u[0]&&Q[1]<u[3])){P.label=Q[1];break}if(Q[0]===6&&P.label<u[1]){P.label=u[1],u=Q;break}if(u&&P.label<u[2]){P.label=u[2],P.ops.push(Q);break}u[2]&&P.ops.pop(),P.trys.pop();continue}Q=o.call(i,P)}catch(Se){Q=[6,Se],d=0}finally{l=u=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([re,ee])}}},hr=function(i,o,l){if(i.keyCode===229&&i.code===""&&i.key==="Unidentified"&&o.currentMode!=="sv"){var d=(0,c.F9)(l);if(d&&d.textContent.trim()==="")return o[o.currentMode].composingLock=!0,!1}return!0},qr=function(i,o,l){if(!(l.key==="Enter"||l.key==="Tab"||l.key==="Backspace"||l.key.indexOf("Arrow")>-1||(0,y.yl)(l)||l.key==="Escape"||l.shiftKey||l.altKey)){var d=(0,c.lG)(i.startContainer,"P")||(0,c.lG)(i.startContainer,"LI");if(d&&(0,ie.im)(d,o[o.currentMode].element,i).start===0){d.nodeValue&&(d.nodeValue=d.nodeValue.replace(/\u2006/g,""));var u=document.createTextNode(m.g.ZWSP);i.insertNode(u),i.setStartAfter(u)}}},Zt=function(i,o){if(o==="ArrowDown"||o==="ArrowUp"){var l=(0,c.a1)(i.startContainer,"data-type","math-inline")||(0,c.a1)(i.startContainer,"data-type","html-entity")||(0,c.a1)(i.startContainer,"data-type","html-inline");l&&(o==="ArrowDown"&&i.setStartAfter(l.parentElement),o==="ArrowUp"&&i.setStartBefore(l.parentElement))}},pt=function(i,o){var l=(0,ie.zh)(i),d=(0,c.F9)(l.startContainer);d&&(d.insertAdjacentHTML(o,'<p data-block="0">'+m.g.ZWSP+`<wbr>
</p>`),(0,ie.ib)(i[i.currentMode].element,l),an(i),ft(i))},mr=function(i){var o=(0,c.lG)(i,"TABLE");return!(!o||!o.rows[0].cells[0].isSameNode(i))&&o},Wr=function(i){var o=(0,c.lG)(i,"TABLE");return!(!o||!o.lastElementChild.lastElementChild.lastElementChild.isSameNode(i))&&o},Rn=function(i,o,l){l===void 0&&(l=!0);var d=i.previousElementSibling;return d||(d=i.parentElement.previousElementSibling?i.parentElement.previousElementSibling.lastElementChild:i.parentElement.parentElement.tagName==="TBODY"&&i.parentElement.parentElement.previousElementSibling?i.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:null),d&&(o.selectNodeContents(d),l||o.collapse(!1),(0,ie.Hc)(o)),d},Ht=function(i,o,l,d,u){var h=(0,ie.im)(d,i[i.currentMode].element,l);if(o.key==="ArrowDown"&&d.textContent.trimRight().substr(h.start).indexOf(`
`)===-1||o.key==="ArrowRight"&&h.start>=d.textContent.trimRight().length){var P=u.nextElementSibling;return!P||P&&(P.tagName==="TABLE"||P.getAttribute("data-type"))?(u.insertAdjacentHTML("afterend",'<p data-block="0">'+m.g.ZWSP+"<wbr></p>"),(0,ie.ib)(i[i.currentMode].element,l)):(l.selectNodeContents(P),l.collapse(!0),(0,ie.Hc)(l)),o.preventDefault(),!0}return!1},Tn=function(i,o,l,d,u){var h=(0,ie.im)(d,i[i.currentMode].element,l);if(o.key==="ArrowUp"&&d.textContent.substr(0,h.start).indexOf(`
`)===-1||(o.key==="ArrowLeft"||o.key==="Backspace"&&l.toString()==="")&&h.start===0){var P=u.previousElementSibling;return!P||P&&(P.tagName==="TABLE"||P.getAttribute("data-type"))?(u.insertAdjacentHTML("beforebegin",'<p data-block="0">'+m.g.ZWSP+"<wbr></p>"),(0,ie.ib)(i[i.currentMode].element,l)):(l.selectNodeContents(P),l.collapse(!1),(0,ie.Hc)(l)),o.preventDefault(),!0}return!1},V=function(i,o,l,d){d===void 0&&(d=!0);var u=(0,c.lG)(o.startContainer,"LI");if(i[i.currentMode].element.querySelectorAll("wbr").forEach(function(Q){Q.remove()}),o.insertNode(document.createElement("wbr")),d&&u){for(var h="",P=0;P<u.parentElement.childElementCount;P++){var G=u.parentElement.children[P].querySelector("input");G&&G.remove(),h+='<p data-block="0">'+u.parentElement.children[P].innerHTML.trimLeft()+"</p>"}u.parentElement.insertAdjacentHTML("beforebegin",h),u.parentElement.remove()}else if(u)if(l==="check")u.parentElement.querySelectorAll("li").forEach(function(Q){Q.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'+(Q.textContent.indexOf(" ")===0?"":" ")),Q.classList.add("vditor-task")});else{u.querySelector("input")&&u.parentElement.querySelectorAll("li").forEach(function(Q){Q.querySelector("input").remove(),Q.classList.remove("vditor-task")});var re=void 0;l==="list"?(re=document.createElement("ul")).setAttribute("data-marker","*"):(re=document.createElement("ol")).setAttribute("data-marker","1."),re.setAttribute("data-block","0"),re.setAttribute("data-tight",u.parentElement.getAttribute("data-tight")),re.innerHTML=u.parentElement.innerHTML,u.parentElement.parentNode.replaceChild(re,u.parentElement)}else{var ee=(0,c.a1)(o.startContainer,"data-block","0");ee||(i[i.currentMode].element.querySelector("wbr").remove(),(ee=i[i.currentMode].element.querySelector("p")).innerHTML="<wbr>"),l==="check"?(ee.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '+ee.innerHTML+"</li></ul>"),ee.remove()):l==="list"?(ee.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'+ee.innerHTML+"</li></ul>"),ee.remove()):l==="ordered-list"&&(ee.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'+ee.innerHTML+"</li></ol>"),ee.remove())}},ue=function(i,o,l){var d=o.previousElementSibling;if(o&&d){var u=[o];Array.from(l.cloneContents().children).forEach(function(re,ee){re.nodeType!==3&&o&&re.textContent.trim()!==""&&o.getAttribute("data-node-id")===re.getAttribute("data-node-id")&&(ee!==0&&u.push(o),o=o.nextElementSibling)}),i[i.currentMode].element.querySelectorAll("wbr").forEach(function(re){re.remove()}),l.insertNode(document.createElement("wbr"));var h=d.parentElement,P="";u.forEach(function(re){var ee=re.getAttribute("data-marker");ee.length!==1&&(ee="1"+ee.slice(-1)),P+='<li data-node-id="'+re.getAttribute("data-node-id")+'" data-marker="'+ee+'">'+re.innerHTML+"</li>",re.remove()}),d.insertAdjacentHTML("beforeend","<"+h.tagName+' data-block="0">'+P+"</"+h.tagName+">"),i.currentMode==="wysiwyg"?h.outerHTML=i.lute.SpinVditorDOM(h.outerHTML):h.outerHTML=i.lute.SpinVditorIRDOM(h.outerHTML),(0,ie.ib)(i[i.currentMode].element,l);var G=(0,c.O9)(l.startContainer);G&&G.querySelectorAll(".vditor-"+i.currentMode+"__preview[data-render='2']").forEach(function(re){ye(re,i),i.currentMode==="wysiwyg"&&re.previousElementSibling.setAttribute("style","display:none")}),ft(i),an(i)}else i[i.currentMode].element.focus()},he=function(i,o,l,d){var u=(0,c.lG)(o.parentElement,"LI");if(u){i[i.currentMode].element.querySelectorAll("wbr").forEach(function(Se){Se.remove()}),l.insertNode(document.createElement("wbr"));var h=o.parentElement,P=h.cloneNode(),G=[o];Array.from(l.cloneContents().children).forEach(function(Se,je){Se.nodeType!==3&&o&&Se.textContent.trim()!==""&&o.getAttribute("data-node-id")===Se.getAttribute("data-node-id")&&(je!==0&&G.push(o),o=o.nextElementSibling)});var re=!1,ee="";h.querySelectorAll("li").forEach(function(Se){re&&(ee+=Se.outerHTML,Se.nextElementSibling||Se.previousElementSibling?Se.remove():Se.parentElement.remove()),Se.isSameNode(G[G.length-1])&&(re=!0)}),G.reverse().forEach(function(Se){u.insertAdjacentElement("afterend",Se)}),ee&&(P.innerHTML=ee,G[0].insertAdjacentElement("beforeend",P)),i.currentMode==="wysiwyg"?d.outerHTML=i.lute.SpinVditorDOM(d.outerHTML):d.outerHTML=i.lute.SpinVditorIRDOM(d.outerHTML),(0,ie.ib)(i[i.currentMode].element,l);var Q=(0,c.O9)(l.startContainer);Q&&Q.querySelectorAll(".vditor-"+i.currentMode+"__preview[data-render='2']").forEach(function(Se){ye(Se,i),i.currentMode==="wysiwyg"&&Se.previousElementSibling.setAttribute("style","display:none")}),ft(i),an(i)}else i[i.currentMode].element.focus()},Ce=function(i,o){for(var l=getSelection().getRangeAt(0).startContainer.parentElement,d=i.rows[0].cells.length,u=i.rows.length,h=0,P=0;P<u;P++)for(var G=0;G<d;G++)if(i.rows[P].cells[G].isSameNode(l)){h=G;break}for(var re=0;re<u;re++)i.rows[re].cells[h].setAttribute("align",o)},kt=function(i){var o=i.trimRight().split(`
`).pop();return o!==""&&(o.replace(/ |-/g,"")===""||o.replace(/ |_/g,"")===""||o.replace(/ |\*/g,"")==="")&&o.replace(/ /g,"").length>2&&!(o.indexOf("-")>-1&&o.trimLeft().indexOf(" ")===-1&&i.trimRight().split(`
`).length>1)&&o.indexOf("    ")!==0&&o.indexOf("	")!==0},Ot=function(i){var o=i.trimRight().split(`
`);return(i=o.pop()).indexOf("    ")!==0&&i.indexOf("	")!==0&&(i=i.trimLeft())!==""&&o.length!==0&&(i.replace(/-/g,"")===""||i.replace(/=/g,"")==="")},ft=function(i,o){o===void 0&&(o={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),i.currentMode==="wysiwyg"?fe(i,o):i.currentMode==="ir"?gr(i,o):i.currentMode==="sv"&&$t(i,o)},rn=function(i,o,l,d){var u,h=i.startContainer,P=(0,c.lG)(h,"LI");if(P){if(!(0,y.yl)(d)&&!d.altKey&&d.key==="Enter"&&!d.shiftKey&&l&&P.contains(l)&&l.nextElementSibling)return P&&!P.textContent.endsWith(`
`)&&P.insertAdjacentText("beforeend",`
`),i.insertNode(document.createTextNode(`

`)),i.collapse(!1),ft(o),d.preventDefault(),!0;if(!((0,y.yl)(d)||d.shiftKey||d.altKey||d.key!=="Backspace"||P.previousElementSibling||i.toString()!==""||(0,ie.im)(P,o[o.currentMode].element,i).start!==0))return P.nextElementSibling?(P.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+P.innerHTML+"</p>"),P.remove()):P.parentElement.outerHTML='<p data-block="0"><wbr>'+P.innerHTML+"</p>",(0,ie.ib)(o[o.currentMode].element,i),ft(o),d.preventDefault(),!0;if(!(0,y.yl)(d)&&!d.shiftKey&&!d.altKey&&d.key==="Backspace"&&P.textContent.trim().replace(m.g.ZWSP,"")===""&&i.toString()===""&&((u=P.previousElementSibling)===null||u===void 0?void 0:u.tagName)==="LI")return P.previousElementSibling.insertAdjacentText("beforeend",`

`),i.selectNodeContents(P.previousElementSibling),i.collapse(!1),P.remove(),(0,ie.ib)(o[o.currentMode].element,i),ft(o),d.preventDefault(),!0;if(!(0,y.yl)(d)&&!d.altKey&&d.key==="Tab"){var G=!1;if((i.startOffset===0&&(h.nodeType===3&&!h.previousSibling||h.nodeType!==3&&h.nodeName==="LI")||P.classList.contains("vditor-task")&&i.startOffset===1&&h.previousSibling.nodeType!==3&&h.previousSibling.tagName==="INPUT")&&(G=!0),G||i.toString()!=="")return d.shiftKey?he(o,P,i,P.parentElement):ue(o,P,i),d.preventDefault(),!0}}return!1},An=function(i,o,l){if(i.options.tab&&l.key==="Tab")return l.shiftKey||(o.toString()===""?(o.insertNode(document.createTextNode(i.options.tab)),o.collapse(!1)):(o.extractContents(),o.insertNode(document.createTextNode(i.options.tab)),o.collapse(!1))),(0,ie.Hc)(o),ft(i),l.preventDefault(),!0},xt=function(i,o,l,d){if(l){if(!(0,y.yl)(i)&&!i.altKey&&i.key==="Enter"){var u=String.raw(Ct||(Ct=Lr(["",""],["",""])),l.textContent).replace(/\\\|/g,"").trim(),h=u.split("|");if(u.startsWith("|")&&u.endsWith("|")&&h.length>3){var P=h.map(function(){return"---"}).join("|");return P=l.textContent+`
`+P.substring(3,P.length-3)+`
|<wbr>`,l.outerHTML=o.lute.SpinVditorDOM(P),(0,ie.ib)(o[o.currentMode].element,d),ft(o),Xt(o),i.preventDefault(),!0}if(kt(l.innerHTML)&&l.previousElementSibling){var G="",re=l.innerHTML.trimRight().split(`
`);return re.length>1&&(re.pop(),G='<p data-block="0">'+re.join(`
`)+"</p>"),l.insertAdjacentHTML("afterend",G+`<hr data-block="0"><p data-block="0"><wbr>
</p>`),l.remove(),(0,ie.ib)(o[o.currentMode].element,d),ft(o),Xt(o),i.preventDefault(),!0}if(Ot(l.innerHTML))return o.currentMode==="wysiwyg"?l.outerHTML=o.lute.SpinVditorDOM(l.innerHTML+`<p data-block="0"><wbr>
</p>`):l.outerHTML=o.lute.SpinVditorIRDOM(l.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,ie.ib)(o[o.currentMode].element,d),ft(o),Xt(o),i.preventDefault(),!0}if(d.collapsed&&l.previousElementSibling&&i.key==="Backspace"&&!(0,y.yl)(i)&&!i.altKey&&!i.shiftKey&&l.textContent.trimRight().split(`
`).length>1&&(0,ie.im)(l,o[o.currentMode].element,d).start===0){var ee=(0,c.DX)(l.previousElementSibling);return ee.textContent.endsWith(`
`)||(ee.textContent=ee.textContent+`
`),ee.parentElement.insertAdjacentHTML("beforeend","<wbr>"+l.innerHTML),l.remove(),(0,ie.ib)(o[o.currentMode].element,d),!1}return!1}},Fo=function(i,o,l){for(var d="",u=0;u<l.parentElement.childElementCount;u++)d+='<td align="'+l.parentElement.children[u].getAttribute("align")+'"> </td>';l.tagName==="TH"?l.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>"+d+"</tr></tbody>"):l.parentElement.insertAdjacentHTML("afterend","<tr>"+d+"</tr>"),ft(i)},eo=function(i,o,l){for(var d="",u=0;u<l.parentElement.childElementCount;u++)l.tagName==="TH"?d+='<th align="'+l.parentElement.children[u].getAttribute("align")+'"> </th>':d+='<td align="'+l.parentElement.children[u].getAttribute("align")+'"> </td>';if(l.tagName==="TH"){l.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>"+d+"</tr></thead>"),o.insertNode(document.createElement("wbr"));var h=l.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");l.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",h),l.parentElement.parentElement.remove(),(0,ie.ib)(i.ir.element,o)}else l.parentElement.insertAdjacentHTML("beforebegin","<tr>"+d+"</tr>");ft(i)},Hr=function(i,o,l,d){d===void 0&&(d="afterend");for(var u=0,h=l.previousElementSibling;h;)u++,h=h.previousElementSibling;for(var P=0;P<o.rows.length;P++)P===0?o.rows[P].cells[u].insertAdjacentHTML(d,"<th> </th>"):o.rows[P].cells[u].insertAdjacentHTML(d,"<td> </td>");ft(i)},tr=function(i,o,l){if(l.tagName==="TD"){var d=l.parentElement.parentElement;l.parentElement.previousElementSibling?o.selectNodeContents(l.parentElement.previousElementSibling.lastElementChild):o.selectNodeContents(d.previousElementSibling.lastElementChild.lastElementChild),d.childElementCount===1?d.remove():l.parentElement.remove(),o.collapse(!1),(0,ie.Hc)(o),ft(i)}},to=function(i,o,l,d){for(var u=0,h=d.previousElementSibling;h;)u++,h=h.previousElementSibling;(d.previousElementSibling||d.nextElementSibling)&&(o.selectNodeContents(d.previousElementSibling||d.nextElementSibling),o.collapse(!0));for(var P=0;P<l.rows.length;P++){var G=l.rows[P].cells;if(G.length===1){l.remove(),an(i);break}G[u].remove()}(0,ie.Hc)(o),ft(i)},no=function(i,o,l){var d=l.startContainer,u=(0,c.lG)(d,"TD")||(0,c.lG)(d,"TH");if(u){if(!(0,y.yl)(o)&&!o.altKey&&o.key==="Enter"){u.lastElementChild&&(!u.lastElementChild||u.lastElementChild.isSameNode(u.lastChild)&&u.lastElementChild.tagName==="BR")||u.insertAdjacentHTML("beforeend","<br>");var h=document.createElement("br");return l.insertNode(h),l.setStartAfter(h),ft(i),Xt(i),o.preventDefault(),!0}if(o.key==="Tab")return o.shiftKey?(Rn(u,l),o.preventDefault(),!0):((Q=u.nextElementSibling)||(Q=u.parentElement.nextElementSibling?u.parentElement.nextElementSibling.firstElementChild:u.parentElement.parentElement.tagName==="THEAD"&&u.parentElement.parentElement.nextElementSibling?u.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:null),Q&&(l.selectNodeContents(Q),(0,ie.Hc)(l)),o.preventDefault(),!0);var P=u.parentElement.parentElement.parentElement;if(o.key==="ArrowUp"){if(o.preventDefault(),u.tagName==="TH")return P.previousElementSibling?(l.selectNodeContents(P.previousElementSibling),l.collapse(!1),(0,ie.Hc)(l)):pt(i,"beforebegin"),!0;for(var G=0,re=u.parentElement;G<re.cells.length&&!re.cells[G].isSameNode(u);G++);var ee=re.previousElementSibling;return ee||(ee=re.parentElement.previousElementSibling.firstChild),l.selectNodeContents(ee.cells[G]),l.collapse(!1),(0,ie.Hc)(l),!0}if(o.key==="ArrowDown"){var Q;if(o.preventDefault(),!(re=u.parentElement).nextElementSibling&&u.tagName==="TD")return P.nextElementSibling?(l.selectNodeContents(P.nextElementSibling),l.collapse(!0),(0,ie.Hc)(l)):pt(i,"afterend"),!0;for(G=0;G<re.cells.length&&!re.cells[G].isSameNode(u);G++);return(Q=re.nextElementSibling)||(Q=re.parentElement.nextElementSibling.firstChild),l.selectNodeContents(Q.cells[G]),l.collapse(!0),(0,ie.Hc)(l),!0}if(i.currentMode==="wysiwyg"&&!(0,y.yl)(o)&&o.key==="Enter"&&!o.shiftKey&&o.altKey){var Se=i.wysiwyg.popover.querySelector(".vditor-input");return Se.focus(),Se.select(),o.preventDefault(),!0}if(!(0,y.yl)(o)&&!o.shiftKey&&!o.altKey&&o.key==="Backspace"&&l.startOffset===0&&l.toString()==="")return!Rn(u,l,!1)&&P&&(P.textContent.trim()===""?(P.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,ie.ib)(i[i.currentMode].element,l)):(l.setStartBefore(P),l.collapse(!0)),ft(i)),o.preventDefault(),!0;if(me("\u21E7\u2318F",o))return eo(i,l,u),o.preventDefault(),!0;if(me("\u2318=",o))return Fo(i,l,u),o.preventDefault(),!0;if(me("\u21E7\u2318G",o))return Hr(i,P,u,"beforebegin"),o.preventDefault(),!0;if(me("\u21E7\u2318=",o))return Hr(i,P,u),o.preventDefault(),!0;if(me("\u2318-",o))return tr(i,l,u),o.preventDefault(),!0;if(me("\u21E7\u2318-",o))return to(i,l,P,u),o.preventDefault(),!0;if(me("\u21E7\u2318L",o)){if(i.currentMode==="ir")return Ce(P,"left"),ft(i),o.preventDefault(),!0;if(je=i.wysiwyg.popover.querySelector('[data-type="left"]'))return je.click(),o.preventDefault(),!0}if(me("\u21E7\u2318C",o)){if(i.currentMode==="ir")return Ce(P,"center"),ft(i),o.preventDefault(),!0;if(je=i.wysiwyg.popover.querySelector('[data-type="center"]'))return je.click(),o.preventDefault(),!0}if(me("\u21E7\u2318R",o)){if(i.currentMode==="ir")return Ce(P,"right"),ft(i),o.preventDefault(),!0;var je;if(je=i.wysiwyg.popover.querySelector('[data-type="right"]'))return je.click(),o.preventDefault(),!0}}return!1},Ur=function(i,o,l,d){if(l.tagName==="PRE"&&me("\u2318A",o))return d.selectNodeContents(l.firstElementChild),o.preventDefault(),!0;if(i.options.tab&&o.key==="Tab"&&!o.shiftKey&&d.toString()==="")return d.insertNode(document.createTextNode(i.options.tab)),d.collapse(!1),ft(i),o.preventDefault(),!0;if(o.key==="Backspace"&&!(0,y.yl)(o)&&!o.shiftKey&&!o.altKey){var u=(0,ie.im)(l,i[i.currentMode].element,d);if((u.start===0||u.start===1&&l.innerText===`
`)&&d.toString()==="")return l.parentElement.outerHTML='<p data-block="0"><wbr>'+l.firstElementChild.innerHTML+"</p>",(0,ie.ib)(i[i.currentMode].element,d),ft(i),o.preventDefault(),!0}return!(0,y.yl)(o)&&!o.altKey&&o.key==="Enter"&&(l.firstElementChild.textContent.endsWith(`
`)||l.firstElementChild.insertAdjacentText("beforeend",`
`),d.extractContents(),d.insertNode(document.createTextNode(`
`)),d.collapse(!1),(0,ie.Hc)(d),(0,y.vU)()||(i.currentMode==="wysiwyg"?Gn(i,d):Ne(i,d)),Xt(i),o.preventDefault(),!0)},Ei=function(i,o,l,d){var u=o.startContainer,h=(0,c.lG)(u,"BLOCKQUOTE");if(h&&o.toString()===""){if(l.key==="Backspace"&&!(0,y.yl)(l)&&!l.shiftKey&&!l.altKey&&(0,ie.im)(h,i[i.currentMode].element,o).start===0)return o.insertNode(document.createElement("wbr")),h.outerHTML=h.innerHTML,(0,ie.ib)(i[i.currentMode].element,o),ft(i),l.preventDefault(),!0;if(d&&l.key==="Enter"&&!(0,y.yl)(l)&&!l.shiftKey&&!l.altKey&&d.parentElement.tagName==="BLOCKQUOTE"){var P=!1;if(d.innerHTML.replace(m.g.ZWSP,"")===`
`||d.innerHTML.replace(m.g.ZWSP,"")===""?(P=!0,d.remove()):d.innerHTML.endsWith(`

`)&&(0,ie.im)(d,i[i.currentMode].element,o).start===d.textContent.length-1&&(d.innerHTML=d.innerHTML.substr(0,d.innerHTML.length-2),P=!0),P)return h.insertAdjacentHTML("afterend",'<p data-block="0">'+m.g.ZWSP+`<wbr>
</p>`),(0,ie.ib)(i[i.currentMode].element,o),ft(i),l.preventDefault(),!0}var G=(0,c.F9)(u);if(i.currentMode==="wysiwyg"&&G&&me("\u21E7\u2318;",l))return o.insertNode(document.createElement("wbr")),G.outerHTML='<blockquote data-block="0">'+G.outerHTML+"</blockquote>",(0,ie.ib)(i.wysiwyg.element,o),fe(i),l.preventDefault(),!0;if(Ht(i,l,o,h,h)||Tn(i,l,o,h,h))return!0}return!1},ro=function(i,o,l){var d=o.startContainer,u=(0,c.fb)(d,"vditor-task");if(u){if(me("\u21E7\u2318J",l)){var h=u.firstElementChild;return h.checked?h.removeAttribute("checked"):h.setAttribute("checked","checked"),ft(i),l.preventDefault(),!0}if(l.key==="Backspace"&&!(0,y.yl)(l)&&!l.shiftKey&&!l.altKey&&o.toString()===""&&o.startOffset===1&&(d.nodeType===3&&d.previousSibling&&d.previousSibling.tagName==="INPUT"||d.nodeType!==3)){var P=u.previousElementSibling;return u.querySelector("input").remove(),P?((0,c.DX)(P).parentElement.insertAdjacentHTML("beforeend","<wbr>"+u.innerHTML.trim()),u.remove()):(u.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+(u.innerHTML.trim()||`
`)+"</p>"),u.nextElementSibling?u.remove():u.parentElement.remove()),(0,ie.ib)(i[i.currentMode].element,o),ft(i),l.preventDefault(),!0}if(l.key==="Enter"&&!(0,y.yl)(l)&&!l.shiftKey&&!l.altKey){if(u.textContent.trim()==="")if((0,c.fb)(u.parentElement,"vditor-task")){var G=(0,c.O9)(d);G&&he(i,u,o,G)}else if(u.nextElementSibling){var re="",ee="",Q=!1;Array.from(u.parentElement.children).forEach(function(xe){u.isSameNode(xe)?Q=!0:Q?re+=xe.outerHTML:ee+=xe.outerHTML});var Se=u.parentElement.tagName,je=u.parentElement.tagName==="OL"?"":' data-marker="'+u.parentElement.getAttribute("data-marker")+'"',Ke="";ee&&(Ke=u.parentElement.tagName==="UL"?"":' start="1"',ee="<"+Se+' data-tight="true"'+je+' data-block="0">'+ee+"</"+Se+">"),u.parentElement.outerHTML=ee+`<p data-block="0"><wbr>
</p><`+Se+`
 data-tight="true"`+je+' data-block="0"'+Ke+">"+re+"</"+Se+">"}else u.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),u.parentElement.querySelectorAll("li").length===1?u.parentElement.remove():u.remove();else d.nodeType!==3&&o.startOffset===0&&d.firstChild.tagName==="INPUT"?o.setStart(d.childNodes[1],1):(o.setEndAfter(u.lastChild),u.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'+u.getAttribute("data-marker")+'"><input type="checkbox"> <wbr></li>'),document.querySelector("wbr").after(o.extractContents()));return(0,ie.ib)(i[i.currentMode].element,o),ft(i),Xt(i),l.preventDefault(),!0}}return!1},Li=function(i,o,l,d){if(o.startContainer.nodeType!==3){var u=o.startContainer.children[o.startOffset];if(u&&u.tagName==="HR")return o.selectNodeContents(u.previousElementSibling),o.collapse(!1),l.preventDefault(),!0}if(d){var h=d.previousElementSibling;if(h&&(0,ie.im)(d,i[i.currentMode].element,o).start===0&&((0,y.vU)()&&h.tagName==="HR"||h.tagName==="TABLE")){if(h.tagName==="TABLE"){var P=h.lastElementChild.lastElementChild.lastElementChild;P.innerHTML=P.innerHTML.trimLeft()+"<wbr>"+d.textContent.trim(),d.remove()}else h.remove();return(0,ie.ib)(i[i.currentMode].element,o),ft(i),l.preventDefault(),!0}}return!1},io=function(i){(0,y.vU)()&&i.startContainer.nodeType!==3&&i.startContainer.tagName==="HR"&&i.setStartBefore(i.startContainer)},oo=function(i,o,l){var d,u;if(!(0,y.vU)())return!1;if(i.key==="ArrowUp"&&o&&((d=o.previousElementSibling)===null||d===void 0?void 0:d.tagName)==="TABLE"){var h=o.previousElementSibling;return l.selectNodeContents(h.rows[h.rows.length-1].lastElementChild),l.collapse(!1),i.preventDefault(),!0}return!(i.key!=="ArrowDown"||!o||((u=o.nextElementSibling)===null||u===void 0?void 0:u.tagName)!=="TABLE")&&(l.selectNodeContents(o.nextElementSibling.rows[0].cells[0]),l.collapse(!0),i.preventDefault(),!0)},li=function(i,o,l){return Ci(void 0,void 0,void 0,function(){var d,u,h,P,G,re,ee,Q,Se,je,Ke,xe,He,nt,$e,Qe;return pr(this,function(Je){switch(Je.label){case 0:return i[i.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(o.stopPropagation(),o.preventDefault(),"clipboardData"in o?(d=o.clipboardData.getData("text/html"),u=o.clipboardData.getData("text/plain"),h=o.clipboardData.files):(d=o.dataTransfer.getData("text/html"),u=o.dataTransfer.getData("text/plain"),o.dataTransfer.types.includes("Files")&&(h=o.dataTransfer.items)),P={},G=function(Le,rt){if(!rt)return["",Lute.WalkContinue];var wt=Le.TokensStr();if(Le.__internal_object__.Parent.Type===34&&wt&&wt.indexOf("file://")===-1&&i.options.upload.linkToImgUrl){var gt=new XMLHttpRequest;gt.open("POST",i.options.upload.linkToImgUrl),i.options.upload.token&&gt.setRequestHeader("X-Upload-Token",i.options.upload.token),i.options.upload.withCredentials&&(gt.withCredentials=!0),$n(i,gt),gt.setRequestHeader("Content-Type","application/json; charset=utf-8"),gt.onreadystatechange=function(){if(gt.readyState===XMLHttpRequest.DONE){if(gt.status===200){var mt=gt.responseText;i.options.upload.linkToImgFormat&&(mt=i.options.upload.linkToImgFormat(gt.responseText));var bt=JSON.parse(mt);if(bt.code!==0)return void i.tip.show(bt.msg);var dt=bt.data.originalURL;if(i.currentMode==="sv")i.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(qt){qt.textContent===dt&&(qt.textContent=bt.data.url)});else{var Et=i[i.currentMode].element.querySelector('img[src="'+dt+'"]');Et.src=bt.data.url,i.currentMode==="ir"&&(Et.previousElementSibling.previousElementSibling.innerHTML=bt.data.url)}ft(i)}else i.tip.show(gt.responseText);i.options.upload.linkToImgCallback&&i.options.upload.linkToImgCallback(gt.responseText)}},gt.send(JSON.stringify({url:wt}))}return i.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'+Lute.EscapeHTMLStr(wt)+"</span>",Lute.WalkContinue]:i.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'+Lute.EscapeHTMLStr(wt)+"</span>",Lute.WalkContinue]},d.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<a href="'+u+'">'+u+"</a>"&&d.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<!--StartFragment--><a href="'+u+'">'+u+"</a><!--EndFragment-->"||(d=""),(re=new DOMParser().parseFromString(d,"text/html")).body&&(d=re.body.innerHTML),d=Lute.Sanitize(d),i.wysiwyg.getComments(i),ee=i[i.currentMode].element.scrollHeight,Q=function(Le,rt,wt){wt===void 0&&(wt="sv");var gt=document.createElement("div");gt.innerHTML=Le;var mt=!1;gt.childElementCount===1&&gt.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(mt=!0);var bt=gt.querySelectorAll("pre");if(gt.childElementCount===1&&bt.length===1&&bt[0].className!=="vditor-wysiwyg"&&bt[0].className!=="vditor-sv"&&(mt=!0),Le.indexOf(`
<p class="p1">`)===0&&(mt=!0),gt.childElementCount===1&&gt.firstElementChild.tagName==="TABLE"&&gt.querySelector(".line-number")&&gt.querySelector(".line-content")&&(mt=!0),mt){var dt=rt||Le;return/\n/.test(dt)||bt.length===1?wt==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'+dt.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"<wbr></code></pre></div>":"\n```\n"+dt.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":wt==="wysiwyg"?"<code>"+dt.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</code><wbr>":"`"+dt+"`"}return!1}(d,u,i.currentMode),(Se=i.currentMode==="sv"?(0,c.a1)(o.target,"data-type","code-block"):(0,c.lG)(o.target,"CODE"))?(i.currentMode==="sv"?document.execCommand("insertHTML",!1,u.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(je=(0,ie.im)(o.target,i[i.currentMode].element),Se.parentElement.tagName!=="PRE"&&(u+=m.g.ZWSP),Se.textContent=Se.textContent.substring(0,je.start)+u+Se.textContent.substring(je.end),(0,ie.$j)(je.start+u.length,je.start+u.length,Se.parentElement),!((Qe=Se.parentElement)===null||Qe===void 0)&&Qe.nextElementSibling.classList.contains("vditor-"+i.currentMode+"__preview")&&(Se.parentElement.nextElementSibling.innerHTML=Se.outerHTML,ye(Se.parentElement.nextElementSibling,i))),[3,8]):[3,1]);case 1:return Q?(l.pasteCode(Q),[3,8]):[3,2];case 2:return d.trim()===""?[3,3]:((Ke=document.createElement("div")).innerHTML=d,Ke.querySelectorAll("[style]").forEach(function(Le){Le.removeAttribute("style")}),Ke.querySelectorAll(".vditor-copy").forEach(function(Le){Le.remove()}),i.currentMode==="ir"?(P.HTML2VditorIRDOM={renderLinkDest:G},i.lute.SetJSRenderers({renderers:P}),(0,ie.oC)(i.lute.HTML2VditorIRDOM(Ke.innerHTML),i)):i.currentMode==="wysiwyg"?(P.HTML2VditorDOM={renderLinkDest:G},i.lute.SetJSRenderers({renderers:P}),(0,ie.oC)(i.lute.HTML2VditorDOM(Ke.innerHTML),i)):(P.Md2VditorSVDOM={renderLinkDest:G},i.lute.SetJSRenderers({renderers:P}),xi(i,i.lute.HTML2Md(Ke.innerHTML).trimRight())),i.outline.render(i),[3,8]);case 3:return h.length>0?i.options.upload.url||i.options.upload.handler?[4,Sn(i,h)]:[3,5]:[3,7];case 4:return Je.sent(),[3,6];case 5:xe=new FileReader,"clipboardData"in o?(h=o.clipboardData.files,He=h[0]):o.dataTransfer.types.includes("Files")&&(h=o.dataTransfer.items,He=h[0].getAsFile()),He&&He.type.startsWith("image")&&(xe.readAsDataURL(He),xe.onload=function(){var Le="";i.currentMode==="wysiwyg"?Le+='<img alt="'+He.name+'" src="'+xe.result.toString()+`">
`:Le+="!["+He.name+"]("+xe.result.toString()+`)
`,document.execCommand("insertHTML",!1,Le)}),Je.label=6;case 6:return[3,8];case 7:u.trim()!==""&&h.length===0&&(($e=(0,ie.zh)(i)).toString()!==""&&i.lute.IsValidLinkDest(u)&&(u="["+$e.toString()+"]("+u+")"),i.currentMode==="ir"?(P.Md2VditorIRDOM={renderLinkDest:G},i.lute.SetJSRenderers({renderers:P}),(0,ie.oC)(i.lute.Md2VditorIRDOM(u),i)):i.currentMode==="wysiwyg"?(P.Md2VditorDOM={renderLinkDest:G},i.lute.SetJSRenderers({renderers:P}),(0,ie.oC)(i.lute.Md2VditorDOM(u),i)):(P.Md2VditorSVDOM={renderLinkDest:G},i.lute.SetJSRenderers({renderers:P}),xi(i,u)),i.outline.render(i)),Je.label=8;case 8:return i.currentMode!=="sv"&&((nt=(0,c.F9)((0,ie.zh)(i).startContainer))&&($e=(0,ie.zh)(i),i[i.currentMode].element.querySelectorAll("wbr").forEach(function(Le){Le.remove()}),$e.insertNode(document.createElement("wbr")),i.currentMode==="wysiwyg"?nt.outerHTML=i.lute.SpinVditorDOM(nt.outerHTML):nt.outerHTML=i.lute.SpinVditorIRDOM(nt.outerHTML),(0,ie.ib)(i[i.currentMode].element,$e)),i[i.currentMode].element.querySelectorAll(".vditor-"+i.currentMode+"__preview[data-render='2']").forEach(function(Le){ye(Le,i)})),i.wysiwyg.triggerRemoveComment(i),ft(i),i[i.currentMode].element.scrollHeight-ee>Math.min(i[i.currentMode].element.clientHeight,window.innerHeight)/2&&Xt(i),[2]}})})},ao=function(i){i.hint.render(i);var o=(0,ie.zh)(i).startContainer,l=(0,c.a1)(o,"data-type","code-block-info");if(l)if(l.textContent.replace(m.g.ZWSP,"")===""&&i.hint.recentLanguage)l.textContent=m.g.ZWSP+i.hint.recentLanguage,(0,ie.zh)(i).selectNodeContents(l);else{var d=[],u=l.textContent.substring(0,(0,ie.im)(l,i.ir.element).start).replace(m.g.ZWSP,"");m.g.CODE_LANGUAGES.forEach(function(h){h.indexOf(u.toLowerCase())>-1&&d.push({html:h,value:h})}),i.hint.genHTML(d,u,i)}},gr=function(i,o){o===void 0&&(o={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),o.enableHint&&ao(i),clearTimeout(i.ir.processTimeoutId),i.ir.processTimeoutId=window.setTimeout(function(){if(!i.ir.composingLock){var l=w(i);typeof i.options.input=="function"&&o.enableInput&&i.options.input(l),i.options.counter.enable&&i.counter.render(i,l),i.options.cache.enable&&(0,y.pK)()&&(localStorage.setItem(i.options.cache.id,l),i.options.cache.after&&i.options.cache.after(l)),i.devtools&&i.devtools.renderEchart(i),o.enableAddUndoStack&&i.undo.addToUndoStack(i)}},i.options.undoDelay)},si=function(i,o){var l=(0,ie.zh)(i),d=(0,c.F9)(l.startContainer)||l.startContainer;if(d){var u=d.querySelector(".vditor-ir__marker--heading");u?u.innerHTML=o:(d.insertAdjacentText("afterbegin",o),l.selectNodeContents(d),l.collapse(!1)),Ne(i,l.cloneRange()),le(i)}},ui=function(i,o,l){var d=(0,c.a1)(i.startContainer,"data-type",l);if(d){d.firstElementChild.remove(),d.lastElementChild.remove(),i.insertNode(document.createElement("wbr"));var u=document.createElement("div");u.innerHTML=o.lute.SpinVditorIRDOM(d.outerHTML),d.outerHTML=u.firstElementChild.innerHTML.trim()}},vr=function(i,o,l,d){var u=(0,ie.zh)(i),h=o.getAttribute("data-type"),P=u.startContainer;P.nodeType===3&&(P=P.parentElement);var G=!0;if(o.classList.contains("vditor-menu--current"))if(h==="quote"){var re=(0,c.lG)(P,"BLOCKQUOTE");re&&(u.insertNode(document.createElement("wbr")),re.outerHTML=re.innerHTML.trim()===""?'<p data-block="0">'+re.innerHTML+"</p>":re.innerHTML)}else if(h==="link"){var ee=(0,c.a1)(u.startContainer,"data-type","a");if(ee){var Q=(0,c.fb)(u.startContainer,"vditor-ir__link");Q?(u.insertNode(document.createElement("wbr")),ee.outerHTML=Q.innerHTML):ee.outerHTML=ee.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else h==="italic"?ui(u,i,"em"):h==="bold"?ui(u,i,"strong"):h==="strike"?ui(u,i,"s"):h==="inline-code"?ui(u,i,"code"):h!=="check"&&h!=="list"&&h!=="ordered-list"||(V(i,u,h),G=!1,o.classList.remove("vditor-menu--current"));else{i.ir.element.childNodes.length===0&&(i.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,ie.ib)(i.ir.element,u));var Se=(0,c.F9)(u.startContainer);if(h==="line"){if(Se){var je=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;Se.innerHTML.trim()===""?Se.outerHTML=je:Se.insertAdjacentHTML("afterend",je)}}else if(h==="quote")Se&&(u.insertNode(document.createElement("wbr")),Se.outerHTML='<blockquote data-block="0">'+Se.outerHTML+"</blockquote>",G=!1,o.classList.add("vditor-menu--current"));else if(h==="link"){var Ke=void 0;Ke=u.toString()===""?l+"<wbr>"+d:""+l+u.toString()+d.replace(")","<wbr>)"),document.execCommand("insertHTML",!1,Ke),G=!1,o.classList.add("vditor-menu--current")}else if(h==="italic"||h==="bold"||h==="strike"||h==="inline-code"||h==="code"||h==="table"){Ke=void 0,u.toString()===""?Ke=l+"<wbr>"+d:(Ke=h==="code"?l+`
`+u.toString()+"<wbr>"+d:h==="table"?""+l+u.toString()+"<wbr>"+d:""+l+u.toString()+d+"<wbr>",u.deleteContents()),h!=="table"&&h!=="code"||(Ke=`
`+Ke+`

`);var xe=document.createElement("span");xe.innerHTML=Ke,u.insertNode(xe),Ne(i,u),h==="table"&&(u.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,ie.Hc)(u))}else h!=="check"&&h!=="list"&&h!=="ordered-list"||(V(i,u,h,!1),G=!1,S(i.toolbar.elements,["check","list","ordered-list"]),o.classList.add("vditor-menu--current"))}(0,ie.ib)(i.ir.element,u),gr(i),G&&le(i)},Ta=function(i,o,l,d){return new(l||(l=Promise))(function(u,h){function P(ee){try{re(d.next(ee))}catch(Q){h(Q)}}function G(ee){try{re(d.throw(ee))}catch(Q){h(Q)}}function re(ee){var Q;ee.done?u(ee.value):(Q=ee.value,Q instanceof l?Q:new l(function(Se){Se(Q)})).then(P,G)}re((d=d.apply(i,o||[])).next())})},Aa=function(i,o){var l,d,u,h,P={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return h={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function G(re){return function(ee){return function(Q){if(l)throw new TypeError("Generator is already executing.");for(;P;)try{if(l=1,d&&(u=2&Q[0]?d.return:Q[0]?d.throw||((u=d.return)&&u.call(d),0):d.next)&&!(u=u.call(d,Q[1])).done)return u;switch(d=0,u&&(Q=[2&Q[0],u.value]),Q[0]){case 0:case 1:u=Q;break;case 4:return P.label++,{value:Q[1],done:!1};case 5:P.label++,d=Q[1],Q=[0];continue;case 7:Q=P.ops.pop(),P.trys.pop();continue;default:if(u=P.trys,!((u=u.length>0&&u[u.length-1])||Q[0]!==6&&Q[0]!==2)){P=0;continue}if(Q[0]===3&&(!u||Q[1]>u[0]&&Q[1]<u[3])){P.label=Q[1];break}if(Q[0]===6&&P.label<u[1]){P.label=u[1],u=Q;break}if(u&&P.label<u[2]){P.label=u[2],P.ops.push(Q);break}u[2]&&P.ops.pop(),P.trys.pop();continue}Q=o.call(i,P)}catch(Se){Q=[6,Se],d=0}finally{l=u=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([re,ee])}}},Ti=function(){function i(o){var l=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(d,u){l.element.style.display="none";var h=decodeURIComponent(d.getAttribute("data-value")),P=window.getSelection().getRangeAt(0);if(u.currentMode==="ir"){var G=(0,c.a1)(P.startContainer,"data-type","code-block-info");if(G)return G.textContent=m.g.ZWSP+h.trimRight(),P.selectNodeContents(G),P.collapse(!1),gr(u),G.parentElement.querySelectorAll("code").forEach(function(Se){Se.className="language-"+h.trimRight()}),ye(G.parentElement.querySelector(".vditor-ir__preview"),u),void(l.recentLanguage=h.trimRight())}if(u.currentMode==="wysiwyg"&&P.startContainer.nodeType!==3){var re=P.startContainer,ee=void 0;if((ee=re.classList.contains("vditor-input")?re:re.firstElementChild)&&ee.classList.contains("vditor-input"))return ee.value=h.trimRight(),P.selectNodeContents(ee),P.collapse(!1),ee.dispatchEvent(new CustomEvent("input",{detail:1})),void(l.recentLanguage=h.trimRight())}if(P.setStart(P.startContainer,l.lastIndex),P.deleteContents(),u.options.hint.parse?u.currentMode==="sv"?(0,ie.oC)(u.lute.SpinVditorSVDOM(h),u):u.currentMode==="wysiwyg"?(0,ie.oC)(u.lute.SpinVditorDOM(h),u):(0,ie.oC)(u.lute.SpinVditorIRDOM(h),u):(0,ie.oC)(h,u),l.splitChar===":"&&h.indexOf(":")>-1&&u.currentMode!=="sv"&&P.insertNode(document.createTextNode(" ")),P.collapse(!1),(0,ie.Hc)(P),u.currentMode==="wysiwyg")(Q=(0,c.fb)(P.startContainer,"vditor-wysiwyg__block"))&&Q.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(Q.lastElementChild.innerHTML=Q.firstElementChild.innerHTML,ye(Q.lastElementChild,u));else if(u.currentMode==="ir"){var Q;(Q=(0,c.fb)(P.startContainer,"vditor-ir__marker--pre"))&&Q.nextElementSibling.classList.contains("vditor-ir__preview")&&(Q.nextElementSibling.innerHTML=Q.innerHTML,ye(Q.nextElementSibling,u))}ft(u)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",o.push({key:":"})}return i.prototype.render=function(o){var l=this;if(window.getSelection().focusNode){var d,u=getSelection().getRangeAt(0);d=u.startContainer.textContent.substring(0,u.startOffset)||"";var h=this.getKey(d,o.options.hint.extend);if(h===void 0)this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var P=h===""?o.options.hint.emoji:o.lute.GetEmojis(),G=[];Object.keys(P).forEach(function(re){re.indexOf(h.toLowerCase())===0&&(P[re].indexOf(".")>-1?G.push({html:'<img src="'+P[re]+'" title=":'+re+':"/> :'+re+":",value:":"+re+":"}):G.push({html:'<span class="vditor-hint__emoji">'+P[re]+"</span>"+re,value:P[re]}))}),this.genHTML(G,h,o)}else o.options.hint.extend.forEach(function(re){re.key===l.splitChar&&(clearTimeout(l.timeId),l.timeId=window.setTimeout(function(){return Ta(l,void 0,void 0,function(){var ee;return Aa(this,function(Q){switch(Q.label){case 0:return ee=this.genHTML,[4,re.hint(h)];case 1:return ee.apply(this,[Q.sent(),h,o]),[2]}})})},o.options.hint.delay))})}},i.prototype.genHTML=function(o,l,d){var u=this;if(o.length!==0){var h=d[d.currentMode].element,P=(0,ie.Ny)(h),G=P.left+(d.options.outline.position==="left"?d.outline.element.offsetWidth:0),re=P.top,ee="";o.forEach(function(Se,je){if(!(je>7)){var Ke=Se.html;if(l!==""){var xe=Ke.lastIndexOf(">")+1,He=Ke.substr(xe),nt=He.toLowerCase().indexOf(l.toLowerCase());nt>-1&&(He=He.substring(0,nt)+"<b>"+He.substring(nt,nt+l.length)+"</b>"+He.substring(nt+l.length),Ke=Ke.substr(0,xe)+He)}ee+='<button data-value="'+encodeURIComponent(Se.value)+` "
`+(je===0?"class='vditor-hint--current'":"")+"> "+Ke+"</button>"}}),this.element.innerHTML=ee;var Q=parseInt(document.defaultView.getComputedStyle(h,null).getPropertyValue("line-height"),10);this.element.style.top=re+(Q||22)+"px",this.element.style.left=G+"px",this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(Se){Se.addEventListener("click",function(je){u.fillEmoji(Se,d),je.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top=re-this.element.offsetHeight+"px"),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")}else this.element.style.display="none"},i.prototype.select=function(o,l){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var d=this.element.querySelector(".vditor-hint--current");if(o.key==="ArrowDown")return o.preventDefault(),o.stopPropagation(),d.removeAttribute("class"),d.nextElementSibling?d.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(o.key==="ArrowUp"){if(o.preventDefault(),o.stopPropagation(),d.removeAttribute("class"),d.previousElementSibling)d.previousElementSibling.className="vditor-hint--current";else{var u=this.element.children.length;this.element.children[u-1].className="vditor-hint--current"}return!0}return!((0,y.yl)(o)||o.shiftKey||o.altKey||o.key!=="Enter"||o.isComposing)&&(o.preventDefault(),o.stopPropagation(),this.fillEmoji(d,l),!0)},i.prototype.getKey=function(o,l){var d,u=this;if(this.lastIndex=-1,this.splitChar="",l.forEach(function(re){var ee=o.lastIndexOf(re.key);u.lastIndex<ee&&(u.splitChar=re.key,u.lastIndex=ee)}),this.lastIndex===-1)return d;var h=o.split(this.splitChar),P=h[h.length-1];if(h.length>1&&P.trim()===P)if(h.length===2&&h[0]===""&&h[1].length<32)d=h[1];else{var G=h[h.length-2].slice(-1);(0,g.X)(G)===" "&&P.length<32&&(d=P)}return d},i}(),di=function(){function i(o){this.composingLock=!1;var l=document.createElement("div");l.className="vditor-ir",l.innerHTML='<pre class="vditor-reset" placeholder="'+o.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>`,this.element=l.firstElementChild,this.bindEvent(o),mn(o,this.element),gn(o,this.element),cr(o,this.element),ri(o,this.element),Nn(o,this.element),Pr(o,this.element),Qn(o,this.element,this.copy),yn(o,this.element,this.copy)}return i.prototype.copy=function(o,l){var d=getSelection().getRangeAt(0);if(d.toString()!==""){o.stopPropagation(),o.preventDefault();var u=document.createElement("div");u.appendChild(d.cloneContents()),o.clipboardData.setData("text/plain",l.lute.VditorIRDOM2Md(u.innerHTML).trim()),o.clipboardData.setData("text/html","")}},i.prototype.bindEvent=function(o){var l=this;this.element.addEventListener("paste",function(d){li(o,d,{pasteCode:function(u){document.execCommand("insertHTML",!1,u)}})}),this.element.addEventListener("compositionstart",function(d){l.composingLock=!0}),this.element.addEventListener("compositionend",function(d){(0,y.vU)()||Ne(o,getSelection().getRangeAt(0).cloneRange()),l.composingLock=!1}),this.element.addEventListener("input",function(d){if(d.inputType!=="deleteByDrag"&&d.inputType!=="insertFromDrop")return l.preventInput?(l.preventInput=!1,void gr(o,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void(l.composingLock||d.data==="\u2018"||d.data==="\u201C"||d.data==="\u300A"||Ne(o,getSelection().getRangeAt(0).cloneRange(),!1,d))}),this.element.addEventListener("click",function(d){if(d.target.tagName==="INPUT")return d.target.checked?d.target.setAttribute("checked","checked"):d.target.removeAttribute("checked"),l.preventInput=!0,void gr(o);var u=(0,ie.zh)(o),h=(0,c.fb)(d.target,"vditor-ir__preview");if(h||(h=(0,c.fb)(u.startContainer,"vditor-ir__preview")),h&&(h.previousElementSibling.firstElementChild?u.selectNodeContents(h.previousElementSibling.firstElementChild):u.selectNodeContents(h.previousElementSibling),u.collapse(!0),(0,ie.Hc)(u),Xt(o)),d.target.tagName==="IMG"){var P=d.target.parentElement.querySelector(".vditor-ir__marker--link");P&&(u.selectNode(P),(0,ie.Hc)(u))}var G=(0,c.a1)(d.target,"data-type","a");if(!G||G.classList.contains("vditor-ir__node--expand")){if(d.target.isEqualNode(l.element)&&l.element.lastElementChild&&u.collapsed){var re=l.element.lastElementChild.getBoundingClientRect();d.y>re.top+re.height&&(l.element.lastElementChild.tagName==="P"&&l.element.lastElementChild.textContent.trim().replace(m.g.ZWSP,"")===""?(u.selectNodeContents(l.element.lastElementChild),u.collapse(!1)):(l.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+m.g.ZWSP+"<wbr></p>"),(0,ie.ib)(l.element,u)))}u.toString()===""?ve(u,o):setTimeout(function(){ve((0,ie.zh)(o),o)}),U(d,o),le(o)}else o.options.link.click?o.options.link.click(G.querySelector(":scope > .vditor-ir__marker--link")):o.options.link.isOpen&&window.open(G.querySelector(":scope > .vditor-ir__marker--link").textContent)}),this.element.addEventListener("keyup",function(d){if(!d.isComposing&&!(0,y.yl)(d))if(d.key==="Enter"&&Xt(o),le(o),d.key!=="Backspace"&&d.key!=="Delete"||o.ir.element.innerHTML===""||o.ir.element.childNodes.length!==1||!o.ir.element.firstElementChild||o.ir.element.firstElementChild.tagName!=="P"||o.ir.element.firstElementChild.childElementCount!==0||o.ir.element.textContent!==""&&o.ir.element.textContent!==`
`){var u=(0,ie.zh)(o);d.key==="Backspace"?((0,y.vU)()&&u.startContainer.textContent===`
`&&u.startOffset===1&&(u.startContainer.textContent="",ve(u,o)),l.element.querySelectorAll(".language-math").forEach(function(P){var G=P.querySelector("br");G&&G.remove()})):d.key.indexOf("Arrow")>-1?(d.key!=="ArrowLeft"&&d.key!=="ArrowRight"||ao(o),ve(u,o)):d.keyCode===229&&d.code===""&&d.key==="Unidentified"&&ve(u,o);var h=(0,c.fb)(u.startContainer,"vditor-ir__preview");if(h){if(d.key==="ArrowUp"||d.key==="ArrowLeft")return h.previousElementSibling.firstElementChild?u.selectNodeContents(h.previousElementSibling.firstElementChild):u.selectNodeContents(h.previousElementSibling),u.collapse(!1),d.preventDefault(),!0;if(h.tagName==="SPAN"&&(d.key==="ArrowDown"||d.key==="ArrowRight"))return h.parentElement.getAttribute("data-type")==="html-entity"?(h.parentElement.insertAdjacentText("afterend",m.g.ZWSP),u.setStart(h.parentElement.nextSibling,1)):u.selectNodeContents(h.parentElement.lastElementChild),u.collapse(!1),d.preventDefault(),!0}}else o.ir.element.innerHTML=""})},i}(),Bo=function(i){return i.currentMode==="sv"?i.lute.Md2HTML(w(i)):i.currentMode==="wysiwyg"?i.lute.VditorDOM2HTML(i.wysiwyg.element.innerHTML):i.currentMode==="ir"?i.lute.VditorIRDOM2HTML(i.ir.element.innerHTML):void 0},Ma=K(895),qo=K(818),Da=function(){function i(o){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'+o+`</div>
<div class="vditor-outline__content"></div>`}return i.prototype.render=function(o){return o.preview.element.style.display==="block"?(0,qo.k)(o.preview.element.lastElementChild,this.element.lastElementChild,o):(0,qo.k)(o[o.currentMode].element,this.element.lastElementChild,o)},i.prototype.toggle=function(o,l,d){var u;l===void 0&&(l=!0),d===void 0&&(d=!0);var h=(u=o.toolbar.elements.outline)===null||u===void 0?void 0:u.firstElementChild;if(l&&window.innerWidth>=m.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(o),h==null||h.classList.add("vditor-menu--current")):(this.element.style.display="none",h==null||h.classList.remove("vditor-menu--current")),d&&getSelection().rangeCount>0){var P=getSelection().getRangeAt(0);o[o.currentMode].element.contains(P.startContainer)&&(0,ie.Hc)(P)}Re(o)},i}(),lo=K(554),Wo=function(){function i(o){var l=this;this.element=document.createElement("div"),this.element.className="vditor-preview";var d=document.createElement("div");d.className="vditor-reset",o.options.classes.preview&&d.classList.add(o.options.classes.preview),d.style.maxWidth=o.options.preview.maxWidth+"px",d.addEventListener("copy",function(ee){if(ee.target.tagName!=="TEXTAREA"){var Q=document.createElement("div");Q.className="vditor-reset",Q.appendChild(getSelection().getRangeAt(0).cloneContents()),l.copyToX(o,Q),ee.preventDefault()}}),d.addEventListener("click",function(ee){var Q=(0,c.lG)(ee.target,"SPAN");if(Q&&(0,c.fb)(Q,"vditor-toc")){var Se=d.querySelector("#"+Q.getAttribute("data-target-id"));Se&&(l.element.scrollTop=Se.offsetTop)}else{if(ee.target.tagName==="A")return o.options.link.click?o.options.link.click(ee.target):o.options.link.isOpen&&window.open(ee.target.getAttribute("href")),void ee.preventDefault();ee.target.tagName==="IMG"&&(o.options.image.preview?o.options.image.preview(ee.target):o.options.image.isPreview&&(0,ke.E)(ee.target,o.options.lang,o.options.theme))}});var u=o.options.preview.actions,h=document.createElement("div");h.className="vditor-preview__action";for(var P=[],G=0;G<u.length;G++){var re=u[G];if(typeof re!="object")switch(re){case"desktop":P.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":P.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":P.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":P.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u516C\u4F17\u53F7"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":P.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="\u590D\u5236\u5230\u77E5\u4E4E"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>')}else P.push('<button type="button" data-type="'+re.key+'" class="'+re.className+'"'+(re.tooltip?' aria-label="'+re.tooltip+'"':"")+'">'+re.text+"</button>")}h.innerHTML=P.join(""),u.length===0&&(h.style.display="none"),this.element.appendChild(h),this.element.appendChild(d),h.addEventListener((0,y.Le)(),function(ee){var Q=(0,_.S)(ee.target,"BUTTON");if(Q){var Se=Q.getAttribute("data-type"),je=u.find(function(Ke){return(Ke==null?void 0:Ke.key)===Se});je?je.click(Se):Se!=="mp-wechat"&&Se!=="zhihu"?(d.style.width=Se==="desktop"?"auto":Se==="tablet"?"780px":"360px",d.scrollWidth>d.parentElement.clientWidth&&(d.style.width="auto"),l.render(o),h.querySelectorAll("button").forEach(function(Ke){Ke.classList.remove("vditor-preview__action--current")}),Q.classList.add("vditor-preview__action--current")):l.copyToX(o,l.element.lastElementChild.cloneNode(!0),Se)}})}return i.prototype.render=function(o,l){var d=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display!=="none")if(l)this.element.lastElementChild.innerHTML=l;else if(w(o).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")!==""){var u=new Date().getTime(),h=w(o);this.mdTimeoutId=window.setTimeout(function(){if(o.options.preview.url){var P=new XMLHttpRequest;P.open("POST",o.options.preview.url),P.setRequestHeader("Content-Type","application/json;charset=UTF-8"),P.onreadystatechange=function(){if(P.readyState===XMLHttpRequest.DONE)if(P.status===200){var re=JSON.parse(P.responseText);if(re.code!==0)return void o.tip.show(re.msg);o.options.preview.transform&&(re.data=o.options.preview.transform(re.data)),d.element.lastElementChild.innerHTML=re.data,d.afterRender(o,u)}else{var ee=o.lute.Md2HTML(h);o.options.preview.transform&&(ee=o.options.preview.transform(ee)),d.element.lastElementChild.innerHTML=ee,d.afterRender(o,u)}},P.send(JSON.stringify({markdownText:h}))}else{var G=o.lute.Md2HTML(h);o.options.preview.transform&&(G=o.options.preview.transform(G)),d.element.lastElementChild.innerHTML=G,d.afterRender(o,u)}},o.options.preview.delay)}else this.element.lastElementChild.innerHTML="";else this.element.getAttribute("data-type")==="renderPerformance"&&o.tip.hide()},i.prototype.afterRender=function(o,l){o.options.preview.parse&&o.options.preview.parse(this.element);var d=new Date().getTime()-l;new Date().getTime()-l>2600?(o.tip.show(window.VditorI18n.performanceTip.replace("${x}",d.toString())),o.preview.element.setAttribute("data-type","renderPerformance")):o.preview.element.getAttribute("data-type")==="renderPerformance"&&(o.tip.hide(),o.preview.element.removeAttribute("data-type"));var u=o.preview.element.querySelector(".vditor-comment--focus");u&&u.classList.remove("vditor-comment--focus"),(0,R.O)(o.preview.element.lastElementChild),(0,Z.s)(o.options.preview.hljs,o.preview.element.lastElementChild,o.options.cdn),(0,B.i)(o.preview.element.lastElementChild,o.options.cdn,o.options.theme),(0,Y.K)(o.preview.element.lastElementChild,o.options.cdn,o.options.theme),(0,X.P)(o.preview.element.lastElementChild,o.options.cdn),(0,$.v)(o.preview.element.lastElementChild,o.options.cdn),(0,x.p)(o.preview.element.lastElementChild,o.options.cdn,o.options.theme),(0,J.P)(o.preview.element.lastElementChild,o.options.cdn,o.options.theme),(0,te.B)(o.preview.element.lastElementChild,o.options.cdn),(0,M.Q)(o.preview.element.lastElementChild,o.options.cdn),(0,lo.Y)(o.preview.element.lastElementChild);var h=o.preview.element,P=o.outline.render(o);P===""&&(P="[ToC]"),h.querySelectorAll('[data-type="toc-block"]').forEach(function(G){G.innerHTML=P,(0,I.H)(G,{cdn:o.options.cdn,math:o.options.preview.math})}),(0,I.H)(o.preview.element.lastElementChild,{cdn:o.options.cdn,math:o.options.preview.math})},i.prototype.copyToX=function(o,l,d){d===void 0&&(d="mp-wechat"),d!=="zhihu"?l.querySelectorAll(".katex-html .base").forEach(function(h){h.style.display="initial"}):l.querySelectorAll(".language-math").forEach(function(h){h.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'+h.getAttribute("data-math")+'\\" style="display: block; margin: 0 auto; max-width: 100%;">'}),l.style.backgroundColor="#fff",l.querySelectorAll("code").forEach(function(h){h.style.backgroundImage="none"}),this.element.append(l);var u=l.ownerDocument.createRange();u.selectNode(l),(0,ie.Hc)(u),document.execCommand("copy"),this.element.lastElementChild.remove(),o.tip.show("\u5DF2\u590D\u5236\uFF0C\u53EF\u5230"+(d==="zhihu"?"\u77E5\u4E4E":"\u5FAE\u4FE1\u516C\u4F17\u53F7\u5E73\u53F0")+"\u8FDB\u884C\u7C98\u8D34")},i}(),Oa=function(){function i(o){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--"+o.options.resize.position,this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(o)}return i.prototype.bindEvent=function(o){var l=this;this.element.addEventListener("mousedown",function(d){var u=document,h=d.clientY,P=o.element.offsetHeight,G=63+o.element.querySelector(".vditor-toolbar").clientHeight;u.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),l.element.classList.add("vditor-resize--selected"),u.onmousemove=function(re){o.options.resize.position==="top"?o.element.style.height=Math.max(G,P+(h-re.clientY))+"px":o.element.style.height=Math.max(G,P+(re.clientY-h))+"px",o.options.typewriterMode&&(o.sv.element.style.paddingBottom=o.sv.element.parentElement.offsetHeight/2+"px")},u.onmouseup=function(){o.options.resize.after&&o.options.resize.after(o.element.offsetHeight-P),window.captureEvents&&window.captureEvents(),u.onmousemove=null,u.onmouseup=null,u.ondragstart=null,u.onselectstart=null,u.onselect=null,l.element.classList.remove("vditor-resize--selected")}})},i}(),Uo=function(){function i(o){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",o.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(o),mn(o,this.element),cr(o,this.element),ri(o,this.element),Nn(o,this.element),Pr(o,this.element),Qn(o,this.element,this.copy),yn(o,this.element,this.copy)}return i.prototype.copy=function(o,l){o.stopPropagation(),o.preventDefault(),o.clipboardData.setData("text/plain",ln(l[l.currentMode].element))},i.prototype.bindEvent=function(o){var l=this;this.element.addEventListener("paste",function(d){li(o,d,{pasteCode:function(u){document.execCommand("insertHTML",!1,u)}})}),this.element.addEventListener("scroll",function(){if(o.preview.element.style.display==="block"){var d=l.element.scrollTop,u=l.element.clientHeight,h=l.element.scrollHeight-parseFloat(l.element.style.paddingBottom||"0"),P=o.preview.element;P.scrollTop=d/u>.5?(d+u)*P.scrollHeight/h-u:d*P.scrollHeight/h}}),this.element.addEventListener("compositionstart",function(d){l.composingLock=!0}),this.element.addEventListener("compositionend",function(d){(0,y.vU)()||Fe(o,d),l.composingLock=!1}),this.element.addEventListener("input",function(d){if(d.inputType!=="deleteByDrag"&&d.inputType!=="insertFromDrop"&&!l.composingLock&&d.data!=="\u2018"&&d.data!=="\u201C"&&d.data!=="\u300A")return l.preventInput?(l.preventInput=!1,void $t(o,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void Fe(o,d)}),this.element.addEventListener("keyup",function(d){d.isComposing||(0,y.yl)(d)||(d.key!=="Backspace"&&d.key!=="Delete"||o.sv.element.innerHTML===""||o.sv.element.childNodes.length!==1||!o.sv.element.firstElementChild||o.sv.element.firstElementChild.tagName!=="DIV"||o.sv.element.firstElementChild.childElementCount!==2||o.sv.element.firstElementChild.textContent!==""&&o.sv.element.textContent!==`
`?d.key==="Enter"&&Xt(o):o.sv.element.innerHTML="")})},i}(),Ko=function(){function i(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return i.prototype.show=function(o,l){var d=this;l===void 0&&(l=6e3),this.element.className="vditor-tip vditor-tip--show",l===0?(this.element.innerHTML='<div class="vditor-tip__content">'+o+`
<div class="vditor-tip__close">X</div></div>`,this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){d.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'+o+"</div>",setTimeout(function(){d.hide()},l)),this.element.removeAttribute("style"),setTimeout(function(){d.element.getBoundingClientRect().top<46&&(d.element.style.position="fixed",d.element.style.top="46px")},150)},i.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},i}(),Kr=function(i,o){if(o.options.preview.mode!==i){switch(o.options.preview.mode=i,i){case"both":o.sv.element.style.display="block",o.preview.element.style.display="block",o.preview.render(o),L(o.toolbar.elements,["both"]);break;case"editor":o.sv.element.style.display="block",o.preview.element.style.display="none",S(o.toolbar.elements,["both"])}o.devtools&&o.devtools.renderEchart(o)}},Ai=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),so=function(i){function o(l,d){var u=i.call(this,l,d)||this;return l.options.preview.mode==="both"&&u.element.children[0].classList.add("vditor-menu--current"),u.element.children[0].addEventListener((0,y.Le)(),function(h){u.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)||(h.preventDefault(),l.currentMode==="sv"&&(l.options.preview.mode==="both"?Kr("editor",l):Kr("both",l)))}),u}return Ai(o,i),o}(Dt),Vo=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"},uo=K(312),Mi=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Na=function(i){function o(l,d){var u=i.call(this,l,d)||this,h=u.element.children[0],P=document.createElement("div");P.className="vditor-hint"+(d.level===2?"":" vditor-panel--arrow");var G="";return m.g.CODE_THEME.forEach(function(re){G+="<button>"+re+"</button>"}),P.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+G+"</div>",P.addEventListener((0,y.Le)(),function(re){re.target.tagName==="BUTTON"&&(s(l,["subToolbar"]),l.options.preview.hljs.style=re.target.textContent,(0,uo.Y)(re.target.textContent,l.options.cdn),re.preventDefault(),re.stopPropagation())}),u.element.appendChild(P),p(l,P,h,d.level),u}return Mi(o,i),o}(Dt),$o=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),nr=function(i){function o(l,d){var u=i.call(this,l,d)||this,h=u.element.children[0],P=document.createElement("div");P.className="vditor-hint"+(d.level===2?"":" vditor-panel--arrow");var G="";return Object.keys(l.options.preview.theme.list).forEach(function(re){G+='<button data-type="'+re+'">'+l.options.preview.theme.list[re]+"</button>"}),P.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+G+"</div>",P.addEventListener((0,y.Le)(),function(re){re.target.tagName==="BUTTON"&&(s(l,["subToolbar"]),l.options.preview.theme.current=re.target.getAttribute("data-type"),(0,qe.Z)(l.options.preview.theme.current,l.options.preview.theme.path),re.preventDefault(),re.stopPropagation())}),u.element.appendChild(P),p(l,P,h,d.level),u}return $o(o,i),o}(Dt),Pa=function(){function i(o){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(o,"")}return i.prototype.render=function(o,l){var d=l.endsWith(`
`)?l.length-1:l.length;if(o.options.counter.type==="text"&&o[o.currentMode]){var u=o[o.currentMode].element.cloneNode(!0);u.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(h){h.remove()}),d=u.textContent.length}typeof o.options.counter.max=="number"?(d>o.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML=d+"/"+o.options.counter.max):this.element.innerHTML=""+d,this.element.setAttribute("aria-label",o.options.counter.type),o.options.counter.after&&o.options.counter.after(d,{enable:o.options.counter.enable,max:o.options.counter.max,type:o.options.counter.type})},i}(),Ha=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),co=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u.element.children[0].innerHTML=d.icon,u.element.children[0].addEventListener((0,y.Le)(),function(h){h.preventDefault(),h.currentTarget.classList.contains(m.g.CLASS_MENU_DISABLED)||d.click(h,l)}),u}return Ha(o,i),o}(Dt),Go=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Tr=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u.element.firstElementChild.addEventListener((0,y.Le)(),function(h){var P=u.element.firstElementChild;P.classList.contains(m.g.CLASS_MENU_DISABLED)||(h.preventDefault(),P.classList.contains("vditor-menu--current")?(P.classList.remove("vditor-menu--current"),l.devtools.element.style.display="none",Re(l)):(P.classList.add("vditor-menu--current"),l.devtools.element.style.display="block",Re(l),l.devtools.renderEchart(l)))}),u}return Go(o,i),o}(Dt),fo=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"},br=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Di=function(i){function o(l,d){var u=i.call(this,l,d)||this,h=document.createElement("div");h.className="vditor-panel vditor-panel--arrow";var P="";return Object.keys(l.options.hint.emoji).forEach(function(G){var re=l.options.hint.emoji[G];re.indexOf(".")>-1?P+='<button data-value=":'+G+': " data-key=":'+G+`:"><img
data-value=":`+G+': " data-key=":'+G+':" class="vditor-emojis__icon" src="'+re+'"/></button>':P+='<button data-value="'+re+` "
 data-key="`+G+'"><span class="vditor-emojis__icon">'+re+"</span></button>"}),h.innerHTML='<div class="vditor-emojis" style="max-height: '+(l.options.height==="auto"?"auto":l.options.height-80)+'px">'+P+`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`+(l.options.hint.emojiTail||"")+`</span>
</div>`,u.element.appendChild(h),p(l,h,u.element.firstElementChild,d.level),u.bindEvent(l),u}return br(o,i),o.prototype.bindEvent=function(l){var d=this;this.element.lastElementChild.addEventListener((0,y.Le)(),function(u){var h=(0,_.S)(u.target,"BUTTON");if(h){u.preventDefault();var P=h.getAttribute("data-value"),G=(0,ie.zh)(l),re=P;if(l.currentMode==="wysiwyg"?re=l.lute.SpinVditorDOM(P):l.currentMode==="ir"&&(re=l.lute.SpinVditorIRDOM(P)),P.indexOf(":")>-1&&l.currentMode!=="sv"){var ee=document.createElement("div");ee.innerHTML=re,re=ee.firstElementChild.firstElementChild.outerHTML+" ",(0,ie.oC)(re,l)}else G.extractContents(),G.insertNode(document.createTextNode(P));G.collapse(!1),(0,ie.Hc)(G),d.element.lastElementChild.style.display="none",ft(l)}}),this.element.lastElementChild.addEventListener("mouseover",function(u){var h=(0,_.S)(u.target,"BUTTON");h&&(d.element.querySelector(".vditor-emojis__tip").innerHTML=h.getAttribute("data-key"))})},o}(Dt),Oi=function(i,o,l){var d=document.createElement("a");"download"in d?(d.download=l,d.style.display="none",d.href=URL.createObjectURL(new Blob([o])),document.body.appendChild(d),d.click(),d.remove()):i.tip.show(window.VditorI18n.downloadTip,0)},Vr=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Ia=function(i){function o(l,d){var u=i.call(this,l,d)||this,h=u.element.children[0],P=document.createElement("div");return P.className="vditor-hint"+(d.level===2?"":" vditor-panel--arrow"),P.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,P.addEventListener((0,y.Le)(),function(G){var re=G.target;if(re.tagName==="BUTTON"){switch(re.getAttribute("data-type")){case"markdown":(function(ee){var Q=w(ee);Oi(ee,Q,Q.substr(0,10)+".md")})(l);break;case"pdf":(function(ee){ee.tip.show(window.VditorI18n.generate,3800);var Q=document.querySelector("#vditorExportIframe");Q.contentDocument.open(),Q.contentDocument.write('<link rel="stylesheet" href="'+ee.options.cdn+`/dist/index.css"/>
<script src="`+ee.options.cdn+`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    markdown: {
      theme: "`+ee.options.preview.theme+`"
    },
    hljs: {
      style: "`+ee.options.preview.hljs.style+`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`),Q.contentDocument.close(),setTimeout(function(){Q.contentWindow.postMessage(w(ee),"*")},200)})(l);break;case"html":(function(ee){var Q=Bo(ee),Se='<html><head><link rel="stylesheet" type="text/css" href="'+ee.options.cdn+`/dist/index.css"/>
<script src="`+ee.options.cdn+"/dist/js/i18n/"+ee.options.lang+`.js"><\/script>
<script src="`+ee.options.cdn+`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`+Q+`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`+ee.options.preview.theme.current+"', '"+ee.options.preview.theme.path+`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`+JSON.stringify(ee.options.preview.hljs)+", previewElement, '"+ee.options.cdn+`');
    Vditor.mathRender(previewElement, {
        cdn: '`+ee.options.cdn+`',
        math: `+JSON.stringify(ee.options.preview.math)+`,
    });
    Vditor.mermaidRender(previewElement, '`+ee.options.cdn+"', '"+ee.options.theme+`');
    Vditor.markmapRender(previewElement, '`+ee.options.cdn+"', '"+ee.options.theme+`');
    Vditor.flowchartRender(previewElement, '`+ee.options.cdn+`');
    Vditor.graphvizRender(previewElement, '`+ee.options.cdn+`');
    Vditor.chartRender(previewElement, '`+ee.options.cdn+"', '"+ee.options.theme+`');
    Vditor.mindmapRender(previewElement, '`+ee.options.cdn+"', '"+ee.options.theme+`');
    Vditor.abcRender(previewElement, '`+ee.options.cdn+`');
    Vditor.mediaRender(previewElement);
    Vditor.speechRender(previewElement);
<\/script>
<script src="`+ee.options.cdn+"/dist/js/icons/"+ee.options.icon+'.js"><\/script></body></html>';Oi(ee,Se,Q.substr(0,10)+".html")})(l)}s(l,["subToolbar"]),G.preventDefault(),G.stopPropagation()}}),u.element.appendChild(P),p(l,P,h,d.level),u}return Vr(o,i),o}(Dt),za=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),ja=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u._bindEvent(l,d),u}return za(o,i),o.prototype._bindEvent=function(l,d){this.element.children[0].addEventListener((0,y.Le)(),function(u){u.preventDefault(),l.element.className.includes("vditor--fullscreen")?(d.level||(this.innerHTML=d.icon),l.element.style.zIndex="",document.body.style.overflow="",l.element.classList.remove("vditor--fullscreen"),Object.keys(l.toolbar.elements).forEach(function(h){var P=l.toolbar.elements[h].firstChild;P&&(P.className=P.className.replace("__s","__n"))}),l.counter&&(l.counter.element.className=l.counter.element.className.replace("__s","__n"))):(d.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),l.element.style.zIndex=l.options.fullscreen.index.toString(),document.body.style.overflow="hidden",l.element.classList.add("vditor--fullscreen"),Object.keys(l.toolbar.elements).forEach(function(h){var P=l.toolbar.elements[h].firstChild;P&&(P.className=P.className.replace("__n","__s"))}),l.counter&&(l.counter.element.className=l.counter.element.className.replace("__n","__s"))),l.devtools&&l.devtools.renderEchart(l),d.click&&d.click(u,l),Re(l),ut(l)})},o}(Dt),Ra=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Jo=function(i){function o(l,d){var u=i.call(this,l,d)||this,h=document.createElement("div");return h.className="vditor-hint vditor-panel--arrow",h.innerHTML='<button data-tag="h1" data-value="# ">'+window.VditorI18n.heading1+" "+(0,y.ns)("&lt;\u2325\u23181>")+`</button>
<button data-tag="h2" data-value="## ">`+window.VditorI18n.heading2+" &lt;"+(0,y.ns)("\u2325\u23182")+`></button>
<button data-tag="h3" data-value="### ">`+window.VditorI18n.heading3+" &lt;"+(0,y.ns)("\u2325\u23183")+`></button>
<button data-tag="h4" data-value="#### ">`+window.VditorI18n.heading4+" &lt;"+(0,y.ns)("\u2325\u23184")+`></button>
<button data-tag="h5" data-value="##### ">`+window.VditorI18n.heading5+" &lt;"+(0,y.ns)("\u2325\u23185")+`></button>
<button data-tag="h6" data-value="###### ">`+window.VditorI18n.heading6+" &lt;"+(0,y.ns)("\u2325\u23186")+"></button>",u.element.appendChild(h),u._bindEvent(l,h),u}return Ra(o,i),o.prototype._bindEvent=function(l,d){var u=this.element.children[0];u.addEventListener((0,y.Le)(),function(P){P.preventDefault(),clearTimeout(l.wysiwyg.afterRenderTimeoutId),u.classList.contains(m.g.CLASS_MENU_DISABLED)||(u.blur(),u.classList.contains("vditor-menu--current")?(l.currentMode==="wysiwyg"?(Ee(l),fe(l)):l.currentMode==="ir"&&si(l,""),u.classList.remove("vditor-menu--current")):(s(l,["subToolbar"]),d.style.display="block"))});for(var h=0;h<6;h++)d.children.item(h).addEventListener((0,y.Le)(),function(P){P.preventDefault(),l.currentMode==="wysiwyg"?(Pe(l,P.target.getAttribute("data-tag")),fe(l),u.classList.add("vditor-menu--current")):l.currentMode==="ir"?(si(l,P.target.getAttribute("data-value")),u.classList.add("vditor-menu--current")):er(l,P.target.getAttribute("data-value")),d.style.display="none"})},o}(Dt),Xo=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Fa=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u.element.children[0].addEventListener((0,y.Le)(),function(h){h.preventDefault(),l.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown \u4F7F\u7528\u6307\u5357</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">\u8BED\u6CD5\u901F\u67E5\u624B\u518C</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">\u57FA\u7840\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">\u6269\u5C55\u8BED\u6CD5</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">\u952E\u76D8\u5FEB\u6377\u952E</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor \u652F\u6301</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">\u5B98\u65B9\u8BA8\u8BBA\u533A</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">\u5F00\u53D1\u624B\u518C</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">\u6F14\u793A\u5730\u5740</a></li>
    </ul>
</div></div>`,0)}),u}return Xo(o,i),o}(Dt),Ba=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),qa=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u.element.children[0].addEventListener((0,y.Le)(),function(h){if(h.preventDefault(),!u.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)&&l.currentMode!=="sv"){var P=(0,ie.zh)(l),G=(0,c.lG)(P.startContainer,"LI");G&&ue(l,G,P)}}),u}return Ba(o,i),o}(Dt),Wa=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Zo=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u.element.children[0].addEventListener((0,y.Le)(),function(h){h.preventDefault(),l.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>\u4E0B\u4E00\u4EE3\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u4E3A\u672A\u6765\u800C\u6784\u5EFA</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor \u662F\u4E00\u6B3E\u6D4F\u89C8\u5668\u7AEF\u7684 Markdown \u7F16\u8F91\u5668\uFF0C\u652F\u6301\u6240\u89C1\u5373\u6240\u5F97\u3001\u5373\u65F6\u6E32\u67D3\uFF08\u7C7B\u4F3C Typora\uFF09\u548C\u5206\u5C4F\u9884\u89C8\u6A21\u5F0F\u3002
        \u5B83\u4F7F\u7528 TypeScript \u5B9E\u73B0\uFF0C\u652F\u6301\u539F\u751F JavaScript \u4EE5\u53CA Vue\u3001React\u3001Angular \u548C Svelte \u7B49\u6846\u67B6\u3002
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        \u9879\u76EE\u5730\u5740\uFF1A<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        \u5F00\u6E90\u534F\u8BAE\uFF1AMIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        \u7EC4\u4EF6\u7248\u672C\uFF1AVditor v`+m.H+" / Lute v"+Lute.Version+`
        </li>
        <li>
        \u8D5E\u52A9\u6350\u8D60\uFF1A<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`,0)}),u}return Wa(o,i),o}(Dt),Ua=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Yo=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u.element.children[0].addEventListener((0,y.Le)(),function(h){h.preventDefault(),u.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)||l.currentMode==="sv"||pt(l,"afterend")}),u}return Ua(o,i),o}(Dt),Ni=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),$r=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u.element.children[0].addEventListener((0,y.Le)(),function(h){h.preventDefault(),u.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)||l.currentMode==="sv"||pt(l,"beforebegin")}),u}return Ni(o,i),o}(Dt),Ka=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Va=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u.element.children[0].addEventListener((0,y.Le)(),function(h){if(h.preventDefault(),!u.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)&&l.currentMode!=="sv"){var P=(0,ie.zh)(l),G=(0,c.lG)(P.startContainer,"LI");G&&he(l,G,P,G.parentElement)}}),u}return Ka(o,i),o}(Dt),$a=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),ci=function(i){function o(l,d){var u=i.call(this,l,d)||this;return l.options.outline&&u.element.firstElementChild.classList.add("vditor-menu--current"),u.element.children[0].addEventListener((0,y.Le)(),function(h){h.preventDefault(),l.toolbar.elements.outline.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)||(l.options.outline.enable=!u.element.firstElementChild.classList.contains("vditor-menu--current"),l.outline.toggle(l,l.options.outline.enable))}),u}return $a(o,i),o}(Dt),dn=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Ga=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u._bindEvent(l),u}return dn(o,i),o.prototype._bindEvent=function(l){var d=this;this.element.children[0].addEventListener((0,y.Le)(),function(u){u.preventDefault();var h=d.element.firstElementChild;if(!h.classList.contains(m.g.CLASS_MENU_DISABLED)){var P=m.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);h.classList.contains("vditor-menu--current")?(h.classList.remove("vditor-menu--current"),l.currentMode==="sv"?(l.sv.element.style.display="block",l.options.preview.mode==="both"?l.preview.element.style.display="block":l.preview.element.style.display="none"):(l[l.currentMode].element.parentElement.style.display="block",l.preview.element.style.display="none"),D(l.toolbar.elements,P),l.outline.render(l)):(E(l.toolbar.elements,P),l.preview.element.style.display="block",l.currentMode==="sv"?l.sv.element.style.display="none":l[l.currentMode].element.parentElement.style.display="none",l.preview.render(l),h.classList.add("vditor-menu--current"),s(l,["subToolbar","hint","popover"]),setTimeout(function(){l.outline.render(l)},l.options.preview.delay+10)),Re(l)}})},o}(Dt),Qo=function(){function i(o){var l;if(this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0,typeof AudioContext!="undefined")l=new AudioContext;else{if(!webkitAudioContext)return;l=new webkitAudioContext}this.DEFAULT_SAMPLE_RATE=l.sampleRate;var d=l.createGain();l.createMediaStreamSource(o).connect(d),this.recorder=l.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,d.connect(this.recorder),this.recorder.connect(l.destination),this.readyFlag=!0}return i.prototype.cloneChannelData=function(o,l){this.leftChannel.push(new Float32Array(o)),this.rightChannel.push(new Float32Array(l)),this.recordingLength+=2048},i.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},i.prototype.stopRecording=function(){this.isRecording=!1},i.prototype.buildWavFileBlob=function(){for(var o=this.mergeBuffers(this.leftChannel),l=this.mergeBuffers(this.rightChannel),d=new Float32Array(o.length),u=0;u<o.length;++u)d[u]=.5*(o[u]+l[u]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(d=this.downSampleBuffer(d,this.SAMPLE_RATE));var h=44+2*d.length,P=new ArrayBuffer(h),G=new DataView(P);this.writeUTFBytes(G,0,"RIFF"),G.setUint32(4,h,!0),this.writeUTFBytes(G,8,"WAVE"),this.writeUTFBytes(G,12,"fmt "),G.setUint32(16,16,!0),G.setUint16(20,1,!0),G.setUint16(22,1,!0),G.setUint32(24,this.SAMPLE_RATE,!0),G.setUint32(28,2*this.SAMPLE_RATE,!0),G.setUint16(32,2,!0),G.setUint16(34,16,!0);var re=2*d.length;this.writeUTFBytes(G,36,"data"),G.setUint32(40,re,!0);for(var ee=d.length,Q=44,Se=0;Se<ee;Se++)G.setInt16(Q,32767*d[Se],!0),Q+=2;return new Blob([G],{type:"audio/wav"})},i.prototype.downSampleBuffer=function(o,l){if(l===this.DEFAULT_SAMPLE_RATE||l>this.DEFAULT_SAMPLE_RATE)return o;for(var d=this.DEFAULT_SAMPLE_RATE/l,u=Math.round(o.length/d),h=new Float32Array(u),P=0,G=0;P<h.length;){for(var re=Math.round((P+1)*d),ee=0,Q=0,Se=G;Se<re&&Se<o.length;Se++)ee+=o[Se],Q++;h[P]=ee/Q,P++,G=re}return h},i.prototype.mergeBuffers=function(o){for(var l=new Float32Array(this.recordingLength),d=0,u=o.length,h=0;h<u;++h){var P=o[h];l.set(P,d),d+=P.length}return l},i.prototype.writeUTFBytes=function(o,l,d){for(var u=d.length,h=0;h<u;h++)o.setUint8(l+h,d.charCodeAt(h))},i}(),fi=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Ja=function(i){function o(l,d){var u=i.call(this,l,d)||this;return u._bindEvent(l),u}return fi(o,i),o.prototype._bindEvent=function(l){var d,u=this;this.element.children[0].addEventListener((0,y.Le)(),function(h){if(h.preventDefault(),!u.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)){var P=l[l.currentMode].element;if(d)if(d.isRecording){d.stopRecording(),l.tip.hide();var G=new File([d.buildWavFileBlob()],"record"+new Date().getTime()+".wav",{type:"video/webm"});Sn(l,[G]),u.element.children[0].classList.remove("vditor-menu--current")}else l.tip.show(window.VditorI18n.recording),P.setAttribute("contenteditable","false"),d.startRecordingNewWavFile(),u.element.children[0].classList.add("vditor-menu--current");else navigator.mediaDevices.getUserMedia({audio:!0}).then(function(re){(d=new Qo(re)).recorder.onaudioprocess=function(ee){if(d.isRecording){var Q=ee.inputBuffer.getChannelData(0),Se=ee.inputBuffer.getChannelData(1);d.cloneChannelData(Q,Se)}},d.startRecordingNewWavFile(),l.tip.show(window.VditorI18n.recording),P.setAttribute("contenteditable","false"),u.element.children[0].classList.add("vditor-menu--current")}).catch(function(){l.tip.show(window.VditorI18n["record-tip"])})}})},o}(Dt),ea=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Xa=function(i){function o(l,d){var u=i.call(this,l,d)||this;return E({redo:u.element},["redo"]),u.element.children[0].addEventListener((0,y.Le)(),function(h){h.preventDefault(),u.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)||l.undo.redo(l)}),u}return ea(o,i),o}(Dt),po=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),ta=function(i){function o(l,d){var u=i.call(this,l,d)||this;return E({undo:u.element},["undo"]),u.element.children[0].addEventListener((0,y.Le)(),function(h){h.preventDefault(),u.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED)||l.undo.undo(l)}),u}return po(o,i),o}(Dt),Za=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),Ya=function(i){function o(l,d){var u=i.call(this,l,d)||this,h='<input type="file"';return l.options.upload.multiple&&(h+=' multiple="multiple"'),l.options.upload.accept&&(h+=' accept="'+l.options.upload.accept+'"'),u.element.children[0].innerHTML=""+(d.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>')+h+">",u._bindEvent(l),u}return Za(o,i),o.prototype._bindEvent=function(l){var d=this;this.element.children[0].addEventListener((0,y.Le)(),function(u){if(d.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED))return u.stopPropagation(),void u.preventDefault()}),this.element.querySelector("input").addEventListener("change",function(u){if(d.element.firstElementChild.classList.contains(m.g.CLASS_MENU_DISABLED))return u.stopPropagation(),void u.preventDefault();u.target.files.length!==0&&Sn(l,u.target.files,u.target)})},o}(Dt),na=function(){function i(o){var l=this,d=o.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",d.toolbar.forEach(function(u,h){var P=l.genItem(o,u,h);if(l.element.appendChild(P),u.toolbar){var G=document.createElement("div");G.className="vditor-hint vditor-panel--arrow",G.addEventListener((0,y.Le)(),function(re){G.style.display="none"}),u.toolbar.forEach(function(re,ee){re.level=2,G.appendChild(l.genItem(o,re,h+ee))}),P.appendChild(G),p(o,G,P.children[0])}}),o.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),o.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),o.options.counter.enable&&(o.counter=new Pa(o),this.element.appendChild(o.counter.element))}return i.prototype.genItem=function(o,l,d){var u;switch(l.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":u=new Dt(o,l);break;case"emoji":u=new Di(o,l);break;case"headings":u=new Jo(o,l);break;case"|":u=new fo;break;case"br":u=new Vo;break;case"undo":u=new ta(o,l);break;case"redo":u=new Xa(o,l);break;case"help":u=new Fa(o,l);break;case"both":u=new so(o,l);break;case"preview":u=new Ga(o,l);break;case"fullscreen":u=new ja(o,l);break;case"upload":u=new Ya(o,l);break;case"record":u=new Ja(o,l);break;case"info":u=new Zo(o,l);break;case"edit-mode":u=new _i(o,l);break;case"devtools":u=new Tr(o,l);break;case"outdent":u=new Va(o,l);break;case"indent":u=new qa(o,l);break;case"outline":u=new ci(o,l);break;case"insert-after":u=new Yo(o,l);break;case"insert-before":u=new $r(o,l);break;case"code-theme":u=new Na(o,l);break;case"content-theme":u=new nr(o,l);break;case"export":u=new Ia(o,l);break;default:u=new co(o,l)}if(u){var h=l.name;return h!=="br"&&h!=="|"||(h+=d),this.elements[h]=u.element,u.element}},i}(),ra=K(14),Qa=function(){function i(){this.stackSize=50,this.resetStack(),this.dmp=new ra}return i.prototype.clearStack=function(o){this.resetStack(),this.resetIcon(o)},i.prototype.resetIcon=function(o){o.toolbar&&(this[o.currentMode].undoStack.length>1?D(o.toolbar.elements,["undo"]):E(o.toolbar.elements,["undo"]),this[o.currentMode].redoStack.length!==0?D(o.toolbar.elements,["redo"]):E(o.toolbar.elements,["redo"]))},i.prototype.undo=function(o){if(o[o.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[o.currentMode].undoStack.length<2)){var l=this[o.currentMode].undoStack.pop();l&&(this[o.currentMode].redoStack.push(l),this.renderDiff(l,o),this[o.currentMode].hasUndo=!0,s(o,["hint"]))}},i.prototype.redo=function(o){if(o[o.currentMode].element.getAttribute("contenteditable")!=="false"){var l=this[o.currentMode].redoStack.pop();l&&(this[o.currentMode].undoStack.push(l),this.renderDiff(l,o,!0))}},i.prototype.recordFirstPosition=function(o,l){if(getSelection().rangeCount!==0&&!(this[o.currentMode].undoStack.length!==1||this[o.currentMode].undoStack[0].length===0||this[o.currentMode].redoStack.length>0||(0,y.vU)()&&l.key==="Backspace"||(0,y.G6)())){var d=this.addCaret(o);d.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[o.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[o.currentMode].undoStack[0][0].diffs[0][1]=d,this[o.currentMode].lastText=d)}},i.prototype.addToUndoStack=function(o){var l=this.addCaret(o,!0),d=this.dmp.diff_main(l,this[o.currentMode].lastText,!0),u=this.dmp.patch_make(l,this[o.currentMode].lastText,d);u.length===0&&this[o.currentMode].undoStack.length>0||(this[o.currentMode].lastText=l,this[o.currentMode].undoStack.push(u),this[o.currentMode].undoStack.length>this.stackSize&&this[o.currentMode].undoStack.shift(),this[o.currentMode].hasUndo&&(this[o.currentMode].redoStack=[],this[o.currentMode].hasUndo=!1,E(o.toolbar.elements,["redo"])),this[o.currentMode].undoStack.length>1&&D(o.toolbar.elements,["undo"]))},i.prototype.renderDiff=function(o,l,d){var u;if(d===void 0&&(d=!1),d){var h=this.dmp.patch_deepCopy(o).reverse();h.forEach(function(G){G.diffs.forEach(function(re){re[0]=-re[0]})}),u=this.dmp.patch_apply(h,this[l.currentMode].lastText)[0]}else u=this.dmp.patch_apply(o,this[l.currentMode].lastText)[0];if(this[l.currentMode].lastText=u,l[l.currentMode].element.innerHTML=u,l.currentMode!=="sv"&&l[l.currentMode].element.querySelectorAll(".vditor-"+l.currentMode+"__preview[data-render='2']").forEach(function(G){ye(G,l)}),l[l.currentMode].element.querySelector("wbr"))(0,ie.ib)(l[l.currentMode].element,l[l.currentMode].element.ownerDocument.createRange()),Xt(l);else{var P=getSelection().getRangeAt(0);P.setEndBefore(l[l.currentMode].element),P.collapse(!1)}ne(l),ft(l,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),an(l),l[l.currentMode].element.querySelectorAll(".vditor-"+l.currentMode+"__preview[data-render='2']").forEach(function(G){ye(G,l)}),this[l.currentMode].undoStack.length>1?D(l.toolbar.elements,["undo"]):E(l.toolbar.elements,["undo"]),this[l.currentMode].redoStack.length!==0?D(l.toolbar.elements,["redo"]):E(l.toolbar.elements,["redo"])},i.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},i.prototype.addCaret=function(o,l){var d;if(l===void 0&&(l=!1),getSelection().rangeCount!==0&&!o[o.currentMode].element.querySelector("wbr")){var u=getSelection().getRangeAt(0);if(o[o.currentMode].element.contains(u.startContainer)){d=u.cloneRange();var h=document.createElement("span");h.className="vditor-wbr",u.insertNode(h)}}o.ir.element.cloneNode(!0).querySelectorAll(".vditor-"+o.currentMode+"__preview[data-render='1']").forEach(function(G){(G.firstElementChild.classList.contains("language-echarts")||G.firstElementChild.classList.contains("language-plantuml")||G.firstElementChild.classList.contains("language-mindmap"))&&(G.firstElementChild.removeAttribute("_echarts_instance_"),G.firstElementChild.removeAttribute("data-processed"),G.firstElementChild.innerHTML=G.previousElementSibling.firstElementChild.innerHTML,G.setAttribute("data-render","2")),G.firstElementChild.classList.contains("language-math")&&(G.setAttribute("data-render","2"),G.firstElementChild.textContent=G.firstElementChild.getAttribute("data-math"),G.firstElementChild.removeAttribute("data-math"))});var P=o[o.currentMode].element.innerHTML;return o[o.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(G){G.remove()}),l&&d&&(0,ie.Hc)(d),P.replace('<span class="vditor-wbr"></span>',"<wbr>")},i}(),pi=K(640),yr=function(){function i(o){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:m.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"\u{1F44D}","-1":"\u{1F44E}",confused:"\u{1F615}",eyes:"\u{1F440}\uFE0F",heart:"\u2764\uFE0F",rocket:"\u{1F680}\uFE0F",smile:"\u{1F604}",tada:"\u{1F389}\uFE0F"},emojiPath:m.g.CDN+"/dist/images/emoji",extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:m.g.HLJS_OPTIONS,markdown:m.g.MARKDOWN_OPTIONS,math:m.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:m.g.THEME_OPTIONS},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(l){return l.replace(/\W/g,"")},linkToImgUrl:"",max:10485760,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=o}return i.prototype.merge=function(){var o,l,d;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((l=(o=this.options.preview)===null||o===void 0?void 0:o.theme)===null||l===void 0)&&l.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((d=this.options.hint)===null||d===void 0)&&d.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment));var u=(0,pi.T)(this.defaultOptions,this.options);if(u.cache.enable&&!u.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return u},i.prototype.mergeToolbar=function(o){var l=this,d=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"\u2318E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"\u2318H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"\u2318B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"\u2318I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"\u2318D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"\u2318K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"\u2318L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"\u2318O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"\u2318J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"\u21E7\u2318I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"\u21E7\u2318O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"\u2318;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"\u21E7\u2318H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"\u2318U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"\u2318G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"\u21E7\u2318B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"\u21E7\u2318E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"\u2318M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"\u2318Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"\u2318Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"\u2318'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"\u2318P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],u=[];return o.forEach(function(h){var P=h;d.forEach(function(G){typeof h=="string"&&G.name===h&&(P=G),typeof h=="object"&&G.name===h.name&&(P=Object.assign({},G,h))}),h.toolbar&&(P.toolbar=l.mergeToolbar(h.toolbar)),u.push(P)}),u},i}(),Pi=function(){function i(o){var l=this;this.composingLock=!1,this.commentIds=[];var d=document.createElement("div");d.className="vditor-wysiwyg",d.innerHTML='<pre class="vditor-reset" placeholder="'+o.options.placeholder+`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`+window.VditorI18n.comment+`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`,this.element=d.firstElementChild,this.popover=d.firstElementChild.nextElementSibling,this.selectPopover=d.lastElementChild,this.bindEvent(o),mn(o,this.element),gn(o,this.element),cr(o,this.element),ri(o,this.element),Nn(o,this.element),Pr(o,this.element),Qn(o,this.element,this.copy),yn(o,this.element,this.copy),o.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var u,h,P=Lute.NewNodeID(),G=getSelection().getRangeAt(0),re=G.cloneRange(),ee=G.extractContents(),Q=!1,Se=!1;ee.childNodes.forEach(function(xe,He){var nt=!1;if(xe.nodeType===3?nt=!0:xe.classList.contains("vditor-comment")?xe.classList.contains("vditor-comment")&&xe.setAttribute("data-cmtids",xe.getAttribute("data-cmtids")+" "+P):nt=!0,nt)if(xe.nodeType!==3&&xe.getAttribute("data-block")==="0"&&He===0&&re.startOffset>0)xe.innerHTML='<span class="vditor-comment" data-cmtids="'+P+'">'+xe.innerHTML+"</span>",u=xe;else if(xe.nodeType!==3&&xe.getAttribute("data-block")==="0"&&He===ee.childNodes.length-1&&re.endOffset<re.endContainer.textContent.length)xe.innerHTML='<span class="vditor-comment" data-cmtids="'+P+'">'+xe.innerHTML+"</span>",h=xe;else if(xe.nodeType!==3&&xe.getAttribute("data-block")==="0")He===0?Q=!0:He===ee.childNodes.length-1&&(Se=!0),xe.innerHTML='<span class="vditor-comment" data-cmtids="'+P+'">'+xe.innerHTML+"</span>";else{var $e=document.createElement("span");$e.classList.add("vditor-comment"),$e.setAttribute("data-cmtids",P),xe.parentNode.insertBefore($e,xe),$e.appendChild(xe)}});var je=(0,c.F9)(re.startContainer);je&&(u?(je.insertAdjacentHTML("beforeend",u.innerHTML),u.remove()):je.textContent.trim().replace(m.g.ZWSP,"")===""&&Q&&je.remove());var Ke=(0,c.F9)(re.endContainer);Ke&&(h?(Ke.insertAdjacentHTML("afterbegin",h.innerHTML),h.remove()):Ke.textContent.trim().replace(m.g.ZWSP,"")===""&&Se&&Ke.remove()),G.insertNode(ee),o.options.comment.add(P,G.toString(),l.getComments(o,!0)),fe(o,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),l.hideComment()})}return i.prototype.getComments=function(o,l){var d=this;if(l===void 0&&(l=!1),o.currentMode!=="wysiwyg"||!o.options.comment.enable)return[];this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(h){d.commentIds=d.commentIds.concat(h.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var u=[];return l?(this.commentIds.forEach(function(h){u.push({id:h,top:d.element.querySelector('.vditor-comment[data-cmtids="'+h+'"]').offsetTop})}),u):void 0},i.prototype.triggerRemoveComment=function(o){var l,d,u;if(o.currentMode==="wysiwyg"&&o.options.comment.enable&&o.wysiwyg.commentIds.length>0){var h=JSON.parse(JSON.stringify(this.commentIds));this.getComments(o);var P=(l=h,d=this.commentIds,u=new Set(d),l.filter(function(G){return!u.has(G)}));P.length>0&&o.options.comment.remove(P)}},i.prototype.showComment=function(){var o=(0,ie.Ny)(this.element);this.selectPopover.setAttribute("style","left:"+o.left+"px;display:block;top:"+Math.max(-8,o.top-21)+"px")},i.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},i.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},i.prototype.copy=function(o,l){var d=getSelection().getRangeAt(0);if(d.toString()!==""){o.stopPropagation(),o.preventDefault();var u=(0,c.lG)(d.startContainer,"CODE"),h=(0,c.lG)(d.endContainer,"CODE");if(u&&h&&h.isSameNode(u)){var P="";return P=u.parentElement.tagName==="PRE"?d.toString():"`"+d.toString()+"`",o.clipboardData.setData("text/plain",P),void o.clipboardData.setData("text/html","")}var G=(0,c.lG)(d.startContainer,"A"),re=(0,c.lG)(d.endContainer,"A");if(G&&re&&re.isSameNode(G)){var ee=G.getAttribute("title")||"";return ee&&(ee=' "'+ee+'"'),o.clipboardData.setData("text/plain","["+d.toString()+"]("+G.getAttribute("href")+ee+")"),void o.clipboardData.setData("text/html","")}var Q=document.createElement("div");Q.appendChild(d.cloneContents()),o.clipboardData.setData("text/plain",l.lute.VditorDOM2Md(Q.innerHTML).trim()),o.clipboardData.setData("text/html","")}},i.prototype.bindEvent=function(o){var l=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(s(o,["hint"]),l.popover.style.display==="block"&&l.selectPopover.style.display==="block"){var d=parseInt(l.popover.getAttribute("data-top"),10);if(o.options.height==="auto"){if(o.options.toolbarConfig.pin){var u=Math.max(d,window.scrollY-o.element.offsetTop-8)+"px";l.popover.style.display==="block"&&(l.popover.style.top=u),l.selectPopover.style.display==="block"&&(l.selectPopover.style.top=u)}}else if(o.options.toolbarConfig.pin&&o.toolbar.element.getBoundingClientRect().top===0){var h=Math.max(window.scrollY-o.element.offsetTop-8,Math.min(d-o.wysiwyg.element.scrollTop,l.element.clientHeight-21))+"px";l.popover.style.display==="block"&&(l.popover.style.top=h),l.selectPopover.style.display==="block"&&(l.selectPopover.style.top=h)}}}),this.element.addEventListener("scroll",function(){if(s(o,["hint"]),o.options.comment&&o.options.comment.enable&&o.options.comment.scroll&&o.options.comment.scroll(o.wysiwyg.element.scrollTop),l.popover.style.display==="block"){var d=parseInt(l.popover.getAttribute("data-top"),10)-o.wysiwyg.element.scrollTop,u=-8;o.options.toolbarConfig.pin&&o.toolbar.element.getBoundingClientRect().top===0&&(u=window.scrollY-o.element.offsetTop+u);var h=Math.max(u,Math.min(d,l.element.clientHeight-21))+"px";l.popover.style.top=h,l.selectPopover.style.top=h}}),this.element.addEventListener("paste",function(d){li(o,d,{pasteCode:function(u){var h=(0,ie.zh)(o),P=document.createElement("template");P.innerHTML=u,h.insertNode(P.content.cloneNode(!0));var G=(0,c.a1)(h.startContainer,"data-block","0");G?G.outerHTML=o.lute.SpinVditorDOM(G.outerHTML):o.wysiwyg.element.innerHTML=o.lute.SpinVditorDOM(o.wysiwyg.element.innerHTML),(0,ie.ib)(o.wysiwyg.element,h)}})}),this.element.addEventListener("compositionstart",function(){l.composingLock=!0}),this.element.addEventListener("compositionend",function(d){var u=(0,_.W)(getSelection().getRangeAt(0).startContainer);u&&u.textContent===""?ne(o):((0,y.vU)()||Gn(o,getSelection().getRangeAt(0).cloneRange(),d),l.composingLock=!1)}),this.element.addEventListener("input",function(d){if(d.inputType!=="deleteByDrag"&&d.inputType!=="insertFromDrop"){if(l.preventInput)return l.preventInput=!1,void fe(o);if(l.composingLock||d.data==="\u2018"||d.data==="\u201C"||d.data==="\u300A")fe(o);else{var u=getSelection().getRangeAt(0),h=(0,c.F9)(u.startContainer);if(h||(we(o,u),h=(0,c.F9)(u.startContainer)),h){for(var P=(0,ie.im)(h,o.wysiwyg.element,u).start,G=!0,re=P-1;re>h.textContent.substr(0,P).lastIndexOf(`
`);re--)if(h.textContent.charAt(re)!==" "&&h.textContent.charAt(re)!=="	"){G=!1;break}P===0&&(G=!1);var ee=!0;for(re=P-1;re<h.textContent.length;re++)if(h.textContent.charAt(re)!==" "&&h.textContent.charAt(re)!==`
`){ee=!1;break}var Q=(0,_.W)(getSelection().getRangeAt(0).startContainer);Q&&Q.textContent===""&&(ne(o),Q.remove()),G&&h.getAttribute("data-type")!=="code-block"||ee||Ot(h.innerHTML)||kt(h.innerHTML)&&h.previousElementSibling?typeof o.options.input=="function"&&o.options.input(w(o)):Gn(o,u,d)}}}}),this.element.addEventListener("click",function(d){if(d.target.tagName==="INPUT"){var u=d.target;return u.checked?u.setAttribute("checked","checked"):u.removeAttribute("checked"),l.preventInput=!0,void fe(o)}if(d.target.tagName!=="IMG"||d.target.parentElement.classList.contains("vditor-wysiwyg__preview")){if(d.target.tagName==="A")return o.options.link.click?o.options.link.click(d.target):o.options.link.isOpen&&window.open(d.target.getAttribute("href")),void d.preventDefault();var h=(0,ie.zh)(o);if(d.target.isEqualNode(l.element)&&l.element.lastElementChild&&h.collapsed){var P=l.element.lastElementChild.getBoundingClientRect();d.y>P.top+P.height&&(l.element.lastElementChild.tagName==="P"&&l.element.lastElementChild.textContent.trim().replace(m.g.ZWSP,"")===""?(h.selectNodeContents(l.element.lastElementChild),h.collapse(!1)):(l.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+m.g.ZWSP+"<wbr></p>"),(0,ie.ib)(l.element,h)))}at(o);var G=(0,c.fb)(d.target,"vditor-wysiwyg__preview");G||(G=(0,c.fb)((0,ie.zh)(o).startContainer,"vditor-wysiwyg__preview")),G&&St(G,o),U(d,o)}else d.target.getAttribute("data-type")==="link-ref"?pe(o,d.target):function(re,ee){var Q=re.target;ee.wysiwyg.popover.innerHTML="";var Se=function(){Q.setAttribute("src",Ke.value),Q.setAttribute("alt",He.value),Q.setAttribute("title",$e.value)},je=document.createElement("span");je.setAttribute("aria-label",window.VditorI18n.imageURL),je.className="vditor-tooltipped vditor-tooltipped__n";var Ke=document.createElement("input");je.appendChild(Ke),Ke.className="vditor-input",Ke.setAttribute("placeholder",window.VditorI18n.imageURL),Ke.value=Q.getAttribute("src")||"",Ke.oninput=function(){Se()},Ke.onkeydown=function(Qe){Ve(ee,Qe)};var xe=document.createElement("span");xe.setAttribute("aria-label",window.VditorI18n.alternateText),xe.className="vditor-tooltipped vditor-tooltipped__n";var He=document.createElement("input");xe.appendChild(He),He.className="vditor-input",He.setAttribute("placeholder",window.VditorI18n.alternateText),He.style.width="52px",He.value=Q.getAttribute("alt")||"",He.oninput=function(){Se()},He.onkeydown=function(Qe){Ve(ee,Qe)};var nt=document.createElement("span");nt.setAttribute("aria-label",window.VditorI18n.title),nt.className="vditor-tooltipped vditor-tooltipped__n";var $e=document.createElement("input");nt.appendChild($e),$e.className="vditor-input",$e.setAttribute("placeholder",window.VditorI18n.title),$e.value=Q.getAttribute("title")||"",$e.oninput=function(){Se()},$e.onkeydown=function(Qe){Ve(ee,Qe)},lt(Q,ee),ee.wysiwyg.popover.insertAdjacentElement("beforeend",je),ee.wysiwyg.popover.insertAdjacentElement("beforeend",xe),ee.wysiwyg.popover.insertAdjacentElement("beforeend",nt),Ge(ee,Q)}(d,o)}),this.element.addEventListener("keyup",function(d){if(!d.isComposing&&!(0,y.yl)(d)){d.key==="Enter"&&Xt(o),d.key!=="Backspace"&&d.key!=="Delete"||o.wysiwyg.element.innerHTML===""||o.wysiwyg.element.childNodes.length!==1||!o.wysiwyg.element.firstElementChild||o.wysiwyg.element.firstElementChild.tagName!=="P"||o.wysiwyg.element.firstElementChild.childElementCount!==0||o.wysiwyg.element.textContent!==""&&o.wysiwyg.element.textContent!==`
`||(o.wysiwyg.element.innerHTML="");var u=(0,ie.zh)(o);if(d.key==="Backspace"&&(0,y.vU)()&&u.startContainer.textContent===`
`&&u.startOffset===1&&(u.startContainer.textContent=""),we(o,u),at(o),d.key==="ArrowDown"||d.key==="ArrowRight"||d.key==="Backspace"||d.key==="ArrowLeft"||d.key==="ArrowUp"){d.key!=="ArrowLeft"&&d.key!=="ArrowRight"||o.hint.render(o);var h=(0,c.fb)(u.startContainer,"vditor-wysiwyg__preview");if(!h&&u.startContainer.nodeType!==3&&u.startOffset>0&&(G=u.startContainer).classList.contains("vditor-wysiwyg__block")&&(h=G.lastElementChild),h)if(h.previousElementSibling.style.display!=="none"){var P=h.previousElementSibling;if(P.tagName==="PRE"&&(P=P.firstElementChild),d.key==="ArrowDown"||d.key==="ArrowRight"){var G,re=function(Q){for(var Se=Q;Se&&!Se.nextSibling;)Se=Se.parentElement;return Se.nextSibling}(G=h.parentElement);if(re&&re.nodeType!==3){var ee=re.querySelector(".vditor-wysiwyg__preview");if(ee)return void St(ee,o)}if(re.nodeType===3){for(;re.textContent.length===0&&re.nextSibling;)re=re.nextSibling;u.setStart(re,1)}else u.setStart(re.firstChild,0)}else u.selectNodeContents(P),u.collapse(!1)}else d.key==="ArrowDown"||d.key==="ArrowRight"?St(h,o):St(h,o,!1)}}})},i}(),ho=function(){var i=function(o,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])},i(o,l)};return function(o,l){function d(){this.constructor=o}i(o,l),o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}();const ia=function(i){function o(l,d){var u=i.call(this)||this;u.version=m.H,typeof l=="string"&&(d?d.cache?d.cache.id||(d.cache.id="vditor"+l):d.cache={id:"vditor"+l}:d={cache:{id:"vditor"+l}},l=document.getElementById(l));var h=new yr(d).merge();if(h.i18n)window.VditorI18n=h.i18n,u.init(l,h);else{if(!["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(h.lang))throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");var P="vditorI18nScript",G=P+h.lang;document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach(function(re){re.id!==G&&document.head.removeChild(re)}),(0,k.G)(h.cdn+"/dist/js/i18n/"+h.lang+".js",G).then(function(){u.init(l,h)})}return u}return ho(o,i),o.prototype.setTheme=function(l,d,u,h){this.vditor.options.theme=l,Ue(this.vditor),d&&(this.vditor.options.preview.theme.current=d,(0,qe.Z)(d,h||this.vditor.options.preview.theme.path)),u&&(this.vditor.options.preview.hljs.style=u,(0,uo.Y)(u,this.vditor.options.cdn))},o.prototype.getValue=function(){return w(this.vditor)},o.prototype.getCurrentMode=function(){return this.vditor.currentMode},o.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},o.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},o.prototype.disabled=function(){s(this.vditor,["subToolbar","hint","popover"]),E(this.vditor.toolbar.elements,m.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},o.prototype.enable=function(){D(this.vditor.toolbar.elements,m.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},o.prototype.getSelection=function(){return this.vditor.currentMode==="wysiwyg"?ln(this.vditor.wysiwyg.element):this.vditor.currentMode==="sv"?ln(this.vditor.sv.element):this.vditor.currentMode==="ir"?ln(this.vditor.ir.element):void 0},o.prototype.renderPreview=function(l){this.vditor.preview.render(this.vditor,l)},o.prototype.getCursorPosition=function(){return(0,ie.Ny)(this.vditor[this.vditor.currentMode].element)},o.prototype.isUploading=function(){return this.vditor.upload.isUploading},o.prototype.clearCache=function(){localStorage.removeItem(this.vditor.options.cache.id)},o.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},o.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},o.prototype.html2md=function(l){return this.vditor.lute.HTML2Md(l)},o.prototype.exportJSON=function(l){return this.vditor.lute.RenderJSON(l)},o.prototype.getHTML=function(){return Bo(this.vditor)},o.prototype.tip=function(l,d){this.vditor.tip.show(l,d)},o.prototype.setPreviewMode=function(l){Kr(l,this.vditor)},o.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},o.prototype.updateValue=function(l){document.execCommand("insertHTML",!1,l)},o.prototype.insertValue=function(l,d){d===void 0&&(d=!0);var u=(0,ie.zh)(this.vditor);u.collapse(!0);var h=document.createElement("template");h.innerHTML=l,u.insertNode(h.content.cloneNode(!0)),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,d&&Fe(this.vditor)):this.vditor.currentMode==="wysiwyg"?(this.vditor.wysiwyg.preventInput=!0,d&&Gn(this.vditor,getSelection().getRangeAt(0))):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,d&&Ne(this.vditor,getSelection().getRangeAt(0),!0))},o.prototype.setValue=function(l,d){var u=this;d===void 0&&(d=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>"+this.vditor.lute.SpinVditorSVDOM(l)+"</div>",$t(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?Ie(this.vditor,l,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(l),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(h){ye(h,u.vditor)}),gr(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),l||(s(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),d&&this.clearStack()},o.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},o.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var l=document.getElementById("vditorIconScript");l&&l.remove(),this.clearCache(),De(),this.vditor.wysiwyg.unbindListener()},o.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},o.prototype.hlCommentIds=function(l){if(this.vditor.currentMode==="wysiwyg"){var d=function(u){u.classList.remove("vditor-comment--hover"),l.forEach(function(h){u.getAttribute("data-cmtids").indexOf(h)>-1&&u.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(u){d(u)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(u){d(u)})}},o.prototype.unHlCommentIds=function(l){if(this.vditor.currentMode==="wysiwyg"){var d=function(u){l.forEach(function(h){u.getAttribute("data-cmtids").indexOf(h)>-1&&u.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(u){d(u)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(u){d(u)})}},o.prototype.removeCommentIds=function(l){var d=this;if(this.vditor.currentMode==="wysiwyg"){var u=function(h,P){var G=h.getAttribute("data-cmtids").split(" ");G.find(function(re,ee){if(re===P)return G.splice(ee,1),!0}),G.length===0?(h.outerHTML=h.innerHTML,(0,ie.zh)(d.vditor).collapse(!0)):h.setAttribute("data-cmtids",G.join(" "))};l.forEach(function(h){d.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(P){u(P,h)}),d.vditor.preview.element.style.display!=="none"&&d.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(P){u(P,h)})}),fe(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},o.prototype.init=function(l,d){var u=this;this.vditor={currentMode:d.mode,element:l,hint:new Ti(d.hint.extend),lute:void 0,options:d,originalInnerHTML:l.innerHTML,outline:new Da(window.VditorI18n.outline),tip:new Ko},this.vditor.sv=new Uo(this.vditor),this.vditor.undo=new Qa,this.vditor.wysiwyg=new Pi(this.vditor),this.vditor.ir=new di(this.vditor),this.vditor.toolbar=new na(this.vditor),d.resize.enable&&(this.vditor.resize=new Oa(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new A),(d.upload.url||d.upload.handler)&&(this.vditor.upload=new Br),(0,k.G)(d._lutePath||d.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then(function(){u.vditor.lute=(0,Ma.X)({autoSpace:u.vditor.options.preview.markdown.autoSpace,codeBlockPreview:u.vditor.options.preview.markdown.codeBlockPreview,emojiSite:u.vditor.options.hint.emojiPath,emojis:u.vditor.options.hint.emoji,fixTermTypo:u.vditor.options.preview.markdown.fixTermTypo,footnotes:u.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:u.vditor.options.preview.math.inlineDigit,linkBase:u.vditor.options.preview.markdown.linkBase,linkPrefix:u.vditor.options.preview.markdown.linkPrefix,listStyle:u.vditor.options.preview.markdown.listStyle,mark:u.vditor.options.preview.markdown.mark,mathBlockPreview:u.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:u.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:u.vditor.options.preview.markdown.sanitize,toc:u.vditor.options.preview.markdown.toc}),u.vditor.preview=new Wo(u.vditor),function(h){h.element.innerHTML="",h.element.classList.add("vditor"),h.options.rtl&&h.element.setAttribute("dir","rtl"),Ue(h),(0,qe.Z)(h.options.preview.theme.current,h.options.preview.theme.path),typeof h.options.height=="number"?h.element.style.height=h.options.height+"px":h.element.style.height=h.options.height,typeof h.options.minHeight=="number"&&(h.element.style.minHeight=h.options.minHeight+"px"),typeof h.options.width=="number"?h.element.style.width=h.options.width+"px":h.element.style.width=h.options.width,h.element.appendChild(h.toolbar.element);var P=document.createElement("div");if(P.className="vditor-content",h.options.outline.position==="left"&&P.appendChild(h.outline.element),P.appendChild(h.wysiwyg.element.parentElement),P.appendChild(h.sv.element),P.appendChild(h.ir.element.parentElement),P.appendChild(h.preview.element),h.toolbar.elements.devtools&&P.appendChild(h.devtools.element),h.options.outline.position==="right"&&(h.outline.element.classList.add("vditor-outline--right"),P.appendChild(h.outline.element)),h.upload&&P.appendChild(h.upload.element),h.options.resize.enable&&P.appendChild(h.resize.element),P.appendChild(h.hint.element),P.appendChild(h.tip.element),h.element.appendChild(P),P.addEventListener("click",function(){s(h,["subToolbar"])}),h.toolbar.elements.export&&h.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),Ft(h,h.options.mode,_t(h)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&window.visualViewport!==void 0){var G=!1,re=function(ee){G||(G=!0,requestAnimationFrame(function(){G=!1;var Q=h.toolbar.element;Q.style.transform="none",Q.getBoundingClientRect().top<0&&(Q.style.transform="translate(0, "+-Q.getBoundingClientRect().top+"px)")}))};window.visualViewport.addEventListener("scroll",re),window.visualViewport.addEventListener("resize",re)}}(u.vditor),d.after&&d.after(),d.icon&&(0,k.J)(d.cdn+"/dist/js/icons/"+d.icon+".js","vditorIconScript")})},o}(C.default)})(),ae=ae.default})()})})(zu);const Nf=sc(zu.exports);const Pf=Bt({inheritAttrs:!1,props:{height:{type:Number,default:360},value:{type:String,default:""}},emits:["change","get","update:value"],setup(b,{attrs:ce,emit:H}){const O=Be(null),K=Be(null),ae=Be(!1),W=jc(),{getLocale:C}=uc(),{getDarkMode:m}=dc(),g=Be(b.value||"");It([()=>m.value,()=>ae.value],([E,N])=>{var s;if(!N)return;const F=E==="dark"?"dark":"classic";(s=L.getVditor())==null||s.setTheme(F)},{immediate:!0,flush:"post"}),It(()=>b.value,E=>{var N;E!==g.value&&((N=L.getVditor())==null||N.setValue(E)),g.value=E});const w=On(()=>{let E;switch(ot(C)){case"en":E="en_US";break;case"ja":E="ja_JP";break;case"ko":E="ko_KR";break;default:E="zh_CN"}return E}),k=`${window._CONFIG.domianURL}/sys/common/upload`,A=Ou();function y(E,N){let F=JSON.parse(N),s=E[0].name,p={msg:"",code:0,data:{errFiles:[""],succMap:{}}};return F.success?(p.data.errFiles=[],p.data.succMap={[F.message]:Nu(F.message)}):(p.code=1,p.msg=F.message,p.data.errFiles=[s]),JSON.stringify(p)}function S(){const E=ot(O);if(!E)return;const N=or(or({},ce),b),F=new Nf(E,ti(or({theme:m.value==="dark"?"dark":"classic",lang:ot(w),mode:"sv",fullscreen:{index:520},preview:{actions:[]},upload:{accept:"image/*",url:k,fieldName:"file",extraData:{biz:"markdown"},setHeaders(){return{"X-Access-Token":A}},format(s,p){return y(s,p)}},input:s=>{g.value=s,H("update:value",s),H("change",s)},after:()=>{Sa(()=>{var s;(s=W==null?void 0:W.redoModalHeight)==null||s.call(W),F.setValue(g.value),K.value=F,ae.value=!0,H("get",L)})},blur:()=>{}},N),{cache:{enable:!1}}))}const L={getVditor:()=>K.value};function D(){var N;const E=ot(K);if(!!E){try{(N=E==null?void 0:E.destroy)==null||N.call(E)}catch(F){}K.value=null,ae.value=!1}}return zc(S),cc(D),fc(D),or({wrapRef:O},L)}}),Hf={ref:"wrapRef"};function If(b,ce,H,O,K,ae){return tt(),zt("div",Hf,null,512)}const zf=Jt(Pf,[["render",If]]);var ju={exports:{}};(function(b){(function(){function ce(s){var p={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `\xAB\xAB\xAB` and `\xBB\xBB\xBB` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(s===!1)return JSON.parse(JSON.stringify(p));var c={};for(var _ in p)p.hasOwnProperty(_)&&(c[_]=p[_].defaultValue);return c}function H(){var s=ce(!0),p={};for(var c in s)s.hasOwnProperty(c)&&(p[c]=!0);return p}var O={},K={},ae={},W=ce(!0),C="vanilla",m={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:ce(!0),allOn:H()};O.helper={},O.extensions={},O.setOption=function(s,p){return W[s]=p,this},O.getOption=function(s){return W[s]},O.getOptions=function(){return W},O.resetOptions=function(){W=ce(!0)},O.setFlavor=function(s){if(!m.hasOwnProperty(s))throw Error(s+" flavor was not found");O.resetOptions();var p=m[s];C=s;for(var c in p)p.hasOwnProperty(c)&&(W[c]=p[c])},O.getFlavor=function(){return C},O.getFlavorOptions=function(s){if(m.hasOwnProperty(s))return m[s]},O.getDefaultOptions=function(s){return ce(s)},O.subParser=function(s,p){if(O.helper.isString(s))if(typeof p!="undefined")K[s]=p;else{if(K.hasOwnProperty(s))return K[s];throw Error("SubParser named "+s+" not registered!")}},O.extension=function(s,p){if(!O.helper.isString(s))throw Error("Extension 'name' must be a string");if(s=O.helper.stdExtName(s),O.helper.isUndefined(p)){if(!ae.hasOwnProperty(s))throw Error("Extension named "+s+" is not registered!");return ae[s]}else{typeof p=="function"&&(p=p()),O.helper.isArray(p)||(p=[p]);var c=g(p,s);if(c.valid)ae[s]=p;else throw Error(c.error)}},O.getAllExtensions=function(){return ae},O.removeExtension=function(s){delete ae[s]},O.resetExtensions=function(){ae={}};function g(s,p){var c=p?"Error in "+p+" extension->":"Error in unnamed extension",_={valid:!0,error:""};O.helper.isArray(s)||(s=[s]);for(var z=0;z<s.length;++z){var M=c+" sub-extension "+z+": ",x=s[z];if(typeof x!="object")return _.valid=!1,_.error=M+"must be an object, but "+typeof x+" given",_;if(!O.helper.isString(x.type))return _.valid=!1,_.error=M+'property "type" must be a string, but '+typeof x.type+" given",_;var R=x.type=x.type.toLowerCase();if(R==="language"&&(R=x.type="lang"),R==="html"&&(R=x.type="output"),R!=="lang"&&R!=="output"&&R!=="listener")return _.valid=!1,_.error=M+"type "+R+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',_;if(R==="listener"){if(O.helper.isUndefined(x.listeners))return _.valid=!1,_.error=M+'. Extensions of type "listener" must have a property called "listeners"',_}else if(O.helper.isUndefined(x.filter)&&O.helper.isUndefined(x.regex))return _.valid=!1,_.error=M+R+' extensions must define either a "regex" property or a "filter" method',_;if(x.listeners){if(typeof x.listeners!="object")return _.valid=!1,_.error=M+'"listeners" property must be an object but '+typeof x.listeners+" given",_;for(var X in x.listeners)if(x.listeners.hasOwnProperty(X)&&typeof x.listeners[X]!="function")return _.valid=!1,_.error=M+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+X+" must be a function but "+typeof x.listeners[X]+" given",_}if(x.filter){if(typeof x.filter!="function")return _.valid=!1,_.error=M+'"filter" must be a function, but '+typeof x.filter+" given",_}else if(x.regex){if(O.helper.isString(x.regex)&&(x.regex=new RegExp(x.regex,"g")),!(x.regex instanceof RegExp))return _.valid=!1,_.error=M+'"regex" property must either be a string or a RegExp object, but '+typeof x.regex+" given",_;if(O.helper.isUndefined(x.replace))return _.valid=!1,_.error=M+'"regex" extensions must implement a replace string or function',_}}return _}O.validateExtension=function(s){var p=g(s,null);return p.valid?!0:(console.warn(p.error),!1)},O.hasOwnProperty("helper")||(O.helper={}),O.helper.isString=function(s){return typeof s=="string"||s instanceof String},O.helper.isFunction=function(s){var p={};return s&&p.toString.call(s)==="[object Function]"},O.helper.isArray=function(s){return Array.isArray(s)},O.helper.isUndefined=function(s){return typeof s=="undefined"},O.helper.forEach=function(s,p){if(O.helper.isUndefined(s))throw new Error("obj param is required");if(O.helper.isUndefined(p))throw new Error("callback param is required");if(!O.helper.isFunction(p))throw new Error("callback param must be a function/closure");if(typeof s.forEach=="function")s.forEach(p);else if(O.helper.isArray(s))for(var c=0;c<s.length;c++)p(s[c],c,s);else if(typeof s=="object")for(var _ in s)s.hasOwnProperty(_)&&p(s[_],_,s);else throw new Error("obj does not seem to be an array or an iterable object")},O.helper.stdExtName=function(s){return s.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function w(s,p){var c=p.charCodeAt(0);return"\xA8E"+c+"E"}O.helper.escapeCharactersCallback=w,O.helper.escapeCharacters=function(s,p,c){var _="(["+p.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(_="\\\\"+_);var z=new RegExp(_,"g");return s=s.replace(z,w),s},O.helper.unescapeHTMLEntities=function(s){return s.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var k=function(s,p,c,_){var z=_||"",M=z.indexOf("g")>-1,x=new RegExp(p+"|"+c,"g"+z.replace(/g/g,"")),R=new RegExp(p,z.replace(/g/g,"")),X=[],$,Z,I,B,Y;do for($=0;I=x.exec(s);)if(R.test(I[0]))$++||(Z=x.lastIndex,B=Z-I[0].length);else if($&&!--$){Y=I.index+I[0].length;var J={left:{start:B,end:Z},match:{start:Z,end:I.index},right:{start:I.index,end:Y},wholeMatch:{start:B,end:Y}};if(X.push(J),!M)return X}while($&&(x.lastIndex=Z));return X};O.helper.matchRecursiveRegExp=function(s,p,c,_){for(var z=k(s,p,c,_),M=[],x=0;x<z.length;++x)M.push([s.slice(z[x].wholeMatch.start,z[x].wholeMatch.end),s.slice(z[x].match.start,z[x].match.end),s.slice(z[x].left.start,z[x].left.end),s.slice(z[x].right.start,z[x].right.end)]);return M},O.helper.replaceRecursiveRegExp=function(s,p,c,_,z){if(!O.helper.isFunction(p)){var M=p;p=function(){return M}}var x=k(s,c,_,z),R=s,X=x.length;if(X>0){var $=[];x[0].wholeMatch.start!==0&&$.push(s.slice(0,x[0].wholeMatch.start));for(var Z=0;Z<X;++Z)$.push(p(s.slice(x[Z].wholeMatch.start,x[Z].wholeMatch.end),s.slice(x[Z].match.start,x[Z].match.end),s.slice(x[Z].left.start,x[Z].left.end),s.slice(x[Z].right.start,x[Z].right.end))),Z<X-1&&$.push(s.slice(x[Z].wholeMatch.end,x[Z+1].wholeMatch.start));x[X-1].wholeMatch.end<s.length&&$.push(s.slice(x[X-1].wholeMatch.end)),R=$.join("")}return R},O.helper.regexIndexOf=function(s,p,c){if(!O.helper.isString(s))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(p instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var _=s.substring(c||0).search(p);return _>=0?_+(c||0):_},O.helper.splitAtIndex=function(s,p){if(!O.helper.isString(s))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[s.substring(0,p),s.substring(p)]},O.helper.encodeEmailAddress=function(s){var p=[function(c){return"&#"+c.charCodeAt(0)+";"},function(c){return"&#x"+c.charCodeAt(0).toString(16)+";"},function(c){return c}];return s=s.replace(/./g,function(c){if(c==="@")c=p[Math.floor(Math.random()*2)](c);else{var _=Math.random();c=_>.9?p[2](c):_>.45?p[1](c):p[0](c)}return c}),s},O.helper.padEnd=function(p,c,_){return c=c>>0,_=String(_||" "),p.length>c?String(p):(c=c-p.length,c>_.length&&(_+=_.repeat(c/_.length)),String(p)+_.slice(0,c))},typeof console=="undefined"&&(console={warn:function(s){alert(s)},log:function(s){alert(s)},error:function(s){throw s}}),O.helper.regexes={asteriskDashAndColon:/([*_:~])/g},O.helper.emojis={"+1":"\u{1F44D}","-1":"\u{1F44E}",100:"\u{1F4AF}",1234:"\u{1F522}","1st_place_medal":"\u{1F947}","2nd_place_medal":"\u{1F948}","3rd_place_medal":"\u{1F949}","8ball":"\u{1F3B1}",a:"\u{1F170}\uFE0F",ab:"\u{1F18E}",abc:"\u{1F524}",abcd:"\u{1F521}",accept:"\u{1F251}",aerial_tramway:"\u{1F6A1}",airplane:"\u2708\uFE0F",alarm_clock:"\u23F0",alembic:"\u2697\uFE0F",alien:"\u{1F47D}",ambulance:"\u{1F691}",amphora:"\u{1F3FA}",anchor:"\u2693\uFE0F",angel:"\u{1F47C}",anger:"\u{1F4A2}",angry:"\u{1F620}",anguished:"\u{1F627}",ant:"\u{1F41C}",apple:"\u{1F34E}",aquarius:"\u2652\uFE0F",aries:"\u2648\uFE0F",arrow_backward:"\u25C0\uFE0F",arrow_double_down:"\u23EC",arrow_double_up:"\u23EB",arrow_down:"\u2B07\uFE0F",arrow_down_small:"\u{1F53D}",arrow_forward:"\u25B6\uFE0F",arrow_heading_down:"\u2935\uFE0F",arrow_heading_up:"\u2934\uFE0F",arrow_left:"\u2B05\uFE0F",arrow_lower_left:"\u2199\uFE0F",arrow_lower_right:"\u2198\uFE0F",arrow_right:"\u27A1\uFE0F",arrow_right_hook:"\u21AA\uFE0F",arrow_up:"\u2B06\uFE0F",arrow_up_down:"\u2195\uFE0F",arrow_up_small:"\u{1F53C}",arrow_upper_left:"\u2196\uFE0F",arrow_upper_right:"\u2197\uFE0F",arrows_clockwise:"\u{1F503}",arrows_counterclockwise:"\u{1F504}",art:"\u{1F3A8}",articulated_lorry:"\u{1F69B}",artificial_satellite:"\u{1F6F0}",astonished:"\u{1F632}",athletic_shoe:"\u{1F45F}",atm:"\u{1F3E7}",atom_symbol:"\u269B\uFE0F",avocado:"\u{1F951}",b:"\u{1F171}\uFE0F",baby:"\u{1F476}",baby_bottle:"\u{1F37C}",baby_chick:"\u{1F424}",baby_symbol:"\u{1F6BC}",back:"\u{1F519}",bacon:"\u{1F953}",badminton:"\u{1F3F8}",baggage_claim:"\u{1F6C4}",baguette_bread:"\u{1F956}",balance_scale:"\u2696\uFE0F",balloon:"\u{1F388}",ballot_box:"\u{1F5F3}",ballot_box_with_check:"\u2611\uFE0F",bamboo:"\u{1F38D}",banana:"\u{1F34C}",bangbang:"\u203C\uFE0F",bank:"\u{1F3E6}",bar_chart:"\u{1F4CA}",barber:"\u{1F488}",baseball:"\u26BE\uFE0F",basketball:"\u{1F3C0}",basketball_man:"\u26F9\uFE0F",basketball_woman:"\u26F9\uFE0F&zwj;\u2640\uFE0F",bat:"\u{1F987}",bath:"\u{1F6C0}",bathtub:"\u{1F6C1}",battery:"\u{1F50B}",beach_umbrella:"\u{1F3D6}",bear:"\u{1F43B}",bed:"\u{1F6CF}",bee:"\u{1F41D}",beer:"\u{1F37A}",beers:"\u{1F37B}",beetle:"\u{1F41E}",beginner:"\u{1F530}",bell:"\u{1F514}",bellhop_bell:"\u{1F6CE}",bento:"\u{1F371}",biking_man:"\u{1F6B4}",bike:"\u{1F6B2}",biking_woman:"\u{1F6B4}&zwj;\u2640\uFE0F",bikini:"\u{1F459}",biohazard:"\u2623\uFE0F",bird:"\u{1F426}",birthday:"\u{1F382}",black_circle:"\u26AB\uFE0F",black_flag:"\u{1F3F4}",black_heart:"\u{1F5A4}",black_joker:"\u{1F0CF}",black_large_square:"\u2B1B\uFE0F",black_medium_small_square:"\u25FE\uFE0F",black_medium_square:"\u25FC\uFE0F",black_nib:"\u2712\uFE0F",black_small_square:"\u25AA\uFE0F",black_square_button:"\u{1F532}",blonde_man:"\u{1F471}",blonde_woman:"\u{1F471}&zwj;\u2640\uFE0F",blossom:"\u{1F33C}",blowfish:"\u{1F421}",blue_book:"\u{1F4D8}",blue_car:"\u{1F699}",blue_heart:"\u{1F499}",blush:"\u{1F60A}",boar:"\u{1F417}",boat:"\u26F5\uFE0F",bomb:"\u{1F4A3}",book:"\u{1F4D6}",bookmark:"\u{1F516}",bookmark_tabs:"\u{1F4D1}",books:"\u{1F4DA}",boom:"\u{1F4A5}",boot:"\u{1F462}",bouquet:"\u{1F490}",bowing_man:"\u{1F647}",bow_and_arrow:"\u{1F3F9}",bowing_woman:"\u{1F647}&zwj;\u2640\uFE0F",bowling:"\u{1F3B3}",boxing_glove:"\u{1F94A}",boy:"\u{1F466}",bread:"\u{1F35E}",bride_with_veil:"\u{1F470}",bridge_at_night:"\u{1F309}",briefcase:"\u{1F4BC}",broken_heart:"\u{1F494}",bug:"\u{1F41B}",building_construction:"\u{1F3D7}",bulb:"\u{1F4A1}",bullettrain_front:"\u{1F685}",bullettrain_side:"\u{1F684}",burrito:"\u{1F32F}",bus:"\u{1F68C}",business_suit_levitating:"\u{1F574}",busstop:"\u{1F68F}",bust_in_silhouette:"\u{1F464}",busts_in_silhouette:"\u{1F465}",butterfly:"\u{1F98B}",cactus:"\u{1F335}",cake:"\u{1F370}",calendar:"\u{1F4C6}",call_me_hand:"\u{1F919}",calling:"\u{1F4F2}",camel:"\u{1F42B}",camera:"\u{1F4F7}",camera_flash:"\u{1F4F8}",camping:"\u{1F3D5}",cancer:"\u264B\uFE0F",candle:"\u{1F56F}",candy:"\u{1F36C}",canoe:"\u{1F6F6}",capital_abcd:"\u{1F520}",capricorn:"\u2651\uFE0F",car:"\u{1F697}",card_file_box:"\u{1F5C3}",card_index:"\u{1F4C7}",card_index_dividers:"\u{1F5C2}",carousel_horse:"\u{1F3A0}",carrot:"\u{1F955}",cat:"\u{1F431}",cat2:"\u{1F408}",cd:"\u{1F4BF}",chains:"\u26D3",champagne:"\u{1F37E}",chart:"\u{1F4B9}",chart_with_downwards_trend:"\u{1F4C9}",chart_with_upwards_trend:"\u{1F4C8}",checkered_flag:"\u{1F3C1}",cheese:"\u{1F9C0}",cherries:"\u{1F352}",cherry_blossom:"\u{1F338}",chestnut:"\u{1F330}",chicken:"\u{1F414}",children_crossing:"\u{1F6B8}",chipmunk:"\u{1F43F}",chocolate_bar:"\u{1F36B}",christmas_tree:"\u{1F384}",church:"\u26EA\uFE0F",cinema:"\u{1F3A6}",circus_tent:"\u{1F3AA}",city_sunrise:"\u{1F307}",city_sunset:"\u{1F306}",cityscape:"\u{1F3D9}",cl:"\u{1F191}",clamp:"\u{1F5DC}",clap:"\u{1F44F}",clapper:"\u{1F3AC}",classical_building:"\u{1F3DB}",clinking_glasses:"\u{1F942}",clipboard:"\u{1F4CB}",clock1:"\u{1F550}",clock10:"\u{1F559}",clock1030:"\u{1F565}",clock11:"\u{1F55A}",clock1130:"\u{1F566}",clock12:"\u{1F55B}",clock1230:"\u{1F567}",clock130:"\u{1F55C}",clock2:"\u{1F551}",clock230:"\u{1F55D}",clock3:"\u{1F552}",clock330:"\u{1F55E}",clock4:"\u{1F553}",clock430:"\u{1F55F}",clock5:"\u{1F554}",clock530:"\u{1F560}",clock6:"\u{1F555}",clock630:"\u{1F561}",clock7:"\u{1F556}",clock730:"\u{1F562}",clock8:"\u{1F557}",clock830:"\u{1F563}",clock9:"\u{1F558}",clock930:"\u{1F564}",closed_book:"\u{1F4D5}",closed_lock_with_key:"\u{1F510}",closed_umbrella:"\u{1F302}",cloud:"\u2601\uFE0F",cloud_with_lightning:"\u{1F329}",cloud_with_lightning_and_rain:"\u26C8",cloud_with_rain:"\u{1F327}",cloud_with_snow:"\u{1F328}",clown_face:"\u{1F921}",clubs:"\u2663\uFE0F",cocktail:"\u{1F378}",coffee:"\u2615\uFE0F",coffin:"\u26B0\uFE0F",cold_sweat:"\u{1F630}",comet:"\u2604\uFE0F",computer:"\u{1F4BB}",computer_mouse:"\u{1F5B1}",confetti_ball:"\u{1F38A}",confounded:"\u{1F616}",confused:"\u{1F615}",congratulations:"\u3297\uFE0F",construction:"\u{1F6A7}",construction_worker_man:"\u{1F477}",construction_worker_woman:"\u{1F477}&zwj;\u2640\uFE0F",control_knobs:"\u{1F39B}",convenience_store:"\u{1F3EA}",cookie:"\u{1F36A}",cool:"\u{1F192}",policeman:"\u{1F46E}",copyright:"\xA9\uFE0F",corn:"\u{1F33D}",couch_and_lamp:"\u{1F6CB}",couple:"\u{1F46B}",couple_with_heart_woman_man:"\u{1F491}",couple_with_heart_man_man:"\u{1F468}&zwj;\u2764\uFE0F&zwj;\u{1F468}",couple_with_heart_woman_woman:"\u{1F469}&zwj;\u2764\uFE0F&zwj;\u{1F469}",couplekiss_man_man:"\u{1F468}&zwj;\u2764\uFE0F&zwj;\u{1F48B}&zwj;\u{1F468}",couplekiss_man_woman:"\u{1F48F}",couplekiss_woman_woman:"\u{1F469}&zwj;\u2764\uFE0F&zwj;\u{1F48B}&zwj;\u{1F469}",cow:"\u{1F42E}",cow2:"\u{1F404}",cowboy_hat_face:"\u{1F920}",crab:"\u{1F980}",crayon:"\u{1F58D}",credit_card:"\u{1F4B3}",crescent_moon:"\u{1F319}",cricket:"\u{1F3CF}",crocodile:"\u{1F40A}",croissant:"\u{1F950}",crossed_fingers:"\u{1F91E}",crossed_flags:"\u{1F38C}",crossed_swords:"\u2694\uFE0F",crown:"\u{1F451}",cry:"\u{1F622}",crying_cat_face:"\u{1F63F}",crystal_ball:"\u{1F52E}",cucumber:"\u{1F952}",cupid:"\u{1F498}",curly_loop:"\u27B0",currency_exchange:"\u{1F4B1}",curry:"\u{1F35B}",custard:"\u{1F36E}",customs:"\u{1F6C3}",cyclone:"\u{1F300}",dagger:"\u{1F5E1}",dancer:"\u{1F483}",dancing_women:"\u{1F46F}",dancing_men:"\u{1F46F}&zwj;\u2642\uFE0F",dango:"\u{1F361}",dark_sunglasses:"\u{1F576}",dart:"\u{1F3AF}",dash:"\u{1F4A8}",date:"\u{1F4C5}",deciduous_tree:"\u{1F333}",deer:"\u{1F98C}",department_store:"\u{1F3EC}",derelict_house:"\u{1F3DA}",desert:"\u{1F3DC}",desert_island:"\u{1F3DD}",desktop_computer:"\u{1F5A5}",male_detective:"\u{1F575}\uFE0F",diamond_shape_with_a_dot_inside:"\u{1F4A0}",diamonds:"\u2666\uFE0F",disappointed:"\u{1F61E}",disappointed_relieved:"\u{1F625}",dizzy:"\u{1F4AB}",dizzy_face:"\u{1F635}",do_not_litter:"\u{1F6AF}",dog:"\u{1F436}",dog2:"\u{1F415}",dollar:"\u{1F4B5}",dolls:"\u{1F38E}",dolphin:"\u{1F42C}",door:"\u{1F6AA}",doughnut:"\u{1F369}",dove:"\u{1F54A}",dragon:"\u{1F409}",dragon_face:"\u{1F432}",dress:"\u{1F457}",dromedary_camel:"\u{1F42A}",drooling_face:"\u{1F924}",droplet:"\u{1F4A7}",drum:"\u{1F941}",duck:"\u{1F986}",dvd:"\u{1F4C0}","e-mail":"\u{1F4E7}",eagle:"\u{1F985}",ear:"\u{1F442}",ear_of_rice:"\u{1F33E}",earth_africa:"\u{1F30D}",earth_americas:"\u{1F30E}",earth_asia:"\u{1F30F}",egg:"\u{1F95A}",eggplant:"\u{1F346}",eight_pointed_black_star:"\u2734\uFE0F",eight_spoked_asterisk:"\u2733\uFE0F",electric_plug:"\u{1F50C}",elephant:"\u{1F418}",email:"\u2709\uFE0F",end:"\u{1F51A}",envelope_with_arrow:"\u{1F4E9}",euro:"\u{1F4B6}",european_castle:"\u{1F3F0}",european_post_office:"\u{1F3E4}",evergreen_tree:"\u{1F332}",exclamation:"\u2757\uFE0F",expressionless:"\u{1F611}",eye:"\u{1F441}",eye_speech_bubble:"\u{1F441}&zwj;\u{1F5E8}",eyeglasses:"\u{1F453}",eyes:"\u{1F440}",face_with_head_bandage:"\u{1F915}",face_with_thermometer:"\u{1F912}",fist_oncoming:"\u{1F44A}",factory:"\u{1F3ED}",fallen_leaf:"\u{1F342}",family_man_woman_boy:"\u{1F46A}",family_man_boy:"\u{1F468}&zwj;\u{1F466}",family_man_boy_boy:"\u{1F468}&zwj;\u{1F466}&zwj;\u{1F466}",family_man_girl:"\u{1F468}&zwj;\u{1F467}",family_man_girl_boy:"\u{1F468}&zwj;\u{1F467}&zwj;\u{1F466}",family_man_girl_girl:"\u{1F468}&zwj;\u{1F467}&zwj;\u{1F467}",family_man_man_boy:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F466}",family_man_man_boy_boy:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F466}&zwj;\u{1F466}",family_man_man_girl:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F467}",family_man_man_girl_boy:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F467}&zwj;\u{1F466}",family_man_man_girl_girl:"\u{1F468}&zwj;\u{1F468}&zwj;\u{1F467}&zwj;\u{1F467}",family_man_woman_boy_boy:"\u{1F468}&zwj;\u{1F469}&zwj;\u{1F466}&zwj;\u{1F466}",family_man_woman_girl:"\u{1F468}&zwj;\u{1F469}&zwj;\u{1F467}",family_man_woman_girl_boy:"\u{1F468}&zwj;\u{1F469}&zwj;\u{1F467}&zwj;\u{1F466}",family_man_woman_girl_girl:"\u{1F468}&zwj;\u{1F469}&zwj;\u{1F467}&zwj;\u{1F467}",family_woman_boy:"\u{1F469}&zwj;\u{1F466}",family_woman_boy_boy:"\u{1F469}&zwj;\u{1F466}&zwj;\u{1F466}",family_woman_girl:"\u{1F469}&zwj;\u{1F467}",family_woman_girl_boy:"\u{1F469}&zwj;\u{1F467}&zwj;\u{1F466}",family_woman_girl_girl:"\u{1F469}&zwj;\u{1F467}&zwj;\u{1F467}",family_woman_woman_boy:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F466}",family_woman_woman_boy_boy:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F466}&zwj;\u{1F466}",family_woman_woman_girl:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F467}",family_woman_woman_girl_boy:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F467}&zwj;\u{1F466}",family_woman_woman_girl_girl:"\u{1F469}&zwj;\u{1F469}&zwj;\u{1F467}&zwj;\u{1F467}",fast_forward:"\u23E9",fax:"\u{1F4E0}",fearful:"\u{1F628}",feet:"\u{1F43E}",female_detective:"\u{1F575}\uFE0F&zwj;\u2640\uFE0F",ferris_wheel:"\u{1F3A1}",ferry:"\u26F4",field_hockey:"\u{1F3D1}",file_cabinet:"\u{1F5C4}",file_folder:"\u{1F4C1}",film_projector:"\u{1F4FD}",film_strip:"\u{1F39E}",fire:"\u{1F525}",fire_engine:"\u{1F692}",fireworks:"\u{1F386}",first_quarter_moon:"\u{1F313}",first_quarter_moon_with_face:"\u{1F31B}",fish:"\u{1F41F}",fish_cake:"\u{1F365}",fishing_pole_and_fish:"\u{1F3A3}",fist_raised:"\u270A",fist_left:"\u{1F91B}",fist_right:"\u{1F91C}",flags:"\u{1F38F}",flashlight:"\u{1F526}",fleur_de_lis:"\u269C\uFE0F",flight_arrival:"\u{1F6EC}",flight_departure:"\u{1F6EB}",floppy_disk:"\u{1F4BE}",flower_playing_cards:"\u{1F3B4}",flushed:"\u{1F633}",fog:"\u{1F32B}",foggy:"\u{1F301}",football:"\u{1F3C8}",footprints:"\u{1F463}",fork_and_knife:"\u{1F374}",fountain:"\u26F2\uFE0F",fountain_pen:"\u{1F58B}",four_leaf_clover:"\u{1F340}",fox_face:"\u{1F98A}",framed_picture:"\u{1F5BC}",free:"\u{1F193}",fried_egg:"\u{1F373}",fried_shrimp:"\u{1F364}",fries:"\u{1F35F}",frog:"\u{1F438}",frowning:"\u{1F626}",frowning_face:"\u2639\uFE0F",frowning_man:"\u{1F64D}&zwj;\u2642\uFE0F",frowning_woman:"\u{1F64D}",middle_finger:"\u{1F595}",fuelpump:"\u26FD\uFE0F",full_moon:"\u{1F315}",full_moon_with_face:"\u{1F31D}",funeral_urn:"\u26B1\uFE0F",game_die:"\u{1F3B2}",gear:"\u2699\uFE0F",gem:"\u{1F48E}",gemini:"\u264A\uFE0F",ghost:"\u{1F47B}",gift:"\u{1F381}",gift_heart:"\u{1F49D}",girl:"\u{1F467}",globe_with_meridians:"\u{1F310}",goal_net:"\u{1F945}",goat:"\u{1F410}",golf:"\u26F3\uFE0F",golfing_man:"\u{1F3CC}\uFE0F",golfing_woman:"\u{1F3CC}\uFE0F&zwj;\u2640\uFE0F",gorilla:"\u{1F98D}",grapes:"\u{1F347}",green_apple:"\u{1F34F}",green_book:"\u{1F4D7}",green_heart:"\u{1F49A}",green_salad:"\u{1F957}",grey_exclamation:"\u2755",grey_question:"\u2754",grimacing:"\u{1F62C}",grin:"\u{1F601}",grinning:"\u{1F600}",guardsman:"\u{1F482}",guardswoman:"\u{1F482}&zwj;\u2640\uFE0F",guitar:"\u{1F3B8}",gun:"\u{1F52B}",haircut_woman:"\u{1F487}",haircut_man:"\u{1F487}&zwj;\u2642\uFE0F",hamburger:"\u{1F354}",hammer:"\u{1F528}",hammer_and_pick:"\u2692",hammer_and_wrench:"\u{1F6E0}",hamster:"\u{1F439}",hand:"\u270B",handbag:"\u{1F45C}",handshake:"\u{1F91D}",hankey:"\u{1F4A9}",hatched_chick:"\u{1F425}",hatching_chick:"\u{1F423}",headphones:"\u{1F3A7}",hear_no_evil:"\u{1F649}",heart:"\u2764\uFE0F",heart_decoration:"\u{1F49F}",heart_eyes:"\u{1F60D}",heart_eyes_cat:"\u{1F63B}",heartbeat:"\u{1F493}",heartpulse:"\u{1F497}",hearts:"\u2665\uFE0F",heavy_check_mark:"\u2714\uFE0F",heavy_division_sign:"\u2797",heavy_dollar_sign:"\u{1F4B2}",heavy_heart_exclamation:"\u2763\uFE0F",heavy_minus_sign:"\u2796",heavy_multiplication_x:"\u2716\uFE0F",heavy_plus_sign:"\u2795",helicopter:"\u{1F681}",herb:"\u{1F33F}",hibiscus:"\u{1F33A}",high_brightness:"\u{1F506}",high_heel:"\u{1F460}",hocho:"\u{1F52A}",hole:"\u{1F573}",honey_pot:"\u{1F36F}",horse:"\u{1F434}",horse_racing:"\u{1F3C7}",hospital:"\u{1F3E5}",hot_pepper:"\u{1F336}",hotdog:"\u{1F32D}",hotel:"\u{1F3E8}",hotsprings:"\u2668\uFE0F",hourglass:"\u231B\uFE0F",hourglass_flowing_sand:"\u23F3",house:"\u{1F3E0}",house_with_garden:"\u{1F3E1}",houses:"\u{1F3D8}",hugs:"\u{1F917}",hushed:"\u{1F62F}",ice_cream:"\u{1F368}",ice_hockey:"\u{1F3D2}",ice_skate:"\u26F8",icecream:"\u{1F366}",id:"\u{1F194}",ideograph_advantage:"\u{1F250}",imp:"\u{1F47F}",inbox_tray:"\u{1F4E5}",incoming_envelope:"\u{1F4E8}",tipping_hand_woman:"\u{1F481}",information_source:"\u2139\uFE0F",innocent:"\u{1F607}",interrobang:"\u2049\uFE0F",iphone:"\u{1F4F1}",izakaya_lantern:"\u{1F3EE}",jack_o_lantern:"\u{1F383}",japan:"\u{1F5FE}",japanese_castle:"\u{1F3EF}",japanese_goblin:"\u{1F47A}",japanese_ogre:"\u{1F479}",jeans:"\u{1F456}",joy:"\u{1F602}",joy_cat:"\u{1F639}",joystick:"\u{1F579}",kaaba:"\u{1F54B}",key:"\u{1F511}",keyboard:"\u2328\uFE0F",keycap_ten:"\u{1F51F}",kick_scooter:"\u{1F6F4}",kimono:"\u{1F458}",kiss:"\u{1F48B}",kissing:"\u{1F617}",kissing_cat:"\u{1F63D}",kissing_closed_eyes:"\u{1F61A}",kissing_heart:"\u{1F618}",kissing_smiling_eyes:"\u{1F619}",kiwi_fruit:"\u{1F95D}",koala:"\u{1F428}",koko:"\u{1F201}",label:"\u{1F3F7}",large_blue_circle:"\u{1F535}",large_blue_diamond:"\u{1F537}",large_orange_diamond:"\u{1F536}",last_quarter_moon:"\u{1F317}",last_quarter_moon_with_face:"\u{1F31C}",latin_cross:"\u271D\uFE0F",laughing:"\u{1F606}",leaves:"\u{1F343}",ledger:"\u{1F4D2}",left_luggage:"\u{1F6C5}",left_right_arrow:"\u2194\uFE0F",leftwards_arrow_with_hook:"\u21A9\uFE0F",lemon:"\u{1F34B}",leo:"\u264C\uFE0F",leopard:"\u{1F406}",level_slider:"\u{1F39A}",libra:"\u264E\uFE0F",light_rail:"\u{1F688}",link:"\u{1F517}",lion:"\u{1F981}",lips:"\u{1F444}",lipstick:"\u{1F484}",lizard:"\u{1F98E}",lock:"\u{1F512}",lock_with_ink_pen:"\u{1F50F}",lollipop:"\u{1F36D}",loop:"\u27BF",loud_sound:"\u{1F50A}",loudspeaker:"\u{1F4E2}",love_hotel:"\u{1F3E9}",love_letter:"\u{1F48C}",low_brightness:"\u{1F505}",lying_face:"\u{1F925}",m:"\u24C2\uFE0F",mag:"\u{1F50D}",mag_right:"\u{1F50E}",mahjong:"\u{1F004}\uFE0F",mailbox:"\u{1F4EB}",mailbox_closed:"\u{1F4EA}",mailbox_with_mail:"\u{1F4EC}",mailbox_with_no_mail:"\u{1F4ED}",man:"\u{1F468}",man_artist:"\u{1F468}&zwj;\u{1F3A8}",man_astronaut:"\u{1F468}&zwj;\u{1F680}",man_cartwheeling:"\u{1F938}&zwj;\u2642\uFE0F",man_cook:"\u{1F468}&zwj;\u{1F373}",man_dancing:"\u{1F57A}",man_facepalming:"\u{1F926}&zwj;\u2642\uFE0F",man_factory_worker:"\u{1F468}&zwj;\u{1F3ED}",man_farmer:"\u{1F468}&zwj;\u{1F33E}",man_firefighter:"\u{1F468}&zwj;\u{1F692}",man_health_worker:"\u{1F468}&zwj;\u2695\uFE0F",man_in_tuxedo:"\u{1F935}",man_judge:"\u{1F468}&zwj;\u2696\uFE0F",man_juggling:"\u{1F939}&zwj;\u2642\uFE0F",man_mechanic:"\u{1F468}&zwj;\u{1F527}",man_office_worker:"\u{1F468}&zwj;\u{1F4BC}",man_pilot:"\u{1F468}&zwj;\u2708\uFE0F",man_playing_handball:"\u{1F93E}&zwj;\u2642\uFE0F",man_playing_water_polo:"\u{1F93D}&zwj;\u2642\uFE0F",man_scientist:"\u{1F468}&zwj;\u{1F52C}",man_shrugging:"\u{1F937}&zwj;\u2642\uFE0F",man_singer:"\u{1F468}&zwj;\u{1F3A4}",man_student:"\u{1F468}&zwj;\u{1F393}",man_teacher:"\u{1F468}&zwj;\u{1F3EB}",man_technologist:"\u{1F468}&zwj;\u{1F4BB}",man_with_gua_pi_mao:"\u{1F472}",man_with_turban:"\u{1F473}",tangerine:"\u{1F34A}",mans_shoe:"\u{1F45E}",mantelpiece_clock:"\u{1F570}",maple_leaf:"\u{1F341}",martial_arts_uniform:"\u{1F94B}",mask:"\u{1F637}",massage_woman:"\u{1F486}",massage_man:"\u{1F486}&zwj;\u2642\uFE0F",meat_on_bone:"\u{1F356}",medal_military:"\u{1F396}",medal_sports:"\u{1F3C5}",mega:"\u{1F4E3}",melon:"\u{1F348}",memo:"\u{1F4DD}",men_wrestling:"\u{1F93C}&zwj;\u2642\uFE0F",menorah:"\u{1F54E}",mens:"\u{1F6B9}",metal:"\u{1F918}",metro:"\u{1F687}",microphone:"\u{1F3A4}",microscope:"\u{1F52C}",milk_glass:"\u{1F95B}",milky_way:"\u{1F30C}",minibus:"\u{1F690}",minidisc:"\u{1F4BD}",mobile_phone_off:"\u{1F4F4}",money_mouth_face:"\u{1F911}",money_with_wings:"\u{1F4B8}",moneybag:"\u{1F4B0}",monkey:"\u{1F412}",monkey_face:"\u{1F435}",monorail:"\u{1F69D}",moon:"\u{1F314}",mortar_board:"\u{1F393}",mosque:"\u{1F54C}",motor_boat:"\u{1F6E5}",motor_scooter:"\u{1F6F5}",motorcycle:"\u{1F3CD}",motorway:"\u{1F6E3}",mount_fuji:"\u{1F5FB}",mountain:"\u26F0",mountain_biking_man:"\u{1F6B5}",mountain_biking_woman:"\u{1F6B5}&zwj;\u2640\uFE0F",mountain_cableway:"\u{1F6A0}",mountain_railway:"\u{1F69E}",mountain_snow:"\u{1F3D4}",mouse:"\u{1F42D}",mouse2:"\u{1F401}",movie_camera:"\u{1F3A5}",moyai:"\u{1F5FF}",mrs_claus:"\u{1F936}",muscle:"\u{1F4AA}",mushroom:"\u{1F344}",musical_keyboard:"\u{1F3B9}",musical_note:"\u{1F3B5}",musical_score:"\u{1F3BC}",mute:"\u{1F507}",nail_care:"\u{1F485}",name_badge:"\u{1F4DB}",national_park:"\u{1F3DE}",nauseated_face:"\u{1F922}",necktie:"\u{1F454}",negative_squared_cross_mark:"\u274E",nerd_face:"\u{1F913}",neutral_face:"\u{1F610}",new:"\u{1F195}",new_moon:"\u{1F311}",new_moon_with_face:"\u{1F31A}",newspaper:"\u{1F4F0}",newspaper_roll:"\u{1F5DE}",next_track_button:"\u23ED",ng:"\u{1F196}",no_good_man:"\u{1F645}&zwj;\u2642\uFE0F",no_good_woman:"\u{1F645}",night_with_stars:"\u{1F303}",no_bell:"\u{1F515}",no_bicycles:"\u{1F6B3}",no_entry:"\u26D4\uFE0F",no_entry_sign:"\u{1F6AB}",no_mobile_phones:"\u{1F4F5}",no_mouth:"\u{1F636}",no_pedestrians:"\u{1F6B7}",no_smoking:"\u{1F6AD}","non-potable_water":"\u{1F6B1}",nose:"\u{1F443}",notebook:"\u{1F4D3}",notebook_with_decorative_cover:"\u{1F4D4}",notes:"\u{1F3B6}",nut_and_bolt:"\u{1F529}",o:"\u2B55\uFE0F",o2:"\u{1F17E}\uFE0F",ocean:"\u{1F30A}",octopus:"\u{1F419}",oden:"\u{1F362}",office:"\u{1F3E2}",oil_drum:"\u{1F6E2}",ok:"\u{1F197}",ok_hand:"\u{1F44C}",ok_man:"\u{1F646}&zwj;\u2642\uFE0F",ok_woman:"\u{1F646}",old_key:"\u{1F5DD}",older_man:"\u{1F474}",older_woman:"\u{1F475}",om:"\u{1F549}",on:"\u{1F51B}",oncoming_automobile:"\u{1F698}",oncoming_bus:"\u{1F68D}",oncoming_police_car:"\u{1F694}",oncoming_taxi:"\u{1F696}",open_file_folder:"\u{1F4C2}",open_hands:"\u{1F450}",open_mouth:"\u{1F62E}",open_umbrella:"\u2602\uFE0F",ophiuchus:"\u26CE",orange_book:"\u{1F4D9}",orthodox_cross:"\u2626\uFE0F",outbox_tray:"\u{1F4E4}",owl:"\u{1F989}",ox:"\u{1F402}",package:"\u{1F4E6}",page_facing_up:"\u{1F4C4}",page_with_curl:"\u{1F4C3}",pager:"\u{1F4DF}",paintbrush:"\u{1F58C}",palm_tree:"\u{1F334}",pancakes:"\u{1F95E}",panda_face:"\u{1F43C}",paperclip:"\u{1F4CE}",paperclips:"\u{1F587}",parasol_on_ground:"\u26F1",parking:"\u{1F17F}\uFE0F",part_alternation_mark:"\u303D\uFE0F",partly_sunny:"\u26C5\uFE0F",passenger_ship:"\u{1F6F3}",passport_control:"\u{1F6C2}",pause_button:"\u23F8",peace_symbol:"\u262E\uFE0F",peach:"\u{1F351}",peanuts:"\u{1F95C}",pear:"\u{1F350}",pen:"\u{1F58A}",pencil2:"\u270F\uFE0F",penguin:"\u{1F427}",pensive:"\u{1F614}",performing_arts:"\u{1F3AD}",persevere:"\u{1F623}",person_fencing:"\u{1F93A}",pouting_woman:"\u{1F64E}",phone:"\u260E\uFE0F",pick:"\u26CF",pig:"\u{1F437}",pig2:"\u{1F416}",pig_nose:"\u{1F43D}",pill:"\u{1F48A}",pineapple:"\u{1F34D}",ping_pong:"\u{1F3D3}",pisces:"\u2653\uFE0F",pizza:"\u{1F355}",place_of_worship:"\u{1F6D0}",plate_with_cutlery:"\u{1F37D}",play_or_pause_button:"\u23EF",point_down:"\u{1F447}",point_left:"\u{1F448}",point_right:"\u{1F449}",point_up:"\u261D\uFE0F",point_up_2:"\u{1F446}",police_car:"\u{1F693}",policewoman:"\u{1F46E}&zwj;\u2640\uFE0F",poodle:"\u{1F429}",popcorn:"\u{1F37F}",post_office:"\u{1F3E3}",postal_horn:"\u{1F4EF}",postbox:"\u{1F4EE}",potable_water:"\u{1F6B0}",potato:"\u{1F954}",pouch:"\u{1F45D}",poultry_leg:"\u{1F357}",pound:"\u{1F4B7}",rage:"\u{1F621}",pouting_cat:"\u{1F63E}",pouting_man:"\u{1F64E}&zwj;\u2642\uFE0F",pray:"\u{1F64F}",prayer_beads:"\u{1F4FF}",pregnant_woman:"\u{1F930}",previous_track_button:"\u23EE",prince:"\u{1F934}",princess:"\u{1F478}",printer:"\u{1F5A8}",purple_heart:"\u{1F49C}",purse:"\u{1F45B}",pushpin:"\u{1F4CC}",put_litter_in_its_place:"\u{1F6AE}",question:"\u2753",rabbit:"\u{1F430}",rabbit2:"\u{1F407}",racehorse:"\u{1F40E}",racing_car:"\u{1F3CE}",radio:"\u{1F4FB}",radio_button:"\u{1F518}",radioactive:"\u2622\uFE0F",railway_car:"\u{1F683}",railway_track:"\u{1F6E4}",rainbow:"\u{1F308}",rainbow_flag:"\u{1F3F3}\uFE0F&zwj;\u{1F308}",raised_back_of_hand:"\u{1F91A}",raised_hand_with_fingers_splayed:"\u{1F590}",raised_hands:"\u{1F64C}",raising_hand_woman:"\u{1F64B}",raising_hand_man:"\u{1F64B}&zwj;\u2642\uFE0F",ram:"\u{1F40F}",ramen:"\u{1F35C}",rat:"\u{1F400}",record_button:"\u23FA",recycle:"\u267B\uFE0F",red_circle:"\u{1F534}",registered:"\xAE\uFE0F",relaxed:"\u263A\uFE0F",relieved:"\u{1F60C}",reminder_ribbon:"\u{1F397}",repeat:"\u{1F501}",repeat_one:"\u{1F502}",rescue_worker_helmet:"\u26D1",restroom:"\u{1F6BB}",revolving_hearts:"\u{1F49E}",rewind:"\u23EA",rhinoceros:"\u{1F98F}",ribbon:"\u{1F380}",rice:"\u{1F35A}",rice_ball:"\u{1F359}",rice_cracker:"\u{1F358}",rice_scene:"\u{1F391}",right_anger_bubble:"\u{1F5EF}",ring:"\u{1F48D}",robot:"\u{1F916}",rocket:"\u{1F680}",rofl:"\u{1F923}",roll_eyes:"\u{1F644}",roller_coaster:"\u{1F3A2}",rooster:"\u{1F413}",rose:"\u{1F339}",rosette:"\u{1F3F5}",rotating_light:"\u{1F6A8}",round_pushpin:"\u{1F4CD}",rowing_man:"\u{1F6A3}",rowing_woman:"\u{1F6A3}&zwj;\u2640\uFE0F",rugby_football:"\u{1F3C9}",running_man:"\u{1F3C3}",running_shirt_with_sash:"\u{1F3BD}",running_woman:"\u{1F3C3}&zwj;\u2640\uFE0F",sa:"\u{1F202}\uFE0F",sagittarius:"\u2650\uFE0F",sake:"\u{1F376}",sandal:"\u{1F461}",santa:"\u{1F385}",satellite:"\u{1F4E1}",saxophone:"\u{1F3B7}",school:"\u{1F3EB}",school_satchel:"\u{1F392}",scissors:"\u2702\uFE0F",scorpion:"\u{1F982}",scorpius:"\u264F\uFE0F",scream:"\u{1F631}",scream_cat:"\u{1F640}",scroll:"\u{1F4DC}",seat:"\u{1F4BA}",secret:"\u3299\uFE0F",see_no_evil:"\u{1F648}",seedling:"\u{1F331}",selfie:"\u{1F933}",shallow_pan_of_food:"\u{1F958}",shamrock:"\u2618\uFE0F",shark:"\u{1F988}",shaved_ice:"\u{1F367}",sheep:"\u{1F411}",shell:"\u{1F41A}",shield:"\u{1F6E1}",shinto_shrine:"\u26E9",ship:"\u{1F6A2}",shirt:"\u{1F455}",shopping:"\u{1F6CD}",shopping_cart:"\u{1F6D2}",shower:"\u{1F6BF}",shrimp:"\u{1F990}",signal_strength:"\u{1F4F6}",six_pointed_star:"\u{1F52F}",ski:"\u{1F3BF}",skier:"\u26F7",skull:"\u{1F480}",skull_and_crossbones:"\u2620\uFE0F",sleeping:"\u{1F634}",sleeping_bed:"\u{1F6CC}",sleepy:"\u{1F62A}",slightly_frowning_face:"\u{1F641}",slightly_smiling_face:"\u{1F642}",slot_machine:"\u{1F3B0}",small_airplane:"\u{1F6E9}",small_blue_diamond:"\u{1F539}",small_orange_diamond:"\u{1F538}",small_red_triangle:"\u{1F53A}",small_red_triangle_down:"\u{1F53B}",smile:"\u{1F604}",smile_cat:"\u{1F638}",smiley:"\u{1F603}",smiley_cat:"\u{1F63A}",smiling_imp:"\u{1F608}",smirk:"\u{1F60F}",smirk_cat:"\u{1F63C}",smoking:"\u{1F6AC}",snail:"\u{1F40C}",snake:"\u{1F40D}",sneezing_face:"\u{1F927}",snowboarder:"\u{1F3C2}",snowflake:"\u2744\uFE0F",snowman:"\u26C4\uFE0F",snowman_with_snow:"\u2603\uFE0F",sob:"\u{1F62D}",soccer:"\u26BD\uFE0F",soon:"\u{1F51C}",sos:"\u{1F198}",sound:"\u{1F509}",space_invader:"\u{1F47E}",spades:"\u2660\uFE0F",spaghetti:"\u{1F35D}",sparkle:"\u2747\uFE0F",sparkler:"\u{1F387}",sparkles:"\u2728",sparkling_heart:"\u{1F496}",speak_no_evil:"\u{1F64A}",speaker:"\u{1F508}",speaking_head:"\u{1F5E3}",speech_balloon:"\u{1F4AC}",speedboat:"\u{1F6A4}",spider:"\u{1F577}",spider_web:"\u{1F578}",spiral_calendar:"\u{1F5D3}",spiral_notepad:"\u{1F5D2}",spoon:"\u{1F944}",squid:"\u{1F991}",stadium:"\u{1F3DF}",star:"\u2B50\uFE0F",star2:"\u{1F31F}",star_and_crescent:"\u262A\uFE0F",star_of_david:"\u2721\uFE0F",stars:"\u{1F320}",station:"\u{1F689}",statue_of_liberty:"\u{1F5FD}",steam_locomotive:"\u{1F682}",stew:"\u{1F372}",stop_button:"\u23F9",stop_sign:"\u{1F6D1}",stopwatch:"\u23F1",straight_ruler:"\u{1F4CF}",strawberry:"\u{1F353}",stuck_out_tongue:"\u{1F61B}",stuck_out_tongue_closed_eyes:"\u{1F61D}",stuck_out_tongue_winking_eye:"\u{1F61C}",studio_microphone:"\u{1F399}",stuffed_flatbread:"\u{1F959}",sun_behind_large_cloud:"\u{1F325}",sun_behind_rain_cloud:"\u{1F326}",sun_behind_small_cloud:"\u{1F324}",sun_with_face:"\u{1F31E}",sunflower:"\u{1F33B}",sunglasses:"\u{1F60E}",sunny:"\u2600\uFE0F",sunrise:"\u{1F305}",sunrise_over_mountains:"\u{1F304}",surfing_man:"\u{1F3C4}",surfing_woman:"\u{1F3C4}&zwj;\u2640\uFE0F",sushi:"\u{1F363}",suspension_railway:"\u{1F69F}",sweat:"\u{1F613}",sweat_drops:"\u{1F4A6}",sweat_smile:"\u{1F605}",sweet_potato:"\u{1F360}",swimming_man:"\u{1F3CA}",swimming_woman:"\u{1F3CA}&zwj;\u2640\uFE0F",symbols:"\u{1F523}",synagogue:"\u{1F54D}",syringe:"\u{1F489}",taco:"\u{1F32E}",tada:"\u{1F389}",tanabata_tree:"\u{1F38B}",taurus:"\u2649\uFE0F",taxi:"\u{1F695}",tea:"\u{1F375}",telephone_receiver:"\u{1F4DE}",telescope:"\u{1F52D}",tennis:"\u{1F3BE}",tent:"\u26FA\uFE0F",thermometer:"\u{1F321}",thinking:"\u{1F914}",thought_balloon:"\u{1F4AD}",ticket:"\u{1F3AB}",tickets:"\u{1F39F}",tiger:"\u{1F42F}",tiger2:"\u{1F405}",timer_clock:"\u23F2",tipping_hand_man:"\u{1F481}&zwj;\u2642\uFE0F",tired_face:"\u{1F62B}",tm:"\u2122\uFE0F",toilet:"\u{1F6BD}",tokyo_tower:"\u{1F5FC}",tomato:"\u{1F345}",tongue:"\u{1F445}",top:"\u{1F51D}",tophat:"\u{1F3A9}",tornado:"\u{1F32A}",trackball:"\u{1F5B2}",tractor:"\u{1F69C}",traffic_light:"\u{1F6A5}",train:"\u{1F68B}",train2:"\u{1F686}",tram:"\u{1F68A}",triangular_flag_on_post:"\u{1F6A9}",triangular_ruler:"\u{1F4D0}",trident:"\u{1F531}",triumph:"\u{1F624}",trolleybus:"\u{1F68E}",trophy:"\u{1F3C6}",tropical_drink:"\u{1F379}",tropical_fish:"\u{1F420}",truck:"\u{1F69A}",trumpet:"\u{1F3BA}",tulip:"\u{1F337}",tumbler_glass:"\u{1F943}",turkey:"\u{1F983}",turtle:"\u{1F422}",tv:"\u{1F4FA}",twisted_rightwards_arrows:"\u{1F500}",two_hearts:"\u{1F495}",two_men_holding_hands:"\u{1F46C}",two_women_holding_hands:"\u{1F46D}",u5272:"\u{1F239}",u5408:"\u{1F234}",u55b6:"\u{1F23A}",u6307:"\u{1F22F}\uFE0F",u6708:"\u{1F237}\uFE0F",u6709:"\u{1F236}",u6e80:"\u{1F235}",u7121:"\u{1F21A}\uFE0F",u7533:"\u{1F238}",u7981:"\u{1F232}",u7a7a:"\u{1F233}",umbrella:"\u2614\uFE0F",unamused:"\u{1F612}",underage:"\u{1F51E}",unicorn:"\u{1F984}",unlock:"\u{1F513}",up:"\u{1F199}",upside_down_face:"\u{1F643}",v:"\u270C\uFE0F",vertical_traffic_light:"\u{1F6A6}",vhs:"\u{1F4FC}",vibration_mode:"\u{1F4F3}",video_camera:"\u{1F4F9}",video_game:"\u{1F3AE}",violin:"\u{1F3BB}",virgo:"\u264D\uFE0F",volcano:"\u{1F30B}",volleyball:"\u{1F3D0}",vs:"\u{1F19A}",vulcan_salute:"\u{1F596}",walking_man:"\u{1F6B6}",walking_woman:"\u{1F6B6}&zwj;\u2640\uFE0F",waning_crescent_moon:"\u{1F318}",waning_gibbous_moon:"\u{1F316}",warning:"\u26A0\uFE0F",wastebasket:"\u{1F5D1}",watch:"\u231A\uFE0F",water_buffalo:"\u{1F403}",watermelon:"\u{1F349}",wave:"\u{1F44B}",wavy_dash:"\u3030\uFE0F",waxing_crescent_moon:"\u{1F312}",wc:"\u{1F6BE}",weary:"\u{1F629}",wedding:"\u{1F492}",weight_lifting_man:"\u{1F3CB}\uFE0F",weight_lifting_woman:"\u{1F3CB}\uFE0F&zwj;\u2640\uFE0F",whale:"\u{1F433}",whale2:"\u{1F40B}",wheel_of_dharma:"\u2638\uFE0F",wheelchair:"\u267F\uFE0F",white_check_mark:"\u2705",white_circle:"\u26AA\uFE0F",white_flag:"\u{1F3F3}\uFE0F",white_flower:"\u{1F4AE}",white_large_square:"\u2B1C\uFE0F",white_medium_small_square:"\u25FD\uFE0F",white_medium_square:"\u25FB\uFE0F",white_small_square:"\u25AB\uFE0F",white_square_button:"\u{1F533}",wilted_flower:"\u{1F940}",wind_chime:"\u{1F390}",wind_face:"\u{1F32C}",wine_glass:"\u{1F377}",wink:"\u{1F609}",wolf:"\u{1F43A}",woman:"\u{1F469}",woman_artist:"\u{1F469}&zwj;\u{1F3A8}",woman_astronaut:"\u{1F469}&zwj;\u{1F680}",woman_cartwheeling:"\u{1F938}&zwj;\u2640\uFE0F",woman_cook:"\u{1F469}&zwj;\u{1F373}",woman_facepalming:"\u{1F926}&zwj;\u2640\uFE0F",woman_factory_worker:"\u{1F469}&zwj;\u{1F3ED}",woman_farmer:"\u{1F469}&zwj;\u{1F33E}",woman_firefighter:"\u{1F469}&zwj;\u{1F692}",woman_health_worker:"\u{1F469}&zwj;\u2695\uFE0F",woman_judge:"\u{1F469}&zwj;\u2696\uFE0F",woman_juggling:"\u{1F939}&zwj;\u2640\uFE0F",woman_mechanic:"\u{1F469}&zwj;\u{1F527}",woman_office_worker:"\u{1F469}&zwj;\u{1F4BC}",woman_pilot:"\u{1F469}&zwj;\u2708\uFE0F",woman_playing_handball:"\u{1F93E}&zwj;\u2640\uFE0F",woman_playing_water_polo:"\u{1F93D}&zwj;\u2640\uFE0F",woman_scientist:"\u{1F469}&zwj;\u{1F52C}",woman_shrugging:"\u{1F937}&zwj;\u2640\uFE0F",woman_singer:"\u{1F469}&zwj;\u{1F3A4}",woman_student:"\u{1F469}&zwj;\u{1F393}",woman_teacher:"\u{1F469}&zwj;\u{1F3EB}",woman_technologist:"\u{1F469}&zwj;\u{1F4BB}",woman_with_turban:"\u{1F473}&zwj;\u2640\uFE0F",womans_clothes:"\u{1F45A}",womans_hat:"\u{1F452}",women_wrestling:"\u{1F93C}&zwj;\u2640\uFE0F",womens:"\u{1F6BA}",world_map:"\u{1F5FA}",worried:"\u{1F61F}",wrench:"\u{1F527}",writing_hand:"\u270D\uFE0F",x:"\u274C",yellow_heart:"\u{1F49B}",yen:"\u{1F4B4}",yin_yang:"\u262F\uFE0F",yum:"\u{1F60B}",zap:"\u26A1\uFE0F",zipper_mouth_face:"\u{1F910}",zzz:"\u{1F4A4}",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},O.Converter=function(s){var p={},c=[],_=[],z={},M=C,x={parsed:{},raw:"",format:""};R();function R(){s=s||{};for(var B in W)W.hasOwnProperty(B)&&(p[B]=W[B]);if(typeof s=="object")for(var Y in s)s.hasOwnProperty(Y)&&(p[Y]=s[Y]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof s+" was passed instead.");p.extensions&&O.helper.forEach(p.extensions,X)}function X(B,Y){if(Y=Y||null,O.helper.isString(B))if(B=O.helper.stdExtName(B),Y=B,O.extensions[B]){console.warn("DEPRECATION WARNING: "+B+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),$(O.extensions[B],B);return}else if(!O.helper.isUndefined(ae[B]))B=ae[B];else throw Error('Extension "'+B+'" could not be loaded. It was either not found or is not a valid extension.');typeof B=="function"&&(B=B()),O.helper.isArray(B)||(B=[B]);var J=g(B,Y);if(!J.valid)throw Error(J.error);for(var te=0;te<B.length;++te){switch(B[te].type){case"lang":c.push(B[te]);break;case"output":_.push(B[te]);break}if(B[te].hasOwnProperty("listeners"))for(var ye in B[te].listeners)B[te].listeners.hasOwnProperty(ye)&&Z(ye,B[te].listeners[ye])}}function $(B,Y){typeof B=="function"&&(B=B(new O.Converter)),O.helper.isArray(B)||(B=[B]);var J=g(B,Y);if(!J.valid)throw Error(J.error);for(var te=0;te<B.length;++te)switch(B[te].type){case"lang":c.push(B[te]);break;case"output":_.push(B[te]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function Z(B,Y){if(!O.helper.isString(B))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof B+" given");if(typeof Y!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof Y+" given");z.hasOwnProperty(B)||(z[B]=[]),z[B].push(Y)}function I(B){var Y=B.match(/^\s*/)[0].length,J=new RegExp("^\\s{0,"+Y+"}","gm");return B.replace(J,"")}this._dispatch=function(Y,J,te,ye){if(z.hasOwnProperty(Y))for(var ie=0;ie<z[Y].length;++ie){var ne=z[Y][ie](Y,J,this,te,ye);ne&&typeof ne!="undefined"&&(J=ne)}return J},this.listen=function(B,Y){return Z(B,Y),this},this.makeHtml=function(B){if(!B)return B;var Y={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:c,outputModifiers:_,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return B=B.replace(//g,"\xA8T"),B=B.replace(/\$/g,"\xA8D"),B=B.replace(/\r\n/g,`
`),B=B.replace(/\r/g,`
`),B=B.replace(/\u00A0/g,"&nbsp;"),p.smartIndentationFix&&(B=I(B)),B=`

`+B+`

`,B=O.subParser("detab")(B,p,Y),B=B.replace(/^[ \t]+$/mg,""),O.helper.forEach(c,function(J){B=O.subParser("runExtension")(J,B,p,Y)}),B=O.subParser("metadata")(B,p,Y),B=O.subParser("hashPreCodeTags")(B,p,Y),B=O.subParser("githubCodeBlocks")(B,p,Y),B=O.subParser("hashHTMLBlocks")(B,p,Y),B=O.subParser("hashCodeTags")(B,p,Y),B=O.subParser("stripLinkDefinitions")(B,p,Y),B=O.subParser("blockGamut")(B,p,Y),B=O.subParser("unhashHTMLSpans")(B,p,Y),B=O.subParser("unescapeSpecialChars")(B,p,Y),B=B.replace(/D/g,"$$"),B=B.replace(/T/g,"\xA8"),B=O.subParser("completeHTMLDocument")(B,p,Y),O.helper.forEach(_,function(J){B=O.subParser("runExtension")(J,B,p,Y)}),x=Y.metadata,B},this.makeMarkdown=this.makeMd=function(B,Y){if(B=B.replace(/\r\n/g,`
`),B=B.replace(/\r/g,`
`),B=B.replace(/>[ \t]+</,">\xA8NBSP;<"),!Y)if(window&&window.document)Y=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var J=Y.createElement("div");J.innerHTML=B;var te={preList:_e(J)};U(J);for(var ye=J.childNodes,ie="",ne=0;ne<ye.length;ne++)ie+=O.subParser("makeMarkdown.node")(ye[ne],te);function U(Ne){for(var me=0;me<Ne.childNodes.length;++me){var ve=Ne.childNodes[me];ve.nodeType===3?!/\S/.test(ve.nodeValue)&&!/^[ ]+$/.test(ve.nodeValue)?(Ne.removeChild(ve),--me):(ve.nodeValue=ve.nodeValue.split(`
`).join(" "),ve.nodeValue=ve.nodeValue.replace(/(\s)+/g,"$1")):ve.nodeType===1&&U(ve)}}function _e(Ne){for(var me=Ne.querySelectorAll("pre"),ve=[],ke=0;ke<me.length;++ke)if(me[ke].childElementCount===1&&me[ke].firstChild.tagName.toLowerCase()==="code"){var Fe=me[ke].firstChild.innerHTML.trim(),qe=me[ke].firstChild.getAttribute("data-language")||"";if(qe==="")for(var Ue=me[ke].firstChild.className.split(" "),Re=0;Re<Ue.length;++Re){var ut=Ue[Re].match(/^language-(.+)$/);if(ut!==null){qe=ut[1];break}}Fe=O.helper.unescapeHTMLEntities(Fe),ve.push(Fe),me[ke].outerHTML='<precode language="'+qe+'" precodenum="'+ke.toString()+'"></precode>'}else ve.push(me[ke].innerHTML),me[ke].innerHTML="",me[ke].setAttribute("prenum",ke.toString());return ve}return ie},this.setOption=function(B,Y){p[B]=Y},this.getOption=function(B){return p[B]},this.getOptions=function(){return p},this.addExtension=function(B,Y){Y=Y||null,X(B,Y)},this.useExtension=function(B){X(B)},this.setFlavor=function(B){if(!m.hasOwnProperty(B))throw Error(B+" flavor was not found");var Y=m[B];M=B;for(var J in Y)Y.hasOwnProperty(J)&&(p[J]=Y[J])},this.getFlavor=function(){return M},this.removeExtension=function(B){O.helper.isArray(B)||(B=[B]);for(var Y=0;Y<B.length;++Y){for(var J=B[Y],te=0;te<c.length;++te)c[te]===J&&c.splice(te,1);for(var ye=0;ye<_.length;++ye)_[ye]===J&&_.splice(ye,1)}},this.getAllExtensions=function(){return{language:c,output:_}},this.getMetadata=function(B){return B?x.raw:x.parsed},this.getMetadataFormat=function(){return x.format},this._setMetadataPair=function(B,Y){x.parsed[B]=Y},this._setMetadataFormat=function(B){x.format=B},this._setMetadataRaw=function(B){x.raw=B}},O.subParser("anchors",function(s,p,c){s=c.converter._dispatch("anchors.before",s,p,c);var _=function(z,M,x,R,X,$,Z){if(O.helper.isUndefined(Z)&&(Z=""),x=x.toLowerCase(),z.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)R="";else if(!R)if(x||(x=M.toLowerCase().replace(/ ?\n/g," ")),R="#"+x,!O.helper.isUndefined(c.gUrls[x]))R=c.gUrls[x],O.helper.isUndefined(c.gTitles[x])||(Z=c.gTitles[x]);else return z;R=R.replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback);var I='<a href="'+R+'"';return Z!==""&&Z!==null&&(Z=Z.replace(/"/g,"&quot;"),Z=Z.replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback),I+=' title="'+Z+'"'),p.openLinksInNewWindow&&!/^#/.test(R)&&(I+=' rel="noopener noreferrer" target="\xA8E95Eblank"'),I+=">"+M+"</a>",I};return s=s.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,_),s=s.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),s=s.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,_),s=s.replace(/\[([^\[\]]+)]()()()()()/g,_),p.ghMentions&&(s=s.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(z,M,x,R,X){if(x==="\\")return M+R;if(!O.helper.isString(p.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var $=p.ghMentionsLink.replace(/\{u}/g,X),Z="";return p.openLinksInNewWindow&&(Z=' rel="noopener noreferrer" target="\xA8E95Eblank"'),M+'<a href="'+$+'"'+Z+">"+R+"</a>"})),s=c.converter._dispatch("anchors.after",s,p,c),s});var A=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,y=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,S=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,L=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,D=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,E=function(s){return function(p,c,_,z,M,x,R){_=_.replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback);var X=_,$="",Z="",I=c||"",B=R||"";return/^www\./i.test(_)&&(_=_.replace(/^www\./i,"http://www.")),s.excludeTrailingPunctuationFromURLs&&x&&($=x),s.openLinksInNewWindow&&(Z=' rel="noopener noreferrer" target="\xA8E95Eblank"'),I+'<a href="'+_+'"'+Z+">"+X+"</a>"+$+B}},N=function(s,p){return function(c,_,z){var M="mailto:";return _=_||"",z=O.subParser("unescapeSpecialChars")(z,s,p),s.encodeEmails?(M=O.helper.encodeEmailAddress(M+z),z=O.helper.encodeEmailAddress(z)):M=M+z,_+'<a href="'+M+'">'+z+"</a>"}};O.subParser("autoLinks",function(s,p,c){return s=c.converter._dispatch("autoLinks.before",s,p,c),s=s.replace(S,E(p)),s=s.replace(D,N(p,c)),s=c.converter._dispatch("autoLinks.after",s,p,c),s}),O.subParser("simplifiedAutoLinks",function(s,p,c){return p.simplifiedAutoLink&&(s=c.converter._dispatch("simplifiedAutoLinks.before",s,p,c),p.excludeTrailingPunctuationFromURLs?s=s.replace(y,E(p)):s=s.replace(A,E(p)),s=s.replace(L,N(p,c)),s=c.converter._dispatch("simplifiedAutoLinks.after",s,p,c)),s}),O.subParser("blockGamut",function(s,p,c){return s=c.converter._dispatch("blockGamut.before",s,p,c),s=O.subParser("blockQuotes")(s,p,c),s=O.subParser("headers")(s,p,c),s=O.subParser("horizontalRule")(s,p,c),s=O.subParser("lists")(s,p,c),s=O.subParser("codeBlocks")(s,p,c),s=O.subParser("tables")(s,p,c),s=O.subParser("hashHTMLBlocks")(s,p,c),s=O.subParser("paragraphs")(s,p,c),s=c.converter._dispatch("blockGamut.after",s,p,c),s}),O.subParser("blockQuotes",function(s,p,c){s=c.converter._dispatch("blockQuotes.before",s,p,c),s=s+`

`;var _=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return p.splitAdjacentBlockquotes&&(_=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),s=s.replace(_,function(z){return z=z.replace(/^[ \t]*>[ \t]?/gm,""),z=z.replace(/0/g,""),z=z.replace(/^[ \t]+$/gm,""),z=O.subParser("githubCodeBlocks")(z,p,c),z=O.subParser("blockGamut")(z,p,c),z=z.replace(/(^|\n)/g,"$1  "),z=z.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(M,x){var R=x;return R=R.replace(/^  /mg,"\xA80"),R=R.replace(/0/g,""),R}),O.subParser("hashBlock")(`<blockquote>
`+z+`
</blockquote>`,p,c)}),s=c.converter._dispatch("blockQuotes.after",s,p,c),s}),O.subParser("codeBlocks",function(s,p,c){s=c.converter._dispatch("codeBlocks.before",s,p,c),s+="\xA80";var _=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return s=s.replace(_,function(z,M,x){var R=M,X=x,$=`
`;return R=O.subParser("outdent")(R,p,c),R=O.subParser("encodeCode")(R,p,c),R=O.subParser("detab")(R,p,c),R=R.replace(/^\n+/g,""),R=R.replace(/\n+$/g,""),p.omitExtraWLInCodeBlocks&&($=""),R="<pre><code>"+R+$+"</code></pre>",O.subParser("hashBlock")(R,p,c)+X}),s=s.replace(/0/,""),s=c.converter._dispatch("codeBlocks.after",s,p,c),s}),O.subParser("codeSpans",function(s,p,c){return s=c.converter._dispatch("codeSpans.before",s,p,c),typeof s=="undefined"&&(s=""),s=s.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(_,z,M,x){var R=x;return R=R.replace(/^([ \t]*)/g,""),R=R.replace(/[ \t]*$/g,""),R=O.subParser("encodeCode")(R,p,c),R=z+"<code>"+R+"</code>",R=O.subParser("hashHTMLSpans")(R,p,c),R}),s=c.converter._dispatch("codeSpans.after",s,p,c),s}),O.subParser("completeHTMLDocument",function(s,p,c){if(!p.completeHTMLDocument)return s;s=c.converter._dispatch("completeHTMLDocument.before",s,p,c);var _="html",z=`<!DOCTYPE HTML>
`,M="",x=`<meta charset="utf-8">
`,R="",X="";typeof c.metadata.parsed.doctype!="undefined"&&(z="<!DOCTYPE "+c.metadata.parsed.doctype+`>
`,_=c.metadata.parsed.doctype.toString().toLowerCase(),(_==="html"||_==="html5")&&(x='<meta charset="utf-8">'));for(var $ in c.metadata.parsed)if(c.metadata.parsed.hasOwnProperty($))switch($.toLowerCase()){case"doctype":break;case"title":M="<title>"+c.metadata.parsed.title+`</title>
`;break;case"charset":_==="html"||_==="html5"?x='<meta charset="'+c.metadata.parsed.charset+`">
`:x='<meta name="charset" content="'+c.metadata.parsed.charset+`">
`;break;case"language":case"lang":R=' lang="'+c.metadata.parsed[$]+'"',X+='<meta name="'+$+'" content="'+c.metadata.parsed[$]+`">
`;break;default:X+='<meta name="'+$+'" content="'+c.metadata.parsed[$]+`">
`}return s=z+"<html"+R+`>
<head>
`+M+x+X+`</head>
<body>
`+s.trim()+`
</body>
</html>`,s=c.converter._dispatch("completeHTMLDocument.after",s,p,c),s}),O.subParser("detab",function(s,p,c){return s=c.converter._dispatch("detab.before",s,p,c),s=s.replace(/\t(?=\t)/g,"    "),s=s.replace(/\t/g,"\xA8A\xA8B"),s=s.replace(/B(.+?)A/g,function(_,z){for(var M=z,x=4-M.length%4,R=0;R<x;R++)M+=" ";return M}),s=s.replace(/A/g,"    "),s=s.replace(/B/g,""),s=c.converter._dispatch("detab.after",s,p,c),s}),O.subParser("ellipsis",function(s,p,c){return p.ellipsis&&(s=c.converter._dispatch("ellipsis.before",s,p,c),s=s.replace(/\.\.\./g,"\u2026"),s=c.converter._dispatch("ellipsis.after",s,p,c)),s}),O.subParser("emoji",function(s,p,c){if(!p.emoji)return s;s=c.converter._dispatch("emoji.before",s,p,c);var _=/:([\S]+?):/g;return s=s.replace(_,function(z,M){return O.helper.emojis.hasOwnProperty(M)?O.helper.emojis[M]:z}),s=c.converter._dispatch("emoji.after",s,p,c),s}),O.subParser("encodeAmpsAndAngles",function(s,p,c){return s=c.converter._dispatch("encodeAmpsAndAngles.before",s,p,c),s=s.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),s=s.replace(/<(?![a-z\/?$!])/gi,"&lt;"),s=s.replace(/</g,"&lt;"),s=s.replace(/>/g,"&gt;"),s=c.converter._dispatch("encodeAmpsAndAngles.after",s,p,c),s}),O.subParser("encodeBackslashEscapes",function(s,p,c){return s=c.converter._dispatch("encodeBackslashEscapes.before",s,p,c),s=s.replace(/\\(\\)/g,O.helper.escapeCharactersCallback),s=s.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,O.helper.escapeCharactersCallback),s=c.converter._dispatch("encodeBackslashEscapes.after",s,p,c),s}),O.subParser("encodeCode",function(s,p,c){return s=c.converter._dispatch("encodeCode.before",s,p,c),s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,O.helper.escapeCharactersCallback),s=c.converter._dispatch("encodeCode.after",s,p,c),s}),O.subParser("escapeSpecialCharsWithinTagAttributes",function(s,p,c){s=c.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",s,p,c);var _=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,z=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return s=s.replace(_,function(M){return M.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,O.helper.escapeCharactersCallback)}),s=s.replace(z,function(M){return M.replace(/([\\`*_~=|])/g,O.helper.escapeCharactersCallback)}),s=c.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",s,p,c),s}),O.subParser("githubCodeBlocks",function(s,p,c){return p.ghCodeBlocks?(s=c.converter._dispatch("githubCodeBlocks.before",s,p,c),s+="\xA80",s=s.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(_,z,M,x){var R=p.omitExtraWLInCodeBlocks?"":`
`;return x=O.subParser("encodeCode")(x,p,c),x=O.subParser("detab")(x,p,c),x=x.replace(/^\n+/g,""),x=x.replace(/\n+$/g,""),x="<pre><code"+(M?' class="'+M+" language-"+M+'"':"")+">"+x+R+"</code></pre>",x=O.subParser("hashBlock")(x,p,c),`

\xA8G`+(c.ghCodeBlocks.push({text:_,codeblock:x})-1)+`G

`}),s=s.replace(/0/,""),c.converter._dispatch("githubCodeBlocks.after",s,p,c)):s}),O.subParser("hashBlock",function(s,p,c){return s=c.converter._dispatch("hashBlock.before",s,p,c),s=s.replace(/(^\n+|\n+$)/g,""),s=`

\xA8K`+(c.gHtmlBlocks.push(s)-1)+`K

`,s=c.converter._dispatch("hashBlock.after",s,p,c),s}),O.subParser("hashCodeTags",function(s,p,c){s=c.converter._dispatch("hashCodeTags.before",s,p,c);var _=function(z,M,x,R){var X=x+O.subParser("encodeCode")(M,p,c)+R;return"\xA8C"+(c.gHtmlSpans.push(X)-1)+"C"};return s=O.helper.replaceRecursiveRegExp(s,_,"<code\\b[^>]*>","</code>","gim"),s=c.converter._dispatch("hashCodeTags.after",s,p,c),s}),O.subParser("hashElement",function(s,p,c){return function(_,z){var M=z;return M=M.replace(/\n\n/g,`
`),M=M.replace(/^\n/,""),M=M.replace(/\n+$/g,""),M=`

\xA8K`+(c.gHtmlBlocks.push(M)-1)+`K

`,M}}),O.subParser("hashHTMLBlocks",function(s,p,c){s=c.converter._dispatch("hashHTMLBlocks.before",s,p,c);var _=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],z=function(B,Y,J,te){var ye=B;return J.search(/\bmarkdown\b/)!==-1&&(ye=J+c.converter.makeHtml(Y)+te),`

\xA8K`+(c.gHtmlBlocks.push(ye)-1)+`K

`};p.backslashEscapesHTMLTags&&(s=s.replace(/\\<(\/?[^>]+?)>/g,function(B,Y){return"&lt;"+Y+"&gt;"}));for(var M=0;M<_.length;++M)for(var x,R=new RegExp("^ {0,3}(<"+_[M]+"\\b[^>]*>)","im"),X="<"+_[M]+"\\b[^>]*>",$="</"+_[M]+">";(x=O.helper.regexIndexOf(s,R))!==-1;){var Z=O.helper.splitAtIndex(s,x),I=O.helper.replaceRecursiveRegExp(Z[1],z,X,$,"im");if(I===Z[1])break;s=Z[0].concat(I)}return s=s.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,O.subParser("hashElement")(s,p,c)),s=O.helper.replaceRecursiveRegExp(s,function(B){return`

\xA8K`+(c.gHtmlBlocks.push(B)-1)+`K

`},"^ {0,3}<!--","-->","gm"),s=s.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,O.subParser("hashElement")(s,p,c)),s=c.converter._dispatch("hashHTMLBlocks.after",s,p,c),s}),O.subParser("hashHTMLSpans",function(s,p,c){s=c.converter._dispatch("hashHTMLSpans.before",s,p,c);function _(z){return"\xA8C"+(c.gHtmlSpans.push(z)-1)+"C"}return s=s.replace(/<[^>]+?\/>/gi,function(z){return _(z)}),s=s.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(z){return _(z)}),s=s.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(z){return _(z)}),s=s.replace(/<[^>]+?>/gi,function(z){return _(z)}),s=c.converter._dispatch("hashHTMLSpans.after",s,p,c),s}),O.subParser("unhashHTMLSpans",function(s,p,c){s=c.converter._dispatch("unhashHTMLSpans.before",s,p,c);for(var _=0;_<c.gHtmlSpans.length;++_){for(var z=c.gHtmlSpans[_],M=0;/C(\d+)C/.test(z);){var x=RegExp.$1;if(z=z.replace("\xA8C"+x+"C",c.gHtmlSpans[x]),M===10){console.error("maximum nesting of 10 spans reached!!!");break}++M}s=s.replace("\xA8C"+_+"C",z)}return s=c.converter._dispatch("unhashHTMLSpans.after",s,p,c),s}),O.subParser("hashPreCodeTags",function(s,p,c){s=c.converter._dispatch("hashPreCodeTags.before",s,p,c);var _=function(z,M,x,R){var X=x+O.subParser("encodeCode")(M,p,c)+R;return`

\xA8G`+(c.ghCodeBlocks.push({text:z,codeblock:X})-1)+`G

`};return s=O.helper.replaceRecursiveRegExp(s,_,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),s=c.converter._dispatch("hashPreCodeTags.after",s,p,c),s}),O.subParser("headers",function(s,p,c){s=c.converter._dispatch("headers.before",s,p,c);var _=isNaN(parseInt(p.headerLevelStart))?1:parseInt(p.headerLevelStart),z=p.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,M=p.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;s=s.replace(z,function(X,$){var Z=O.subParser("spanGamut")($,p,c),I=p.noHeaderId?"":' id="'+R($)+'"',B=_,Y="<h"+B+I+">"+Z+"</h"+B+">";return O.subParser("hashBlock")(Y,p,c)}),s=s.replace(M,function(X,$){var Z=O.subParser("spanGamut")($,p,c),I=p.noHeaderId?"":' id="'+R($)+'"',B=_+1,Y="<h"+B+I+">"+Z+"</h"+B+">";return O.subParser("hashBlock")(Y,p,c)});var x=p.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;s=s.replace(x,function(X,$,Z){var I=Z;p.customizedHeaderId&&(I=Z.replace(/\s?\{([^{]+?)}\s*$/,""));var B=O.subParser("spanGamut")(I,p,c),Y=p.noHeaderId?"":' id="'+R(Z)+'"',J=_-1+$.length,te="<h"+J+Y+">"+B+"</h"+J+">";return O.subParser("hashBlock")(te,p,c)});function R(X){var $,Z;if(p.customizedHeaderId){var I=X.match(/\{([^{]+?)}\s*$/);I&&I[1]&&(X=I[1])}return $=X,O.helper.isString(p.prefixHeaderId)?Z=p.prefixHeaderId:p.prefixHeaderId===!0?Z="section-":Z="",p.rawPrefixHeaderId||($=Z+$),p.ghCompatibleHeaderId?$=$.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():p.rawHeaderId?$=$.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"\xA8").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():$=$.replace(/[^\w]/g,"").toLowerCase(),p.rawPrefixHeaderId&&($=Z+$),c.hashLinkCounts[$]?$=$+"-"+c.hashLinkCounts[$]++:c.hashLinkCounts[$]=1,$}return s=c.converter._dispatch("headers.after",s,p,c),s}),O.subParser("horizontalRule",function(s,p,c){s=c.converter._dispatch("horizontalRule.before",s,p,c);var _=O.subParser("hashBlock")("<hr />",p,c);return s=s.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,_),s=s.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,_),s=s.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,_),s=c.converter._dispatch("horizontalRule.after",s,p,c),s}),O.subParser("images",function(s,p,c){s=c.converter._dispatch("images.before",s,p,c);var _=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,z=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,M=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,x=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,R=/!\[([^\[\]]+)]()()()()()/g;function X(Z,I,B,Y,J,te,ye,ie){return Y=Y.replace(/\s/g,""),$(Z,I,B,Y,J,te,ye,ie)}function $(Z,I,B,Y,J,te,ye,ie){var ne=c.gUrls,U=c.gTitles,_e=c.gDimensions;if(B=B.toLowerCase(),ie||(ie=""),Z.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)Y="";else if(Y===""||Y===null)if((B===""||B===null)&&(B=I.toLowerCase().replace(/ ?\n/g," ")),Y="#"+B,!O.helper.isUndefined(ne[B]))Y=ne[B],O.helper.isUndefined(U[B])||(ie=U[B]),O.helper.isUndefined(_e[B])||(J=_e[B].width,te=_e[B].height);else return Z;I=I.replace(/"/g,"&quot;").replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback),Y=Y.replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback);var Ne='<img src="'+Y+'" alt="'+I+'"';return ie&&O.helper.isString(ie)&&(ie=ie.replace(/"/g,"&quot;").replace(O.helper.regexes.asteriskDashAndColon,O.helper.escapeCharactersCallback),Ne+=' title="'+ie+'"'),J&&te&&(J=J==="*"?"auto":J,te=te==="*"?"auto":te,Ne+=' width="'+J+'"',Ne+=' height="'+te+'"'),Ne+=" />",Ne}return s=s.replace(x,$),s=s.replace(M,X),s=s.replace(z,$),s=s.replace(_,$),s=s.replace(R,$),s=c.converter._dispatch("images.after",s,p,c),s}),O.subParser("italicsAndBold",function(s,p,c){s=c.converter._dispatch("italicsAndBold.before",s,p,c);function _(z,M,x){return M+z+x}return p.literalMidWordUnderscores?(s=s.replace(/\b___(\S[\s\S]*?)___\b/g,function(z,M){return _(M,"<strong><em>","</em></strong>")}),s=s.replace(/\b__(\S[\s\S]*?)__\b/g,function(z,M){return _(M,"<strong>","</strong>")}),s=s.replace(/\b_(\S[\s\S]*?)_\b/g,function(z,M){return _(M,"<em>","</em>")})):(s=s.replace(/___(\S[\s\S]*?)___/g,function(z,M){return/\S$/.test(M)?_(M,"<strong><em>","</em></strong>"):z}),s=s.replace(/__(\S[\s\S]*?)__/g,function(z,M){return/\S$/.test(M)?_(M,"<strong>","</strong>"):z}),s=s.replace(/_([^\s_][\s\S]*?)_/g,function(z,M){return/\S$/.test(M)?_(M,"<em>","</em>"):z})),p.literalMidWordAsterisks?(s=s.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(z,M,x){return _(x,M+"<strong><em>","</em></strong>")}),s=s.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(z,M,x){return _(x,M+"<strong>","</strong>")}),s=s.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(z,M,x){return _(x,M+"<em>","</em>")})):(s=s.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(z,M){return/\S$/.test(M)?_(M,"<strong><em>","</em></strong>"):z}),s=s.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(z,M){return/\S$/.test(M)?_(M,"<strong>","</strong>"):z}),s=s.replace(/\*([^\s*][\s\S]*?)\*/g,function(z,M){return/\S$/.test(M)?_(M,"<em>","</em>"):z})),s=c.converter._dispatch("italicsAndBold.after",s,p,c),s}),O.subParser("lists",function(s,p,c){function _(x,R){c.gListLevel++,x=x.replace(/\n{2,}$/,`
`),x+="\xA80";var X=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,$=/\n[ \t]*\n(?!0)/.test(x);return p.disableForced4SpacesIndentedSublists&&(X=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),x=x.replace(X,function(Z,I,B,Y,J,te,ye){ye=ye&&ye.trim()!=="";var ie=O.subParser("outdent")(J,p,c),ne="";return te&&p.tasklists&&(ne=' class="task-list-item" style="list-style-type: none;"',ie=ie.replace(/^[ \t]*\[(x|X| )?]/m,function(){var U='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ye&&(U+=" checked"),U+=">",U})),ie=ie.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(U){return"\xA8A"+U}),I||ie.search(/\n{2,}/)>-1?(ie=O.subParser("githubCodeBlocks")(ie,p,c),ie=O.subParser("blockGamut")(ie,p,c)):(ie=O.subParser("lists")(ie,p,c),ie=ie.replace(/\n$/,""),ie=O.subParser("hashHTMLBlocks")(ie,p,c),ie=ie.replace(/\n\n+/g,`

`),$?ie=O.subParser("paragraphs")(ie,p,c):ie=O.subParser("spanGamut")(ie,p,c)),ie=ie.replace("\xA8A",""),ie="<li"+ne+">"+ie+`</li>
`,ie}),x=x.replace(/0/g,""),c.gListLevel--,R&&(x=x.replace(/\s+$/,"")),x}function z(x,R){if(R==="ol"){var X=x.match(/^ *(\d+)\./);if(X&&X[1]!=="1")return' start="'+X[1]+'"'}return""}function M(x,R,X){var $=p.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,Z=p.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,I=R==="ul"?$:Z,B="";if(x.search(I)!==-1)(function J(te){var ye=te.search(I),ie=z(x,R);ye!==-1?(B+=`

<`+R+ie+`>
`+_(te.slice(0,ye),!!X)+"</"+R+`>
`,R=R==="ul"?"ol":"ul",I=R==="ul"?$:Z,J(te.slice(ye))):B+=`

<`+R+ie+`>
`+_(te,!!X)+"</"+R+`>
`})(x);else{var Y=z(x,R);B=`

<`+R+Y+`>
`+_(x,!!X)+"</"+R+`>
`}return B}return s=c.converter._dispatch("lists.before",s,p,c),s+="\xA80",c.gListLevel?s=s.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(x,R,X){var $=X.search(/[*+-]/g)>-1?"ul":"ol";return M(R,$,!0)}):s=s.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(x,R,X,$){var Z=$.search(/[*+-]/g)>-1?"ul":"ol";return M(X,Z,!1)}),s=s.replace(/0/,""),s=c.converter._dispatch("lists.after",s,p,c),s}),O.subParser("metadata",function(s,p,c){if(!p.metadata)return s;s=c.converter._dispatch("metadata.before",s,p,c);function _(z){c.metadata.raw=z,z=z.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),z=z.replace(/\n {4}/g," "),z.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(M,x,R){return c.metadata.parsed[x]=R,""})}return s=s.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(z,M,x){return _(x),"\xA8M"}),s=s.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(z,M,x){return M&&(c.metadata.format=M),_(x),"\xA8M"}),s=s.replace(/M/g,""),s=c.converter._dispatch("metadata.after",s,p,c),s}),O.subParser("outdent",function(s,p,c){return s=c.converter._dispatch("outdent.before",s,p,c),s=s.replace(/^(\t|[ ]{1,4})/gm,"\xA80"),s=s.replace(/0/g,""),s=c.converter._dispatch("outdent.after",s,p,c),s}),O.subParser("paragraphs",function(s,p,c){s=c.converter._dispatch("paragraphs.before",s,p,c),s=s.replace(/^\n+/g,""),s=s.replace(/\n+$/g,"");for(var _=s.split(/\n{2,}/g),z=[],M=_.length,x=0;x<M;x++){var R=_[x];R.search(/(K|G)(\d+)\1/g)>=0?z.push(R):R.search(/\S/)>=0&&(R=O.subParser("spanGamut")(R,p,c),R=R.replace(/^([ \t]*)/g,"<p>"),R+="</p>",z.push(R))}for(M=z.length,x=0;x<M;x++){for(var X="",$=z[x],Z=!1;/(K|G)(\d+)\1/.test($);){var I=RegExp.$1,B=RegExp.$2;I==="K"?X=c.gHtmlBlocks[B]:Z?X=O.subParser("encodeCode")(c.ghCodeBlocks[B].text,p,c):X=c.ghCodeBlocks[B].codeblock,X=X.replace(/\$/g,"$$$$"),$=$.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,X),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test($)&&(Z=!0)}z[x]=$}return s=z.join(`
`),s=s.replace(/^\n+/g,""),s=s.replace(/\n+$/g,""),c.converter._dispatch("paragraphs.after",s,p,c)}),O.subParser("runExtension",function(s,p,c,_){if(s.filter)p=s.filter(p,_.converter,c);else if(s.regex){var z=s.regex;z instanceof RegExp||(z=new RegExp(z,"g")),p=p.replace(z,s.replace)}return p}),O.subParser("spanGamut",function(s,p,c){return s=c.converter._dispatch("spanGamut.before",s,p,c),s=O.subParser("codeSpans")(s,p,c),s=O.subParser("escapeSpecialCharsWithinTagAttributes")(s,p,c),s=O.subParser("encodeBackslashEscapes")(s,p,c),s=O.subParser("images")(s,p,c),s=O.subParser("anchors")(s,p,c),s=O.subParser("autoLinks")(s,p,c),s=O.subParser("simplifiedAutoLinks")(s,p,c),s=O.subParser("emoji")(s,p,c),s=O.subParser("underline")(s,p,c),s=O.subParser("italicsAndBold")(s,p,c),s=O.subParser("strikethrough")(s,p,c),s=O.subParser("ellipsis")(s,p,c),s=O.subParser("hashHTMLSpans")(s,p,c),s=O.subParser("encodeAmpsAndAngles")(s,p,c),p.simpleLineBreaks?/\n\nK/.test(s)||(s=s.replace(/\n+/g,`<br />
`)):s=s.replace(/  +\n/g,`<br />
`),s=c.converter._dispatch("spanGamut.after",s,p,c),s}),O.subParser("strikethrough",function(s,p,c){function _(z){return p.simplifiedAutoLink&&(z=O.subParser("simplifiedAutoLinks")(z,p,c)),"<del>"+z+"</del>"}return p.strikethrough&&(s=c.converter._dispatch("strikethrough.before",s,p,c),s=s.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(z,M){return _(M)}),s=c.converter._dispatch("strikethrough.after",s,p,c)),s}),O.subParser("stripLinkDefinitions",function(s,p,c){var _=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,z=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;s+="\xA80";var M=function(x,R,X,$,Z,I,B){return R=R.toLowerCase(),s.toLowerCase().split(R).length-1<2?x:(X.match(/^data:.+?\/.+?;base64,/)?c.gUrls[R]=X.replace(/\s/g,""):c.gUrls[R]=O.subParser("encodeAmpsAndAngles")(X,p,c),I?I+B:(B&&(c.gTitles[R]=B.replace(/"|'/g,"&quot;")),p.parseImgDimensions&&$&&Z&&(c.gDimensions[R]={width:$,height:Z}),""))};return s=s.replace(z,M),s=s.replace(_,M),s=s.replace(/0/,""),s}),O.subParser("tables",function(s,p,c){if(!p.tables)return s;var _=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,z=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function M(Z){return/^:[ \t]*--*$/.test(Z)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(Z)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(Z)?' style="text-align:center;"':""}function x(Z,I){var B="";return Z=Z.trim(),(p.tablesHeaderId||p.tableHeaderId)&&(B=' id="'+Z.replace(/ /g,"_").toLowerCase()+'"'),Z=O.subParser("spanGamut")(Z,p,c),"<th"+B+I+">"+Z+`</th>
`}function R(Z,I){var B=O.subParser("spanGamut")(Z,p,c);return"<td"+I+">"+B+`</td>
`}function X(Z,I){for(var B=`<table>
<thead>
<tr>
`,Y=Z.length,J=0;J<Y;++J)B+=Z[J];for(B+=`</tr>
</thead>
<tbody>
`,J=0;J<I.length;++J){B+=`<tr>
`;for(var te=0;te<Y;++te)B+=I[J][te];B+=`</tr>
`}return B+=`</tbody>
</table>
`,B}function $(Z){var I,B=Z.split(`
`);for(I=0;I<B.length;++I)/^ {0,3}\|/.test(B[I])&&(B[I]=B[I].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(B[I])&&(B[I]=B[I].replace(/\|[ \t]*$/,"")),B[I]=O.subParser("codeSpans")(B[I],p,c);var Y=B[0].split("|").map(function(Ne){return Ne.trim()}),J=B[1].split("|").map(function(Ne){return Ne.trim()}),te=[],ye=[],ie=[],ne=[];for(B.shift(),B.shift(),I=0;I<B.length;++I)B[I].trim()!==""&&te.push(B[I].split("|").map(function(Ne){return Ne.trim()}));if(Y.length<J.length)return Z;for(I=0;I<J.length;++I)ie.push(M(J[I]));for(I=0;I<Y.length;++I)O.helper.isUndefined(ie[I])&&(ie[I]=""),ye.push(x(Y[I],ie[I]));for(I=0;I<te.length;++I){for(var U=[],_e=0;_e<ye.length;++_e)O.helper.isUndefined(te[I][_e]),U.push(R(te[I][_e],ie[_e]));ne.push(U)}return X(ye,ne)}return s=c.converter._dispatch("tables.before",s,p,c),s=s.replace(/\\(\|)/g,O.helper.escapeCharactersCallback),s=s.replace(_,$),s=s.replace(z,$),s=c.converter._dispatch("tables.after",s,p,c),s}),O.subParser("underline",function(s,p,c){return p.underline&&(s=c.converter._dispatch("underline.before",s,p,c),p.literalMidWordUnderscores?(s=s.replace(/\b___(\S[\s\S]*?)___\b/g,function(_,z){return"<u>"+z+"</u>"}),s=s.replace(/\b__(\S[\s\S]*?)__\b/g,function(_,z){return"<u>"+z+"</u>"})):(s=s.replace(/___(\S[\s\S]*?)___/g,function(_,z){return/\S$/.test(z)?"<u>"+z+"</u>":_}),s=s.replace(/__(\S[\s\S]*?)__/g,function(_,z){return/\S$/.test(z)?"<u>"+z+"</u>":_})),s=s.replace(/(_)/g,O.helper.escapeCharactersCallback),s=c.converter._dispatch("underline.after",s,p,c)),s}),O.subParser("unescapeSpecialChars",function(s,p,c){return s=c.converter._dispatch("unescapeSpecialChars.before",s,p,c),s=s.replace(/E(\d+)E/g,function(_,z){var M=parseInt(z);return String.fromCharCode(M)}),s=c.converter._dispatch("unescapeSpecialChars.after",s,p,c),s}),O.subParser("makeMarkdown.blockquote",function(s,p){var c="";if(s.hasChildNodes())for(var _=s.childNodes,z=_.length,M=0;M<z;++M){var x=O.subParser("makeMarkdown.node")(_[M],p);x!==""&&(c+=x)}return c=c.trim(),c="> "+c.split(`
`).join(`
> `),c}),O.subParser("makeMarkdown.codeBlock",function(s,p){var c=s.getAttribute("language"),_=s.getAttribute("precodenum");return"```"+c+`
`+p.preList[_]+"\n```"}),O.subParser("makeMarkdown.codeSpan",function(s){return"`"+s.innerHTML+"`"}),O.subParser("makeMarkdown.emphasis",function(s,p){var c="";if(s.hasChildNodes()){c+="*";for(var _=s.childNodes,z=_.length,M=0;M<z;++M)c+=O.subParser("makeMarkdown.node")(_[M],p);c+="*"}return c}),O.subParser("makeMarkdown.header",function(s,p,c){var _=new Array(c+1).join("#"),z="";if(s.hasChildNodes()){z=_+" ";for(var M=s.childNodes,x=M.length,R=0;R<x;++R)z+=O.subParser("makeMarkdown.node")(M[R],p)}return z}),O.subParser("makeMarkdown.hr",function(){return"---"}),O.subParser("makeMarkdown.image",function(s){var p="";return s.hasAttribute("src")&&(p+="!["+s.getAttribute("alt")+"](",p+="<"+s.getAttribute("src")+">",s.hasAttribute("width")&&s.hasAttribute("height")&&(p+=" ="+s.getAttribute("width")+"x"+s.getAttribute("height")),s.hasAttribute("title")&&(p+=' "'+s.getAttribute("title")+'"'),p+=")"),p}),O.subParser("makeMarkdown.links",function(s,p){var c="";if(s.hasChildNodes()&&s.hasAttribute("href")){var _=s.childNodes,z=_.length;c="[";for(var M=0;M<z;++M)c+=O.subParser("makeMarkdown.node")(_[M],p);c+="](",c+="<"+s.getAttribute("href")+">",s.hasAttribute("title")&&(c+=' "'+s.getAttribute("title")+'"'),c+=")"}return c}),O.subParser("makeMarkdown.list",function(s,p,c){var _="";if(!s.hasChildNodes())return"";for(var z=s.childNodes,M=z.length,x=s.getAttribute("start")||1,R=0;R<M;++R)if(!(typeof z[R].tagName=="undefined"||z[R].tagName.toLowerCase()!=="li")){var X="";c==="ol"?X=x.toString()+". ":X="- ",_+=X+O.subParser("makeMarkdown.listItem")(z[R],p),++x}return _+=`
<!-- -->
`,_.trim()}),O.subParser("makeMarkdown.listItem",function(s,p){for(var c="",_=s.childNodes,z=_.length,M=0;M<z;++M)c+=O.subParser("makeMarkdown.node")(_[M],p);return/\n$/.test(c)?c=c.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):c+=`
`,c}),O.subParser("makeMarkdown.node",function(s,p,c){c=c||!1;var _="";if(s.nodeType===3)return O.subParser("makeMarkdown.txt")(s,p);if(s.nodeType===8)return"<!--"+s.data+`-->

`;if(s.nodeType!==1)return"";var z=s.tagName.toLowerCase();switch(z){case"h1":c||(_=O.subParser("makeMarkdown.header")(s,p,1)+`

`);break;case"h2":c||(_=O.subParser("makeMarkdown.header")(s,p,2)+`

`);break;case"h3":c||(_=O.subParser("makeMarkdown.header")(s,p,3)+`

`);break;case"h4":c||(_=O.subParser("makeMarkdown.header")(s,p,4)+`

`);break;case"h5":c||(_=O.subParser("makeMarkdown.header")(s,p,5)+`

`);break;case"h6":c||(_=O.subParser("makeMarkdown.header")(s,p,6)+`

`);break;case"p":c||(_=O.subParser("makeMarkdown.paragraph")(s,p)+`

`);break;case"blockquote":c||(_=O.subParser("makeMarkdown.blockquote")(s,p)+`

`);break;case"hr":c||(_=O.subParser("makeMarkdown.hr")(s,p)+`

`);break;case"ol":c||(_=O.subParser("makeMarkdown.list")(s,p,"ol")+`

`);break;case"ul":c||(_=O.subParser("makeMarkdown.list")(s,p,"ul")+`

`);break;case"precode":c||(_=O.subParser("makeMarkdown.codeBlock")(s,p)+`

`);break;case"pre":c||(_=O.subParser("makeMarkdown.pre")(s,p)+`

`);break;case"table":c||(_=O.subParser("makeMarkdown.table")(s,p)+`

`);break;case"code":_=O.subParser("makeMarkdown.codeSpan")(s,p);break;case"em":case"i":_=O.subParser("makeMarkdown.emphasis")(s,p);break;case"strong":case"b":_=O.subParser("makeMarkdown.strong")(s,p);break;case"del":_=O.subParser("makeMarkdown.strikethrough")(s,p);break;case"a":_=O.subParser("makeMarkdown.links")(s,p);break;case"img":_=O.subParser("makeMarkdown.image")(s,p);break;default:_=s.outerHTML+`

`}return _}),O.subParser("makeMarkdown.paragraph",function(s,p){var c="";if(s.hasChildNodes())for(var _=s.childNodes,z=_.length,M=0;M<z;++M)c+=O.subParser("makeMarkdown.node")(_[M],p);return c=c.trim(),c}),O.subParser("makeMarkdown.pre",function(s,p){var c=s.getAttribute("prenum");return"<pre>"+p.preList[c]+"</pre>"}),O.subParser("makeMarkdown.strikethrough",function(s,p){var c="";if(s.hasChildNodes()){c+="~~";for(var _=s.childNodes,z=_.length,M=0;M<z;++M)c+=O.subParser("makeMarkdown.node")(_[M],p);c+="~~"}return c}),O.subParser("makeMarkdown.strong",function(s,p){var c="";if(s.hasChildNodes()){c+="**";for(var _=s.childNodes,z=_.length,M=0;M<z;++M)c+=O.subParser("makeMarkdown.node")(_[M],p);c+="**"}return c}),O.subParser("makeMarkdown.table",function(s,p){var c="",_=[[],[]],z=s.querySelectorAll("thead>tr>th"),M=s.querySelectorAll("tbody>tr"),x,R;for(x=0;x<z.length;++x){var X=O.subParser("makeMarkdown.tableCell")(z[x],p),$="---";if(z[x].hasAttribute("style")){var Z=z[x].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(Z){case"text-align:left;":$=":---";break;case"text-align:right;":$="---:";break;case"text-align:center;":$=":---:";break}}_[0][x]=X.trim(),_[1][x]=$}for(x=0;x<M.length;++x){var I=_.push([])-1,B=M[x].getElementsByTagName("td");for(R=0;R<z.length;++R){var Y=" ";typeof B[R]!="undefined"&&(Y=O.subParser("makeMarkdown.tableCell")(B[R],p)),_[I].push(Y)}}var J=3;for(x=0;x<_.length;++x)for(R=0;R<_[x].length;++R){var te=_[x][R].length;te>J&&(J=te)}for(x=0;x<_.length;++x){for(R=0;R<_[x].length;++R)x===1?_[x][R].slice(-1)===":"?_[x][R]=O.helper.padEnd(_[x][R].slice(-1),J-1,"-")+":":_[x][R]=O.helper.padEnd(_[x][R],J,"-"):_[x][R]=O.helper.padEnd(_[x][R],J);c+="| "+_[x].join(" | ")+` |
`}return c.trim()}),O.subParser("makeMarkdown.tableCell",function(s,p){var c="";if(!s.hasChildNodes())return"";for(var _=s.childNodes,z=_.length,M=0;M<z;++M)c+=O.subParser("makeMarkdown.node")(_[M],p,!0);return c.trim()}),O.subParser("makeMarkdown.txt",function(s){var p=s.nodeValue;return p=p.replace(/ +/g," "),p=p.replace(/NBSP;/g," "),p=O.helper.unescapeHTMLEntities(p),p=p.replace(/([*_~|`])/g,"\\$1"),p=p.replace(/^(\s*)>/g,"\\$1>"),p=p.replace(/^#/gm,"\\#"),p=p.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),p=p.replace(/^( {0,3}\d+)\./gm,"$1\\."),p=p.replace(/^( {0,3})([+-])/gm,"$1\\$2"),p=p.replace(/]([\s]*)\(/g,"\\]$1\\("),p=p.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),p});var F=this;b.exports?b.exports=O:F.showdown=O}).call(Ol)})(ju);const jf=ju.exports,Rf=["innerHTML"],Ff=Bt({__name:"MarkdownViewer",props:{value:{type:String},class:{type:String}},setup(b){const ce=b,H=new jf.Converter;H.setOption("tables",!0);const O=On(()=>H.makeHtml(ce.value||""));return(K,ae)=>(tt(),zt("div",{innerHTML:O.value,class:Ml([K.$props.class,"markdown-viewer"])},null,10,Rf))}});const Bf=Jt(Ff,[["__scopeId","data-v-b1ddd5cd"]]),qf=Pu(zf);Pu(Bf);const Wf=Bt({name:"JMarkdownEditor",inheritAttrs:!1,components:{MarkDown:qf},props:{value:Me.string.def(""),disabled:Me.bool.def(!1)},emits:["change","update:value"],setup(b,{emit:ce,attrs:H}){let O=null,K=null;const ae=On(()=>Object.assign({},b,H));function W(m){O=m,K=O.getVditor(),It(()=>b.disabled,g=>g?K.disabled():K.enable(),{immediate:!0})}function C(m){ce("change",m),ce("update:value",m)}return{bindProps:ae,onChange:C,onGetVditor:W}}});function Uf(b,ce,H,O,K,ae){const W=Ye("MarkDown");return tt(),Lt(W,Nt(b.bindProps,{onChange:b.onChange,onGet:b.onGetVditor}),null,16,["onChange","onGet"])}const Yp=Jt(Wf,[["render",Uf]]),Kf=Bt({name:"JSelectInput",props:{options:Me.array.def(()=>[])},emits:["change","update:value"],setup(b,{emit:ce,attrs:H}){const O=Be([]);It(()=>b.options,()=>{O.value=[...b.options]},{deep:!0,immediate:!0});const K=On(()=>Object.assign({showSearch:!0},b,H,{options:O.value}));function ae(...m){C(m[0]),ce("change",...m),ce("update:value",m[0])}function W(m){let g=O.value.findIndex(w=>w.value.toString()===m.toString())!==-1;!g&&!!m?(C(m),O.value.push({value:m,searchAdd:!0})):g&&ae(m)}function C(m=""){let g=[];O.value.forEach((w,k)=>{var A;w.searchAdd&&((A=w.value)!=null?A:"").toString()!==m.toString()&&g.push(k)});for(let w of g.reverse())O.value.splice(w,1)}return{bindProps:K,onChange:ae,onSearch:W}}});function Vf(b,ce,H,O,K,ae){const W=Ye("a-select");return tt(),Lt(W,Nt(b.bindProps,{onChange:b.onChange,onSearch:b.onSearch}),null,16,["onChange","onSearch"])}const Qp=Jt(Kf,[["render",Vf]]);var Tl={exports:{}},uu;function Ut(){return uu||(uu=1,function(b,ce){(function(H,O){b.exports=O()})(Ol,function(){var H=navigator.userAgent,O=navigator.platform,K=/gecko\/\d/i.test(H),ae=/MSIE \d/.test(H),W=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(H),C=/Edge\/(\d+)/.exec(H),m=ae||W||C,g=m&&(ae?document.documentMode||6:+(C||W)[1]),w=!C&&/WebKit\//.test(H),k=w&&/Qt\/\d+\.\d+/.test(H),A=!C&&/Chrome\/(\d+)/.exec(H),y=A&&+A[1],S=/Opera\//.test(H),L=/Apple Computer/.test(navigator.vendor),D=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(H),E=/PhantomJS/.test(H),N=L&&(/Mobile\/\w+/.test(H)||navigator.maxTouchPoints>2),F=/Android/.test(H),s=N||F||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(H),p=N||/Mac/.test(O),c=/\bCrOS\b/.test(H),_=/win/i.test(O),z=S&&H.match(/Version\/(\d*\.\d*)/);z&&(z=Number(z[1])),z&&z>=15&&(S=!1,w=!0);var M=p&&(k||S&&(z==null||z<12.11)),x=K||m&&g>=9;function R(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var X=function(e,t){var r=e.className,n=R(t).exec(r);if(n){var a=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(a?n[1]+a:"")}};function $(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Z(e,t){return $(e).appendChild(t)}function I(e,t,r,n){var a=document.createElement(e);if(r&&(a.className=r),n&&(a.style.cssText=n),typeof t=="string")a.appendChild(document.createTextNode(t));else if(t)for(var f=0;f<t.length;++f)a.appendChild(t[f]);return a}function B(e,t,r,n){var a=I(e,t,r,n);return a.setAttribute("role","presentation"),a}var Y;document.createRange?Y=function(e,t,r,n){var a=document.createRange();return a.setEnd(n||e,r),a.setStart(e,t),a}:Y=function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(a){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};function J(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function te(e){var t;try{t=e.activeElement}catch(r){t=e.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function ye(e,t){var r=e.className;R(t).test(r)||(e.className+=(r?" ":"")+t)}function ie(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!R(r[n]).test(t)&&(t+=" "+r[n]);return t}var ne=function(e){e.select()};N?ne=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:m&&(ne=function(e){try{e.select()}catch(t){}});function U(e){return e.display.wrapper.ownerDocument}function _e(e){return U(e).defaultView}function Ne(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function me(e,t,r){t||(t={});for(var n in e)e.hasOwnProperty(n)&&(r!==!1||!t.hasOwnProperty(n))&&(t[n]=e[n]);return t}function ve(e,t,r,n,a){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var f=n||0,v=a||0;;){var T=e.indexOf("	",f);if(T<0||T>=t)return v+(t-f);v+=T-f,v+=r-v%r,f=T+1}}var ke=function(){this.id=null,this.f=null,this.time=0,this.handler=Ne(this.onTimeout,this)};ke.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},ke.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};function Fe(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}var qe=50,Ue={toString:function(){return"CodeMirror.Pass"}},Re={scroll:!1},ut={origin:"*mouse"},De={origin:"+move"};function Pt(e,t,r){for(var n=0,a=0;;){var f=e.indexOf("	",n);f==-1&&(f=e.length);var v=f-n;if(f==e.length||a+v>=t)return n+Math.min(v,t-a);if(a+=f-n,a+=r-a%r,n=f+1,a>=t)return n}}var Ct=[""];function _t(e){for(;Ct.length<=e;)Ct.push(le(Ct)+" ");return Ct[e]}function le(e){return e[e.length-1]}function fe(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function We(e,t,r){for(var n=0,a=r(t);n<e.length&&r(e[n])<=a;)n++;e.splice(n,0,t)}function Tt(){}function we(e,t){var r;return Object.create?r=Object.create(e):(Tt.prototype=e,r=new Tt),t&&me(t,r),r}var Pe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ee(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Pe.test(e))}function St(e,t){return t?t.source.indexOf("\\w")>-1&&Ee(e)?!0:t.test(e):Ee(e)}function Ve(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var at=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ge(e){return e.charCodeAt(0)>=768&&at.test(e)}function pe(e,t,r){for(;(r<0?t>0:t<e.length)&&Ge(e.charAt(t));)t+=r;return t}function de(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var a=(t+r)/2,f=n<0?Math.ceil(a):Math.floor(a);if(f==t)return e(f)?t:r;e(f)?r=f:t=f+n}}function Ae(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var a=!1,f=0;f<e.length;++f){var v=e[f];(v.from<r&&v.to>t||t==r&&v.to==t)&&(n(Math.max(v.from,t),Math.min(v.to,r),v.level==1?"rtl":"ltr",f),a=!0)}a||n(t,r,"ltr")}var lt=null;function jt(e,t,r){var n;lt=null;for(var a=0;a<e.length;++a){var f=e[a];if(f.from<t&&f.to>t)return a;f.to==t&&(f.from!=f.to&&r=="before"?n=a:lt=a),f.from==t&&(f.from!=f.to&&r!="before"?n=a:lt=a)}return n!=null?n:lt}var bn=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(q){return q<=247?e.charAt(q):1424<=q&&q<=1524?"R":1536<=q&&q<=1785?t.charAt(q-1536):1774<=q&&q<=2220?"r":8192<=q&&q<=8203?"w":q==8204?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,f=/[LRr]/,v=/[Lb1n]/,T=/[1n]/;function j(q,oe,se){this.level=q,this.from=oe,this.to=se}return function(q,oe){var se=oe=="ltr"?"L":"R";if(q.length==0||oe=="ltr"&&!n.test(q))return!1;for(var be=q.length,ge=[],Te=0;Te<be;++Te)ge.push(r(q.charCodeAt(Te)));for(var Oe=0,ze=se;Oe<be;++Oe){var Xe=ge[Oe];Xe=="m"?ge[Oe]=ze:ze=Xe}for(var it=0,Ze=se;it<be;++it){var st=ge[it];st=="1"&&Ze=="r"?ge[it]="n":f.test(st)&&(Ze=st,st=="r"&&(ge[it]="R"))}for(var yt=1,vt=ge[0];yt<be-1;++yt){var Mt=ge[yt];Mt=="+"&&vt=="1"&&ge[yt+1]=="1"?ge[yt]="1":Mt==","&&vt==ge[yt+1]&&(vt=="1"||vt=="n")&&(ge[yt]=vt),vt=Mt}for(var Gt=0;Gt<be;++Gt){var _n=ge[Gt];if(_n==",")ge[Gt]="N";else if(_n=="%"){var en=void 0;for(en=Gt+1;en<be&&ge[en]=="%";++en);for(var Zn=Gt&&ge[Gt-1]=="!"||en<be&&ge[en]=="1"?"1":"N",qn=Gt;qn<en;++qn)ge[qn]=Zn;Gt=en-1}}for(var cn=0,Wn=se;cn<be;++cn){var Ln=ge[cn];Wn=="L"&&Ln=="1"?ge[cn]="L":f.test(Ln)&&(Wn=Ln)}for(var vn=0;vn<be;++vn)if(a.test(ge[vn])){var fn=void 0;for(fn=vn+1;fn<be&&a.test(ge[fn]);++fn);for(var on=(vn?ge[vn-1]:se)=="L",Un=(fn<be?ge[fn]:se)=="L",$i=on==Un?on?"L":"R":se,ei=vn;ei<fn;++ei)ge[ei]=$i;vn=fn-1}for(var Dn=[],Dr,xn=0;xn<be;)if(v.test(ge[xn])){var El=xn;for(++xn;xn<be&&v.test(ge[xn]);++xn);Dn.push(new j(0,El,xn))}else{var Fr=xn,wi=Dn.length,ki=oe=="rtl"?1:0;for(++xn;xn<be&&ge[xn]!="L";++xn);for(var jn=Fr;jn<xn;)if(T.test(ge[jn])){Fr<jn&&(Dn.splice(wi,0,new j(1,Fr,jn)),wi+=ki);var Gi=jn;for(++jn;jn<xn&&T.test(ge[jn]);++jn);Dn.splice(wi,0,new j(2,Gi,jn)),wi+=ki,Fr=jn}else++jn;Fr<xn&&Dn.splice(wi,0,new j(1,Fr,xn))}return oe=="ltr"&&(Dn[0].level==1&&(Dr=q.match(/^\s+/))&&(Dn[0].from=Dr[0].length,Dn.unshift(new j(0,0,Dr[0].length))),le(Dn).level==1&&(Dr=q.match(/\s+$/))&&(le(Dn).to-=Dr[0].length,Dn.push(new j(0,be-Dr[0].length,be)))),oe=="rtl"?Dn.reverse():Dn}}();function Vt(e,t){var r=e.order;return r==null&&(r=e.order=bn(e.text,t)),r}var an=[],Ie=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||an).concat(r)}};function hn(e,t){return e._handlers&&e._handlers[t]||an}function Dt(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,a=n&&n[t];if(a){var f=Fe(a,r);f>-1&&(n[t]=a.slice(0,f).concat(a.slice(f+1)))}}}function Kt(e,t){var r=hn(e,t);if(!!r.length)for(var n=Array.prototype.slice.call(arguments,2),a=0;a<r.length;++a)r[a].apply(null,n)}function Ft(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Kt(e,r||t.type,e,t),Pr(t)||t.codemirrorIgnore}function _i(e){var t=e._handlers&&e._handlers.cursorActivity;if(!!t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)Fe(r,t[n])==-1&&r.push(t[n])}function ln(e,t){return hn(e,t).length>0}function mn(e){e.prototype.on=function(t,r){Ie(this,t,r)},e.prototype.off=function(t,r){Dt(this,t,r)}}function gn(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function cr(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Pr(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function Qn(e){gn(e),cr(e)}function yn(e){return e.target||e.srcElement}function Xt(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),p&&e.ctrlKey&&t==1&&(t=3),t}var ri=function(){if(m&&g<9)return!1;var e=I("div");return"draggable"in e||"dragDrop"in e}(),Nn;function xi(e){if(Nn==null){var t=I("span","\u200B");Z(e,I("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Nn=t.offsetWidth<=1&&t.offsetHeight>2&&!(m&&g<8))}var r=Nn?I("span","\u200B"):I("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}var fr;function ii(e){if(fr!=null)return fr;var t=Z(e,document.createTextNode("A\u062EA")),r=Y(t,0,1).getBoundingClientRect(),n=Y(t,1,2).getBoundingClientRect();return $(e),!r||r.left==r.right?!1:fr=n.right-r.right<3}var oi=`

b`.split(/\n/).length!=3?function(e){for(var t=0,r=[],n=e.length;t<=n;){var a=e.indexOf(`
`,t);a==-1&&(a=e.length);var f=e.slice(t,e.charAt(a-1)=="\r"?a-1:a),v=f.indexOf("\r");v!=-1?(r.push(f.slice(0,v)),t+=v+1):(r.push(f),t=a+1)}return r}:function(e){return e.split(/\r\n?|\n/)},$t=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},er=function(){var e=I("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),sr=null;function ai(e){if(sr!=null)return sr;var t=Z(e,I("span","x")),r=t.getBoundingClientRect(),n=Y(t,0,1).getBoundingClientRect();return sr=Math.abs(r.left-n.left)>1}var $n={},Er={};function Si(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),$n[e]=t}function Br(e,t){Er[e]=t}function Sn(e){if(typeof e=="string"&&Er.hasOwnProperty(e))e=Er[e];else if(e&&typeof e.name=="string"&&Er.hasOwnProperty(e.name)){var t=Er[e.name];typeof t=="string"&&(t={name:t}),e=we(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Sn("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Sn("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Gn(e,t){t=Sn(t);var r=$n[t.name];if(!r)return Gn(e,"text/plain");var n=r(e,t);if(Lr.hasOwnProperty(t.name)){var a=Lr[t.name];for(var f in a)!a.hasOwnProperty(f)||(n.hasOwnProperty(f)&&(n["_"+f]=n[f]),n[f]=a[f])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var v in t.modeProps)n[v]=t.modeProps[v];return n}var Lr={};function Ci(e,t){var r=Lr.hasOwnProperty(e)?Lr[e]:Lr[e]={};me(t,r)}function pr(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var a=t[n];a instanceof Array&&(a=a.concat([])),r[n]=a}return r}function hr(e,t){for(var r;e.innerMode&&(r=e.innerMode(t),!(!r||r.mode==e));)t=r.state,e=r.mode;return r||{mode:e,state:t}}function qr(e,t,r){return e.startState?e.startState(t,r):!0}var Zt=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};Zt.prototype.eol=function(){return this.pos>=this.string.length},Zt.prototype.sol=function(){return this.pos==this.lineStart},Zt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Zt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Zt.prototype.eat=function(e){var t=this.string.charAt(this.pos),r;if(typeof e=="string"?r=t==e:r=t&&(e.test?e.test(t):e(t)),r)return++this.pos,t},Zt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Zt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Zt.prototype.skipToEnd=function(){this.pos=this.string.length},Zt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Zt.prototype.backUp=function(e){this.pos-=e},Zt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ve(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ve(this.string,this.lineStart,this.tabSize):0)},Zt.prototype.indentation=function(){return ve(this.string,null,this.tabSize)-(this.lineStart?ve(this.string,this.lineStart,this.tabSize):0)},Zt.prototype.match=function(e,t,r){if(typeof e=="string"){var n=function(v){return r?v.toLowerCase():v},a=this.string.substr(this.pos,e.length);if(n(a)==n(e))return t!==!1&&(this.pos+=e.length),!0}else{var f=this.string.slice(this.pos).match(e);return f&&f.index>0?null:(f&&t!==!1&&(this.pos+=f[0].length),f)}},Zt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Zt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Zt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Zt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function pt(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var a=r.children[n],f=a.chunkSize();if(t<f){r=a;break}t-=f}return r.lines[t]}function mr(e,t,r){var n=[],a=t.line;return e.iter(t.line,r.line+1,function(f){var v=f.text;a==r.line&&(v=v.slice(0,r.ch)),a==t.line&&(v=v.slice(t.ch)),n.push(v),++a}),n}function Wr(e,t,r){var n=[];return e.iter(t,r,function(a){n.push(a.text)}),n}function Rn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Ht(e){if(e.parent==null)return null;for(var t=e.parent,r=Fe(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var a=0;n.children[a]!=t;++a)r+=n.children[a].chunkSize();return r+t.first}function Tn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var a=e.children[n],f=a.height;if(t<f){e=a;continue e}t-=f,r+=a.chunkSize()}return r}while(!e.lines);for(var v=0;v<e.lines.length;++v){var T=e.lines[v],j=T.height;if(t<j)break;t-=j}return r+v}function V(e,t){return t>=e.first&&t<e.first+e.size}function ue(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function he(e,t,r){if(r===void 0&&(r=null),!(this instanceof he))return new he(e,t,r);this.line=e,this.ch=t,this.sticky=r}function Ce(e,t){return e.line-t.line||e.ch-t.ch}function kt(e,t){return e.sticky==t.sticky&&Ce(e,t)==0}function Ot(e){return he(e.line,e.ch)}function ft(e,t){return Ce(e,t)<0?t:e}function rn(e,t){return Ce(e,t)<0?e:t}function An(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function xt(e,t){if(t.line<e.first)return he(e.first,0);var r=e.first+e.size-1;return t.line>r?he(r,pt(e,r).text.length):Fo(t,pt(e,t.line).text.length)}function Fo(e,t){var r=e.ch;return r==null||r>t?he(e.line,t):r<0?he(e.line,0):e}function eo(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=xt(e,t[n]);return r}var Hr=function(e,t){this.state=e,this.lookAhead=t},tr=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};tr.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},tr.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},tr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},tr.fromSaved=function(e,t,r){return t instanceof Hr?new tr(e,pr(e.mode,t.state),r,t.lookAhead):new tr(e,pr(e.mode,t),r)},tr.prototype.save=function(e){var t=e!==!1?pr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Hr(t,this.maxLookAhead):t};function to(e,t,r,n){var a=[e.state.modeGen],f={};ao(e,t.text,e.doc.mode,r,function(q,oe){return a.push(q,oe)},f,n);for(var v=r.state,T=function(q){r.baseTokens=a;var oe=e.state.overlays[q],se=1,be=0;r.state=!0,ao(e,t.text,oe.mode,r,function(ge,Te){for(var Oe=se;be<ge;){var ze=a[se];ze>ge&&a.splice(se,1,ge,a[se+1],ze),se+=2,be=Math.min(ge,ze)}if(!!Te)if(oe.opaque)a.splice(Oe,se-Oe,ge,"overlay "+Te),se=Oe+2;else for(;Oe<se;Oe+=2){var Xe=a[Oe+1];a[Oe+1]=(Xe?Xe+" ":"")+"overlay "+Te}},f),r.state=v,r.baseTokens=null,r.baseTokenPos=1},j=0;j<e.state.overlays.length;++j)T(j);return{styles:a,classes:f.bgClass||f.textClass?f:null}}function no(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Ur(e,Ht(t)),a=t.text.length>e.options.maxHighlightLength&&pr(e.doc.mode,n.state),f=to(e,t,n);a&&(n.state=a),t.stateAfter=n.save(!a),t.styles=f.styles,f.classes?t.styleClasses=f.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Ur(e,t,r){var n=e.doc,a=e.display;if(!n.mode.startState)return new tr(n,!0,t);var f=gr(e,t,r),v=f>n.first&&pt(n,f-1).stateAfter,T=v?tr.fromSaved(n,v,f):new tr(n,qr(n.mode),f);return n.iter(f,t,function(j){Ei(e,j.text,T);var q=T.line;j.stateAfter=q==t-1||q%5==0||q>=a.viewFrom&&q<a.viewTo?T.save():null,T.nextLine()}),r&&(n.modeFrontier=T.line),T}function Ei(e,t,r,n){var a=e.doc.mode,f=new Zt(t,e.options.tabSize,r);for(f.start=f.pos=n||0,t==""&&ro(a,r.state);!f.eol();)Li(a,f,r.state),f.start=f.pos}function ro(e,t){if(e.blankLine)return e.blankLine(t);if(!!e.innerMode){var r=hr(e,t);if(r.mode.blankLine)return r.mode.blankLine(r.state)}}function Li(e,t,r,n){for(var a=0;a<10;a++){n&&(n[0]=hr(e,r).mode);var f=e.token(t,r);if(t.pos>t.start)return f}throw new Error("Mode "+e.name+" failed to advance stream.")}var io=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function oo(e,t,r,n){var a=e.doc,f=a.mode,v;t=xt(a,t);var T=pt(a,t.line),j=Ur(e,t.line,r),q=new Zt(T.text,e.options.tabSize,j),oe;for(n&&(oe=[]);(n||q.pos<t.ch)&&!q.eol();)q.start=q.pos,v=Li(f,q,j.state),n&&oe.push(new io(q,v,pr(a.mode,j.state)));return n?oe:new io(q,v,j.state)}function li(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";t[n]==null?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function ao(e,t,r,n,a,f,v){var T=r.flattenSpans;T==null&&(T=e.options.flattenSpans);var j=0,q=null,oe=new Zt(t,e.options.tabSize,n),se,be=e.options.addModeClass&&[null];for(t==""&&li(ro(r,n.state),f);!oe.eol();){if(oe.pos>e.options.maxHighlightLength?(T=!1,v&&Ei(e,t,n,oe.pos),oe.pos=t.length,se=null):se=li(Li(r,oe,n.state,be),f),be){var ge=be[0].name;ge&&(se="m-"+(se?ge+" "+se:ge))}if(!T||q!=se){for(;j<oe.start;)j=Math.min(oe.start,j+5e3),a(j,q);q=se}oe.start=oe.pos}for(;j<oe.pos;){var Te=Math.min(oe.pos,j+5e3);a(Te,q),j=Te}}function gr(e,t,r){for(var n,a,f=e.doc,v=r?-1:t-(e.doc.mode.innerMode?1e3:100),T=t;T>v;--T){if(T<=f.first)return f.first;var j=pt(f,T-1),q=j.stateAfter;if(q&&(!r||T+(q instanceof Hr?q.lookAhead:0)<=f.modeFrontier))return T;var oe=ve(j.text,null,e.options.tabSize);(a==null||n>oe)&&(a=T-1,n=oe)}return a}function si(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var a=pt(e,n).stateAfter;if(a&&(!(a instanceof Hr)||n+a.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var ui=!1,vr=!1;function Ta(){ui=!0}function Aa(){vr=!0}function Ti(e,t,r){this.marker=e,this.from=t,this.to=r}function di(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Bo(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Ma(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&e.markedSpans&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function qo(e,t,r){var n;if(e)for(var a=0;a<e.length;++a){var f=e[a],v=f.marker,T=f.from==null||(v.inclusiveLeft?f.from<=t:f.from<t);if(T||f.from==t&&v.type=="bookmark"&&(!r||!f.marker.insertLeft)){var j=f.to==null||(v.inclusiveRight?f.to>=t:f.to>t);(n||(n=[])).push(new Ti(v,f.from,j?null:f.to))}}return n}function Da(e,t,r){var n;if(e)for(var a=0;a<e.length;++a){var f=e[a],v=f.marker,T=f.to==null||(v.inclusiveRight?f.to>=t:f.to>t);if(T||f.from==t&&v.type=="bookmark"&&(!r||f.marker.insertLeft)){var j=f.from==null||(v.inclusiveLeft?f.from<=t:f.from<t);(n||(n=[])).push(new Ti(v,j?null:f.from-t,f.to==null?null:f.to-t))}}return n}function lo(e,t){if(t.full)return null;var r=V(e,t.from.line)&&pt(e,t.from.line).markedSpans,n=V(e,t.to.line)&&pt(e,t.to.line).markedSpans;if(!r&&!n)return null;var a=t.from.ch,f=t.to.ch,v=Ce(t.from,t.to)==0,T=qo(r,a,v),j=Da(n,f,v),q=t.text.length==1,oe=le(t.text).length+(q?a:0);if(T)for(var se=0;se<T.length;++se){var be=T[se];if(be.to==null){var ge=di(j,be.marker);ge?q&&(be.to=ge.to==null?null:ge.to+oe):be.to=a}}if(j)for(var Te=0;Te<j.length;++Te){var Oe=j[Te];if(Oe.to!=null&&(Oe.to+=oe),Oe.from==null){var ze=di(T,Oe.marker);ze||(Oe.from=oe,q&&(T||(T=[])).push(Oe))}else Oe.from+=oe,q&&(T||(T=[])).push(Oe)}T&&(T=Wo(T)),j&&j!=T&&(j=Wo(j));var Xe=[T];if(!q){var it=t.text.length-2,Ze;if(it>0&&T)for(var st=0;st<T.length;++st)T[st].to==null&&(Ze||(Ze=[])).push(new Ti(T[st].marker,null,null));for(var yt=0;yt<it;++yt)Xe.push(Ze);Xe.push(j)}return Xe}function Wo(e){for(var t=0;t<e.length;++t){var r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Oa(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(ge){if(ge.markedSpans)for(var Te=0;Te<ge.markedSpans.length;++Te){var Oe=ge.markedSpans[Te].marker;Oe.readOnly&&(!n||Fe(n,Oe)==-1)&&(n||(n=[])).push(Oe)}}),!n)return null;for(var a=[{from:t,to:r}],f=0;f<n.length;++f)for(var v=n[f],T=v.find(0),j=0;j<a.length;++j){var q=a[j];if(!(Ce(q.to,T.from)<0||Ce(q.from,T.to)>0)){var oe=[j,1],se=Ce(q.from,T.from),be=Ce(q.to,T.to);(se<0||!v.inclusiveLeft&&!se)&&oe.push({from:q.from,to:T.from}),(be>0||!v.inclusiveRight&&!be)&&oe.push({from:T.to,to:q.to}),a.splice.apply(a,oe),j+=oe.length-3}}return a}function Uo(e){var t=e.markedSpans;if(!!t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Ko(e,t){if(!!t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Kr(e){return e.inclusiveLeft?-1:0}function Ai(e){return e.inclusiveRight?1:0}function so(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var n=e.find(),a=t.find(),f=Ce(n.from,a.from)||Kr(e)-Kr(t);if(f)return-f;var v=Ce(n.to,a.to)||Ai(e)-Ai(t);return v||t.id-e.id}function Vo(e,t){var r=vr&&e.markedSpans,n;if(r)for(var a=void 0,f=0;f<r.length;++f)a=r[f],a.marker.collapsed&&(t?a.from:a.to)==null&&(!n||so(n,a.marker)<0)&&(n=a.marker);return n}function uo(e){return Vo(e,!0)}function Mi(e){return Vo(e,!1)}function Na(e,t){var r=vr&&e.markedSpans,n;if(r)for(var a=0;a<r.length;++a){var f=r[a];f.marker.collapsed&&(f.from==null||f.from<t)&&(f.to==null||f.to>t)&&(!n||so(n,f.marker)<0)&&(n=f.marker)}return n}function $o(e,t,r,n,a){var f=pt(e,t),v=vr&&f.markedSpans;if(v)for(var T=0;T<v.length;++T){var j=v[T];if(!!j.marker.collapsed){var q=j.marker.find(0),oe=Ce(q.from,r)||Kr(j.marker)-Kr(a),se=Ce(q.to,n)||Ai(j.marker)-Ai(a);if(!(oe>=0&&se<=0||oe<=0&&se>=0)&&(oe<=0&&(j.marker.inclusiveRight&&a.inclusiveLeft?Ce(q.to,r)>=0:Ce(q.to,r)>0)||oe>=0&&(j.marker.inclusiveRight&&a.inclusiveLeft?Ce(q.from,n)<=0:Ce(q.from,n)<0)))return!0}}}function nr(e){for(var t;t=uo(e);)e=t.find(-1,!0).line;return e}function Pa(e){for(var t;t=Mi(e);)e=t.find(1,!0).line;return e}function Ha(e){for(var t,r;t=Mi(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function co(e,t){var r=pt(e,t),n=nr(r);return r==n?t:Ht(n)}function Go(e,t){if(t>e.lastLine())return t;var r=pt(e,t),n;if(!Tr(e,r))return t;for(;n=Mi(r);)r=n.find(1,!0).line;return Ht(r)+1}function Tr(e,t){var r=vr&&t.markedSpans;if(r){for(var n=void 0,a=0;a<r.length;++a)if(n=r[a],!!n.marker.collapsed){if(n.from==null)return!0;if(!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&fo(e,t,n))return!0}}}function fo(e,t,r){if(r.to==null){var n=r.marker.find(1,!0);return fo(e,n.line,di(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var a=void 0,f=0;f<t.markedSpans.length;++f)if(a=t.markedSpans[f],a.marker.collapsed&&!a.marker.widgetNode&&a.from==r.to&&(a.to==null||a.to!=r.from)&&(a.marker.inclusiveLeft||r.marker.inclusiveRight)&&fo(e,t,a))return!0}function br(e){e=nr(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var a=r.lines[n];if(a==e)break;t+=a.height}for(var f=r.parent;f;r=f,f=r.parent)for(var v=0;v<f.children.length;++v){var T=f.children[v];if(T==r)break;t+=T.height}return t}function Di(e){if(e.height==0)return 0;for(var t=e.text.length,r,n=e;r=uo(n);){var a=r.find(0,!0);n=a.from.line,t+=a.from.ch-a.to.ch}for(n=e;r=Mi(n);){var f=r.find(0,!0);t-=n.text.length-f.from.ch,n=f.to.line,t+=n.text.length-f.to.ch}return t}function Oi(e){var t=e.display,r=e.doc;t.maxLine=pt(r,r.first),t.maxLineLength=Di(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var a=Di(n);a>t.maxLineLength&&(t.maxLineLength=a,t.maxLine=n)})}var Vr=function(e,t,r){this.text=e,Ko(this,t),this.height=r?r(this):1};Vr.prototype.lineNo=function(){return Ht(this)},mn(Vr);function Ia(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Uo(e),Ko(e,r);var a=n?n(e):1;a!=e.height&&Rn(e,a)}function za(e){e.parent=null,Uo(e)}var ja={},Ra={};function Jo(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Ra:ja;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Xo(e,t){var r=B("span",null,null,w?"padding-right: .1px":null),n={pre:B("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var f=a?t.rest[a-1]:t.line,v=void 0;n.pos=0,n.addToken=Ba,ii(e.display.measure)&&(v=Vt(f,e.doc.direction))&&(n.addToken=Wa(n.addToken,v)),n.map=[];var T=t!=e.display.externalMeasured&&Ht(f);Ua(f,n,no(e,f,T)),f.styleClasses&&(f.styleClasses.bgClass&&(n.bgClass=ie(f.styleClasses.bgClass,n.bgClass||"")),f.styleClasses.textClass&&(n.textClass=ie(f.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(xi(e.display.measure))),a==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(w){var j=n.content.lastChild;(/\bcm-tab\b/.test(j.className)||j.querySelector&&j.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Kt(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=ie(n.pre.className,n.textClass||"")),n}function Fa(e){var t=I("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Ba(e,t,r,n,a,f,v){if(!!t){var T=e.splitSpaces?qa(t,e.trailingSpace):t,j=e.cm.state.specialChars,q=!1,oe;if(!j.test(t))e.col+=t.length,oe=document.createTextNode(T),e.map.push(e.pos,e.pos+t.length,oe),m&&g<9&&(q=!0),e.pos+=t.length;else{oe=document.createDocumentFragment();for(var se=0;;){j.lastIndex=se;var be=j.exec(t),ge=be?be.index-se:t.length-se;if(ge){var Te=document.createTextNode(T.slice(se,se+ge));m&&g<9?oe.appendChild(I("span",[Te])):oe.appendChild(Te),e.map.push(e.pos,e.pos+ge,Te),e.col+=ge,e.pos+=ge}if(!be)break;se+=ge+1;var Oe=void 0;if(be[0]=="	"){var ze=e.cm.options.tabSize,Xe=ze-e.col%ze;Oe=oe.appendChild(I("span",_t(Xe),"cm-tab")),Oe.setAttribute("role","presentation"),Oe.setAttribute("cm-text","	"),e.col+=Xe}else be[0]=="\r"||be[0]==`
`?(Oe=oe.appendChild(I("span",be[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Oe.setAttribute("cm-text",be[0]),e.col+=1):(Oe=e.cm.options.specialCharPlaceholder(be[0]),Oe.setAttribute("cm-text",be[0]),m&&g<9?oe.appendChild(I("span",[Oe])):oe.appendChild(Oe),e.col+=1);e.map.push(e.pos,e.pos+1,Oe),e.pos++}}if(e.trailingSpace=T.charCodeAt(t.length-1)==32,r||n||a||q||f||v){var it=r||"";n&&(it+=n),a&&(it+=a);var Ze=I("span",[oe],it,f);if(v)for(var st in v)v.hasOwnProperty(st)&&st!="style"&&st!="class"&&Ze.setAttribute(st,v[st]);return e.content.appendChild(Ze)}e.content.appendChild(oe)}}function qa(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",a=0;a<e.length;a++){var f=e.charAt(a);f==" "&&r&&(a==e.length-1||e.charCodeAt(a+1)==32)&&(f="\xA0"),n+=f,r=f==" "}return n}function Wa(e,t){return function(r,n,a,f,v,T,j){a=a?a+" cm-force-border":"cm-force-border";for(var q=r.pos,oe=q+n.length;;){for(var se=void 0,be=0;be<t.length&&(se=t[be],!(se.to>q&&se.from<=q));be++);if(se.to>=oe)return e(r,n,a,f,v,T,j);e(r,n.slice(0,se.to-q),a,f,null,T,j),f=null,n=n.slice(se.to-q),q=se.to}}}function Zo(e,t,r,n){var a=!n&&r.widgetNode;a&&e.map.push(e.pos,e.pos+t,a),!n&&e.cm.display.input.needsContentAttribute&&(a||(a=e.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",r.id)),a&&(e.cm.display.input.setUneditable(a),e.content.appendChild(a)),e.pos+=t,e.trailingSpace=!1}function Ua(e,t,r){var n=e.markedSpans,a=e.text,f=0;if(!n){for(var v=1;v<r.length;v+=2)t.addToken(t,a.slice(f,f=r[v]),Jo(r[v+1],t.cm.options));return}for(var T=a.length,j=0,q=1,oe="",se,be,ge=0,Te,Oe,ze,Xe,it;;){if(ge==j){Te=Oe=ze=be="",it=null,Xe=null,ge=1/0;for(var Ze=[],st=void 0,yt=0;yt<n.length;++yt){var vt=n[yt],Mt=vt.marker;if(Mt.type=="bookmark"&&vt.from==j&&Mt.widgetNode)Ze.push(Mt);else if(vt.from<=j&&(vt.to==null||vt.to>j||Mt.collapsed&&vt.to==j&&vt.from==j)){if(vt.to!=null&&vt.to!=j&&ge>vt.to&&(ge=vt.to,Oe=""),Mt.className&&(Te+=" "+Mt.className),Mt.css&&(be=(be?be+";":"")+Mt.css),Mt.startStyle&&vt.from==j&&(ze+=" "+Mt.startStyle),Mt.endStyle&&vt.to==ge&&(st||(st=[])).push(Mt.endStyle,vt.to),Mt.title&&((it||(it={})).title=Mt.title),Mt.attributes)for(var Gt in Mt.attributes)(it||(it={}))[Gt]=Mt.attributes[Gt];Mt.collapsed&&(!Xe||so(Xe.marker,Mt)<0)&&(Xe=vt)}else vt.from>j&&ge>vt.from&&(ge=vt.from)}if(st)for(var _n=0;_n<st.length;_n+=2)st[_n+1]==ge&&(Oe+=" "+st[_n]);if(!Xe||Xe.from==j)for(var en=0;en<Ze.length;++en)Zo(t,0,Ze[en]);if(Xe&&(Xe.from||0)==j){if(Zo(t,(Xe.to==null?T+1:Xe.to)-j,Xe.marker,Xe.from==null),Xe.to==null)return;Xe.to==j&&(Xe=!1)}}if(j>=T)break;for(var Zn=Math.min(T,ge);;){if(oe){var qn=j+oe.length;if(!Xe){var cn=qn>Zn?oe.slice(0,Zn-j):oe;t.addToken(t,cn,se?se+Te:Te,ze,j+cn.length==ge?Oe:"",be,it)}if(qn>=Zn){oe=oe.slice(Zn-j),j=Zn;break}j=qn,ze=""}oe=a.slice(f,f=r[q++]),se=Jo(r[q++],t.cm.options)}}}function Yo(e,t,r){this.line=t,this.rest=Ha(t),this.size=this.rest?Ht(le(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Tr(e,t)}function Ni(e,t,r){for(var n=[],a,f=t;f<r;f=a){var v=new Yo(e.doc,pt(e.doc,f),f);a=f+v.size,n.push(v)}return n}var $r=null;function Ka(e){$r?$r.ops.push(e):e.ownsGroup=$r={ops:[e],delayedCallbacks:[]}}function Va(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var a=e.ops[n];if(a.cursorActivityHandlers)for(;a.cursorActivityCalled<a.cursorActivityHandlers.length;)a.cursorActivityHandlers[a.cursorActivityCalled++].call(null,a.cm)}}while(r<t.length)}function $a(e,t){var r=e.ownsGroup;if(!!r)try{Va(r)}finally{$r=null,t(r)}}var ci=null;function dn(e,t){var r=hn(e,t);if(!!r.length){var n=Array.prototype.slice.call(arguments,2),a;$r?a=$r.delayedCallbacks:ci?a=ci:(a=ci=[],setTimeout(Ga,0));for(var f=function(T){a.push(function(){return r[T].apply(null,n)})},v=0;v<r.length;++v)f(v)}}function Ga(){var e=ci;ci=null;for(var t=0;t<e.length;++t)e[t]()}function Qo(e,t,r,n){for(var a=0;a<t.changes.length;a++){var f=t.changes[a];f=="text"?Xa(e,t):f=="gutter"?ta(e,t,r,n):f=="class"?po(e,t):f=="widget"&&Za(e,t,n)}t.changes=null}function fi(e){return e.node==e.text&&(e.node=I("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),m&&g<8&&(e.node.style.zIndex=2)),e.node}function Ja(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=fi(t);t.background=n.insertBefore(I("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function ea(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Xo(e,t)}function Xa(e,t){var r=t.text.className,n=ea(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,po(e,t)):r&&(t.text.className=r)}function po(e,t){Ja(e,t),t.line.wrapClass?fi(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function ta(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var a=fi(t);t.gutterBackground=I("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),a.insertBefore(t.gutterBackground,t.text)}var f=t.line.gutterMarkers;if(e.options.lineNumbers||f){var v=fi(t),T=t.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(T.setAttribute("aria-hidden","true"),e.display.input.setUneditable(T),v.insertBefore(T,t.text),t.line.gutterClass&&(T.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!f||!f["CodeMirror-linenumbers"])&&(t.lineNumber=T.appendChild(I("div",ue(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),f)for(var j=0;j<e.display.gutterSpecs.length;++j){var q=e.display.gutterSpecs[j].className,oe=f.hasOwnProperty(q)&&f[q];oe&&T.appendChild(I("div",[oe],"CodeMirror-gutter-elt","left: "+n.gutterLeft[q]+"px; width: "+n.gutterWidth[q]+"px"))}}}function Za(e,t,r){t.alignable&&(t.alignable=null);for(var n=R("CodeMirror-linewidget"),a=t.node.firstChild,f=void 0;a;a=f)f=a.nextSibling,n.test(a.className)&&t.node.removeChild(a);na(e,t,r)}function Ya(e,t,r,n){var a=ea(e,t);return t.text=t.node=a.pre,a.bgClass&&(t.bgClass=a.bgClass),a.textClass&&(t.textClass=a.textClass),po(e,t),ta(e,t,r,n),na(e,t,n),t.node}function na(e,t,r){if(ra(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)ra(e,t.rest[n],t,r,!1)}function ra(e,t,r,n,a){if(!!t.widgets)for(var f=fi(r),v=0,T=t.widgets;v<T.length;++v){var j=T[v],q=I("div",[j.node],"CodeMirror-linewidget"+(j.className?" "+j.className:""));j.handleMouseEvents||q.setAttribute("cm-ignore-events","true"),Qa(j,q,r,n),e.display.input.setUneditable(q),a&&j.above?f.insertBefore(q,r.gutter||r.text):f.appendChild(q),dn(j,"redraw")}}function Qa(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var a=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(a-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=a+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function pi(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!J(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),Z(t.display.measure,I("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function yr(e,t){for(var r=yn(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function Pi(e){return e.lineSpace.offsetTop}function ho(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ia(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Z(e.measure,I("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return!isNaN(n.left)&&!isNaN(n.right)&&(e.cachedPaddingH=n),n}function i(e){return qe-e.display.nativeBarWidth}function o(e){return e.display.scroller.clientWidth-i(e)-e.display.barWidth}function l(e){return e.display.scroller.clientHeight-i(e)-e.display.barHeight}function d(e,t,r){var n=e.options.lineWrapping,a=n&&o(e);if(!t.measure.heights||n&&t.measure.width!=a){var f=t.measure.heights=[];if(n){t.measure.width=a;for(var v=t.text.firstChild.getClientRects(),T=0;T<v.length-1;T++){var j=v[T],q=v[T+1];Math.abs(j.bottom-q.bottom)>2&&f.push((j.bottom+q.top)/2-r.top)}}f.push(r.bottom-r.top)}}function u(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var a=0;a<e.rest.length;a++)if(Ht(e.rest[a])>r)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}}function h(e,t){t=nr(t);var r=Ht(t),n=e.display.externalMeasured=new Yo(e.doc,t,r);n.lineN=r;var a=n.built=Xo(e,n);return n.text=a.pre,Z(e.display.lineMeasure,a.pre),n}function P(e,t,r,n){return ee(e,re(e,t),r,n)}function G(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[et(e,t)];var r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size)return r}function re(e,t){var r=Ht(t),n=G(e,r);n&&!n.text?n=null:n&&n.changes&&(Qo(e,n,r,Ir(e)),e.curOp.forceUpdate=!0),n||(n=h(e,t));var a=u(n,t,r);return{line:t,view:n,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function ee(e,t,r,n,a){t.before&&(r=-1);var f=r+(n||""),v;return t.cache.hasOwnProperty(f)?v=t.cache[f]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(d(e,t.view,t.rect),t.hasHeights=!0),v=Ke(e,t,r,n),v.bogus||(t.cache[f]=v)),{left:v.left,right:v.right,top:a?v.rtop:v.top,bottom:a?v.rbottom:v.bottom}}var Q={left:0,right:0,top:0,bottom:0};function Se(e,t,r){for(var n,a,f,v,T,j,q=0;q<e.length;q+=3)if(T=e[q],j=e[q+1],t<T?(a=0,f=1,v="left"):t<j?(a=t-T,f=a+1):(q==e.length-3||t==j&&e[q+3]>t)&&(f=j-T,a=f-1,t>=j&&(v="right")),a!=null){if(n=e[q+2],T==j&&r==(n.insertLeft?"left":"right")&&(v=r),r=="left"&&a==0)for(;q&&e[q-2]==e[q-3]&&e[q-1].insertLeft;)n=e[(q-=3)+2],v="left";if(r=="right"&&a==j-T)for(;q<e.length-3&&e[q+3]==e[q+4]&&!e[q+5].insertLeft;)n=e[(q+=3)+2],v="right";break}return{node:n,start:a,end:f,collapse:v,coverStart:T,coverEnd:j}}function je(e,t){var r=Q;if(t=="left")for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var a=e.length-1;a>=0&&(r=e[a]).left==r.right;a--);return r}function Ke(e,t,r,n){var a=Se(t.map,r,n),f=a.node,v=a.start,T=a.end,j=a.collapse,q;if(f.nodeType==3){for(var oe=0;oe<4;oe++){for(;v&&Ge(t.line.text.charAt(a.coverStart+v));)--v;for(;a.coverStart+T<a.coverEnd&&Ge(t.line.text.charAt(a.coverStart+T));)++T;if(m&&g<9&&v==0&&T==a.coverEnd-a.coverStart?q=f.parentNode.getBoundingClientRect():q=je(Y(f,v,T).getClientRects(),n),q.left||q.right||v==0)break;T=v,v=v-1,j="right"}m&&g<11&&(q=xe(e.display.measure,q))}else{v>0&&(j=n="right");var se;e.options.lineWrapping&&(se=f.getClientRects()).length>1?q=se[n=="right"?se.length-1:0]:q=f.getBoundingClientRect()}if(m&&g<9&&!v&&(!q||!q.left&&!q.right)){var be=f.parentNode.getClientRects()[0];be?q={left:be.left,right:be.left+Cn(e.display),top:be.top,bottom:be.bottom}:q=Q}for(var ge=q.top-t.rect.top,Te=q.bottom-t.rect.top,Oe=(ge+Te)/2,ze=t.view.measure.heights,Xe=0;Xe<ze.length-1&&!(Oe<ze[Xe]);Xe++);var it=Xe?ze[Xe-1]:0,Ze=ze[Xe],st={left:(j=="right"?q.right:q.left)-t.rect.left,right:(j=="left"?q.left:q.right)-t.rect.left,top:it,bottom:Ze};return!q.left&&!q.right&&(st.bogus=!0),e.options.singleCursorHeightPerLine||(st.rtop=ge,st.rbottom=Te),st}function xe(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ai(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function He(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function nt(e){e.display.externalMeasure=null,$(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)He(e.display.view[t])}function $e(e){nt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Qe(e){return A&&F?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function Je(e){return A&&F?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function Le(e){var t=nr(e),r=t.widgets,n=0;if(r)for(var a=0;a<r.length;++a)r[a].above&&(n+=pi(r[a]));return n}function rt(e,t,r,n,a){if(!a){var f=Le(t);r.top+=f,r.bottom+=f}if(n=="line")return r;n||(n="local");var v=br(t);if(n=="local"?v+=Pi(e.display):v-=e.display.viewOffset,n=="page"||n=="window"){var T=e.display.lineSpace.getBoundingClientRect();v+=T.top+(n=="window"?0:Je(U(e)));var j=T.left+(n=="window"?0:Qe(U(e)));r.left+=j,r.right+=j}return r.top+=v,r.bottom+=v,r}function wt(e,t,r){if(r=="div")return t;var n=t.left,a=t.top;if(r=="page")n-=Qe(U(e)),a-=Je(U(e));else if(r=="local"||!r){var f=e.display.sizer.getBoundingClientRect();n+=f.left,a+=f.top}var v=e.display.lineSpace.getBoundingClientRect();return{left:n-v.left,top:a-v.top}}function gt(e,t,r,n,a){return n||(n=pt(e.doc,t.line)),rt(e,n,P(e,n,t.ch,a),r)}function mt(e,t,r,n,a,f){n=n||pt(e.doc,t.line),a||(a=re(e,n));function v(Te,Oe){var ze=ee(e,a,Te,Oe?"right":"left",f);return Oe?ze.left=ze.right:ze.right=ze.left,rt(e,n,ze,r)}var T=Vt(n,e.doc.direction),j=t.ch,q=t.sticky;if(j>=n.text.length?(j=n.text.length,q="before"):j<=0&&(j=0,q="after"),!T)return v(q=="before"?j-1:j,q=="before");function oe(Te,Oe,ze){var Xe=T[Oe],it=Xe.level==1;return v(ze?Te-1:Te,it!=ze)}var se=jt(T,j,q),be=lt,ge=oe(j,se,q=="before");return be!=null&&(ge.other=oe(j,be,q!="before")),ge}function bt(e,t){var r=0;t=xt(e.doc,t),e.options.lineWrapping||(r=Cn(e.display)*t.ch);var n=pt(e.doc,t.line),a=br(n)+Pi(e.display);return{left:r,right:r,top:a,bottom:a+n.height}}function dt(e,t,r,n,a){var f=he(e,t,r);return f.xRel=a,n&&(f.outside=n),f}function Et(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return dt(n.first,0,null,-1,-1);var a=Tn(n,r),f=n.first+n.size-1;if(a>f)return dt(n.first+n.size-1,pt(n,f).text.length,null,1,1);t<0&&(t=0);for(var v=pt(n,a);;){var T=Pn(e,v,a,t,r),j=Na(v,T.ch+(T.xRel>0||T.outside>0?1:0));if(!j)return T;var q=j.find(1);if(q.line==a)return q;v=pt(n,a=q.line)}}function qt(e,t,r,n){n-=Le(t);var a=t.text.length,f=de(function(v){return ee(e,r,v-1).bottom<=n},a,0);return a=de(function(v){return ee(e,r,v).top>n},f,a),{begin:f,end:a}}function Yt(e,t,r,n){r||(r=re(e,t));var a=rt(e,t,ee(e,r,n),"line").top;return qt(e,t,r,a)}function rr(e,t,r,n){return e.bottom<=r?!1:e.top>r?!0:(n?e.left:e.right)>t}function Pn(e,t,r,n,a){a-=br(t);var f=re(e,t),v=Le(t),T=0,j=t.text.length,q=!0,oe=Vt(t,e.doc.direction);if(oe){var se=(e.options.lineWrapping?sn:Fn)(e,t,r,f,oe,n,a);q=se.level!=1,T=q?se.from:se.to-1,j=q?se.to:se.from-1}var be=null,ge=null,Te=de(function(yt){var vt=ee(e,f,yt);return vt.top+=v,vt.bottom+=v,rr(vt,n,a,!1)?(vt.top<=a&&vt.left<=n&&(be=yt,ge=vt),!0):!1},T,j),Oe,ze,Xe=!1;if(ge){var it=n-ge.left<ge.right-n,Ze=it==q;Te=be+(Ze?0:1),ze=Ze?"after":"before",Oe=it?ge.left:ge.right}else{!q&&(Te==j||Te==T)&&Te++,ze=Te==0?"after":Te==t.text.length?"before":ee(e,f,Te-(q?1:0)).bottom+v<=a==q?"after":"before";var st=mt(e,he(r,Te,ze),"line",t,f);Oe=st.left,Xe=a<st.top?-1:a>=st.bottom?1:0}return Te=pe(t.text,Te,1),dt(r,Te,ze,Xe,n-Oe)}function Fn(e,t,r,n,a,f,v){var T=de(function(se){var be=a[se],ge=be.level!=1;return rr(mt(e,he(r,ge?be.to:be.from,ge?"before":"after"),"line",t,n),f,v,!0)},0,a.length-1),j=a[T];if(T>0){var q=j.level!=1,oe=mt(e,he(r,q?j.from:j.to,q?"after":"before"),"line",t,n);rr(oe,f,v,!0)&&oe.top>v&&(j=a[T-1])}return j}function sn(e,t,r,n,a,f,v){var T=qt(e,t,n,v),j=T.begin,q=T.end;/\s/.test(t.text.charAt(q-1))&&q--;for(var oe=null,se=null,be=0;be<a.length;be++){var ge=a[be];if(!(ge.from>=q||ge.to<=j)){var Te=ge.level!=1,Oe=ee(e,n,Te?Math.min(q,ge.to)-1:Math.max(j,ge.from)).right,ze=Oe<f?f-Oe+1e9:Oe-f;(!oe||se>ze)&&(oe=ge,se=ze)}}return oe||(oe=a[a.length-1]),oe.from<j&&(oe={from:j,to:oe.to,level:oe.level}),oe.to>q&&(oe={from:oe.from,to:q,level:oe.level}),oe}var Jn;function wr(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Jn==null){Jn=I("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Jn.appendChild(document.createTextNode("x")),Jn.appendChild(I("br"));Jn.appendChild(document.createTextNode("x"))}Z(e.measure,Jn);var r=Jn.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),$(e.measure),r||1}function Cn(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=I("span","xxxxxxxxxx"),r=I("pre",[t],"CodeMirror-line-like");Z(e.measure,r);var n=t.getBoundingClientRect(),a=(n.right-n.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function Ir(e){for(var t=e.display,r={},n={},a=t.gutters.clientLeft,f=t.gutters.firstChild,v=0;f;f=f.nextSibling,++v){var T=e.display.gutterSpecs[v].className;r[T]=f.offsetLeft+f.clientLeft+a,n[T]=f.clientWidth}return{fixedPos:Hn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Hn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function kr(e){var t=wr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Cn(e.display)-3);return function(a){if(Tr(e.doc,a))return 0;var f=0;if(a.widgets)for(var v=0;v<a.widgets.length;v++)a.widgets[v].height&&(f+=a.widgets[v].height);return r?f+(Math.ceil(a.text.length/n)||1)*t:f+t}}function Ar(e){var t=e.doc,r=kr(e);t.iter(function(n){var a=r(n);a!=n.height&&Rn(n,a)})}function Mr(e,t,r,n){var a=e.display;if(!r&&yn(t).getAttribute("cm-not-content")=="true")return null;var f,v,T=a.lineSpace.getBoundingClientRect();try{f=t.clientX-T.left,v=t.clientY-T.top}catch(se){return null}var j=Et(e,f,v),q;if(n&&j.xRel>0&&(q=pt(e.doc,j.line).text).length==j.ch){var oe=ve(q,q.length,e.options.tabSize)-q.length;j=he(j.line,Math.max(0,Math.round((f-ia(e.display).left)/Cn(e.display))-oe))}return j}function et(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function At(e,t,r,n){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),n||(n=0);var a=e.display;if(n&&r<a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo)vr&&co(e.doc,t)<a.viewTo&&En(e);else if(r<=a.viewFrom)vr&&Go(e.doc,r+n)>a.viewFrom?En(e):(a.viewFrom+=n,a.viewTo+=n);else if(t<=a.viewFrom&&r>=a.viewTo)En(e);else if(t<=a.viewFrom){var f=hi(e,r,r+n,1);f?(a.view=a.view.slice(f.index),a.viewFrom=f.lineN,a.viewTo+=n):En(e)}else if(r>=a.viewTo){var v=hi(e,t,t,-1);v?(a.view=a.view.slice(0,v.index),a.viewTo=v.lineN):En(e)}else{var T=hi(e,t,t,-1),j=hi(e,r,r+n,1);T&&j?(a.view=a.view.slice(0,T.index).concat(Ni(e,T.lineN,j.lineN)).concat(a.view.slice(j.index)),a.viewTo+=n):En(e)}var q=a.externalMeasured;q&&(r<q.lineN?q.lineN+=n:t<q.lineN+q.size&&(a.externalMeasured=null))}function In(e,t,r){e.curOp.viewChanged=!0;var n=e.display,a=e.display.externalMeasured;if(a&&t>=a.lineN&&t<a.lineN+a.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var f=n.view[et(e,t)];if(f.node!=null){var v=f.changes||(f.changes=[]);Fe(v,r)==-1&&v.push(r)}}}function En(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function hi(e,t,r,n){var a=et(e,t),f,v=e.display.view;if(!vr||r==e.doc.first+e.doc.size)return{index:a,lineN:r};for(var T=e.display.viewFrom,j=0;j<a;j++)T+=v[j].size;if(T!=t){if(n>0){if(a==v.length-1)return null;f=T+v[a].size-t,a++}else f=T-t;t+=f,r+=f}for(;co(e.doc,r)!=r;){if(a==(n<0?0:v.length-1))return null;r+=n*v[a-(n<0?1:0)].size,a+=n}return{index:a,lineN:r}}function Gr(e,t,r){var n=e.display,a=n.view;a.length==0||t>=n.viewTo||r<=n.viewFrom?(n.view=Ni(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Ni(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(et(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Ni(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,et(e,r)))),n.viewTo=r}function mo(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var a=t[n];!a.hidden&&(!a.node||a.changes)&&++r}return r}function zr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function go(e,t){t===void 0&&(t=!0);var r=e.doc,n={},a=n.cursors=document.createDocumentFragment(),f=n.selection=document.createDocumentFragment(),v=e.options.$customCursor;v&&(t=!0);for(var T=0;T<r.sel.ranges.length;T++)if(!(!t&&T==r.sel.primIndex)){var j=r.sel.ranges[T];if(!(j.from().line>=e.display.viewTo||j.to().line<e.display.viewFrom)){var q=j.empty();if(v){var oe=v(e,j);oe&&mi(e,oe,a)}else(q||e.options.showCursorWhenSelecting)&&mi(e,j.head,a);q||oa(e,j,f)}}return n}function mi(e,t,r){var n=mt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),a=r.appendChild(I("div","\xA0","CodeMirror-cursor"));if(a.style.left=n.left+"px",a.style.top=n.top+"px",a.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var f=gt(e,t,"div",null,null),v=f.right-f.left;a.style.width=(v>0?v:e.defaultCharWidth())+"px"}if(n.other){var T=r.appendChild(I("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));T.style.display="",T.style.left=n.other.left+"px",T.style.top=n.other.top+"px",T.style.height=(n.other.bottom-n.other.top)*.85+"px"}}function _r(e,t){return e.top-t.top||e.left-t.left}function oa(e,t,r){var n=e.display,a=e.doc,f=document.createDocumentFragment(),v=ia(e.display),T=v.left,j=Math.max(n.sizerWidth,o(e)-n.sizer.offsetLeft)-v.right,q=a.direction=="ltr";function oe(Ze,st,yt,vt){st<0&&(st=0),st=Math.round(st),vt=Math.round(vt),f.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+Ze+`px;
                             top: `+st+"px; width: "+(yt==null?j-Ze:yt)+`px;
                             height: `+(vt-st)+"px"))}function se(Ze,st,yt){var vt=pt(a,Ze),Mt=vt.text.length,Gt,_n;function en(cn,Wn){return gt(e,he(Ze,cn),"div",vt,Wn)}function Zn(cn,Wn,Ln){var vn=Yt(e,vt,null,cn),fn=Wn=="ltr"==(Ln=="after")?"left":"right",on=Ln=="after"?vn.begin:vn.end-(/\s/.test(vt.text.charAt(vn.end-1))?2:1);return en(on,fn)[fn]}var qn=Vt(vt,a.direction);return Ae(qn,st||0,yt==null?Mt:yt,function(cn,Wn,Ln,vn){var fn=Ln=="ltr",on=en(cn,fn?"left":"right"),Un=en(Wn-1,fn?"right":"left"),$i=st==null&&cn==0,ei=yt==null&&Wn==Mt,Dn=vn==0,Dr=!qn||vn==qn.length-1;if(Un.top-on.top<=3){var xn=(q?$i:ei)&&Dn,El=(q?ei:$i)&&Dr,Fr=xn?T:(fn?on:Un).left,wi=El?j:(fn?Un:on).right;oe(Fr,on.top,wi-Fr,on.bottom)}else{var ki,jn,Gi,Ll;fn?(ki=q&&$i&&Dn?T:on.left,jn=q?j:Zn(cn,Ln,"before"),Gi=q?T:Zn(Wn,Ln,"after"),Ll=q&&ei&&Dr?j:Un.right):(ki=q?Zn(cn,Ln,"before"):T,jn=!q&&$i&&Dn?j:on.right,Gi=!q&&ei&&Dr?T:Un.left,Ll=q?Zn(Wn,Ln,"after"):j),oe(ki,on.top,jn-ki,on.bottom),on.bottom<Un.top&&oe(T,on.bottom,null,Un.top),oe(Gi,Un.top,Ll-Gi,Un.bottom)}(!Gt||_r(on,Gt)<0)&&(Gt=on),_r(Un,Gt)<0&&(Gt=Un),(!_n||_r(on,_n)<0)&&(_n=on),_r(Un,_n)<0&&(_n=Un)}),{start:Gt,end:_n}}var be=t.from(),ge=t.to();if(be.line==ge.line)se(be.line,be.ch,ge.ch);else{var Te=pt(a,be.line),Oe=pt(a,ge.line),ze=nr(Te)==nr(Oe),Xe=se(be.line,be.ch,ze?Te.text.length+1:null).end,it=se(ge.line,ze?0:null,ge.ch).start;ze&&(Xe.top<it.top-2?(oe(Xe.right,Xe.top,null,Xe.bottom),oe(T,it.top,it.left,it.bottom)):oe(Xe.right,Xe.top,it.left-Xe.right,Xe.bottom)),Xe.bottom<it.top&&oe(T,Xe.bottom,null,it.top)}r.appendChild(f)}function el(e){if(!!e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Hi(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Rl(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||nl(e))}function tl(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Hi(e))},100)}function nl(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(Kt(e,"focus",e,t),e.state.focused=!0,ye(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),w&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),el(e))}function Hi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Kt(e,"blur",e,t),e.state.focused=!1,X(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function aa(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),a=t.lineDiv.getBoundingClientRect().top,f=0,v=0;v<t.view.length;v++){var T=t.view[v],j=e.options.lineWrapping,q=void 0,oe=0;if(!T.hidden){if(a+=T.line.height,m&&g<8){var se=T.node.offsetTop+T.node.offsetHeight;q=se-r,r=se}else{var be=T.node.getBoundingClientRect();q=be.bottom-be.top,!j&&T.text.firstChild&&(oe=T.text.firstChild.getBoundingClientRect().right-be.left-1)}var ge=T.line.height-q;if((ge>.005||ge<-.005)&&(a<n&&(f-=ge),Rn(T.line,q),Fl(T.line),T.rest))for(var Te=0;Te<T.rest.length;Te++)Fl(T.rest[Te]);if(oe>e.display.sizerWidth){var Oe=Math.ceil(oe/Cn(e.display));Oe>e.display.maxLineLength&&(e.display.maxLineLength=Oe,e.display.maxLine=T.line,e.display.maxLineChanged=!0)}}}Math.abs(f)>2&&(t.scroller.scrollTop+=f)}function Fl(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function la(e,t,r){var n=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Pi(e));var a=r&&r.bottom!=null?r.bottom:n+e.wrapper.clientHeight,f=Tn(t,n),v=Tn(t,a);if(r&&r.ensure){var T=r.ensure.from.line,j=r.ensure.to.line;T<f?(f=T,v=Tn(t,br(pt(t,T))+e.wrapper.clientHeight)):Math.min(j,t.lastLine())>=v&&(f=Tn(t,br(pt(t,j))-e.wrapper.clientHeight),v=j)}return{from:f,to:Math.max(v,f+1)}}function Ru(e,t){if(!Ft(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),a=null,f=r.wrapper.ownerDocument;if(t.top+n.top<0?a=!0:t.bottom+n.top>(f.defaultView.innerHeight||f.documentElement.clientHeight)&&(a=!1),a!=null&&!E){var v=I("div","\u200B",null,`position: absolute;
                         top: `+(t.top-r.viewOffset-Pi(e.display))+`px;
                         height: `+(t.bottom-t.top+i(e)+r.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(v),v.scrollIntoView(a),e.display.lineSpace.removeChild(v)}}}function Fu(e,t,r,n){n==null&&(n=0);var a;!e.options.lineWrapping&&t==r&&(r=t.sticky=="before"?he(t.line,t.ch+1,"before"):t,t=t.ch?he(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var f=0;f<5;f++){var v=!1,T=mt(e,t),j=!r||r==t?T:mt(e,r);a={left:Math.min(T.left,j.left),top:Math.min(T.top,j.top)-n,right:Math.max(T.left,j.left),bottom:Math.max(T.bottom,j.bottom)+n};var q=rl(e,a),oe=e.doc.scrollTop,se=e.doc.scrollLeft;if(q.scrollTop!=null&&(bo(e,q.scrollTop),Math.abs(e.doc.scrollTop-oe)>1&&(v=!0)),q.scrollLeft!=null&&(gi(e,q.scrollLeft),Math.abs(e.doc.scrollLeft-se)>1&&(v=!0)),!v)break}return a}function Bu(e,t){var r=rl(e,t);r.scrollTop!=null&&bo(e,r.scrollTop),r.scrollLeft!=null&&gi(e,r.scrollLeft)}function rl(e,t){var r=e.display,n=wr(e.display);t.top<0&&(t.top=0);var a=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,f=l(e),v={};t.bottom-t.top>f&&(t.bottom=t.top+f);var T=e.doc.height+ho(r),j=t.top<n,q=t.bottom>T-n;if(t.top<a)v.scrollTop=j?0:t.top;else if(t.bottom>a+f){var oe=Math.min(t.top,(q?T:t.bottom)-f);oe!=a&&(v.scrollTop=oe)}var se=e.options.fixedGutter?0:r.gutters.offsetWidth,be=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-se,ge=o(e)-r.gutters.offsetWidth,Te=t.right-t.left>ge;return Te&&(t.right=t.left+ge),t.left<10?v.scrollLeft=0:t.left<be?v.scrollLeft=Math.max(0,t.left+se-(Te?0:10)):t.right>ge+be-3&&(v.scrollLeft=t.right+(Te?0:10)-ge),v}function il(e,t){t!=null&&(sa(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ii(e){sa(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function vo(e,t,r){(t!=null||r!=null)&&sa(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function qu(e,t){sa(e),e.curOp.scrollToPos=t}function sa(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=bt(e,t.from),n=bt(e,t.to);Bl(e,r,n,t.margin)}}function Bl(e,t,r,n){var a=rl(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});vo(e,a.scrollLeft,a.scrollTop)}function bo(e,t){Math.abs(e.doc.scrollTop-t)<2||(K||al(e,{top:t}),ql(e,t,!0),K&&al(e),ko(e,100))}function ql(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function gi(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n)&&(e.doc.scrollLeft=t,$l(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function yo(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+ho(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+i(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var vi=function(e,t,r){this.cm=r;var n=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=a.tabIndex=-1,e(n),e(a),Ie(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Ie(a,"scroll",function(){a.clientWidth&&t(a.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,m&&g<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var a=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+a)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var f=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+f)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},vi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vi.prototype.zeroWidthHack=function(){var e=p&&!D?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ke,this.disableVert=new ke},vi.prototype.enableZeroWidthBar=function(e,t,r){e.style.visibility="";function n(){var a=e.getBoundingClientRect(),f=r=="vert"?document.elementFromPoint(a.right-1,(a.top+a.bottom)/2):document.elementFromPoint((a.right+a.left)/2,a.bottom-1);f!=e?e.style.visibility="hidden":t.set(1e3,n)}t.set(1e3,n)},vi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var wo=function(){};wo.prototype.update=function(){return{bottom:0,right:0}},wo.prototype.setScrollLeft=function(){},wo.prototype.setScrollTop=function(){},wo.prototype.clear=function(){};function zi(e,t){t||(t=yo(e));var r=e.display.barWidth,n=e.display.barHeight;Wl(e,t);for(var a=0;a<4&&r!=e.display.barWidth||n!=e.display.barHeight;a++)r!=e.display.barWidth&&e.options.lineWrapping&&aa(e),Wl(e,yo(e)),r=e.display.barWidth,n=e.display.barHeight}function Wl(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}var Ul={native:vi,null:wo};function Kl(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&X(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ul[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ie(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){r=="horizontal"?gi(e,t):bo(e,t)},e),e.display.scrollbars.addClass&&ye(e.display.wrapper,e.display.scrollbars.addClass)}var Wu=0;function bi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wu,markArrays:null},Ka(e.curOp)}function yi(e){var t=e.curOp;t&&$a(t,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;Uu(r)})}function Uu(e){for(var t=e.ops,r=0;r<t.length;r++)Ku(t[r]);for(var n=0;n<t.length;n++)Vu(t[n]);for(var a=0;a<t.length;a++)$u(t[a]);for(var f=0;f<t.length;f++)Gu(t[f]);for(var v=0;v<t.length;v++)Ju(t[v])}function Ku(e){var t=e.cm,r=t.display;Zu(t),e.updateMaxLine&&Oi(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ua(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Vu(e){e.updatedDisplay=e.mustUpdate&&ol(e.cm,e.update)}function $u(e){var t=e.cm,r=t.display;e.updatedDisplay&&aa(t),e.barMeasure=yo(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=P(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+i(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-o(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Gu(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&gi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==te(U(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&zi(t,e.barMeasure),e.updatedDisplay&&sl(t,e.barMeasure),e.selectionChanged&&el(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Rl(e.cm)}function Ju(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&Vl(t,e.update),r.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&ql(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&gi(t,e.scrollLeft,!0,!0),e.scrollToPos){var a=Fu(t,xt(n,e.scrollToPos.from),xt(n,e.scrollToPos.to),e.scrollToPos.margin);Ru(t,a)}var f=e.maybeHiddenMarkers,v=e.maybeUnhiddenMarkers;if(f)for(var T=0;T<f.length;++T)f[T].lines.length||Kt(f[T],"hide");if(v)for(var j=0;j<v.length;++j)v[j].lines.length&&Kt(v[j],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Kt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Xn(e,t){if(e.curOp)return t();bi(e);try{return t()}finally{yi(e)}}function wn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);bi(e);try{return t.apply(e,arguments)}finally{yi(e)}}}function zn(e){return function(){if(this.curOp)return e.apply(this,arguments);bi(this);try{return e.apply(this,arguments)}finally{yi(this)}}}function kn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);bi(t);try{return e.apply(this,arguments)}finally{yi(t)}}}function ko(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,Ne(Xu,e))}function Xu(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=Ur(e,t.highlightFrontier),a=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(f){if(n.line>=e.display.viewFrom){var v=f.styles,T=f.text.length>e.options.maxHighlightLength?pr(t.mode,n.state):null,j=to(e,f,n,!0);T&&(n.state=T),f.styles=j.styles;var q=f.styleClasses,oe=j.classes;oe?f.styleClasses=oe:q&&(f.styleClasses=null);for(var se=!v||v.length!=f.styles.length||q!=oe&&(!q||!oe||q.bgClass!=oe.bgClass||q.textClass!=oe.textClass),be=0;!se&&be<v.length;++be)se=v[be]!=f.styles[be];se&&a.push(n.line),f.stateAfter=n.save(),n.nextLine()}else f.text.length<=e.options.maxHighlightLength&&Ei(e,f.text,n),f.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ko(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),a.length&&Xn(e,function(){for(var f=0;f<a.length;f++)In(e,a[f],"text")})}}var ua=function(e,t,r){var n=e.display;this.viewport=t,this.visible=la(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=o(e),this.force=r,this.dims=Ir(e),this.events=[]};ua.prototype.signal=function(e,t){ln(e,t)&&this.events.push(arguments)},ua.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Kt.apply(null,this.events[e])};function Zu(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=i(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=i(e)+"px",t.scrollbarsClipped=!0)}function Yu(e){if(e.hasFocus())return null;var t=te(U(e));if(!t||!J(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=_e(e).getSelection();n.anchorNode&&n.extend&&J(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Qu(e){if(!(!e||!e.activeElt||e.activeElt==te(e.activeElt.ownerDocument))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&J(document.body,e.anchorNode)&&J(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,r=t.defaultView.getSelection(),n=t.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),r.removeAllRanges(),r.addRange(n),r.extend(e.focusNode,e.focusOffset)}}function ol(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return En(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&mo(e)==0)return!1;Gl(e)&&(En(e),t.dims=Ir(e));var a=n.first+n.size,f=Math.max(t.visible.from-e.options.viewportMargin,n.first),v=Math.min(a,t.visible.to+e.options.viewportMargin);r.viewFrom<f&&f-r.viewFrom<20&&(f=Math.max(n.first,r.viewFrom)),r.viewTo>v&&r.viewTo-v<20&&(v=Math.min(a,r.viewTo)),vr&&(f=co(e.doc,f),v=Go(e.doc,v));var T=f!=r.viewFrom||v!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Gr(e,f,v),r.viewOffset=br(pt(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var j=mo(e);if(!T&&j==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var q=Yu(e);return j>4&&(r.lineDiv.style.display="none"),ed(e,r.updateLineNumbers,t.dims),j>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Qu(q),$(r.cursorDiv),$(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,T&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,ko(e,400)),r.updateLineNumbers=null,!0}function Vl(e,t){for(var r=t.viewport,n=!0;;n=!1){if(!n||!e.options.lineWrapping||t.oldDisplayWidth==o(e)){if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+ho(e.display)-l(e),r.top)}),t.visible=la(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else n&&(t.visible=la(e.display,e.doc,r));if(!ol(e,t))break;aa(e);var a=yo(e);zr(e),zi(e,a),sl(e,a),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function al(e,t){var r=new ua(e,t);if(ol(e,r)){aa(e),Vl(e,r);var n=yo(e);zr(e),zi(e,n),sl(e,n),r.finish()}}function ed(e,t,r){var n=e.display,a=e.options.lineNumbers,f=n.lineDiv,v=f.firstChild;function T(Te){var Oe=Te.nextSibling;return w&&p&&e.display.currentWheelTarget==Te?Te.style.display="none":Te.parentNode.removeChild(Te),Oe}for(var j=n.view,q=n.viewFrom,oe=0;oe<j.length;oe++){var se=j[oe];if(!se.hidden)if(!se.node||se.node.parentNode!=f){var be=Ya(e,se,q,r);f.insertBefore(be,v)}else{for(;v!=se.node;)v=T(v);var ge=a&&t!=null&&t<=q&&se.lineNumber;se.changes&&(Fe(se.changes,"gutter")>-1&&(ge=!1),Qo(e,se,q,r)),ge&&($(se.lineNumber),se.lineNumber.appendChild(document.createTextNode(ue(e.options,q)))),v=se.node.nextSibling}q+=se.size}for(;v;)v=T(v)}function ll(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",dn(e,"gutterChanged",e)}function sl(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+i(e)+"px"}function $l(e){var t=e.display,r=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var n=Hn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,a=t.gutters.offsetWidth,f=n+"px",v=0;v<r.length;v++)if(!r[v].hidden){e.options.fixedGutter&&(r[v].gutter&&(r[v].gutter.style.left=f),r[v].gutterBackground&&(r[v].gutterBackground.style.left=f));var T=r[v].alignable;if(T)for(var j=0;j<T.length;j++)T[j].style.left=f}e.options.fixedGutter&&(t.gutters.style.left=n+a+"px")}}function Gl(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=ue(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var a=n.measure.appendChild(I("div",[I("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=a.firstChild.offsetWidth,v=a.offsetWidth-f;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(f,n.lineGutter.offsetWidth-v)+1,n.lineNumWidth=n.lineNumInnerWidth+v,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ll(e.display),!0}return!1}function ul(e,t){for(var r=[],n=!1,a=0;a<e.length;a++){var f=e[a],v=null;if(typeof f!="string"&&(v=f.style,f=f.className),f=="CodeMirror-linenumbers")if(t)n=!0;else continue;r.push({className:f,style:v})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Jl(e){var t=e.gutters,r=e.gutterSpecs;$(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var a=r[n],f=a.className,v=a.style,T=t.appendChild(I("div",null,"CodeMirror-gutter "+f));v&&(T.style.cssText=v),f=="CodeMirror-linenumbers"&&(e.lineGutter=T,T.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",ll(e)}function _o(e){Jl(e.display),At(e),$l(e)}function td(e,t,r,n){var a=this;this.input=r,a.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=B("div",null,"CodeMirror-code"),a.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=I("div",null,"CodeMirror-cursors"),a.measure=I("div",null,"CodeMirror-measure"),a.lineMeasure=I("div",null,"CodeMirror-measure"),a.lineSpace=B("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var f=B("div",[a.lineSpace],"CodeMirror-lines");a.mover=I("div",[f],null,"position: relative"),a.sizer=I("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=I("div",null,null,"position: absolute; height: "+qe+"px; width: 1px;"),a.gutters=I("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=I("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=I("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),A&&y>=105&&(a.wrapper.style.clipPath="inset(0px)"),a.wrapper.setAttribute("translate","no"),m&&g<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),!w&&!(K&&s)&&(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=ul(n.gutters,n.lineNumbers),Jl(a),r.init(a)}var da=0,jr=null;m?jr=-.53:K?jr=15:A?jr=-.7:L&&(jr=-1/3);function Xl(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function nd(e){var t=Xl(e);return t.x*=jr,t.y*=jr,t}function Zl(e,t){A&&y==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var r=Xl(t),n=r.x,a=r.y,f=jr;t.deltaMode===0&&(n=t.deltaX,a=t.deltaY,f=1);var v=e.display,T=v.scroller,j=T.scrollWidth>T.clientWidth,q=T.scrollHeight>T.clientHeight;if(!!(n&&j||a&&q)){if(a&&p&&w){e:for(var oe=t.target,se=v.view;oe!=T;oe=oe.parentNode)for(var be=0;be<se.length;be++)if(se[be].node==oe){e.display.currentWheelTarget=oe;break e}}if(n&&!K&&!S&&f!=null){a&&q&&bo(e,Math.max(0,T.scrollTop+a*f)),gi(e,Math.max(0,T.scrollLeft+n*f)),(!a||a&&q)&&gn(t),v.wheelStartX=null;return}if(a&&f!=null){var ge=a*f,Te=e.doc.scrollTop,Oe=Te+v.wrapper.clientHeight;ge<0?Te=Math.max(0,Te+ge-50):Oe=Math.min(e.doc.height,Oe+ge+50),al(e,{top:Te,bottom:Oe})}da<20&&t.deltaMode!==0&&(v.wheelStartX==null?(v.wheelStartX=T.scrollLeft,v.wheelStartY=T.scrollTop,v.wheelDX=n,v.wheelDY=a,setTimeout(function(){if(v.wheelStartX!=null){var ze=T.scrollLeft-v.wheelStartX,Xe=T.scrollTop-v.wheelStartY,it=Xe&&v.wheelDY&&Xe/v.wheelDY||ze&&v.wheelDX&&ze/v.wheelDX;v.wheelStartX=v.wheelStartY=null,it&&(jr=(jr*da+it)/(da+1),++da)}},200)):(v.wheelDX+=n,v.wheelDY+=a))}}var ir=function(e,t){this.ranges=e,this.primIndex=t};ir.prototype.primary=function(){return this.ranges[this.primIndex]},ir.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!kt(r.anchor,n.anchor)||!kt(r.head,n.head))return!1}return!0},ir.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Rt(Ot(this.ranges[t].anchor),Ot(this.ranges[t].head));return new ir(e,this.primIndex)},ir.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ir.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(Ce(t,n.from())>=0&&Ce(e,n.to())<=0)return r}return-1};var Rt=function(e,t){this.anchor=e,this.head=t};Rt.prototype.from=function(){return rn(this.anchor,this.head)},Rt.prototype.to=function(){return ft(this.anchor,this.head)},Rt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function xr(e,t,r){var n=e&&e.options.selectionsMayTouch,a=t[r];t.sort(function(be,ge){return Ce(be.from(),ge.from())}),r=Fe(t,a);for(var f=1;f<t.length;f++){var v=t[f],T=t[f-1],j=Ce(T.to(),v.from());if(n&&!v.empty()?j>0:j>=0){var q=rn(T.from(),v.from()),oe=ft(T.to(),v.to()),se=T.empty()?v.from()==v.head:T.from()==T.head;f<=r&&--r,t.splice(--f,2,new Rt(se?oe:q,se?q:oe))}}return new ir(t,r)}function Jr(e,t){return new ir([new Rt(e,t||e)],0)}function Xr(e){return e.text?he(e.from.line+e.text.length-1,le(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Yl(e,t){if(Ce(e,t.from)<0)return e;if(Ce(e,t.to)<=0)return Xr(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Xr(t).ch-t.to.ch),he(r,n)}function dl(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var a=e.sel.ranges[n];r.push(new Rt(Yl(a.anchor,t),Yl(a.head,t)))}return xr(e.cm,r,e.sel.primIndex)}function Ql(e,t,r){return e.line==t.line?he(r.line,e.ch-t.ch+r.ch):he(r.line+(e.line-t.line),e.ch)}function rd(e,t,r){for(var n=[],a=he(e.first,0),f=a,v=0;v<t.length;v++){var T=t[v],j=Ql(T.from,a,f),q=Ql(Xr(T),a,f);if(a=T.to,f=q,r=="around"){var oe=e.sel.ranges[v],se=Ce(oe.head,oe.anchor)<0;n[v]=new Rt(se?q:j,se?j:q)}else n[v]=new Rt(j,j)}return new ir(n,e.sel.primIndex)}function cl(e){e.doc.mode=Gn(e.options,e.doc.modeOption),xo(e)}function xo(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ko(e,100),e.state.modeGen++,e.curOp&&At(e)}function es(e,t){return t.from.ch==0&&t.to.ch==0&&le(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function fl(e,t,r,n){function a(it){return r?r[it]:null}function f(it,Ze,st){Ia(it,Ze,st,n),dn(it,"change",it,t)}function v(it,Ze){for(var st=[],yt=it;yt<Ze;++yt)st.push(new Vr(q[yt],a(yt),n));return st}var T=t.from,j=t.to,q=t.text,oe=pt(e,T.line),se=pt(e,j.line),be=le(q),ge=a(q.length-1),Te=j.line-T.line;if(t.full)e.insert(0,v(0,q.length)),e.remove(q.length,e.size-q.length);else if(es(e,t)){var Oe=v(0,q.length-1);f(se,se.text,ge),Te&&e.remove(T.line,Te),Oe.length&&e.insert(T.line,Oe)}else if(oe==se)if(q.length==1)f(oe,oe.text.slice(0,T.ch)+be+oe.text.slice(j.ch),ge);else{var ze=v(1,q.length-1);ze.push(new Vr(be+oe.text.slice(j.ch),ge,n)),f(oe,oe.text.slice(0,T.ch)+q[0],a(0)),e.insert(T.line+1,ze)}else if(q.length==1)f(oe,oe.text.slice(0,T.ch)+q[0]+se.text.slice(j.ch),a(0)),e.remove(T.line+1,Te);else{f(oe,oe.text.slice(0,T.ch)+q[0],a(0)),f(se,be+se.text.slice(j.ch),ge);var Xe=v(1,q.length-1);Te>1&&e.remove(T.line+1,Te-1),e.insert(T.line+1,Xe)}dn(e,"change",e,t)}function Zr(e,t,r){function n(a,f,v){if(a.linked)for(var T=0;T<a.linked.length;++T){var j=a.linked[T];if(j.doc!=f){var q=v&&j.sharedHist;r&&!q||(t(j.doc,q),n(j.doc,a,q))}}}n(e,null,!0)}function ts(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ar(e),cl(e),ns(e),e.options.direction=t.direction,e.options.lineWrapping||Oi(e),e.options.mode=t.modeOption,At(e)}function ns(e){(e.doc.direction=="rtl"?ye:X)(e.display.lineDiv,"CodeMirror-rtl")}function id(e){Xn(e,function(){ns(e),At(e)})}function ca(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function pl(e,t){var r={from:Ot(t.from),to:Xr(t),text:mr(e,t.from,t.to)};return os(e,r,t.from.line,t.to.line+1),Zr(e,function(n){return os(n,r,t.from.line,t.to.line+1)},!0),r}function rs(e){for(;e.length;){var t=le(e);if(t.ranges)e.pop();else break}}function od(e,t){if(t)return rs(e.done),le(e.done);if(e.done.length&&!le(e.done).ranges)return le(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),le(e.done)}function is(e,t,r,n){var a=e.history;a.undone.length=0;var f=+new Date,v,T;if((a.lastOp==n||a.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&a.lastModTime>f-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(v=od(a,a.lastOp==n)))T=le(v.changes),Ce(t.from,t.to)==0&&Ce(t.from,T.to)==0?T.to=Xr(t):v.changes.push(pl(e,t));else{var j=le(a.done);for((!j||!j.ranges)&&fa(e.sel,a.done),v={changes:[pl(e,t)],generation:a.generation},a.done.push(v);a.done.length>a.undoDepth;)a.done.shift(),a.done[0].ranges||a.done.shift()}a.done.push(r),a.generation=++a.maxGeneration,a.lastModTime=a.lastSelTime=f,a.lastOp=a.lastSelOp=n,a.lastOrigin=a.lastSelOrigin=t.origin,T||Kt(e,"historyAdded")}function ad(e,t,r,n){var a=t.charAt(0);return a=="*"||a=="+"&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ld(e,t,r,n){var a=e.history,f=n&&n.origin;r==a.lastSelOp||f&&a.lastSelOrigin==f&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==f||ad(e,f,le(a.done),t))?a.done[a.done.length-1]=t:fa(t,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=f,a.lastSelOp=r,n&&n.clearRedo!==!1&&rs(a.undone)}function fa(e,t){var r=le(t);r&&r.ranges&&r.equals(e)||t.push(e)}function os(e,t,r,n){var a=t["spans_"+e.id],f=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(v){v.markedSpans&&((a||(a=t["spans_"+e.id]={}))[f]=v.markedSpans),++f})}function sd(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function ud(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],a=0;a<t.text.length;++a)n.push(sd(r[a]));return n}function as(e,t){var r=ud(e,t),n=lo(e,t);if(!r)return n;if(!n)return r;for(var a=0;a<r.length;++a){var f=r[a],v=n[a];if(f&&v){e:for(var T=0;T<v.length;++T){for(var j=v[T],q=0;q<f.length;++q)if(f[q].marker==j.marker)continue e;f.push(j)}}else v&&(r[a]=v)}return r}function ji(e,t,r){for(var n=[],a=0;a<e.length;++a){var f=e[a];if(f.ranges){n.push(r?ir.prototype.deepCopy.call(f):f);continue}var v=f.changes,T=[];n.push({changes:T});for(var j=0;j<v.length;++j){var q=v[j],oe=void 0;if(T.push({from:q.from,to:q.to,text:q.text}),t)for(var se in q)(oe=se.match(/^spans_(\d+)$/))&&Fe(t,Number(oe[1]))>-1&&(le(T)[se]=q[se],delete q[se])}}return n}function hl(e,t,r,n){if(n){var a=e.anchor;if(r){var f=Ce(t,a)<0;f!=Ce(r,a)<0?(a=t,t=r):f!=Ce(t,r)<0&&(t=r)}return new Rt(a,t)}else return new Rt(r||t,t)}function pa(e,t,r,n,a){a==null&&(a=e.cm&&(e.cm.display.shift||e.extend)),Mn(e,new ir([hl(e.sel.primary(),t,r,a)],0),n)}function ls(e,t,r){for(var n=[],a=e.cm&&(e.cm.display.shift||e.extend),f=0;f<e.sel.ranges.length;f++)n[f]=hl(e.sel.ranges[f],t[f],null,a);var v=xr(e.cm,n,e.sel.primIndex);Mn(e,v,r)}function ml(e,t,r,n){var a=e.sel.ranges.slice(0);a[t]=r,Mn(e,xr(e.cm,a,e.sel.primIndex),n)}function ss(e,t,r,n){Mn(e,Jr(t,r),n)}function dd(e,t,r){var n={ranges:t.ranges,update:function(a){this.ranges=[];for(var f=0;f<a.length;f++)this.ranges[f]=new Rt(xt(e,a[f].anchor),xt(e,a[f].head))},origin:r&&r.origin};return Kt(e,"beforeSelectionChange",e,n),e.cm&&Kt(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?xr(e.cm,n.ranges,n.ranges.length-1):t}function us(e,t,r){var n=e.history.done,a=le(n);a&&a.ranges?(n[n.length-1]=t,ha(e,t,r)):Mn(e,t,r)}function Mn(e,t,r){ha(e,t,r),ld(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function ha(e,t,r){(ln(e,"beforeSelectionChange")||e.cm&&ln(e.cm,"beforeSelectionChange"))&&(t=dd(e,t,r));var n=r&&r.bias||(Ce(t.primary().head,e.sel.primary().head)<0?-1:1);ds(e,fs(e,t,n,!0)),!(r&&r.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&Ii(e.cm)}function ds(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,_i(e.cm)),dn(e,"cursorActivity",e))}function cs(e){ds(e,fs(e,e.sel,null,!1))}function fs(e,t,r,n){for(var a,f=0;f<t.ranges.length;f++){var v=t.ranges[f],T=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[f],j=ma(e,v.anchor,T&&T.anchor,r,n),q=v.head==v.anchor?j:ma(e,v.head,T&&T.head,r,n);(a||j!=v.anchor||q!=v.head)&&(a||(a=t.ranges.slice(0,f)),a[f]=new Rt(j,q))}return a?xr(e.cm,a,t.primIndex):t}function Ri(e,t,r,n,a){var f=pt(e,t.line);if(f.markedSpans)for(var v=0;v<f.markedSpans.length;++v){var T=f.markedSpans[v],j=T.marker,q="selectLeft"in j?!j.selectLeft:j.inclusiveLeft,oe="selectRight"in j?!j.selectRight:j.inclusiveRight;if((T.from==null||(q?T.from<=t.ch:T.from<t.ch))&&(T.to==null||(oe?T.to>=t.ch:T.to>t.ch))){if(a&&(Kt(j,"beforeCursorEnter"),j.explicitlyCleared))if(f.markedSpans){--v;continue}else break;if(!j.atomic)continue;if(r){var se=j.find(n<0?1:-1),be=void 0;if((n<0?oe:q)&&(se=ps(e,se,-n,se&&se.line==t.line?f:null)),se&&se.line==t.line&&(be=Ce(se,r))&&(n<0?be<0:be>0))return Ri(e,se,t,n,a)}var ge=j.find(n<0?-1:1);return(n<0?q:oe)&&(ge=ps(e,ge,n,ge.line==t.line?f:null)),ge?Ri(e,ge,t,n,a):null}}return t}function ma(e,t,r,n,a){var f=n||1,v=Ri(e,t,r,f,a)||!a&&Ri(e,t,r,f,!0)||Ri(e,t,r,-f,a)||!a&&Ri(e,t,r,-f,!0);return v||(e.cantEdit=!0,he(e.first,0))}function ps(e,t,r,n){return r<0&&t.ch==0?t.line>e.first?xt(e,he(t.line-1)):null:r>0&&t.ch==(n||pt(e,t.line)).text.length?t.line<e.first+e.size-1?he(t.line+1,0):null:new he(t.line,t.ch+r)}function hs(e){e.setSelection(he(e.firstLine(),0),he(e.lastLine()),Re)}function ms(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(a,f,v,T){a&&(n.from=xt(e,a)),f&&(n.to=xt(e,f)),v&&(n.text=v),T!==void 0&&(n.origin=T)}),Kt(e,"beforeChange",e,n),e.cm&&Kt(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Fi(e,t,r){if(e.cm){if(!e.cm.curOp)return wn(e.cm,Fi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!((ln(e,"beforeChange")||e.cm&&ln(e.cm,"beforeChange"))&&(t=ms(e,t,!0),!t))){var n=ui&&!r&&Oa(e,t.from,t.to);if(n)for(var a=n.length-1;a>=0;--a)gs(e,{from:n[a].from,to:n[a].to,text:a?[""]:t.text,origin:t.origin});else gs(e,t)}}function gs(e,t){if(!(t.text.length==1&&t.text[0]==""&&Ce(t.from,t.to)==0)){var r=dl(e,t);is(e,t,r,e.cm?e.cm.curOp.id:NaN),So(e,t,r,lo(e,t));var n=[];Zr(e,function(a,f){!f&&Fe(n,a.history)==-1&&(ws(a.history,t),n.push(a.history)),So(a,t,null,lo(a,t))})}}function ga(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!(n&&!r)){for(var a=e.history,f,v=e.sel,T=t=="undo"?a.done:a.undone,j=t=="undo"?a.undone:a.done,q=0;q<T.length&&(f=T[q],!(r?f.ranges&&!f.equals(e.sel):!f.ranges));q++);if(q!=T.length){for(a.lastOrigin=a.lastSelOrigin=null;;)if(f=T.pop(),f.ranges){if(fa(f,j),r&&!f.equals(e.sel)){Mn(e,f,{clearRedo:!1});return}v=f}else if(n){T.push(f);return}else break;var oe=[];fa(v,j),j.push({changes:oe,generation:a.generation}),a.generation=f.generation||++a.maxGeneration;for(var se=ln(e,"beforeChange")||e.cm&&ln(e.cm,"beforeChange"),be=function(Oe){var ze=f.changes[Oe];if(ze.origin=t,se&&!ms(e,ze,!1))return T.length=0,{};oe.push(pl(e,ze));var Xe=Oe?dl(e,ze):le(T);So(e,ze,Xe,as(e,ze)),!Oe&&e.cm&&e.cm.scrollIntoView({from:ze.from,to:Xr(ze)});var it=[];Zr(e,function(Ze,st){!st&&Fe(it,Ze.history)==-1&&(ws(Ze.history,ze),it.push(Ze.history)),So(Ze,ze,null,as(Ze,ze))})},ge=f.changes.length-1;ge>=0;--ge){var Te=be(ge);if(Te)return Te.v}}}}function vs(e,t){if(t!=0&&(e.first+=t,e.sel=new ir(fe(e.sel.ranges,function(a){return new Rt(he(a.anchor.line+t,a.anchor.ch),he(a.head.line+t,a.head.ch))}),e.sel.primIndex),e.cm)){At(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)In(e.cm,n,"gutter")}}function So(e,t,r,n){if(e.cm&&!e.cm.curOp)return wn(e.cm,So)(e,t,r,n);if(t.to.line<e.first){vs(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var a=t.text.length-1-(e.first-t.from.line);vs(e,a),t={from:he(e.first,0),to:he(t.to.line+a,t.to.ch),text:[le(t.text)],origin:t.origin}}var f=e.lastLine();t.to.line>f&&(t={from:t.from,to:he(f,pt(e,f).text.length),text:[t.text[0]],origin:t.origin}),t.removed=mr(e,t.from,t.to),r||(r=dl(e,t)),e.cm?cd(e.cm,t,n):fl(e,t,n),ha(e,r,Re),e.cantEdit&&ma(e,he(e.firstLine(),0))&&(e.cantEdit=!1)}}function cd(e,t,r){var n=e.doc,a=e.display,f=t.from,v=t.to,T=!1,j=f.line;e.options.lineWrapping||(j=Ht(nr(pt(n,f.line))),n.iter(j,v.line+1,function(ge){if(ge==a.maxLine)return T=!0,!0})),n.sel.contains(t.from,t.to)>-1&&_i(e),fl(n,t,r,kr(e)),e.options.lineWrapping||(n.iter(j,f.line+t.text.length,function(ge){var Te=Di(ge);Te>a.maxLineLength&&(a.maxLine=ge,a.maxLineLength=Te,a.maxLineChanged=!0,T=!1)}),T&&(e.curOp.updateMaxLine=!0)),si(n,f.line),ko(e,400);var q=t.text.length-(v.line-f.line)-1;t.full?At(e):f.line==v.line&&t.text.length==1&&!es(e.doc,t)?In(e,f.line,"text"):At(e,f.line,v.line+1,q);var oe=ln(e,"changes"),se=ln(e,"change");if(se||oe){var be={from:f,to:v,text:t.text,removed:t.removed,origin:t.origin};se&&dn(e,"change",e,be),oe&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(be)}e.display.selForContextMenu=null}function Bi(e,t,r,n,a){var f;n||(n=r),Ce(n,r)<0&&(f=[n,r],r=f[0],n=f[1]),typeof t=="string"&&(t=e.splitLines(t)),Fi(e,{from:r,to:n,text:t,origin:a})}function bs(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ys(e,t,r,n){for(var a=0;a<e.length;++a){var f=e[a],v=!0;if(f.ranges){f.copied||(f=e[a]=f.deepCopy(),f.copied=!0);for(var T=0;T<f.ranges.length;T++)bs(f.ranges[T].anchor,t,r,n),bs(f.ranges[T].head,t,r,n);continue}for(var j=0;j<f.changes.length;++j){var q=f.changes[j];if(r<q.from.line)q.from=he(q.from.line+n,q.from.ch),q.to=he(q.to.line+n,q.to.ch);else if(t<=q.to.line){v=!1;break}}v||(e.splice(0,a+1),a=0)}}function ws(e,t){var r=t.from.line,n=t.to.line,a=t.text.length-(n-r)-1;ys(e.done,r,n,a),ys(e.undone,r,n,a)}function Co(e,t,r,n){var a=t,f=t;return typeof t=="number"?f=pt(e,An(e,t)):a=Ht(t),a==null?null:(n(f,a)&&e.cm&&In(e.cm,a,r),f)}function Eo(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}Eo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var a=this.lines[r];this.height-=a.height,za(a),dn(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}};function Lo(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var a=e[n];t+=a.chunkSize(),r+=a.height,a.parent=this}this.size=t,this.height=r,this.parent=null}Lo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],a=n.chunkSize();if(e<a){var f=Math.min(t,a-e),v=n.height;if(n.removeInner(e,f),this.height-=v-n.height,a==f&&(this.children.splice(r--,1),n.parent=null),(t-=f)==0)break;e=0}else e-=a}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Eo))){var T=[];this.collapse(T),this.children=[new Eo(T)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var a=this.children[n],f=a.chunkSize();if(e<=f){if(a.insertInner(e,t,r),a.lines&&a.lines.length>50){for(var v=a.lines.length%25+25,T=v;T<a.lines.length;){var j=new Eo(a.lines.slice(T,T+=25));a.height-=j.height,this.children.splice(++n,0,j),j.parent=this}a.lines=a.lines.slice(0,v),this.maybeSpill()}break}e-=f}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Lo(t);if(e.parent){e.size-=r.size,e.height-=r.height;var a=Fe(e.parent.children,e);e.parent.children.splice(a+1,0,r)}else{var n=new Lo(e.children);n.parent=e,e.children=[n,r],e=n}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var a=this.children[n],f=a.chunkSize();if(e<f){var v=Math.min(t,f-e);if(a.iterN(e,v,r))return!0;if((t-=v)==0)break;e=0}else e-=f}}};var To=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};To.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Ht(r);if(!(n==null||!t)){for(var a=0;a<t.length;++a)t[a]==this&&t.splice(a--,1);t.length||(r.widgets=null);var f=pi(this);Rn(r,Math.max(0,r.height-f)),e&&(Xn(e,function(){ks(e,r,-f),In(e,n,"widget")}),dn(e,"lineWidgetCleared",e,this,n))}},To.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var a=pi(this)-t;!a||(Tr(this.doc,n)||Rn(n,n.height+a),r&&Xn(r,function(){r.curOp.forceUpdate=!0,ks(r,n,a),dn(r,"lineWidgetChanged",r,e,Ht(n))}))},mn(To);function ks(e,t,r){br(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&il(e,r)}function fd(e,t,r,n){var a=new To(e,r,n),f=e.cm;return f&&a.noHScroll&&(f.display.alignWidgets=!0),Co(e,t,"widget",function(v){var T=v.widgets||(v.widgets=[]);if(a.insertAt==null?T.push(a):T.splice(Math.min(T.length,Math.max(0,a.insertAt)),0,a),a.line=v,f&&!Tr(e,v)){var j=br(v)<e.scrollTop;Rn(v,v.height+pi(a)),j&&il(f,a.height),f.curOp.forceUpdate=!0}return!0}),f&&dn(f,"lineWidgetAdded",f,a,typeof t=="number"?t:Ht(t)),a}var _s=0,Yr=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++_s};Yr.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&bi(e),ln(this,"clear")){var r=this.find();r&&dn(this,"clear",r.from,r.to)}for(var n=null,a=null,f=0;f<this.lines.length;++f){var v=this.lines[f],T=di(v.markedSpans,this);e&&!this.collapsed?In(e,Ht(v),"text"):e&&(T.to!=null&&(a=Ht(v)),T.from!=null&&(n=Ht(v))),v.markedSpans=Bo(v.markedSpans,T),T.from==null&&this.collapsed&&!Tr(this.doc,v)&&e&&Rn(v,wr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var j=0;j<this.lines.length;++j){var q=nr(this.lines[j]),oe=Di(q);oe>e.display.maxLineLength&&(e.display.maxLine=q,e.display.maxLineLength=oe,e.display.maxLineChanged=!0)}n!=null&&e&&this.collapsed&&At(e,n,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&cs(e.doc)),e&&dn(e,"markerCleared",e,this,n,a),t&&yi(e),this.parent&&this.parent.clear()}},Yr.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var r,n,a=0;a<this.lines.length;++a){var f=this.lines[a],v=di(f.markedSpans,this);if(v.from!=null&&(r=he(t?f:Ht(f),v.from),e==-1))return r;if(v.to!=null&&(n=he(t?f:Ht(f),v.to),e==1))return n}return r&&{from:r,to:n}},Yr.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;!t||!n||Xn(n,function(){var a=t.line,f=Ht(t.line),v=G(n,f);if(v&&(He(v),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Tr(r.doc,a)&&r.height!=null){var T=r.height;r.height=null;var j=pi(r)-T;j&&Rn(a,a.height+j)}dn(n,"markerChanged",n,e)})},Yr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Fe(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Yr.prototype.detachLine=function(e){if(this.lines.splice(Fe(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},mn(Yr);function qi(e,t,r,n,a){if(n&&n.shared)return pd(e,t,r,n,a);if(e.cm&&!e.cm.curOp)return wn(e.cm,qi)(e,t,r,n,a);var f=new Yr(e,a),v=Ce(t,r);if(n&&me(n,f,!1),v>0||v==0&&f.clearWhenEmpty!==!1)return f;if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=B("span",[f.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||f.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(f.widgetNode.insertLeft=!0)),f.collapsed){if($o(e,t.line,t,r,f)||t.line!=r.line&&$o(e,r.line,t,r,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");Aa()}f.addToHistory&&is(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var T=t.line,j=e.cm,q;if(e.iter(T,r.line+1,function(se){j&&f.collapsed&&!j.options.lineWrapping&&nr(se)==j.display.maxLine&&(q=!0),f.collapsed&&T!=t.line&&Rn(se,0),Ma(se,new Ti(f,T==t.line?t.ch:null,T==r.line?r.ch:null),e.cm&&e.cm.curOp),++T}),f.collapsed&&e.iter(t.line,r.line+1,function(se){Tr(e,se)&&Rn(se,0)}),f.clearOnEnter&&Ie(f,"beforeCursorEnter",function(){return f.clear()}),f.readOnly&&(Ta(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),f.collapsed&&(f.id=++_s,f.atomic=!0),j){if(q&&(j.curOp.updateMaxLine=!0),f.collapsed)At(j,t.line,r.line+1);else if(f.className||f.startStyle||f.endStyle||f.css||f.attributes||f.title)for(var oe=t.line;oe<=r.line;oe++)In(j,oe,"text");f.atomic&&cs(j.doc),dn(j,"markerAdded",j,f)}return f}var Ao=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Ao.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();dn(this,"clear")}},Ao.prototype.find=function(e,t){return this.primary.find(e,t)},mn(Ao);function pd(e,t,r,n,a){n=me(n),n.shared=!1;var f=[qi(e,t,r,n,a)],v=f[0],T=n.widgetNode;return Zr(e,function(j){T&&(n.widgetNode=T.cloneNode(!0)),f.push(qi(j,xt(j,t),xt(j,r),n,a));for(var q=0;q<j.linked.length;++q)if(j.linked[q].isParent)return;v=le(f)}),new Ao(f,v)}function xs(e){return e.findMarks(he(e.first,0),e.clipPos(he(e.lastLine())),function(t){return t.parent})}function hd(e,t){for(var r=0;r<t.length;r++){var n=t[r],a=n.find(),f=e.clipPos(a.from),v=e.clipPos(a.to);if(Ce(f,v)){var T=qi(e,f,v,n.primary,n.primary.type);n.markers.push(T),T.parent=n}}}function md(e){for(var t=function(n){var a=e[n],f=[a.primary.doc];Zr(a.primary.doc,function(j){return f.push(j)});for(var v=0;v<a.markers.length;v++){var T=a.markers[v];Fe(f,T.doc)==-1&&(T.parent=null,a.markers.splice(v--,1))}},r=0;r<e.length;r++)t(r)}var gd=0,Bn=function(e,t,r,n,a){if(!(this instanceof Bn))return new Bn(e,t,r,n,a);r==null&&(r=0),Lo.call(this,[new Eo([new Vr("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var f=he(r,0);this.sel=Jr(f),this.history=new ca(null),this.id=++gd,this.modeOption=t,this.lineSep=n,this.direction=a=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),fl(this,{from:f,to:f,text:e}),Mn(this,Jr(f),Re)};Bn.prototype=we(Lo.prototype,{constructor:Bn,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Wr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:kn(function(e){var t=he(this.first,0),r=this.first+this.size-1;Fi(this,{from:t,to:he(r,pt(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&vo(this.cm,0,0),Mn(this,Jr(t),Re)}),replaceRange:function(e,t,r,n){t=xt(this,t),r=r?xt(this,r):t,Bi(this,e,t,r,n)},getRange:function(e,t,r){var n=mr(this,xt(this,e),xt(this,t));return r===!1?n:r===""?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(V(this,e))return pt(this,e)},getLineNumber:function(e){return Ht(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=pt(this,e)),nr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return xt(this,e)},getCursor:function(e){var t=this.sel.primary(),r;return e==null||e=="head"?r=t.head:e=="anchor"?r=t.anchor:e=="end"||e=="to"||e===!1?r=t.to():r=t.from(),r},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:kn(function(e,t,r){ss(this,xt(this,typeof e=="number"?he(e,t||0):e),null,r)}),setSelection:kn(function(e,t,r){ss(this,xt(this,e),xt(this,t||e),r)}),extendSelection:kn(function(e,t,r){pa(this,xt(this,e),t&&xt(this,t),r)}),extendSelections:kn(function(e,t){ls(this,eo(this,e),t)}),extendSelectionsBy:kn(function(e,t){var r=fe(this.sel.ranges,e);ls(this,eo(this,r),t)}),setSelections:kn(function(e,t,r){if(!!e.length){for(var n=[],a=0;a<e.length;a++)n[a]=new Rt(xt(this,e[a].anchor),xt(this,e[a].head||e[a].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Mn(this,xr(this.cm,n,t),r)}}),addSelection:kn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Rt(xt(this,e),xt(this,t||e))),Mn(this,xr(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t=this.sel.ranges,r,n=0;n<t.length;n++){var a=mr(this,t[n].from(),t[n].to());r=r?r.concat(a):a}return e===!1?r:r.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var a=mr(this,r[n].from(),r[n].to());e!==!1&&(a=a.join(e||this.lineSeparator())),t[n]=a}return t},replaceSelection:function(e,t,r){for(var n=[],a=0;a<this.sel.ranges.length;a++)n[a]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:kn(function(e,t,r){for(var n=[],a=this.sel,f=0;f<a.ranges.length;f++){var v=a.ranges[f];n[f]={from:v.from(),to:v.to(),text:this.splitLines(e[f]),origin:r}}for(var T=t&&t!="end"&&rd(this,n,t),j=n.length-1;j>=0;j--)Fi(this,n[j]);T?us(this,T):this.cm&&Ii(this.cm)}),undo:kn(function(){ga(this,"undo")}),redo:kn(function(){ga(this,"redo")}),undoSelection:kn(function(){ga(this,"undo",!0)}),redoSelection:kn(function(){ga(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var a=0;a<e.undone.length;a++)e.undone[a].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new ca(this.history),Zr(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ji(this.history.done),undone:ji(this.history.undone)}},setHistory:function(e){var t=this.history=new ca(this.history);t.done=ji(e.done.slice(0),null,!0),t.undone=ji(e.undone.slice(0),null,!0)},setGutterMarker:kn(function(e,t,r){return Co(this,e,"gutter",function(n){var a=n.gutterMarkers||(n.gutterMarkers={});return a[t]=r,!r&&Ve(a)&&(n.gutterMarkers=null),!0})}),clearGutter:kn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Co(t,r,"gutter",function(){return r.gutterMarkers[e]=null,Ve(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!V(this,e)||(t=e,e=pt(this,e),!e))return null}else if(t=Ht(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:kn(function(e,t,r){return Co(this,e,t=="gutter"?"gutter":"class",function(n){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!n[a])n[a]=r;else{if(R(r).test(n[a]))return!1;n[a]+=" "+r}return!0})}),removeLineClass:kn(function(e,t,r){return Co(this,e,t=="gutter"?"gutter":"class",function(n){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",f=n[a];if(f)if(r==null)n[a]=null;else{var v=f.match(R(r));if(!v)return!1;var T=v.index+v[0].length;n[a]=f.slice(0,v.index)+(!v.index||T==f.length?"":" ")+f.slice(T)||null}else return!1;return!0})}),addLineWidget:kn(function(e,t,r){return fd(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return qi(this,xt(this,e),xt(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=xt(this,e),qi(this,e,e,r,"bookmark")},findMarksAt:function(e){e=xt(this,e);var t=[],r=pt(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var a=r[n];(a.from==null||a.from<=e.ch)&&(a.to==null||a.to>=e.ch)&&t.push(a.marker.parent||a.marker)}return t},findMarks:function(e,t,r){e=xt(this,e),t=xt(this,t);var n=[],a=e.line;return this.iter(e.line,t.line+1,function(f){var v=f.markedSpans;if(v)for(var T=0;T<v.length;T++){var j=v[T];!(j.to!=null&&a==e.line&&e.ch>=j.to||j.from==null&&a!=e.line||j.from!=null&&a==t.line&&j.from>=t.ch)&&(!r||r(j.marker))&&n.push(j.marker.parent||j.marker)}++a}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)r[n].from!=null&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(a){var f=a.text.length+n;if(f>e)return t=e,!0;e-=f,++r}),xt(this,he(r,t))},indexFromPos:function(e){e=xt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new Bn(Wr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);var n=new Bn(Wr(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],hd(n,xs(this)),n},unlinkDoc:function(e){if(e instanceof Qt&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var r=this.linked[t];if(r.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),md(xs(this));break}}if(e.history==this.history){var n=[e.id];Zr(e,function(a){return n.push(a.id)},!0),e.history=new ca(null),e.history.done=ji(this.history.done,n),e.history.undone=ji(this.history.undone,n)}},iterLinkedDocs:function(e){Zr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):oi(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:kn(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&id(this.cm))})}),Bn.prototype.eachLine=Bn.prototype.iter;var Ss=0;function vd(e){var t=this;if(Cs(t),!(Ft(t,e)||yr(t.display,e))){gn(e),m&&(Ss=+new Date);var r=Mr(t,e,!0),n=e.dataTransfer.files;if(!(!r||t.isReadOnly()))if(n&&n.length&&window.FileReader&&window.File)for(var a=n.length,f=Array(a),v=0,T=function(){++v==a&&wn(t,function(){r=xt(t.doc,r);var ge={from:r,to:r,text:t.doc.splitLines(f.filter(function(Te){return Te!=null}).join(t.doc.lineSeparator())),origin:"paste"};Fi(t.doc,ge),us(t.doc,Jr(xt(t.doc,r),xt(t.doc,Xr(ge))))})()},j=function(ge,Te){if(t.options.allowDropFileTypes&&Fe(t.options.allowDropFileTypes,ge.type)==-1){T();return}var Oe=new FileReader;Oe.onerror=function(){return T()},Oe.onload=function(){var ze=Oe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ze)){T();return}f[Te]=ze,T()},Oe.readAsText(ge)},q=0;q<n.length;q++)j(n[q],q);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var oe=e.dataTransfer.getData("Text");if(oe){var se;if(t.state.draggingText&&!t.state.draggingText.copy&&(se=t.listSelections()),ha(t.doc,Jr(r,r)),se)for(var be=0;be<se.length;++be)Bi(t.doc,"",se[be].anchor,se[be].head,"drag");t.replaceSelection(oe,"around","paste"),t.display.input.focus()}}catch(ge){}}}}function bd(e,t){if(m&&(!e.state.draggingText||+new Date-Ss<100)){Qn(t);return}if(!(Ft(e,t)||yr(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!L)){var r=I("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",S&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),S&&r.parentNode.removeChild(r)}}function yd(e,t){var r=Mr(e,t);if(!!r){var n=document.createDocumentFragment();mi(e,r,n),e.display.dragCursor||(e.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Z(e.display.dragCursor,n)}}function Cs(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Es(e){if(!!document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var a=t[n].CodeMirror;a&&r.push(a)}r.length&&r[0].operation(function(){for(var f=0;f<r.length;f++)e(r[f])})}}var Ls=!1;function wd(){Ls||(kd(),Ls=!0)}function kd(){var e;Ie(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Es(_d)},100))}),Ie(window,"blur",function(){return Es(Hi)})}function _d(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Qr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Mo=0;Mo<10;Mo++)Qr[Mo+48]=Qr[Mo+96]=String(Mo);for(var va=65;va<=90;va++)Qr[va]=String.fromCharCode(va);for(var Do=1;Do<=12;Do++)Qr[Do+111]=Qr[Do+63235]="F"+Do;var Rr={};Rr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Rr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Rr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Rr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Rr.default=p?Rr.macDefault:Rr.pcDefault;function xd(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,a,f,v=0;v<t.length-1;v++){var T=t[v];if(/^(cmd|meta|m)$/i.test(T))f=!0;else if(/^a(lt)?$/i.test(T))r=!0;else if(/^(c|ctrl|control)$/i.test(T))n=!0;else if(/^s(hift)?$/i.test(T))a=!0;else throw new Error("Unrecognized modifier name: "+T)}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),f&&(e="Cmd-"+e),a&&(e="Shift-"+e),e}function Sd(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete e[r];continue}for(var a=fe(r.split(" "),xd),f=0;f<a.length;f++){var v=void 0,T=void 0;f==a.length-1?(T=a.join(" "),v=n):(T=a.slice(0,f+1).join(" "),v="...");var j=t[T];if(!j)t[T]=v;else if(j!=v)throw new Error("Inconsistent bindings for "+T)}delete e[r]}for(var q in t)e[q]=t[q];return e}function Wi(e,t,r,n){t=ba(t);var a=t.call?t.call(e,n):t[e];if(a===!1)return"nothing";if(a==="...")return"multi";if(a!=null&&r(a))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Wi(e,t.fallthrough,r,n);for(var f=0;f<t.fallthrough.length;f++){var v=Wi(e,t.fallthrough[f],r,n);if(v)return v}}}function Ts(e){var t=typeof e=="string"?e:Qr[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function As(e,t,r){var n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(M?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(M?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}function Ms(e,t){if(S&&e.keyCode==34&&e.char)return!1;var r=Qr[e.keyCode];return r==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(r=e.code),As(r,e,t))}function ba(e){return typeof e=="string"?Rr[e]:e}function Ui(e,t){for(var r=e.doc.sel.ranges,n=[],a=0;a<r.length;a++){for(var f=t(r[a]);n.length&&Ce(f.from,le(n).to)<=0;){var v=n.pop();if(Ce(v.from,f.from)<0){f.from=v.from;break}}n.push(f)}Xn(e,function(){for(var T=n.length-1;T>=0;T--)Bi(e.doc,"",n[T].from,n[T].to,"+delete");Ii(e)})}function gl(e,t,r){var n=pe(e.text,t+r,r);return n<0||n>e.text.length?null:n}function vl(e,t,r){var n=gl(e,t.ch,r);return n==null?null:new he(t.line,n,r<0?"after":"before")}function bl(e,t,r,n,a){if(e){t.doc.direction=="rtl"&&(a=-a);var f=Vt(r,t.doc.direction);if(f){var v=a<0?le(f):f[0],T=a<0==(v.level==1),j=T?"after":"before",q;if(v.level>0||t.doc.direction=="rtl"){var oe=re(t,r);q=a<0?r.text.length-1:0;var se=ee(t,oe,q).top;q=de(function(be){return ee(t,oe,be).top==se},a<0==(v.level==1)?v.from:v.to-1,q),j=="before"&&(q=gl(r,q,1))}else q=a<0?v.to:v.from;return new he(n,q,j)}}return new he(n,a<0?r.text.length:0,a<0?"before":"after")}function Cd(e,t,r,n){var a=Vt(t,e.doc.direction);if(!a)return vl(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var f=jt(a,r.ch,r.sticky),v=a[f];if(e.doc.direction=="ltr"&&v.level%2==0&&(n>0?v.to>r.ch:v.from<r.ch))return vl(t,r,n);var T=function(Xe,it){return gl(t,Xe instanceof he?Xe.ch:Xe,it)},j,q=function(Xe){return e.options.lineWrapping?(j=j||re(e,t),Yt(e,t,j,Xe)):{begin:0,end:t.text.length}},oe=q(r.sticky=="before"?T(r,-1):r.ch);if(e.doc.direction=="rtl"||v.level==1){var se=v.level==1==n<0,be=T(r,se?1:-1);if(be!=null&&(se?be<=v.to&&be<=oe.end:be>=v.from&&be>=oe.begin)){var ge=se?"before":"after";return new he(r.line,be,ge)}}var Te=function(Xe,it,Ze){for(var st=function(Gt,_n){return _n?new he(r.line,T(Gt,1),"before"):new he(r.line,Gt,"after")};Xe>=0&&Xe<a.length;Xe+=it){var yt=a[Xe],vt=it>0==(yt.level!=1),Mt=vt?Ze.begin:T(Ze.end,-1);if(yt.from<=Mt&&Mt<yt.to||(Mt=vt?yt.from:T(yt.to,-1),Ze.begin<=Mt&&Mt<Ze.end))return st(Mt,vt)}},Oe=Te(f+n,n,oe);if(Oe)return Oe;var ze=n>0?oe.end:T(oe.begin,-1);return ze!=null&&!(n>0&&ze==t.text.length)&&(Oe=Te(n>0?0:a.length-1,n,q(ze)),Oe)?Oe:null}var Oo={selectAll:hs,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Re)},killLine:function(e){return Ui(e,function(t){if(t.empty()){var r=pt(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:he(t.head.line+1,0)}:{from:t.head,to:he(t.head.line,r)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Ui(e,function(t){return{from:he(t.from().line,0),to:xt(e.doc,he(t.to().line+1,0))}})},delLineLeft:function(e){return Ui(e,function(t){return{from:he(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Ui(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return Ui(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(he(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(he(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ds(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Os(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Ed(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},De)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},De)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Os(e,t.head):n},De)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,a=0;a<r.length;a++){var f=r[a].from(),v=ve(e.getLine(f.line),f.ch,n);t.push(_t(n-v%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Xn(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(!!t[n].empty()){var a=t[n].head,f=pt(e.doc,a.line).text;if(f){if(a.ch==f.length&&(a=new he(a.line,a.ch-1)),a.ch>0)a=new he(a.line,a.ch+1),e.replaceRange(f.charAt(a.ch-1)+f.charAt(a.ch-2),he(a.line,a.ch-2),a,"+transpose");else if(a.line>e.doc.first){var v=pt(e.doc,a.line-1).text;v&&(a=new he(a.line,1),e.replaceRange(f.charAt(0)+e.doc.lineSeparator()+v.charAt(v.length-1),he(a.line-1,v.length-1),a,"+transpose"))}}r.push(new Rt(a,a))}e.setSelections(r)})},newlineAndIndent:function(e){return Xn(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Ii(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ds(e,t){var r=pt(e.doc,t),n=nr(r);return n!=r&&(t=Ht(n)),bl(!0,e,n,t,1)}function Ed(e,t){var r=pt(e.doc,t),n=Pa(r);return n!=r&&(t=Ht(n)),bl(!0,e,r,t,-1)}function Os(e,t){var r=Ds(e,t.line),n=pt(e.doc,r.line),a=Vt(n,e.doc.direction);if(!a||a[0].level==0){var f=Math.max(r.ch,n.text.search(/\S/)),v=t.line==r.line&&t.ch<=f&&t.ch;return he(r.line,v?0:f,r.sticky)}return r}function ya(e,t,r){if(typeof t=="string"&&(t=Oo[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),a=t(e)!=Ue}finally{e.display.shift=n,e.state.suppressEdits=!1}return a}function Ld(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var a=Wi(t,e.state.keyMaps[n],r,e);if(a)return a}return e.options.extraKeys&&Wi(t,e.options.extraKeys,r,e)||Wi(t,e.options.keyMap,r,e)}var Td=new ke;function No(e,t,r,n){var a=e.state.keySeq;if(a){if(Ts(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Td.set(50,function(){e.state.keySeq==a&&(e.state.keySeq=null,e.display.input.reset())}),Ns(e,a+" "+t,r,n))return!0}return Ns(e,t,r,n)}function Ns(e,t,r,n){var a=Ld(e,t,n);return a=="multi"&&(e.state.keySeq=t),a=="handled"&&dn(e,"keyHandled",e,t,r),(a=="handled"||a=="multi")&&(gn(r),el(e)),!!a}function Ps(e,t){var r=Ms(t,!0);return r?t.shiftKey&&!e.state.keySeq?No(e,"Shift-"+r,t,function(n){return ya(e,n,!0)})||No(e,r,t,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return ya(e,n)}):No(e,r,t,function(n){return ya(e,n)}):!1}function Ad(e,t,r){return No(e,"'"+r+"'",t,function(n){return ya(e,n,!0)})}var yl=null;function Hs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=te(U(t)),!Ft(t,e))){m&&g<11&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var n=Ps(t,e);S&&(yl=n?r:null,!n&&r==88&&!er&&(p?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),K&&!p&&!n&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&Md(t)}}function Md(e){var t=e.display.lineDiv;ye(t,"CodeMirror-crosshair");function r(n){(n.keyCode==18||!n.altKey)&&(X(t,"CodeMirror-crosshair"),Dt(document,"keyup",r),Dt(document,"mouseover",r))}Ie(document,"keyup",r),Ie(document,"mouseover",r)}function Is(e){e.keyCode==16&&(this.doc.sel.shift=!1),Ft(this,e)}function zs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(yr(t.display,e)||Ft(t,e)||e.ctrlKey&&!e.altKey||p&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(S&&r==yl){yl=null,gn(e);return}if(!(S&&(!e.which||e.which<10)&&Ps(t,e))){var a=String.fromCharCode(n==null?r:n);a!="\b"&&(Ad(t,e,a)||t.display.input.onKeyPress(e))}}}var Dd=400,wl=function(e,t,r){this.time=e,this.pos=t,this.button=r};wl.prototype.compare=function(e,t,r){return this.time+Dd>e&&Ce(t,this.pos)==0&&r==this.button};var Po,Ho;function Od(e,t){var r=+new Date;return Ho&&Ho.compare(r,e,t)?(Po=Ho=null,"triple"):Po&&Po.compare(r,e,t)?(Ho=new wl(r,e,t),Po=null,"double"):(Po=new wl(r,e,t),Ho=null,"single")}function js(e){var t=this,r=t.display;if(!(Ft(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,yr(r,e)){w||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));return}if(!kl(t,e)){var n=Mr(t,e),a=Xt(e),f=n?Od(n,a):"single";_e(t).focus(),a==1&&t.state.selectingText&&t.state.selectingText(e),!(n&&Nd(t,a,n,f,e))&&(a==1?n?Hd(t,n,f,e):yn(e)==r.scroller&&gn(e):a==2?(n&&pa(t.doc,n),setTimeout(function(){return r.input.focus()},20)):a==3&&(x?t.display.input.onContextMenu(e):tl(t)))}}}function Nd(e,t,r,n,a){var f="Click";return n=="double"?f="Double"+f:n=="triple"&&(f="Triple"+f),f=(t==1?"Left":t==2?"Middle":"Right")+f,No(e,As(f,a),a,function(v){if(typeof v=="string"&&(v=Oo[v]),!v)return!1;var T=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),T=v(e,r)!=Ue}finally{e.state.suppressEdits=!1}return T})}function Pd(e,t,r){var n=e.getOption("configureMouse"),a=n?n(e,t,r):{};if(a.unit==null){var f=c?r.shiftKey&&r.metaKey:r.altKey;a.unit=f?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(a.extend==null||e.doc.extend)&&(a.extend=e.doc.extend||r.shiftKey),a.addNew==null&&(a.addNew=p?r.metaKey:r.ctrlKey),a.moveOnDrag==null&&(a.moveOnDrag=!(p?r.altKey:r.ctrlKey)),a}function Hd(e,t,r,n){m?setTimeout(Ne(Rl,e),0):e.curOp.focus=te(U(e));var a=Pd(e,r,n),f=e.doc.sel,v;e.options.dragDrop&&ri&&!e.isReadOnly()&&r=="single"&&(v=f.contains(t))>-1&&(Ce((v=f.ranges[v]).from(),t)<0||t.xRel>0)&&(Ce(v.to(),t)>0||t.xRel<0)?Id(e,n,t,a):zd(e,n,t,a)}function Id(e,t,r,n){var a=e.display,f=!1,v=wn(e,function(q){w&&(a.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:tl(e)),Dt(a.wrapper.ownerDocument,"mouseup",v),Dt(a.wrapper.ownerDocument,"mousemove",T),Dt(a.scroller,"dragstart",j),Dt(a.scroller,"drop",v),f||(gn(q),n.addNew||pa(e.doc,r,null,null,n.extend),w&&!L||m&&g==9?setTimeout(function(){a.wrapper.ownerDocument.body.focus({preventScroll:!0}),a.input.focus()},20):a.input.focus())}),T=function(q){f=f||Math.abs(t.clientX-q.clientX)+Math.abs(t.clientY-q.clientY)>=10},j=function(){return f=!0};w&&(a.scroller.draggable=!0),e.state.draggingText=v,v.copy=!n.moveOnDrag,Ie(a.wrapper.ownerDocument,"mouseup",v),Ie(a.wrapper.ownerDocument,"mousemove",T),Ie(a.scroller,"dragstart",j),Ie(a.scroller,"drop",v),e.state.delayingBlurEvent=!0,setTimeout(function(){return a.input.focus()},20),a.scroller.dragDrop&&a.scroller.dragDrop()}function Rs(e,t,r){if(r=="char")return new Rt(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new Rt(he(t.line,0),xt(e.doc,he(t.line+1,0)));var n=r(e,t);return new Rt(n.from,n.to)}function zd(e,t,r,n){m&&tl(e);var a=e.display,f=e.doc;gn(t);var v,T,j=f.sel,q=j.ranges;if(n.addNew&&!n.extend?(T=f.sel.contains(r),T>-1?v=q[T]:v=new Rt(r,r)):(v=f.sel.primary(),T=f.sel.primIndex),n.unit=="rectangle")n.addNew||(v=new Rt(r,r)),r=Mr(e,t,!0,!0),T=-1;else{var oe=Rs(e,r,n.unit);n.extend?v=hl(v,oe.anchor,oe.head,n.extend):v=oe}n.addNew?T==-1?(T=q.length,Mn(f,xr(e,q.concat([v]),T),{scroll:!1,origin:"*mouse"})):q.length>1&&q[T].empty()&&n.unit=="char"&&!n.extend?(Mn(f,xr(e,q.slice(0,T).concat(q.slice(T+1)),0),{scroll:!1,origin:"*mouse"}),j=f.sel):ml(f,T,v,ut):(T=0,Mn(f,new ir([v],0),ut),j=f.sel);var se=r;function be(Ze){if(Ce(se,Ze)!=0)if(se=Ze,n.unit=="rectangle"){for(var st=[],yt=e.options.tabSize,vt=ve(pt(f,r.line).text,r.ch,yt),Mt=ve(pt(f,Ze.line).text,Ze.ch,yt),Gt=Math.min(vt,Mt),_n=Math.max(vt,Mt),en=Math.min(r.line,Ze.line),Zn=Math.min(e.lastLine(),Math.max(r.line,Ze.line));en<=Zn;en++){var qn=pt(f,en).text,cn=Pt(qn,Gt,yt);Gt==_n?st.push(new Rt(he(en,cn),he(en,cn))):qn.length>cn&&st.push(new Rt(he(en,cn),he(en,Pt(qn,_n,yt))))}st.length||st.push(new Rt(r,r)),Mn(f,xr(e,j.ranges.slice(0,T).concat(st),T),{origin:"*mouse",scroll:!1}),e.scrollIntoView(Ze)}else{var Wn=v,Ln=Rs(e,Ze,n.unit),vn=Wn.anchor,fn;Ce(Ln.anchor,vn)>0?(fn=Ln.head,vn=rn(Wn.from(),Ln.anchor)):(fn=Ln.anchor,vn=ft(Wn.to(),Ln.head));var on=j.ranges.slice(0);on[T]=jd(e,new Rt(xt(f,vn),fn)),Mn(f,xr(e,on,T),ut)}}var ge=a.wrapper.getBoundingClientRect(),Te=0;function Oe(Ze){var st=++Te,yt=Mr(e,Ze,!0,n.unit=="rectangle");if(!!yt)if(Ce(yt,se)!=0){e.curOp.focus=te(U(e)),be(yt);var vt=la(a,f);(yt.line>=vt.to||yt.line<vt.from)&&setTimeout(wn(e,function(){Te==st&&Oe(Ze)}),150)}else{var Mt=Ze.clientY<ge.top?-20:Ze.clientY>ge.bottom?20:0;Mt&&setTimeout(wn(e,function(){Te==st&&(a.scroller.scrollTop+=Mt,Oe(Ze))}),50)}}function ze(Ze){e.state.selectingText=!1,Te=1/0,Ze&&(gn(Ze),a.input.focus()),Dt(a.wrapper.ownerDocument,"mousemove",Xe),Dt(a.wrapper.ownerDocument,"mouseup",it),f.history.lastSelOrigin=null}var Xe=wn(e,function(Ze){Ze.buttons===0||!Xt(Ze)?ze(Ze):Oe(Ze)}),it=wn(e,ze);e.state.selectingText=it,Ie(a.wrapper.ownerDocument,"mousemove",Xe),Ie(a.wrapper.ownerDocument,"mouseup",it)}function jd(e,t){var r=t.anchor,n=t.head,a=pt(e.doc,r.line);if(Ce(r,n)==0&&r.sticky==n.sticky)return t;var f=Vt(a);if(!f)return t;var v=jt(f,r.ch,r.sticky),T=f[v];if(T.from!=r.ch&&T.to!=r.ch)return t;var j=v+(T.from==r.ch==(T.level!=1)?0:1);if(j==0||j==f.length)return t;var q;if(n.line!=r.line)q=(n.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var oe=jt(f,n.ch,n.sticky),se=oe-v||(n.ch-r.ch)*(T.level==1?-1:1);oe==j-1||oe==j?q=se<0:q=se>0}var be=f[j+(q?-1:0)],ge=q==(be.level==1),Te=ge?be.from:be.to,Oe=ge?"after":"before";return r.ch==Te&&r.sticky==Oe?t:new Rt(new he(r.line,Te,Oe),n)}function Fs(e,t,r,n){var a,f;if(t.touches)a=t.touches[0].clientX,f=t.touches[0].clientY;else try{a=t.clientX,f=t.clientY}catch(be){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&gn(t);var v=e.display,T=v.lineDiv.getBoundingClientRect();if(f>T.bottom||!ln(e,r))return Pr(t);f-=T.top-v.viewOffset;for(var j=0;j<e.display.gutterSpecs.length;++j){var q=v.gutters.childNodes[j];if(q&&q.getBoundingClientRect().right>=a){var oe=Tn(e.doc,f),se=e.display.gutterSpecs[j];return Kt(e,r,e,oe,se.className,t),Pr(t)}}}function kl(e,t){return Fs(e,t,"gutterClick",!0)}function Bs(e,t){yr(e.display,t)||Rd(e,t)||Ft(e,t,"contextmenu")||x||e.display.input.onContextMenu(t)}function Rd(e,t){return ln(e,"gutterContextMenu")?Fs(e,t,"gutterContextMenu",!1):!1}function qs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$e(e)}var Ki={toString:function(){return"CodeMirror.Init"}},Ws={},wa={};function Fd(e){var t=e.optionHandlers;function r(n,a,f,v){e.defaults[n]=a,f&&(t[n]=v?function(T,j,q){q!=Ki&&f(T,j,q)}:f)}e.defineOption=r,e.Init=Ki,r("value","",function(n,a){return n.setValue(a)},!0),r("mode",null,function(n,a){n.doc.modeOption=a,cl(n)},!0),r("indentUnit",2,cl,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){xo(n),$e(n),At(n)},!0),r("lineSeparator",null,function(n,a){if(n.doc.lineSep=a,!!a){var f=[],v=n.doc.first;n.doc.iter(function(j){for(var q=0;;){var oe=j.text.indexOf(a,q);if(oe==-1)break;q=oe+a.length,f.push(he(v,oe))}v++});for(var T=f.length-1;T>=0;T--)Bi(n.doc,a,f[T],he(f[T].line,f[T].ch+a.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(n,a,f){n.state.specialChars=new RegExp(a.source+(a.test("	")?"":"|	"),"g"),f!=Ki&&n.refresh()}),r("specialCharPlaceholder",Fa,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",s?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,a){return n.getInputField().spellcheck=a},!0),r("autocorrect",!1,function(n,a){return n.getInputField().autocorrect=a},!0),r("autocapitalize",!1,function(n,a){return n.getInputField().autocapitalize=a},!0),r("rtlMoveVisually",!_),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){qs(n),_o(n)},!0),r("keyMap","default",function(n,a,f){var v=ba(a),T=f!=Ki&&ba(f);T&&T.detach&&T.detach(n,v),v.attach&&v.attach(n,T||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,qd,!0),r("gutters",[],function(n,a){n.display.gutterSpecs=ul(a,n.options.lineNumbers),_o(n)},!0),r("fixedGutter",!0,function(n,a){n.display.gutters.style.left=a?Hn(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return zi(n)},!0),r("scrollbarStyle","native",function(n){Kl(n),zi(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,a){n.display.gutterSpecs=ul(n.options.gutters,a),_o(n)},!0),r("firstLineNumber",1,_o,!0),r("lineNumberFormatter",function(n){return n},_o,!0),r("showCursorWhenSelecting",!1,zr,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,a){a=="nocursor"&&(Hi(n),n.display.input.blur()),n.display.input.readOnlyChanged(a)}),r("screenReaderLabel",null,function(n,a){a=a===""?null:a,n.display.input.screenReaderLabelChanged(a)}),r("disableInput",!1,function(n,a){a||n.display.input.reset()},!0),r("dragDrop",!0,Bd),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,zr,!0),r("singleCursorHeightPerLine",!0,zr,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,xo,!0),r("addModeClass",!1,xo,!0),r("pollInterval",100),r("undoDepth",200,function(n,a){return n.doc.history.undoDepth=a}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,xo,!0),r("moveInputWithCursor",!0,function(n,a){a||n.display.input.resetPosition()}),r("tabindex",null,function(n,a){return n.display.input.getField().tabIndex=a||""}),r("autofocus",null),r("direction","ltr",function(n,a){return n.doc.setDirection(a)},!0),r("phrases",null)}function Bd(e,t,r){var n=r&&r!=Ki;if(!t!=!n){var a=e.display.dragFunctions,f=t?Ie:Dt;f(e.display.scroller,"dragstart",a.start),f(e.display.scroller,"dragenter",a.enter),f(e.display.scroller,"dragover",a.over),f(e.display.scroller,"dragleave",a.leave),f(e.display.scroller,"drop",a.drop)}}function qd(e){e.options.lineWrapping?(ye(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(X(e.display.wrapper,"CodeMirror-wrap"),Oi(e)),Ar(e),At(e),$e(e),setTimeout(function(){return zi(e)},100)}function Qt(e,t){var r=this;if(!(this instanceof Qt))return new Qt(e,t);this.options=t=t?me(t):{},me(Ws,t,!1);var n=t.value;typeof n=="string"?n=new Bn(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var a=new Qt.inputStyles[t.inputStyle](this),f=this.display=new td(e,n,a,t);f.wrapper.CodeMirror=this,qs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Kl(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ke,keySeq:null,specialChars:null},t.autofocus&&!s&&f.input.focus(),m&&g<11&&setTimeout(function(){return r.display.input.reset(!0)},20),Wd(this),wd(),bi(this),this.curOp.forceUpdate=!0,ts(this,n),t.autofocus&&!s||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&nl(r)},20):Hi(this);for(var v in wa)wa.hasOwnProperty(v)&&wa[v](this,t[v],Ki);Gl(this),t.finishInit&&t.finishInit(this);for(var T=0;T<_l.length;++T)_l[T](this);yi(this),w&&t.lineWrapping&&getComputedStyle(f.lineDiv).textRendering=="optimizelegibility"&&(f.lineDiv.style.textRendering="auto")}Qt.defaults=Ws,Qt.optionHandlers=wa;function Wd(e){var t=e.display;Ie(t.scroller,"mousedown",wn(e,js)),m&&g<11?Ie(t.scroller,"dblclick",wn(e,function(j){if(!Ft(e,j)){var q=Mr(e,j);if(!(!q||kl(e,j)||yr(e.display,j))){gn(j);var oe=e.findWordAt(q);pa(e.doc,oe.anchor,oe.head)}}})):Ie(t.scroller,"dblclick",function(j){return Ft(e,j)||gn(j)}),Ie(t.scroller,"contextmenu",function(j){return Bs(e,j)}),Ie(t.input.getField(),"contextmenu",function(j){t.scroller.contains(j.target)||Bs(e,j)});var r,n={end:0};function a(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),n=t.activeTouch,n.end=+new Date)}function f(j){if(j.touches.length!=1)return!1;var q=j.touches[0];return q.radiusX<=1&&q.radiusY<=1}function v(j,q){if(q.left==null)return!0;var oe=q.left-j.left,se=q.top-j.top;return oe*oe+se*se>20*20}Ie(t.scroller,"touchstart",function(j){if(!Ft(e,j)&&!f(j)&&!kl(e,j)){t.input.ensurePolled(),clearTimeout(r);var q=+new Date;t.activeTouch={start:q,moved:!1,prev:q-n.end<=300?n:null},j.touches.length==1&&(t.activeTouch.left=j.touches[0].pageX,t.activeTouch.top=j.touches[0].pageY)}}),Ie(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),Ie(t.scroller,"touchend",function(j){var q=t.activeTouch;if(q&&!yr(t,j)&&q.left!=null&&!q.moved&&new Date-q.start<300){var oe=e.coordsChar(t.activeTouch,"page"),se;!q.prev||v(q,q.prev)?se=new Rt(oe,oe):!q.prev.prev||v(q,q.prev.prev)?se=e.findWordAt(oe):se=new Rt(he(oe.line,0),xt(e.doc,he(oe.line+1,0))),e.setSelection(se.anchor,se.head),e.focus(),gn(j)}a()}),Ie(t.scroller,"touchcancel",a),Ie(t.scroller,"scroll",function(){t.scroller.clientHeight&&(bo(e,t.scroller.scrollTop),gi(e,t.scroller.scrollLeft,!0),Kt(e,"scroll",e))}),Ie(t.scroller,"mousewheel",function(j){return Zl(e,j)}),Ie(t.scroller,"DOMMouseScroll",function(j){return Zl(e,j)}),Ie(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(j){Ft(e,j)||Qn(j)},over:function(j){Ft(e,j)||(yd(e,j),Qn(j))},start:function(j){return bd(e,j)},drop:wn(e,vd),leave:function(j){Ft(e,j)||Cs(e)}};var T=t.input.getField();Ie(T,"keyup",function(j){return Is.call(e,j)}),Ie(T,"keydown",wn(e,Hs)),Ie(T,"keypress",wn(e,zs)),Ie(T,"focus",function(j){return nl(e,j)}),Ie(T,"blur",function(j){return Hi(e,j)})}var _l=[];Qt.defineInitHook=function(e){return _l.push(e)};function Io(e,t,r,n){var a=e.doc,f;r==null&&(r="add"),r=="smart"&&(a.mode.indent?f=Ur(e,t).state:r="prev");var v=e.options.tabSize,T=pt(a,t),j=ve(T.text,null,v);T.stateAfter&&(T.stateAfter=null);var q=T.text.match(/^\s*/)[0],oe;if(!n&&!/\S/.test(T.text))oe=0,r="not";else if(r=="smart"&&(oe=a.mode.indent(f,T.text.slice(q.length),T.text),oe==Ue||oe>150)){if(!n)return;r="prev"}r=="prev"?t>a.first?oe=ve(pt(a,t-1).text,null,v):oe=0:r=="add"?oe=j+e.options.indentUnit:r=="subtract"?oe=j-e.options.indentUnit:typeof r=="number"&&(oe=j+r),oe=Math.max(0,oe);var se="",be=0;if(e.options.indentWithTabs)for(var ge=Math.floor(oe/v);ge;--ge)be+=v,se+="	";if(be<oe&&(se+=_t(oe-be)),se!=q)return Bi(a,se,he(t,0),he(t,q.length),"+input"),T.stateAfter=null,!0;for(var Te=0;Te<a.sel.ranges.length;Te++){var Oe=a.sel.ranges[Te];if(Oe.head.line==t&&Oe.head.ch<q.length){var ze=he(t,q.length);ml(a,Te,new Rt(ze,ze));break}}}var Sr=null;function ka(e){Sr=e}function xl(e,t,r,n,a){var f=e.doc;e.display.shift=!1,n||(n=f.sel);var v=+new Date-200,T=a=="paste"||e.state.pasteIncoming>v,j=oi(t),q=null;if(T&&n.ranges.length>1)if(Sr&&Sr.text.join(`
`)==t){if(n.ranges.length%Sr.text.length==0){q=[];for(var oe=0;oe<Sr.text.length;oe++)q.push(f.splitLines(Sr.text[oe]))}}else j.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(q=fe(j,function(Xe){return[Xe]}));for(var se=e.curOp.updateInput,be=n.ranges.length-1;be>=0;be--){var ge=n.ranges[be],Te=ge.from(),Oe=ge.to();ge.empty()&&(r&&r>0?Te=he(Te.line,Te.ch-r):e.state.overwrite&&!T?Oe=he(Oe.line,Math.min(pt(f,Oe.line).text.length,Oe.ch+le(j).length)):T&&Sr&&Sr.lineWise&&Sr.text.join(`
`)==j.join(`
`)&&(Te=Oe=he(Te.line,0)));var ze={from:Te,to:Oe,text:q?q[be%q.length]:j,origin:a||(T?"paste":e.state.cutIncoming>v?"cut":"+input")};Fi(e.doc,ze),dn(e,"inputRead",e,ze)}t&&!T&&Ks(e,t),Ii(e),e.curOp.updateInput<2&&(e.curOp.updateInput=se),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Us(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&Xn(t,function(){return xl(t,r,0,null,"paste")}),!0}function Ks(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var a=r.ranges[n];if(!(a.head.ch>100||n&&r.ranges[n-1].head.line==a.head.line)){var f=e.getModeAt(a.head),v=!1;if(f.electricChars){for(var T=0;T<f.electricChars.length;T++)if(t.indexOf(f.electricChars.charAt(T))>-1){v=Io(e,a.head.line,"smart");break}}else f.electricInput&&f.electricInput.test(pt(e.doc,a.head.line).text.slice(0,a.head.ch))&&(v=Io(e,a.head.line,"smart"));v&&dn(e,"electricInput",e,a.head.line)}}}function Vs(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var a=e.doc.sel.ranges[n].head.line,f={anchor:he(a,0),head:he(a+1,0)};r.push(f),t.push(e.getRange(f.anchor,f.head))}return{text:t,ranges:r}}function Sl(e,t,r,n){e.setAttribute("autocorrect",r?"on":"off"),e.setAttribute("autocapitalize",n?"on":"off"),e.setAttribute("spellcheck",!!t)}function $s(){var e=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=I("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return w?e.style.width="1000px":e.setAttribute("wrap","off"),N&&(e.style.border="1px solid black"),t}function Ud(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){_e(this).focus(),this.display.input.focus()},setOption:function(n,a){var f=this.options,v=f[n];f[n]==a&&n!="mode"||(f[n]=a,t.hasOwnProperty(n)&&wn(this,t[n])(this,a,v),Kt(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,a){this.state.keyMaps[a?"push":"unshift"](ba(n))},removeKeyMap:function(n){for(var a=this.state.keyMaps,f=0;f<a.length;++f)if(a[f]==n||a[f].name==n)return a.splice(f,1),!0},addOverlay:zn(function(n,a){var f=n.token?n:e.getMode(this.options,n);if(f.startState)throw new Error("Overlays may not be stateful.");We(this.state.overlays,{mode:f,modeSpec:n,opaque:a&&a.opaque,priority:a&&a.priority||0},function(v){return v.priority}),this.state.modeGen++,At(this)}),removeOverlay:zn(function(n){for(var a=this.state.overlays,f=0;f<a.length;++f){var v=a[f].modeSpec;if(v==n||typeof n=="string"&&v.name==n){a.splice(f,1),this.state.modeGen++,At(this);return}}}),indentLine:zn(function(n,a,f){typeof a!="string"&&typeof a!="number"&&(a==null?a=this.options.smartIndent?"smart":"prev":a=a?"add":"subtract"),V(this.doc,n)&&Io(this,n,a,f)}),indentSelection:zn(function(n){for(var a=this.doc.sel.ranges,f=-1,v=0;v<a.length;v++){var T=a[v];if(T.empty())T.head.line>f&&(Io(this,T.head.line,n,!0),f=T.head.line,v==this.doc.sel.primIndex&&Ii(this));else{var j=T.from(),q=T.to(),oe=Math.max(f,j.line);f=Math.min(this.lastLine(),q.line-(q.ch?0:1))+1;for(var se=oe;se<f;++se)Io(this,se,n);var be=this.doc.sel.ranges;j.ch==0&&a.length==be.length&&be[v].from().ch>0&&ml(this.doc,v,new Rt(j,be[v].to()),Re)}}}),getTokenAt:function(n,a){return oo(this,n,a)},getLineTokens:function(n,a){return oo(this,he(n),a,!0)},getTokenTypeAt:function(n){n=xt(this.doc,n);var a=no(this,pt(this.doc,n.line)),f=0,v=(a.length-1)/2,T=n.ch,j;if(T==0)j=a[2];else for(;;){var q=f+v>>1;if((q?a[q*2-1]:0)>=T)v=q;else if(a[q*2+1]<T)f=q+1;else{j=a[q*2+2];break}}var oe=j?j.indexOf("overlay "):-1;return oe<0?j:oe==0?null:j.slice(0,oe-1)},getModeAt:function(n){var a=this.doc.mode;return a.innerMode?e.innerMode(a,this.getTokenAt(n).state).mode:a},getHelper:function(n,a){return this.getHelpers(n,a)[0]},getHelpers:function(n,a){var f=[];if(!r.hasOwnProperty(a))return f;var v=r[a],T=this.getModeAt(n);if(typeof T[a]=="string")v[T[a]]&&f.push(v[T[a]]);else if(T[a])for(var j=0;j<T[a].length;j++){var q=v[T[a][j]];q&&f.push(q)}else T.helperType&&v[T.helperType]?f.push(v[T.helperType]):v[T.name]&&f.push(v[T.name]);for(var oe=0;oe<v._global.length;oe++){var se=v._global[oe];se.pred(T,this)&&Fe(f,se.val)==-1&&f.push(se.val)}return f},getStateAfter:function(n,a){var f=this.doc;return n=An(f,n==null?f.first+f.size-1:n),Ur(this,n+1,a).state},cursorCoords:function(n,a){var f,v=this.doc.sel.primary();return n==null?f=v.head:typeof n=="object"?f=xt(this.doc,n):f=n?v.from():v.to(),mt(this,f,a||"page")},charCoords:function(n,a){return gt(this,xt(this.doc,n),a||"page")},coordsChar:function(n,a){return n=wt(this,n,a||"page"),Et(this,n.left,n.top)},lineAtHeight:function(n,a){return n=wt(this,{top:n,left:0},a||"page").top,Tn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,a,f){var v=!1,T;if(typeof n=="number"){var j=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>j&&(n=j,v=!0),T=pt(this.doc,n)}else T=n;return rt(this,T,{top:0,left:0},a||"page",f||v).top+(v?this.doc.height-br(T):0)},defaultTextHeight:function(){return wr(this.display)},defaultCharWidth:function(){return Cn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,a,f,v,T){var j=this.display;n=mt(this,xt(this.doc,n));var q=n.bottom,oe=n.left;if(a.style.position="absolute",a.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(a),j.sizer.appendChild(a),v=="over")q=n.top;else if(v=="above"||v=="near"){var se=Math.max(j.wrapper.clientHeight,this.doc.height),be=Math.max(j.sizer.clientWidth,j.lineSpace.clientWidth);(v=="above"||n.bottom+a.offsetHeight>se)&&n.top>a.offsetHeight?q=n.top-a.offsetHeight:n.bottom+a.offsetHeight<=se&&(q=n.bottom),oe+a.offsetWidth>be&&(oe=be-a.offsetWidth)}a.style.top=q+"px",a.style.left=a.style.right="",T=="right"?(oe=j.sizer.clientWidth-a.offsetWidth,a.style.right="0px"):(T=="left"?oe=0:T=="middle"&&(oe=(j.sizer.clientWidth-a.offsetWidth)/2),a.style.left=oe+"px"),f&&Bu(this,{left:oe,top:q,right:oe+a.offsetWidth,bottom:q+a.offsetHeight})},triggerOnKeyDown:zn(Hs),triggerOnKeyPress:zn(zs),triggerOnKeyUp:Is,triggerOnMouseDown:zn(js),execCommand:function(n){if(Oo.hasOwnProperty(n))return Oo[n].call(null,this)},triggerElectric:zn(function(n){Ks(this,n)}),findPosH:function(n,a,f,v){var T=1;a<0&&(T=-1,a=-a);for(var j=xt(this.doc,n),q=0;q<a&&(j=Cl(this.doc,j,T,f,v),!j.hitSide);++q);return j},moveH:zn(function(n,a){var f=this;this.extendSelectionsBy(function(v){return f.display.shift||f.doc.extend||v.empty()?Cl(f.doc,v.head,n,a,f.options.rtlMoveVisually):n<0?v.from():v.to()},De)}),deleteH:zn(function(n,a){var f=this.doc.sel,v=this.doc;f.somethingSelected()?v.replaceSelection("",null,"+delete"):Ui(this,function(T){var j=Cl(v,T.head,n,a,!1);return n<0?{from:j,to:T.head}:{from:T.head,to:j}})}),findPosV:function(n,a,f,v){var T=1,j=v;a<0&&(T=-1,a=-a);for(var q=xt(this.doc,n),oe=0;oe<a;++oe){var se=mt(this,q,"div");if(j==null?j=se.left:se.left=j,q=Gs(this,se,T,f),q.hitSide)break}return q},moveV:zn(function(n,a){var f=this,v=this.doc,T=[],j=!this.display.shift&&!v.extend&&v.sel.somethingSelected();if(v.extendSelectionsBy(function(oe){if(j)return n<0?oe.from():oe.to();var se=mt(f,oe.head,"div");oe.goalColumn!=null&&(se.left=oe.goalColumn),T.push(se.left);var be=Gs(f,se,n,a);return a=="page"&&oe==v.sel.primary()&&il(f,gt(f,be,"div").top-se.top),be},De),T.length)for(var q=0;q<v.sel.ranges.length;q++)v.sel.ranges[q].goalColumn=T[q]}),findWordAt:function(n){var a=this.doc,f=pt(a,n.line).text,v=n.ch,T=n.ch;if(f){var j=this.getHelper(n,"wordChars");(n.sticky=="before"||T==f.length)&&v?--v:++T;for(var q=f.charAt(v),oe=St(q,j)?function(se){return St(se,j)}:/\s/.test(q)?function(se){return/\s/.test(se)}:function(se){return!/\s/.test(se)&&!St(se)};v>0&&oe(f.charAt(v-1));)--v;for(;T<f.length&&oe(f.charAt(T));)++T}return new Rt(he(n.line,v),he(n.line,T))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ye(this.display.cursorDiv,"CodeMirror-overwrite"):X(this.display.cursorDiv,"CodeMirror-overwrite"),Kt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==te(U(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:zn(function(n,a){vo(this,n,a)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-i(this)-this.display.barHeight,width:n.scrollWidth-i(this)-this.display.barWidth,clientHeight:l(this),clientWidth:o(this)}},scrollIntoView:zn(function(n,a){n==null?(n={from:this.doc.sel.primary().head,to:null},a==null&&(a=this.options.cursorScrollMargin)):typeof n=="number"?n={from:he(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=a||0,n.from.line!=null?qu(this,n):Bl(this,n.from,n.to,n.margin)}),setSize:zn(function(n,a){var f=this,v=function(j){return typeof j=="number"||/^\d+$/.test(String(j))?j+"px":j};n!=null&&(this.display.wrapper.style.width=v(n)),a!=null&&(this.display.wrapper.style.height=v(a)),this.options.lineWrapping&&nt(this);var T=this.display.viewFrom;this.doc.iter(T,this.display.viewTo,function(j){if(j.widgets){for(var q=0;q<j.widgets.length;q++)if(j.widgets[q].noHScroll){In(f,T,"widget");break}}++T}),this.curOp.forceUpdate=!0,Kt(this,"refresh",this)}),operation:function(n){return Xn(this,n)},startOperation:function(){return bi(this)},endOperation:function(){return yi(this)},refresh:zn(function(){var n=this.display.cachedTextHeight;At(this),this.curOp.forceUpdate=!0,$e(this),vo(this,this.doc.scrollLeft,this.doc.scrollTop),ll(this.display),(n==null||Math.abs(n-wr(this.display))>.5||this.options.lineWrapping)&&Ar(this),Kt(this,"refresh",this)}),swapDoc:zn(function(n){var a=this.doc;return a.cm=null,this.state.selectingText&&this.state.selectingText(),ts(this,n),$e(this),this.display.input.reset(),vo(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,dn(this,"swapDoc",this,a),a}),phrase:function(n){var a=this.options.phrases;return a&&Object.prototype.hasOwnProperty.call(a,n)?a[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},mn(e),e.registerHelper=function(n,a,f){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][a]=f},e.registerGlobalHelper=function(n,a,f,v){e.registerHelper(n,a,v),r[n]._global.push({pred:f,val:v})}}function Cl(e,t,r,n,a){var f=t,v=r,T=pt(e,t.line),j=a&&e.direction=="rtl"?-r:r;function q(){var it=t.line+j;return it<e.first||it>=e.first+e.size?!1:(t=new he(it,t.ch,t.sticky),T=pt(e,it))}function oe(it){var Ze;if(n=="codepoint"){var st=T.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(st))Ze=null;else{var yt=r>0?st>=55296&&st<56320:st>=56320&&st<57343;Ze=new he(t.line,Math.max(0,Math.min(T.text.length,t.ch+r*(yt?2:1))),-r)}}else a?Ze=Cd(e.cm,T,t,r):Ze=vl(T,t,r);if(Ze==null)if(!it&&q())t=bl(a,e.cm,T,t.line,j);else return!1;else t=Ze;return!0}if(n=="char"||n=="codepoint")oe();else if(n=="column")oe(!0);else if(n=="word"||n=="group")for(var se=null,be=n=="group",ge=e.cm&&e.cm.getHelper(t,"wordChars"),Te=!0;!(r<0&&!oe(!Te));Te=!1){var Oe=T.text.charAt(t.ch)||`
`,ze=St(Oe,ge)?"w":be&&Oe==`
`?"n":!be||/\s/.test(Oe)?null:"p";if(be&&!Te&&!ze&&(ze="s"),se&&se!=ze){r<0&&(r=1,oe(),t.sticky="after");break}if(ze&&(se=ze),r>0&&!oe(!Te))break}var Xe=ma(e,t,f,v,!0);return kt(f,Xe)&&(Xe.hitSide=!0),Xe}function Gs(e,t,r,n){var a=e.doc,f=t.left,v;if(n=="page"){var T=Math.min(e.display.wrapper.clientHeight,_e(e).innerHeight||a(e).documentElement.clientHeight),j=Math.max(T-.5*wr(e.display),3);v=(r>0?t.bottom:t.top)+r*j}else n=="line"&&(v=r>0?t.bottom+3:t.top-3);for(var q;q=Et(e,f,v),!!q.outside;){if(r<0?v<=0:v>=a.height){q.hitSide=!0;break}v+=r*5}return q}var Wt=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ke,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Wt.prototype.init=function(e){var t=this,r=this,n=r.cm,a=r.div=e.lineDiv;a.contentEditable=!0,Sl(a,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize);function f(T){for(var j=T.target;j;j=j.parentNode){if(j==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(j.className))break}return!1}Ie(a,"paste",function(T){!f(T)||Ft(n,T)||Us(T,n)||g<=11&&setTimeout(wn(n,function(){return t.updateFromDOM()}),20)}),Ie(a,"compositionstart",function(T){t.composing={data:T.data,done:!1}}),Ie(a,"compositionupdate",function(T){t.composing||(t.composing={data:T.data,done:!1})}),Ie(a,"compositionend",function(T){t.composing&&(T.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),Ie(a,"touchstart",function(){return r.forceCompositionEnd()}),Ie(a,"input",function(){t.composing||t.readFromDOMSoon()});function v(T){if(!(!f(T)||Ft(n,T))){if(n.somethingSelected())ka({lineWise:!1,text:n.getSelections()}),T.type=="cut"&&n.replaceSelection("",null,"cut");else if(n.options.lineWiseCopyCut){var j=Vs(n);ka({lineWise:!0,text:j.text}),T.type=="cut"&&n.operation(function(){n.setSelections(j.ranges,0,Re),n.replaceSelection("",null,"cut")})}else return;if(T.clipboardData){T.clipboardData.clearData();var q=Sr.text.join(`
`);if(T.clipboardData.setData("Text",q),T.clipboardData.getData("Text")==q){T.preventDefault();return}}var oe=$s(),se=oe.firstChild;Sl(se),n.display.lineSpace.insertBefore(oe,n.display.lineSpace.firstChild),se.value=Sr.text.join(`
`);var be=te(a.ownerDocument);ne(se),setTimeout(function(){n.display.lineSpace.removeChild(oe),be.focus(),be==a&&r.showPrimarySelection()},50)}}Ie(a,"copy",v),Ie(a,"cut",v)},Wt.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Wt.prototype.prepareSelection=function(){var e=go(this.cm,!1);return e.focus=te(this.div.ownerDocument)==this.div,e},Wt.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Wt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Wt.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),a=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||a.line<t.display.viewFrom){e.removeAllRanges();return}var f=_a(t,e.anchorNode,e.anchorOffset),v=_a(t,e.focusNode,e.focusOffset);if(!(f&&!f.bad&&v&&!v.bad&&Ce(rn(f,v),n)==0&&Ce(ft(f,v),a)==0)){var T=t.display.view,j=n.line>=t.display.viewFrom&&Js(t,n)||{node:T[0].measure.map[2],offset:0},q=a.line<t.display.viewTo&&Js(t,a);if(!q){var oe=T[T.length-1].measure,se=oe.maps?oe.maps[oe.maps.length-1]:oe.map;q={node:se[se.length-1],offset:se[se.length-2]-se[se.length-3]}}if(!j||!q){e.removeAllRanges();return}var be=e.rangeCount&&e.getRangeAt(0),ge;try{ge=Y(j.node,j.offset,q.offset,q.node)}catch(Te){}ge&&(!K&&t.state.focused?(e.collapse(j.node,j.offset),ge.collapsed||(e.removeAllRanges(),e.addRange(ge))):(e.removeAllRanges(),e.addRange(ge)),be&&e.anchorNode==null?e.addRange(be):K&&this.startGracePeriod()),this.rememberSelection()}},Wt.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Wt.prototype.showMultipleSelections=function(e){Z(this.cm.display.cursorDiv,e.cursors),Z(this.cm.display.selectionDiv,e.selection)},Wt.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Wt.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return J(this.div,t)},Wt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||te(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Wt.prototype.blur=function(){this.div.blur()},Wt.prototype.getField=function(){return this.div},Wt.prototype.supportsTouch=function(){return!0},Wt.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Xn(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))}this.polling.set(this.cm.options.pollInterval,r)},Wt.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Wt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(F&&A&&this.cm.display.gutterSpecs.length&&Kd(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var r=_a(t,e.anchorNode,e.anchorOffset),n=_a(t,e.focusNode,e.focusOffset);r&&n&&Xn(t,function(){Mn(t.doc,Jr(r,n),Re),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Wt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),a=r.to();if(n.ch==0&&n.line>e.firstLine()&&(n=he(n.line-1,pt(e.doc,n.line-1).length)),a.ch==pt(e.doc,a.line).text.length&&a.line<e.lastLine()&&(a=he(a.line+1,0)),n.line<t.viewFrom||a.line>t.viewTo-1)return!1;var f,v,T;n.line==t.viewFrom||(f=et(e,n.line))==0?(v=Ht(t.view[0].line),T=t.view[0].node):(v=Ht(t.view[f].line),T=t.view[f-1].node.nextSibling);var j=et(e,a.line),q,oe;if(j==t.view.length-1?(q=t.viewTo-1,oe=t.lineDiv.lastChild):(q=Ht(t.view[j+1].line)-1,oe=t.view[j+1].node.previousSibling),!T)return!1;for(var se=e.doc.splitLines(Vd(e,T,oe,v,q)),be=mr(e.doc,he(v,0),he(q,pt(e.doc,q).text.length));se.length>1&&be.length>1;)if(le(se)==le(be))se.pop(),be.pop(),q--;else if(se[0]==be[0])se.shift(),be.shift(),v++;else break;for(var ge=0,Te=0,Oe=se[0],ze=be[0],Xe=Math.min(Oe.length,ze.length);ge<Xe&&Oe.charCodeAt(ge)==ze.charCodeAt(ge);)++ge;for(var it=le(se),Ze=le(be),st=Math.min(it.length-(se.length==1?ge:0),Ze.length-(be.length==1?ge:0));Te<st&&it.charCodeAt(it.length-Te-1)==Ze.charCodeAt(Ze.length-Te-1);)++Te;if(se.length==1&&be.length==1&&v==n.line)for(;ge&&ge>n.ch&&it.charCodeAt(it.length-Te-1)==Ze.charCodeAt(Ze.length-Te-1);)ge--,Te++;se[se.length-1]=it.slice(0,it.length-Te).replace(/^\u200b+/,""),se[0]=se[0].slice(ge).replace(/\u200b+$/,"");var yt=he(v,ge),vt=he(q,be.length?le(be).length-Te:0);if(se.length>1||se[0]||Ce(yt,vt))return Bi(e.doc,se,yt,vt,"+input"),!0},Wt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Wt.prototype.reset=function(){this.forceCompositionEnd()},Wt.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Wt.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},Wt.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Xn(this.cm,function(){return At(e.cm)})},Wt.prototype.setUneditable=function(e){e.contentEditable="false"},Wt.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||wn(this.cm,xl)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},Wt.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Wt.prototype.onContextMenu=function(){},Wt.prototype.resetPosition=function(){},Wt.prototype.needsContentAttribute=!0;function Js(e,t){var r=G(e,t.line);if(!r||r.hidden)return null;var n=pt(e.doc,t.line),a=u(r,n,t.line),f=Vt(n,e.doc.direction),v="left";if(f){var T=jt(f,t.ch);v=T%2?"right":"left"}var j=Se(a.map,t.ch,v);return j.offset=j.collapse=="right"?j.end:j.start,j}function Kd(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function Vi(e,t){return t&&(e.bad=!0),e}function Vd(e,t,r,n,a){var f="",v=!1,T=e.doc.lineSeparator(),j=!1;function q(ge){return function(Te){return Te.id==ge}}function oe(){v&&(f+=T,j&&(f+=T),v=j=!1)}function se(ge){ge&&(oe(),f+=ge)}function be(ge){if(ge.nodeType==1){var Te=ge.getAttribute("cm-text");if(Te){se(Te);return}var Oe=ge.getAttribute("cm-marker"),ze;if(Oe){var Xe=e.findMarks(he(n,0),he(a+1,0),q(+Oe));Xe.length&&(ze=Xe[0].find(0))&&se(mr(e.doc,ze.from,ze.to).join(T));return}if(ge.getAttribute("contenteditable")=="false")return;var it=/^(pre|div|p|li|table|br)$/i.test(ge.nodeName);if(!/^br$/i.test(ge.nodeName)&&ge.textContent.length==0)return;it&&oe();for(var Ze=0;Ze<ge.childNodes.length;Ze++)be(ge.childNodes[Ze]);/^(pre|p)$/i.test(ge.nodeName)&&(j=!0),it&&(v=!0)}else ge.nodeType==3&&se(ge.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;be(t),t!=r;)t=t.nextSibling,j=!1;return f}function _a(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return Vi(e.clipPos(he(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var a=0;a<e.display.view.length;a++){var f=e.display.view[a];if(f.node==n)return $d(f,t,r)}}function $d(e,t,r){var n=e.text.firstChild,a=!1;if(!t||!J(n,t))return Vi(he(Ht(e.line),0),!0);if(t==n&&(a=!0,t=n.childNodes[r],r=0,!t)){var f=e.rest?le(e.rest):e.line;return Vi(he(Ht(f),f.text.length),a)}var v=t.nodeType==3?t:null,T=t;for(!v&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(v=t.firstChild,r&&(r=v.nodeValue.length));T.parentNode!=n;)T=T.parentNode;var j=e.measure,q=j.maps;function oe(ze,Xe,it){for(var Ze=-1;Ze<(q?q.length:0);Ze++)for(var st=Ze<0?j.map:q[Ze],yt=0;yt<st.length;yt+=3){var vt=st[yt+2];if(vt==ze||vt==Xe){var Mt=Ht(Ze<0?e.line:e.rest[Ze]),Gt=st[yt]+it;return(it<0||vt!=ze)&&(Gt=st[yt+(it?1:0)]),he(Mt,Gt)}}}var se=oe(v,T,r);if(se)return Vi(se,a);for(var be=T.nextSibling,ge=v?v.nodeValue.length-r:0;be;be=be.nextSibling){if(se=oe(be,be.firstChild,0),se)return Vi(he(se.line,se.ch-ge),a);ge+=be.textContent.length}for(var Te=T.previousSibling,Oe=r;Te;Te=Te.previousSibling){if(se=oe(Te,Te.firstChild,-1),se)return Vi(he(se.line,se.ch+Oe),a);Oe+=Te.textContent.length}}var un=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ke,this.hasSelection=!1,this.composing=null,this.resetting=!1};un.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var a=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),N&&(a.style.width="0px"),Ie(a,"input",function(){m&&g>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),Ie(a,"paste",function(v){Ft(n,v)||Us(v,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())});function f(v){if(!Ft(n,v)){if(n.somethingSelected())ka({lineWise:!1,text:n.getSelections()});else if(n.options.lineWiseCopyCut){var T=Vs(n);ka({lineWise:!0,text:T.text}),v.type=="cut"?n.setSelections(T.ranges,null,Re):(r.prevInput="",a.value=T.text.join(`
`),ne(a))}else return;v.type=="cut"&&(n.state.cutIncoming=+new Date)}}Ie(a,"cut",f),Ie(a,"copy",f),Ie(e.scroller,"paste",function(v){if(!(yr(e,v)||Ft(n,v))){if(!a.dispatchEvent){n.state.pasteIncoming=+new Date,r.focus();return}var T=new Event("paste");T.clipboardData=v.clipboardData,a.dispatchEvent(T)}}),Ie(e.lineSpace,"selectstart",function(v){yr(e,v)||gn(v)}),Ie(a,"compositionstart",function(){var v=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:v,range:n.markText(v,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Ie(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},un.prototype.createField=function(e){this.wrapper=$s(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Sl(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},un.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},un.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=go(e);if(e.options.moveInputWithCursor){var a=mt(e,r.sel.primary().head,"div"),f=t.wrapper.getBoundingClientRect(),v=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,a.top+v.top-f.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,a.left+v.left-f.left))}return n},un.prototype.showSelection=function(e){var t=this.cm,r=t.display;Z(r.cursorDiv,e.cursors),Z(r.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},un.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&ne(this.textarea),m&&g>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",m&&g>=9&&(this.hasSelection=null));this.resetting=!1}},un.prototype.getField=function(){return this.textarea},un.prototype.supportsTouch=function(){return!1},un.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!s||te(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(e){}},un.prototype.blur=function(){this.textarea.blur()},un.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},un.prototype.receivedFocus=function(){this.slowPoll()},un.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},un.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function r(){var n=t.poll();!n&&!e?(e=!0,t.polling.set(60,r)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,r)},un.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||$t(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var a=r.value;if(a==n&&!t.somethingSelected())return!1;if(m&&g>=9&&this.hasSelection===a||p&&/[\uf700-\uf7ff]/.test(a))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var f=a.charCodeAt(0);if(f==8203&&!n&&(n="\u200B"),f==8666)return this.reset(),this.cm.execCommand("undo")}for(var v=0,T=Math.min(n.length,a.length);v<T&&n.charCodeAt(v)==a.charCodeAt(v);)++v;return Xn(t,function(){xl(t,a.slice(v),n.length-v,null,e.composing?"*compose":null),a.length>1e3||a.indexOf(`
`)>-1?r.value=e.prevInput="":e.prevInput=a,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},un.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},un.prototype.onKeyPress=function(){m&&g>=9&&(this.hasSelection=null),this.fastPoll()},un.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,a=t.textarea;t.contextMenuPending&&t.contextMenuPending();var f=Mr(r,e),v=n.scroller.scrollTop;if(!f||S)return;var T=r.options.resetSelectionOnContextMenu;T&&r.doc.sel.contains(f)==-1&&wn(r,Mn)(r.doc,Jr(f),Re);var j=a.style.cssText,q=t.wrapper.style.cssText,oe=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",a.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-oe.top-5)+"px; left: "+(e.clientX-oe.left-5)+`px;
      z-index: 1000; background: `+(m?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var se;w&&(se=a.ownerDocument.defaultView.scrollY),n.input.focus(),w&&a.ownerDocument.defaultView.scrollTo(null,se),n.input.reset(),r.somethingSelected()||(a.value=t.prevInput=" "),t.contextMenuPending=ge,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll);function be(){if(a.selectionStart!=null){var Oe=r.somethingSelected(),ze="\u200B"+(Oe?a.value:"");a.value="\u21DA",a.value=ze,t.prevInput=Oe?"":"\u200B",a.selectionStart=1,a.selectionEnd=ze.length,n.selForContextMenu=r.doc.sel}}function ge(){if(t.contextMenuPending==ge&&(t.contextMenuPending=!1,t.wrapper.style.cssText=q,a.style.cssText=j,m&&g<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=v),a.selectionStart!=null)){(!m||m&&g<9)&&be();var Oe=0,ze=function(){n.selForContextMenu==r.doc.sel&&a.selectionStart==0&&a.selectionEnd>0&&t.prevInput=="\u200B"?wn(r,hs)(r):Oe++<10?n.detectingSelectAll=setTimeout(ze,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(ze,200)}}if(m&&g>=9&&be(),x){Qn(e);var Te=function(){Dt(window,"mouseup",Te),setTimeout(ge,20)};Ie(window,"mouseup",Te)}else setTimeout(ge,50)},un.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},un.prototype.setUneditable=function(){},un.prototype.needsContentAttribute=!1;function Gd(e,t){if(t=t?me(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var r=te(e.ownerDocument);t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function n(){e.value=T.getValue()}var a;if(e.form&&(Ie(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var f=e.form;a=f.submit;try{var v=f.submit=function(){n(),f.submit=a,f.submit(),f.submit=v}}catch(j){}}t.finishInit=function(j){j.save=n,j.getTextArea=function(){return e},j.toTextArea=function(){j.toTextArea=isNaN,n(),e.parentNode.removeChild(j.getWrapperElement()),e.style.display="",e.form&&(Dt(e.form,"submit",n),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=a))}},e.style.display="none";var T=Qt(function(j){return e.parentNode.insertBefore(j,e.nextSibling)},t);return T}function Jd(e){e.off=Dt,e.on=Ie,e.wheelEventPixels=nd,e.Doc=Bn,e.splitLines=oi,e.countColumn=ve,e.findColumn=Pt,e.isWordChar=Ee,e.Pass=Ue,e.signal=Kt,e.Line=Vr,e.changeEnd=Xr,e.scrollbarModel=Ul,e.Pos=he,e.cmpPos=Ce,e.modes=$n,e.mimeModes=Er,e.resolveMode=Sn,e.getMode=Gn,e.modeExtensions=Lr,e.extendMode=Ci,e.copyState=pr,e.startState=qr,e.innerMode=hr,e.commands=Oo,e.keyMap=Rr,e.keyName=Ms,e.isModifierKey=Ts,e.lookupKey=Wi,e.normalizeKeyMap=Sd,e.StringStream=Zt,e.SharedTextMarker=Ao,e.TextMarker=Yr,e.LineWidget=To,e.e_preventDefault=gn,e.e_stopPropagation=cr,e.e_stop=Qn,e.addClass=ye,e.contains=J,e.rmClass=X,e.keyNames=Qr}Fd(Qt),Ud(Qt);var Xd="iter insert remove copy getEditor constructor".split(" ");for(var xa in Bn.prototype)Bn.prototype.hasOwnProperty(xa)&&Fe(Xd,xa)<0&&(Qt.prototype[xa]=function(e){return function(){return e.apply(this.doc,arguments)}}(Bn.prototype[xa]));return mn(Bn),Qt.inputStyles={textarea:un,contenteditable:Wt},Qt.defineMode=function(e){!Qt.defaults.mode&&e!="null"&&(Qt.defaults.mode=e),Si.apply(this,arguments)},Qt.defineMIME=Br,Qt.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Qt.defineMIME("text/plain","null"),Qt.defineExtension=function(e,t){Qt.prototype[e]=t},Qt.defineDocExtension=function(e,t){Bn.prototype[e]=t},Qt.fromTextArea=Gd,Jd(Qt),Qt.version="5.65.13",Qt})}(Tl)),Tl.exports}var $f=Ut();var Il={exports:{}};(function(b,ce){(function(H){H(Ut())})(function(H){H.defineMode("javascript",function(O,K){var ae=O.indentUnit,W=K.statementIndent,C=K.jsonld,m=K.json||C,g=K.trackScope!==!1,w=K.typescript,k=K.wordCharacters||/[\w$\xa1-\uffff]/,A=function(){function V(rn){return{type:rn,style:"keyword"}}var ue=V("keyword a"),he=V("keyword b"),Ce=V("keyword c"),kt=V("keyword d"),Ot=V("operator"),ft={type:"atom",style:"atom"};return{if:V("if"),while:ue,with:ue,else:he,do:he,try:he,finally:he,return:kt,break:kt,continue:kt,new:V("new"),delete:Ce,void:Ce,throw:Ce,debugger:V("debugger"),var:V("var"),const:V("var"),let:V("var"),function:V("function"),catch:V("catch"),for:V("for"),switch:V("switch"),case:V("case"),default:V("default"),in:Ot,typeof:Ot,instanceof:Ot,true:ft,false:ft,null:ft,undefined:ft,NaN:ft,Infinity:ft,this:V("this"),class:V("class"),super:V("atom"),yield:Ce,export:V("export"),import:V("import"),extends:Ce,await:Ce}}(),y=/[+\-*&%=<>!?|~^@]/,S=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function L(V){for(var ue=!1,he,Ce=!1;(he=V.next())!=null;){if(!ue){if(he=="/"&&!Ce)return;he=="["?Ce=!0:Ce&&he=="]"&&(Ce=!1)}ue=!ue&&he=="\\"}}var D,E;function N(V,ue,he){return D=V,E=he,ue}function F(V,ue){var he=V.next();if(he=='"'||he=="'")return ue.tokenize=s(he),ue.tokenize(V,ue);if(he=="."&&V.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return N("number","number");if(he=="."&&V.match(".."))return N("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(he))return N(he);if(he=="="&&V.eat(">"))return N("=>","operator");if(he=="0"&&V.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return N("number","number");if(/\d/.test(he))return V.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),N("number","number");if(he=="/")return V.eat("*")?(ue.tokenize=p,p(V,ue)):V.eat("/")?(V.skipToEnd(),N("comment","comment")):Tn(V,ue,1)?(L(V),V.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),N("regexp","string-2")):(V.eat("="),N("operator","operator",V.current()));if(he=="`")return ue.tokenize=c,c(V,ue);if(he=="#"&&V.peek()=="!")return V.skipToEnd(),N("meta","meta");if(he=="#"&&V.eatWhile(k))return N("variable","property");if(he=="<"&&V.match("!--")||he=="-"&&V.match("->")&&!/\S/.test(V.string.slice(0,V.start)))return V.skipToEnd(),N("comment","comment");if(y.test(he))return(he!=">"||!ue.lexical||ue.lexical.type!=">")&&(V.eat("=")?(he=="!"||he=="=")&&V.eat("="):/[<>*+\-|&?]/.test(he)&&(V.eat(he),he==">"&&V.eat(he))),he=="?"&&V.eat(".")?N("."):N("operator","operator",V.current());if(k.test(he)){V.eatWhile(k);var Ce=V.current();if(ue.lastType!="."){if(A.propertyIsEnumerable(Ce)){var kt=A[Ce];return N(kt.type,kt.style,Ce)}if(Ce=="async"&&V.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return N("async","keyword",Ce)}return N("variable","variable",Ce)}}function s(V){return function(ue,he){var Ce=!1,kt;if(C&&ue.peek()=="@"&&ue.match(S))return he.tokenize=F,N("jsonld-keyword","meta");for(;(kt=ue.next())!=null&&!(kt==V&&!Ce);)Ce=!Ce&&kt=="\\";return Ce||(he.tokenize=F),N("string","string")}}function p(V,ue){for(var he=!1,Ce;Ce=V.next();){if(Ce=="/"&&he){ue.tokenize=F;break}he=Ce=="*"}return N("comment","comment")}function c(V,ue){for(var he=!1,Ce;(Ce=V.next())!=null;){if(!he&&(Ce=="`"||Ce=="$"&&V.eat("{"))){ue.tokenize=F;break}he=!he&&Ce=="\\"}return N("quasi","string-2",V.current())}var _="([{}])";function z(V,ue){ue.fatArrowAt&&(ue.fatArrowAt=null);var he=V.string.indexOf("=>",V.start);if(!(he<0)){if(w){var Ce=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(V.string.slice(V.start,he));Ce&&(he=Ce.index)}for(var kt=0,Ot=!1,ft=he-1;ft>=0;--ft){var rn=V.string.charAt(ft),An=_.indexOf(rn);if(An>=0&&An<3){if(!kt){++ft;break}if(--kt==0){rn=="("&&(Ot=!0);break}}else if(An>=3&&An<6)++kt;else if(k.test(rn))Ot=!0;else if(/["'\/`]/.test(rn))for(;;--ft){if(ft==0)return;var xt=V.string.charAt(ft-1);if(xt==rn&&V.string.charAt(ft-2)!="\\"){ft--;break}}else if(Ot&&!kt){++ft;break}}Ot&&!kt&&(ue.fatArrowAt=ft)}}var M={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function x(V,ue,he,Ce,kt,Ot){this.indented=V,this.column=ue,this.type=he,this.prev=kt,this.info=Ot,Ce!=null&&(this.align=Ce)}function R(V,ue){if(!g)return!1;for(var he=V.localVars;he;he=he.next)if(he.name==ue)return!0;for(var Ce=V.context;Ce;Ce=Ce.prev)for(var he=Ce.vars;he;he=he.next)if(he.name==ue)return!0}function X(V,ue,he,Ce,kt){var Ot=V.cc;for($.state=V,$.stream=kt,$.marked=null,$.cc=Ot,$.style=ue,V.lexical.hasOwnProperty("align")||(V.lexical.align=!0);;){var ft=Ot.length?Ot.pop():m?Ue:Fe;if(ft(he,Ce)){for(;Ot.length&&Ot[Ot.length-1].lex;)Ot.pop()();return $.marked?$.marked:he=="variable"&&R(V,Ce)?"variable-2":ue}}}var $={state:null,column:null,marked:null,cc:null};function Z(){for(var V=arguments.length-1;V>=0;V--)$.cc.push(arguments[V])}function I(){return Z.apply(null,arguments),!0}function B(V,ue){for(var he=ue;he;he=he.next)if(he.name==V)return!0;return!1}function Y(V){var ue=$.state;if($.marked="def",!!g){if(ue.context){if(ue.lexical.info=="var"&&ue.context&&ue.context.block){var he=J(V,ue.context);if(he!=null){ue.context=he;return}}else if(!B(V,ue.localVars)){ue.localVars=new ie(V,ue.localVars);return}}K.globalVars&&!B(V,ue.globalVars)&&(ue.globalVars=new ie(V,ue.globalVars))}}function J(V,ue){if(ue)if(ue.block){var he=J(V,ue.prev);return he?he==ue.prev?ue:new ye(he,ue.vars,!0):null}else return B(V,ue.vars)?ue:new ye(ue.prev,new ie(V,ue.vars),!1);else return null}function te(V){return V=="public"||V=="private"||V=="protected"||V=="abstract"||V=="readonly"}function ye(V,ue,he){this.prev=V,this.vars=ue,this.block=he}function ie(V,ue){this.name=V,this.next=ue}var ne=new ie("this",new ie("arguments",null));function U(){$.state.context=new ye($.state.context,$.state.localVars,!1),$.state.localVars=ne}function _e(){$.state.context=new ye($.state.context,$.state.localVars,!0),$.state.localVars=null}U.lex=_e.lex=!0;function Ne(){$.state.localVars=$.state.context.vars,$.state.context=$.state.context.prev}Ne.lex=!0;function me(V,ue){var he=function(){var Ce=$.state,kt=Ce.indented;if(Ce.lexical.type=="stat")kt=Ce.lexical.indented;else for(var Ot=Ce.lexical;Ot&&Ot.type==")"&&Ot.align;Ot=Ot.prev)kt=Ot.indented;Ce.lexical=new x(kt,$.stream.column(),V,null,Ce.lexical,ue)};return he.lex=!0,he}function ve(){var V=$.state;V.lexical.prev&&(V.lexical.type==")"&&(V.indented=V.lexical.indented),V.lexical=V.lexical.prev)}ve.lex=!0;function ke(V){function ue(he){return he==V?I():V==";"||he=="}"||he==")"||he=="]"?Z():I(ue)}return ue}function Fe(V,ue){return V=="var"?I(me("vardef",ue),Qn,ke(";"),ve):V=="keyword a"?I(me("form"),ut,Fe,ve):V=="keyword b"?I(me("form"),Fe,ve):V=="keyword d"?$.stream.match(/^\s*$/,!1)?I():I(me("stat"),Pt,ke(";"),ve):V=="debugger"?I(ke(";")):V=="{"?I(me("}"),_e,lt,ve,Ne):V==";"?I():V=="if"?($.state.lexical.info=="else"&&$.state.cc[$.state.cc.length-1]==ve&&$.state.cc.pop()(),I(me("form"),ut,Fe,ve,fr)):V=="function"?I(er):V=="for"?I(me("form"),_e,ii,Fe,Ne,ve):V=="class"||w&&ue=="interface"?($.marked="keyword",I(me("form",V=="class"?V:ue),Si,ve)):V=="variable"?w&&ue=="declare"?($.marked="keyword",I(Fe)):w&&(ue=="module"||ue=="enum"||ue=="type")&&$.stream.match(/^\s*\w/,!1)?($.marked="keyword",ue=="enum"?I(Wr):ue=="type"?I(ai,ke("operator"),Ie,ke(";")):I(me("form"),yn,ke("{"),me("}"),lt,ve,ve)):w&&ue=="namespace"?($.marked="keyword",I(me("form"),Ue,Fe,ve)):w&&ue=="abstract"?($.marked="keyword",I(Fe)):I(me("stat"),St):V=="switch"?I(me("form"),ut,ke("{"),me("}","switch"),_e,lt,ve,ve,Ne):V=="case"?I(Ue,ke(":")):V=="default"?I(ke(":")):V=="catch"?I(me("form"),U,qe,Fe,ve,Ne):V=="export"?I(me("stat"),Lr,ve):V=="import"?I(me("stat"),pr,ve):V=="async"?I(Fe):ue=="@"?I(Ue,Fe):Z(me("stat"),Ue,ke(";"),ve)}function qe(V){if(V=="(")return I($n,ke(")"))}function Ue(V,ue){return De(V,ue,!1)}function Re(V,ue){return De(V,ue,!0)}function ut(V){return V!="("?Z():I(me(")"),Pt,ke(")"),ve)}function De(V,ue,he){if($.state.fatArrowAt==$.stream.start){var Ce=he?Tt:We;if(V=="(")return I(U,me(")"),de($n,")"),ve,ke("=>"),Ce,Ne);if(V=="variable")return Z(U,yn,ke("=>"),Ce,Ne)}var kt=he?_t:Ct;return M.hasOwnProperty(V)?I(kt):V=="function"?I(er,kt):V=="class"||w&&ue=="interface"?($.marked="keyword",I(me("form"),Er,ve)):V=="keyword c"||V=="async"?I(he?Re:Ue):V=="("?I(me(")"),Pt,ke(")"),ve,kt):V=="operator"||V=="spread"?I(he?Re:Ue):V=="["?I(me("]"),mr,ve,kt):V=="{"?Ae(at,"}",null,kt):V=="quasi"?Z(le,kt):V=="new"?I(we(he)):I()}function Pt(V){return V.match(/[;\}\)\],]/)?Z():Z(Ue)}function Ct(V,ue){return V==","?I(Pt):_t(V,ue,!1)}function _t(V,ue,he){var Ce=he==!1?Ct:_t,kt=he==!1?Ue:Re;if(V=="=>")return I(U,he?Tt:We,Ne);if(V=="operator")return/\+\+|--/.test(ue)||w&&ue=="!"?I(Ce):w&&ue=="<"&&$.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?I(me(">"),de(Ie,">"),ve,Ce):ue=="?"?I(Ue,ke(":"),kt):I(kt);if(V=="quasi")return Z(le,Ce);if(V!=";"){if(V=="(")return Ae(Re,")","call",Ce);if(V==".")return I(Ve,Ce);if(V=="[")return I(me("]"),Pt,ke("]"),ve,Ce);if(w&&ue=="as")return $.marked="keyword",I(Ie,Ce);if(V=="regexp")return $.state.lastType=$.marked="operator",$.stream.backUp($.stream.pos-$.stream.start-1),I(kt)}}function le(V,ue){return V!="quasi"?Z():ue.slice(ue.length-2)!="${"?I(le):I(Pt,fe)}function fe(V){if(V=="}")return $.marked="string-2",$.state.tokenize=c,I(le)}function We(V){return z($.stream,$.state),Z(V=="{"?Fe:Ue)}function Tt(V){return z($.stream,$.state),Z(V=="{"?Fe:Re)}function we(V){return function(ue){return ue=="."?I(V?Ee:Pe):ue=="variable"&&w?I(gn,V?_t:Ct):Z(V?Re:Ue)}}function Pe(V,ue){if(ue=="target")return $.marked="keyword",I(Ct)}function Ee(V,ue){if(ue=="target")return $.marked="keyword",I(_t)}function St(V){return V==":"?I(ve,Fe):Z(Ct,ke(";"),ve)}function Ve(V){if(V=="variable")return $.marked="property",I()}function at(V,ue){if(V=="async")return $.marked="property",I(at);if(V=="variable"||$.style=="keyword"){if($.marked="property",ue=="get"||ue=="set")return I(Ge);var he;return w&&$.state.fatArrowAt==$.stream.start&&(he=$.stream.match(/^\s*:\s*/,!1))&&($.state.fatArrowAt=$.stream.pos+he[0].length),I(pe)}else{if(V=="number"||V=="string")return $.marked=C?"property":$.style+" property",I(pe);if(V=="jsonld-keyword")return I(pe);if(w&&te(ue))return $.marked="keyword",I(at);if(V=="[")return I(Ue,jt,ke("]"),pe);if(V=="spread")return I(Re,pe);if(ue=="*")return $.marked="keyword",I(at);if(V==":")return Z(pe)}}function Ge(V){return V!="variable"?Z(pe):($.marked="property",I(er))}function pe(V){if(V==":")return I(Re);if(V=="(")return Z(er)}function de(V,ue,he){function Ce(kt,Ot){if(he?he.indexOf(kt)>-1:kt==","){var ft=$.state.lexical;return ft.info=="call"&&(ft.pos=(ft.pos||0)+1),I(function(rn,An){return rn==ue||An==ue?Z():Z(V)},Ce)}return kt==ue||Ot==ue?I():he&&he.indexOf(";")>-1?Z(V):I(ke(ue))}return function(kt,Ot){return kt==ue||Ot==ue?I():Z(V,Ce)}}function Ae(V,ue,he){for(var Ce=3;Ce<arguments.length;Ce++)$.cc.push(arguments[Ce]);return I(me(ue,he),de(V,ue),ve)}function lt(V){return V=="}"?I():Z(Fe,lt)}function jt(V,ue){if(w){if(V==":")return I(Ie);if(ue=="?")return I(jt)}}function bn(V,ue){if(w&&(V==":"||ue=="in"))return I(Ie)}function Vt(V){if(w&&V==":")return $.stream.match(/^\s*\w+\s+is\b/,!1)?I(Ue,an,Ie):I(Ie)}function an(V,ue){if(ue=="is")return $.marked="keyword",I()}function Ie(V,ue){if(ue=="keyof"||ue=="typeof"||ue=="infer"||ue=="readonly")return $.marked="keyword",I(ue=="typeof"?Re:Ie);if(V=="variable"||ue=="void")return $.marked="type",I(mn);if(ue=="|"||ue=="&")return I(Ie);if(V=="string"||V=="number"||V=="atom")return I(mn);if(V=="[")return I(me("]"),de(Ie,"]",","),ve,mn);if(V=="{")return I(me("}"),Dt,ve,mn);if(V=="(")return I(de(ln,")"),hn,mn);if(V=="<")return I(de(Ie,">"),Ie);if(V=="quasi")return Z(Ft,mn)}function hn(V){if(V=="=>")return I(Ie)}function Dt(V){return V.match(/[\}\)\]]/)?I():V==","||V==";"?I(Dt):Z(Kt,Dt)}function Kt(V,ue){if(V=="variable"||$.style=="keyword")return $.marked="property",I(Kt);if(ue=="?"||V=="number"||V=="string")return I(Kt);if(V==":")return I(Ie);if(V=="[")return I(ke("variable"),bn,ke("]"),Kt);if(V=="(")return Z(sr,Kt);if(!V.match(/[;\}\)\],]/))return I()}function Ft(V,ue){return V!="quasi"?Z():ue.slice(ue.length-2)!="${"?I(Ft):I(Ie,_i)}function _i(V){if(V=="}")return $.marked="string-2",$.state.tokenize=c,I(Ft)}function ln(V,ue){return V=="variable"&&$.stream.match(/^\s*[?:]/,!1)||ue=="?"?I(ln):V==":"?I(Ie):V=="spread"?I(ln):Z(Ie)}function mn(V,ue){if(ue=="<")return I(me(">"),de(Ie,">"),ve,mn);if(ue=="|"||V=="."||ue=="&")return I(Ie);if(V=="[")return I(Ie,ke("]"),mn);if(ue=="extends"||ue=="implements")return $.marked="keyword",I(Ie);if(ue=="?")return I(Ie,ke(":"),Ie)}function gn(V,ue){if(ue=="<")return I(me(">"),de(Ie,">"),ve,mn)}function cr(){return Z(Ie,Pr)}function Pr(V,ue){if(ue=="=")return I(Ie)}function Qn(V,ue){return ue=="enum"?($.marked="keyword",I(Wr)):Z(yn,jt,Nn,xi)}function yn(V,ue){if(w&&te(ue))return $.marked="keyword",I(yn);if(V=="variable")return Y(ue),I();if(V=="spread")return I(yn);if(V=="[")return Ae(ri,"]");if(V=="{")return Ae(Xt,"}")}function Xt(V,ue){return V=="variable"&&!$.stream.match(/^\s*:/,!1)?(Y(ue),I(Nn)):(V=="variable"&&($.marked="property"),V=="spread"?I(yn):V=="}"?Z():V=="["?I(Ue,ke("]"),ke(":"),Xt):I(ke(":"),yn,Nn))}function ri(){return Z(yn,Nn)}function Nn(V,ue){if(ue=="=")return I(Re)}function xi(V){if(V==",")return I(Qn)}function fr(V,ue){if(V=="keyword b"&&ue=="else")return I(me("form","else"),Fe,ve)}function ii(V,ue){if(ue=="await")return I(ii);if(V=="(")return I(me(")"),oi,ve)}function oi(V){return V=="var"?I(Qn,$t):V=="variable"?I($t):Z($t)}function $t(V,ue){return V==")"?I():V==";"?I($t):ue=="in"||ue=="of"?($.marked="keyword",I(Ue,$t)):Z(Ue,$t)}function er(V,ue){if(ue=="*")return $.marked="keyword",I(er);if(V=="variable")return Y(ue),I(er);if(V=="(")return I(U,me(")"),de($n,")"),ve,Vt,Fe,Ne);if(w&&ue=="<")return I(me(">"),de(cr,">"),ve,er)}function sr(V,ue){if(ue=="*")return $.marked="keyword",I(sr);if(V=="variable")return Y(ue),I(sr);if(V=="(")return I(U,me(")"),de($n,")"),ve,Vt,Ne);if(w&&ue=="<")return I(me(">"),de(cr,">"),ve,sr)}function ai(V,ue){if(V=="keyword"||V=="variable")return $.marked="type",I(ai);if(ue=="<")return I(me(">"),de(cr,">"),ve)}function $n(V,ue){return ue=="@"&&I(Ue,$n),V=="spread"?I($n):w&&te(ue)?($.marked="keyword",I($n)):w&&V=="this"?I(jt,Nn):Z(yn,jt,Nn)}function Er(V,ue){return V=="variable"?Si(V,ue):Br(V,ue)}function Si(V,ue){if(V=="variable")return Y(ue),I(Br)}function Br(V,ue){if(ue=="<")return I(me(">"),de(cr,">"),ve,Br);if(ue=="extends"||ue=="implements"||w&&V==",")return ue=="implements"&&($.marked="keyword"),I(w?Ie:Ue,Br);if(V=="{")return I(me("}"),Sn,ve)}function Sn(V,ue){if(V=="async"||V=="variable"&&(ue=="static"||ue=="get"||ue=="set"||w&&te(ue))&&$.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return $.marked="keyword",I(Sn);if(V=="variable"||$.style=="keyword")return $.marked="property",I(Gn,Sn);if(V=="number"||V=="string")return I(Gn,Sn);if(V=="[")return I(Ue,jt,ke("]"),Gn,Sn);if(ue=="*")return $.marked="keyword",I(Sn);if(w&&V=="(")return Z(sr,Sn);if(V==";"||V==",")return I(Sn);if(V=="}")return I();if(ue=="@")return I(Ue,Sn)}function Gn(V,ue){if(ue=="!"||ue=="?")return I(Gn);if(V==":")return I(Ie,Nn);if(ue=="=")return I(Re);var he=$.state.lexical.prev,Ce=he&&he.info=="interface";return Z(Ce?sr:er)}function Lr(V,ue){return ue=="*"?($.marked="keyword",I(pt,ke(";"))):ue=="default"?($.marked="keyword",I(Ue,ke(";"))):V=="{"?I(de(Ci,"}"),pt,ke(";")):Z(Fe)}function Ci(V,ue){if(ue=="as")return $.marked="keyword",I(ke("variable"));if(V=="variable")return Z(Re,Ci)}function pr(V){return V=="string"?I():V=="("?Z(Ue):V=="."?Z(Ct):Z(hr,qr,pt)}function hr(V,ue){return V=="{"?Ae(hr,"}"):(V=="variable"&&Y(ue),ue=="*"&&($.marked="keyword"),I(Zt))}function qr(V){if(V==",")return I(hr,qr)}function Zt(V,ue){if(ue=="as")return $.marked="keyword",I(hr)}function pt(V,ue){if(ue=="from")return $.marked="keyword",I(Ue)}function mr(V){return V=="]"?I():Z(de(Re,"]"))}function Wr(){return Z(me("form"),yn,ke("{"),me("}"),de(Rn,"}"),ve,ve)}function Rn(){return Z(yn,Nn)}function Ht(V,ue){return V.lastType=="operator"||V.lastType==","||y.test(ue.charAt(0))||/[,.]/.test(ue.charAt(0))}function Tn(V,ue,he){return ue.tokenize==F&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ue.lastType)||ue.lastType=="quasi"&&/\{\s*$/.test(V.string.slice(0,V.pos-(he||0)))}return{startState:function(V){var ue={tokenize:F,lastType:"sof",cc:[],lexical:new x((V||0)-ae,0,"block",!1),localVars:K.localVars,context:K.localVars&&new ye(null,null,!1),indented:V||0};return K.globalVars&&typeof K.globalVars=="object"&&(ue.globalVars=K.globalVars),ue},token:function(V,ue){if(V.sol()&&(ue.lexical.hasOwnProperty("align")||(ue.lexical.align=!1),ue.indented=V.indentation(),z(V,ue)),ue.tokenize!=p&&V.eatSpace())return null;var he=ue.tokenize(V,ue);return D=="comment"?he:(ue.lastType=D=="operator"&&(E=="++"||E=="--")?"incdec":D,X(ue,he,D,E,V))},indent:function(V,ue){if(V.tokenize==p||V.tokenize==c)return H.Pass;if(V.tokenize!=F)return 0;var he=ue&&ue.charAt(0),Ce=V.lexical,kt;if(!/^\s*else\b/.test(ue))for(var Ot=V.cc.length-1;Ot>=0;--Ot){var ft=V.cc[Ot];if(ft==ve)Ce=Ce.prev;else if(ft!=fr&&ft!=Ne)break}for(;(Ce.type=="stat"||Ce.type=="form")&&(he=="}"||(kt=V.cc[V.cc.length-1])&&(kt==Ct||kt==_t)&&!/^[,\.=+\-*:?[\(]/.test(ue));)Ce=Ce.prev;W&&Ce.type==")"&&Ce.prev.type=="stat"&&(Ce=Ce.prev);var rn=Ce.type,An=he==rn;return rn=="vardef"?Ce.indented+(V.lastType=="operator"||V.lastType==","?Ce.info.length+1:0):rn=="form"&&he=="{"?Ce.indented:rn=="form"?Ce.indented+ae:rn=="stat"?Ce.indented+(Ht(V,ue)?W||ae:0):Ce.info=="switch"&&!An&&K.doubleIndentSwitch!=!1?Ce.indented+(/^(?:case|default)\b/.test(ue)?ae:2*ae):Ce.align?Ce.column+(An?0:1):Ce.indented+(An?0:ae)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:m?null:"/*",blockCommentEnd:m?null:"*/",blockCommentContinue:m?null:" * ",lineComment:m?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:m?"json":"javascript",jsonldMode:C,jsonMode:m,expressionAllowed:Tn,skipExpression:function(V){X(V,"atom","atom","true",new H.StringStream("",2,null))}}}),H.registerHelper("wordChars","javascript",/[\w$]/),H.defineMIME("text/javascript","javascript"),H.defineMIME("text/ecmascript","javascript"),H.defineMIME("application/javascript","javascript"),H.defineMIME("application/x-javascript","javascript"),H.defineMIME("application/ecmascript","javascript"),H.defineMIME("application/json",{name:"javascript",json:!0}),H.defineMIME("application/x-json",{name:"javascript",json:!0}),H.defineMIME("application/manifest+json",{name:"javascript",json:!0}),H.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),H.defineMIME("text/typescript",{name:"javascript",typescript:!0}),H.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();var La={exports:{}};(function(b,ce){(function(H){H(Ut())})(function(H){H.defineMode("css",function(x,R){var X=R.inline;R.propertyKeywords||(R=H.resolveMode("text/css"));var $=x.indentUnit,Z=R.tokenHooks,I=R.documentTypes||{},B=R.mediaTypes||{},Y=R.mediaFeatures||{},J=R.mediaValueKeywords||{},te=R.propertyKeywords||{},ye=R.nonStandardPropertyKeywords||{},ie=R.fontProperties||{},ne=R.counterDescriptors||{},U=R.colorKeywords||{},_e=R.valueKeywords||{},Ne=R.allowNested,me=R.lineComment,ve=R.supportsAtComponent===!0,ke=x.highlightNonStandardPropertyKeywords!==!1,Fe,qe;function Ue(we,Pe){return Fe=Pe,we}function Re(we,Pe){var Ee=we.next();if(Z[Ee]){var St=Z[Ee](we,Pe);if(St!==!1)return St}if(Ee=="@")return we.eatWhile(/[\w\\\-]/),Ue("def",we.current());if(Ee=="="||(Ee=="~"||Ee=="|")&&we.eat("="))return Ue(null,"compare");if(Ee=='"'||Ee=="'")return Pe.tokenize=ut(Ee),Pe.tokenize(we,Pe);if(Ee=="#")return we.eatWhile(/[\w\\\-]/),Ue("atom","hash");if(Ee=="!")return we.match(/^\s*\w*/),Ue("keyword","important");if(/\d/.test(Ee)||Ee=="."&&we.eat(/\d/))return we.eatWhile(/[\w.%]/),Ue("number","unit");if(Ee==="-"){if(/[\d.]/.test(we.peek()))return we.eatWhile(/[\w.%]/),Ue("number","unit");if(we.match(/^-[\w\\\-]*/))return we.eatWhile(/[\w\\\-]/),we.match(/^\s*:/,!1)?Ue("variable-2","variable-definition"):Ue("variable-2","variable");if(we.match(/^\w+-/))return Ue("meta","meta")}else return/[,+>*\/]/.test(Ee)?Ue(null,"select-op"):Ee=="."&&we.match(/^-?[_a-z][_a-z0-9-]*/i)?Ue("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Ee)?Ue(null,Ee):we.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(we.current())&&(Pe.tokenize=De),Ue("variable callee","variable")):/[\w\\\-]/.test(Ee)?(we.eatWhile(/[\w\\\-]/),Ue("property","word")):Ue(null,null)}function ut(we){return function(Pe,Ee){for(var St=!1,Ve;(Ve=Pe.next())!=null;){if(Ve==we&&!St){we==")"&&Pe.backUp(1);break}St=!St&&Ve=="\\"}return(Ve==we||!St&&we!=")")&&(Ee.tokenize=null),Ue("string","string")}}function De(we,Pe){return we.next(),we.match(/^\s*[\"\')]/,!1)?Pe.tokenize=null:Pe.tokenize=ut(")"),Ue(null,"(")}function Pt(we,Pe,Ee){this.type=we,this.indent=Pe,this.prev=Ee}function Ct(we,Pe,Ee,St){return we.context=new Pt(Ee,Pe.indentation()+(St===!1?0:$),we.context),Ee}function _t(we){return we.context.prev&&(we.context=we.context.prev),we.context.type}function le(we,Pe,Ee){return Tt[Ee.context.type](we,Pe,Ee)}function fe(we,Pe,Ee,St){for(var Ve=St||1;Ve>0;Ve--)Ee.context=Ee.context.prev;return le(we,Pe,Ee)}function We(we){var Pe=we.current().toLowerCase();_e.hasOwnProperty(Pe)?qe="atom":U.hasOwnProperty(Pe)?qe="keyword":qe="variable"}var Tt={};return Tt.top=function(we,Pe,Ee){if(we=="{")return Ct(Ee,Pe,"block");if(we=="}"&&Ee.context.prev)return _t(Ee);if(ve&&/@component/i.test(we))return Ct(Ee,Pe,"atComponentBlock");if(/^@(-moz-)?document$/i.test(we))return Ct(Ee,Pe,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(we))return Ct(Ee,Pe,"atBlock");if(/^@(font-face|counter-style)/i.test(we))return Ee.stateArg=we,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(we))return"keyframes";if(we&&we.charAt(0)=="@")return Ct(Ee,Pe,"at");if(we=="hash")qe="builtin";else if(we=="word")qe="tag";else{if(we=="variable-definition")return"maybeprop";if(we=="interpolation")return Ct(Ee,Pe,"interpolation");if(we==":")return"pseudo";if(Ne&&we=="(")return Ct(Ee,Pe,"parens")}return Ee.context.type},Tt.block=function(we,Pe,Ee){if(we=="word"){var St=Pe.current().toLowerCase();return te.hasOwnProperty(St)?(qe="property","maybeprop"):ye.hasOwnProperty(St)?(qe=ke?"string-2":"property","maybeprop"):Ne?(qe=Pe.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(qe+=" error","maybeprop")}else return we=="meta"?"block":!Ne&&(we=="hash"||we=="qualifier")?(qe="error","block"):Tt.top(we,Pe,Ee)},Tt.maybeprop=function(we,Pe,Ee){return we==":"?Ct(Ee,Pe,"prop"):le(we,Pe,Ee)},Tt.prop=function(we,Pe,Ee){if(we==";")return _t(Ee);if(we=="{"&&Ne)return Ct(Ee,Pe,"propBlock");if(we=="}"||we=="{")return fe(we,Pe,Ee);if(we=="(")return Ct(Ee,Pe,"parens");if(we=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Pe.current()))qe+=" error";else if(we=="word")We(Pe);else if(we=="interpolation")return Ct(Ee,Pe,"interpolation");return"prop"},Tt.propBlock=function(we,Pe,Ee){return we=="}"?_t(Ee):we=="word"?(qe="property","maybeprop"):Ee.context.type},Tt.parens=function(we,Pe,Ee){return we=="{"||we=="}"?fe(we,Pe,Ee):we==")"?_t(Ee):we=="("?Ct(Ee,Pe,"parens"):we=="interpolation"?Ct(Ee,Pe,"interpolation"):(we=="word"&&We(Pe),"parens")},Tt.pseudo=function(we,Pe,Ee){return we=="meta"?"pseudo":we=="word"?(qe="variable-3",Ee.context.type):le(we,Pe,Ee)},Tt.documentTypes=function(we,Pe,Ee){return we=="word"&&I.hasOwnProperty(Pe.current())?(qe="tag",Ee.context.type):Tt.atBlock(we,Pe,Ee)},Tt.atBlock=function(we,Pe,Ee){if(we=="(")return Ct(Ee,Pe,"atBlock_parens");if(we=="}"||we==";")return fe(we,Pe,Ee);if(we=="{")return _t(Ee)&&Ct(Ee,Pe,Ne?"block":"top");if(we=="interpolation")return Ct(Ee,Pe,"interpolation");if(we=="word"){var St=Pe.current().toLowerCase();St=="only"||St=="not"||St=="and"||St=="or"?qe="keyword":B.hasOwnProperty(St)?qe="attribute":Y.hasOwnProperty(St)?qe="property":J.hasOwnProperty(St)?qe="keyword":te.hasOwnProperty(St)?qe="property":ye.hasOwnProperty(St)?qe=ke?"string-2":"property":_e.hasOwnProperty(St)?qe="atom":U.hasOwnProperty(St)?qe="keyword":qe="error"}return Ee.context.type},Tt.atComponentBlock=function(we,Pe,Ee){return we=="}"?fe(we,Pe,Ee):we=="{"?_t(Ee)&&Ct(Ee,Pe,Ne?"block":"top",!1):(we=="word"&&(qe="error"),Ee.context.type)},Tt.atBlock_parens=function(we,Pe,Ee){return we==")"?_t(Ee):we=="{"||we=="}"?fe(we,Pe,Ee,2):Tt.atBlock(we,Pe,Ee)},Tt.restricted_atBlock_before=function(we,Pe,Ee){return we=="{"?Ct(Ee,Pe,"restricted_atBlock"):we=="word"&&Ee.stateArg=="@counter-style"?(qe="variable","restricted_atBlock_before"):le(we,Pe,Ee)},Tt.restricted_atBlock=function(we,Pe,Ee){return we=="}"?(Ee.stateArg=null,_t(Ee)):we=="word"?(Ee.stateArg=="@font-face"&&!ie.hasOwnProperty(Pe.current().toLowerCase())||Ee.stateArg=="@counter-style"&&!ne.hasOwnProperty(Pe.current().toLowerCase())?qe="error":qe="property","maybeprop"):"restricted_atBlock"},Tt.keyframes=function(we,Pe,Ee){return we=="word"?(qe="variable","keyframes"):we=="{"?Ct(Ee,Pe,"top"):le(we,Pe,Ee)},Tt.at=function(we,Pe,Ee){return we==";"?_t(Ee):we=="{"||we=="}"?fe(we,Pe,Ee):(we=="word"?qe="tag":we=="hash"&&(qe="builtin"),"at")},Tt.interpolation=function(we,Pe,Ee){return we=="}"?_t(Ee):we=="{"||we==";"?fe(we,Pe,Ee):(we=="word"?qe="variable":we!="variable"&&we!="("&&we!=")"&&(qe="error"),"interpolation")},{startState:function(we){return{tokenize:null,state:X?"block":"top",stateArg:null,context:new Pt(X?"block":"top",we||0,null)}},token:function(we,Pe){if(!Pe.tokenize&&we.eatSpace())return null;var Ee=(Pe.tokenize||Re)(we,Pe);return Ee&&typeof Ee=="object"&&(Fe=Ee[1],Ee=Ee[0]),qe=Ee,Fe!="comment"&&(Pe.state=Tt[Pe.state](Fe,we,Pe)),qe},indent:function(we,Pe){var Ee=we.context,St=Pe&&Pe.charAt(0),Ve=Ee.indent;return Ee.type=="prop"&&(St=="}"||St==")")&&(Ee=Ee.prev),Ee.prev&&(St=="}"&&(Ee.type=="block"||Ee.type=="top"||Ee.type=="interpolation"||Ee.type=="restricted_atBlock")?(Ee=Ee.prev,Ve=Ee.indent):(St==")"&&(Ee.type=="parens"||Ee.type=="atBlock_parens")||St=="{"&&(Ee.type=="at"||Ee.type=="atBlock"))&&(Ve=Math.max(0,Ee.indent-$))),Ve},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:me,fold:"brace"}});function O(x){for(var R={},X=0;X<x.length;++X)R[x[X].toLowerCase()]=!0;return R}var K=["domain","regexp","url","url-prefix"],ae=O(K),W=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],C=O(W),m=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],g=O(m),w=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],k=O(w),A=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],y=O(A),S=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],L=O(S),D=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],E=O(D),N=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],F=O(N),s=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],p=O(s),c=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],_=O(c),z=K.concat(W).concat(m).concat(w).concat(A).concat(S).concat(s).concat(c);H.registerHelper("hintWords","css",z);function M(x,R){for(var X=!1,$;($=x.next())!=null;){if(X&&$=="/"){R.tokenize=null;break}X=$=="*"}return["comment","comment"]}H.defineMIME("text/css",{documentTypes:ae,mediaTypes:C,mediaFeatures:g,mediaValueKeywords:k,propertyKeywords:y,nonStandardPropertyKeywords:L,fontProperties:E,counterDescriptors:F,colorKeywords:p,valueKeywords:_,tokenHooks:{"/":function(x,R){return x.eat("*")?(R.tokenize=M,M(x,R)):!1}},name:"css"}),H.defineMIME("text/x-scss",{mediaTypes:C,mediaFeatures:g,mediaValueKeywords:k,propertyKeywords:y,nonStandardPropertyKeywords:L,colorKeywords:p,valueKeywords:_,fontProperties:E,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(x,R){return x.eat("/")?(x.skipToEnd(),["comment","comment"]):x.eat("*")?(R.tokenize=M,M(x,R)):["operator","operator"]},":":function(x){return x.match(/^\s*\{/,!1)?[null,null]:!1},$:function(x){return x.match(/^[\w-]+/),x.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(x){return x.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),H.defineMIME("text/x-less",{mediaTypes:C,mediaFeatures:g,mediaValueKeywords:k,propertyKeywords:y,nonStandardPropertyKeywords:L,colorKeywords:p,valueKeywords:_,fontProperties:E,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(x,R){return x.eat("/")?(x.skipToEnd(),["comment","comment"]):x.eat("*")?(R.tokenize=M,M(x,R)):["operator","operator"]},"@":function(x){return x.eat("{")?[null,"interpolation"]:x.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(x.eatWhile(/[\w\\\-]/),x.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),H.defineMIME("text/x-gss",{documentTypes:ae,mediaTypes:C,mediaFeatures:g,propertyKeywords:y,nonStandardPropertyKeywords:L,fontProperties:E,counterDescriptors:F,colorKeywords:p,valueKeywords:_,supportsAtComponent:!0,tokenHooks:{"/":function(x,R){return x.eat("*")?(R.tokenize=M,M(x,R)):!1}},name:"css",helperType:"gss"})})})();var zl={exports:{}};(function(b,ce){(function(H){H(Ut())})(function(H){var O={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},K={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};H.defineMode("xml",function(ae,W){var C=ae.indentUnit,m={},g=W.htmlMode?O:K;for(var w in g)m[w]=g[w];for(var w in W)m[w]=W[w];var k,A;function y(I,B){function Y(ye){return B.tokenize=ye,ye(I,B)}var J=I.next();if(J=="<")return I.eat("!")?I.eat("[")?I.match("CDATA[")?Y(D("atom","]]>")):null:I.match("--")?Y(D("comment","-->")):I.match("DOCTYPE",!0,!0)?(I.eatWhile(/[\w\._\-]/),Y(E(1))):null:I.eat("?")?(I.eatWhile(/[\w\._\-]/),B.tokenize=D("meta","?>"),"meta"):(k=I.eat("/")?"closeTag":"openTag",B.tokenize=S,"tag bracket");if(J=="&"){var te;return I.eat("#")?I.eat("x")?te=I.eatWhile(/[a-fA-F\d]/)&&I.eat(";"):te=I.eatWhile(/[\d]/)&&I.eat(";"):te=I.eatWhile(/[\w\.\-:]/)&&I.eat(";"),te?"atom":"error"}else return I.eatWhile(/[^&<]/),null}y.isInText=!0;function S(I,B){var Y=I.next();if(Y==">"||Y=="/"&&I.eat(">"))return B.tokenize=y,k=Y==">"?"endTag":"selfcloseTag","tag bracket";if(Y=="=")return k="equals",null;if(Y=="<"){B.tokenize=y,B.state=c,B.tagName=B.tagStart=null;var J=B.tokenize(I,B);return J?J+" tag error":"tag error"}else return/[\'\"]/.test(Y)?(B.tokenize=L(Y),B.stringStartCol=I.column(),B.tokenize(I,B)):(I.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function L(I){var B=function(Y,J){for(;!Y.eol();)if(Y.next()==I){J.tokenize=S;break}return"string"};return B.isInAttribute=!0,B}function D(I,B){return function(Y,J){for(;!Y.eol();){if(Y.match(B)){J.tokenize=y;break}Y.next()}return I}}function E(I){return function(B,Y){for(var J;(J=B.next())!=null;){if(J=="<")return Y.tokenize=E(I+1),Y.tokenize(B,Y);if(J==">")if(I==1){Y.tokenize=y;break}else return Y.tokenize=E(I-1),Y.tokenize(B,Y)}return"meta"}}function N(I){return I&&I.toLowerCase()}function F(I,B,Y){this.prev=I.context,this.tagName=B||"",this.indent=I.indented,this.startOfLine=Y,(m.doNotIndent.hasOwnProperty(B)||I.context&&I.context.noIndent)&&(this.noIndent=!0)}function s(I){I.context&&(I.context=I.context.prev)}function p(I,B){for(var Y;;){if(!I.context||(Y=I.context.tagName,!m.contextGrabbers.hasOwnProperty(N(Y))||!m.contextGrabbers[N(Y)].hasOwnProperty(N(B))))return;s(I)}}function c(I,B,Y){return I=="openTag"?(Y.tagStart=B.column(),_):I=="closeTag"?z:c}function _(I,B,Y){return I=="word"?(Y.tagName=B.current(),A="tag",R):m.allowMissingTagName&&I=="endTag"?(A="tag bracket",R(I,B,Y)):(A="error",_)}function z(I,B,Y){if(I=="word"){var J=B.current();return Y.context&&Y.context.tagName!=J&&m.implicitlyClosed.hasOwnProperty(N(Y.context.tagName))&&s(Y),Y.context&&Y.context.tagName==J||m.matchClosing===!1?(A="tag",M):(A="tag error",x)}else return m.allowMissingTagName&&I=="endTag"?(A="tag bracket",M(I,B,Y)):(A="error",x)}function M(I,B,Y){return I!="endTag"?(A="error",M):(s(Y),c)}function x(I,B,Y){return A="error",M(I,B,Y)}function R(I,B,Y){if(I=="word")return A="attribute",X;if(I=="endTag"||I=="selfcloseTag"){var J=Y.tagName,te=Y.tagStart;return Y.tagName=Y.tagStart=null,I=="selfcloseTag"||m.autoSelfClosers.hasOwnProperty(N(J))?p(Y,J):(p(Y,J),Y.context=new F(Y,J,te==Y.indented)),c}return A="error",R}function X(I,B,Y){return I=="equals"?$:(m.allowMissing||(A="error"),R(I,B,Y))}function $(I,B,Y){return I=="string"?Z:I=="word"&&m.allowUnquoted?(A="string",R):(A="error",R(I,B,Y))}function Z(I,B,Y){return I=="string"?Z:R(I,B,Y)}return{startState:function(I){var B={tokenize:y,state:c,indented:I||0,tagName:null,tagStart:null,context:null};return I!=null&&(B.baseIndent=I),B},token:function(I,B){if(!B.tagName&&I.sol()&&(B.indented=I.indentation()),I.eatSpace())return null;k=null;var Y=B.tokenize(I,B);return(Y||k)&&Y!="comment"&&(A=null,B.state=B.state(k||Y,I,B),A&&(Y=A=="error"?Y+" error":A)),Y},indent:function(I,B,Y){var J=I.context;if(I.tokenize.isInAttribute)return I.tagStart==I.indented?I.stringStartCol+1:I.indented+C;if(J&&J.noIndent)return H.Pass;if(I.tokenize!=S&&I.tokenize!=y)return Y?Y.match(/^(\s*)/)[0].length:0;if(I.tagName)return m.multilineTagIndentPastTag!==!1?I.tagStart+I.tagName.length+2:I.tagStart+C*(m.multilineTagIndentFactor||1);if(m.alignCDATA&&/<!\[CDATA\[/.test(B))return 0;var te=B&&/^<(\/)?([\w_:\.-]*)/.exec(B);if(te&&te[1])for(;J;)if(J.tagName==te[2]){J=J.prev;break}else if(m.implicitlyClosed.hasOwnProperty(N(J.tagName)))J=J.prev;else break;else if(te)for(;J;){var ye=m.contextGrabbers[N(J.tagName)];if(ye&&ye.hasOwnProperty(N(te[2])))J=J.prev;else break}for(;J&&J.prev&&!J.startOfLine;)J=J.prev;return J?J.indent+C:I.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:m.htmlMode?"html":"xml",helperType:m.htmlMode?"html":"xml",skipAttribute:function(I){I.state==$&&(I.state=R)},xmlCurrentTag:function(I){return I.tagName?{name:I.tagName,close:I.type=="closeTag"}:null},xmlCurrentContext:function(I){for(var B=[],Y=I.context;Y;Y=Y.prev)B.push(Y.tagName);return B.reverse()}}}),H.defineMIME("text/xml","xml"),H.defineMIME("application/xml","xml"),H.mimeModes.hasOwnProperty("text/html")||H.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();(function(b,ce){(function(H){H(Ut())})(function(H){function O(J,te,ye,ie,ne,U){this.indented=J,this.column=te,this.type=ye,this.info=ie,this.align=ne,this.prev=U}function K(J,te,ye,ie){var ne=J.indented;return J.context&&J.context.type=="statement"&&ye!="statement"&&(ne=J.context.indented),J.context=new O(ne,te,ye,ie,null,J.context)}function ae(J){var te=J.context.type;return(te==")"||te=="]"||te=="}")&&(J.indented=J.context.indented),J.context=J.context.prev}function W(J,te,ye){if(te.prevToken=="variable"||te.prevToken=="type"||/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(J.string.slice(0,ye))||te.typeAtEndOfLine&&J.column()==J.indentation())return!0}function C(J){for(;;){if(!J||J.type=="top")return!0;if(J.type=="}"&&J.prev.info!="namespace")return!1;J=J.prev}}H.defineMode("clike",function(J,te){var ye=J.indentUnit,ie=te.statementIndentUnit||ye,ne=te.dontAlignCalls,U=te.keywords||{},_e=te.types||{},Ne=te.builtin||{},me=te.blockKeywords||{},ve=te.defKeywords||{},ke=te.atoms||{},Fe=te.hooks||{},qe=te.multiLineStrings,Ue=te.indentStatements!==!1,Re=te.indentSwitch!==!1,ut=te.namespaceSeparator,De=te.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,Pt=te.numberStart||/[\d\.]/,Ct=te.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,_t=te.isOperatorChar||/[+\-*&%=<>!?|\/]/,le=te.isIdentifierChar||/[\w\$_\xa1-\uffff]/,fe=te.isReservedIdentifier||!1,We,Tt;function we(Ve,at){var Ge=Ve.next();if(Fe[Ge]){var pe=Fe[Ge](Ve,at);if(pe!==!1)return pe}if(Ge=='"'||Ge=="'")return at.tokenize=Pe(Ge),at.tokenize(Ve,at);if(Pt.test(Ge)){if(Ve.backUp(1),Ve.match(Ct))return"number";Ve.next()}if(De.test(Ge))return We=Ge,null;if(Ge=="/"){if(Ve.eat("*"))return at.tokenize=Ee,Ee(Ve,at);if(Ve.eat("/"))return Ve.skipToEnd(),"comment"}if(_t.test(Ge)){for(;!Ve.match(/^\/[\/*]/,!1)&&Ve.eat(_t););return"operator"}if(Ve.eatWhile(le),ut)for(;Ve.match(ut);)Ve.eatWhile(le);var de=Ve.current();return g(U,de)?(g(me,de)&&(We="newstatement"),g(ve,de)&&(Tt=!0),"keyword"):g(_e,de)?"type":g(Ne,de)||fe&&fe(de)?(g(me,de)&&(We="newstatement"),"builtin"):g(ke,de)?"atom":"variable"}function Pe(Ve){return function(at,Ge){for(var pe=!1,de,Ae=!1;(de=at.next())!=null;){if(de==Ve&&!pe){Ae=!0;break}pe=!pe&&de=="\\"}return(Ae||!(pe||qe))&&(Ge.tokenize=null),"string"}}function Ee(Ve,at){for(var Ge=!1,pe;pe=Ve.next();){if(pe=="/"&&Ge){at.tokenize=null;break}Ge=pe=="*"}return"comment"}function St(Ve,at){te.typeFirstDefinitions&&Ve.eol()&&C(at.context)&&(at.typeAtEndOfLine=W(Ve,at,Ve.pos))}return{startState:function(Ve){return{tokenize:null,context:new O((Ve||0)-ye,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(Ve,at){var Ge=at.context;if(Ve.sol()&&(Ge.align==null&&(Ge.align=!1),at.indented=Ve.indentation(),at.startOfLine=!0),Ve.eatSpace())return St(Ve,at),null;We=Tt=null;var pe=(at.tokenize||we)(Ve,at);if(pe=="comment"||pe=="meta")return pe;if(Ge.align==null&&(Ge.align=!0),We==";"||We==":"||We==","&&Ve.match(/^\s*(?:\/\/.*)?$/,!1))for(;at.context.type=="statement";)ae(at);else if(We=="{")K(at,Ve.column(),"}");else if(We=="[")K(at,Ve.column(),"]");else if(We=="(")K(at,Ve.column(),")");else if(We=="}"){for(;Ge.type=="statement";)Ge=ae(at);for(Ge.type=="}"&&(Ge=ae(at));Ge.type=="statement";)Ge=ae(at)}else We==Ge.type?ae(at):Ue&&((Ge.type=="}"||Ge.type=="top")&&We!=";"||Ge.type=="statement"&&We=="newstatement")&&K(at,Ve.column(),"statement",Ve.current());if(pe=="variable"&&(at.prevToken=="def"||te.typeFirstDefinitions&&W(Ve,at,Ve.start)&&C(at.context)&&Ve.match(/^\s*\(/,!1))&&(pe="def"),Fe.token){var de=Fe.token(Ve,at,pe);de!==void 0&&(pe=de)}return pe=="def"&&te.styleDefs===!1&&(pe="variable"),at.startOfLine=!1,at.prevToken=Tt?"def":pe||We,St(Ve,at),pe},indent:function(Ve,at){if(Ve.tokenize!=we&&Ve.tokenize!=null||Ve.typeAtEndOfLine)return H.Pass;var Ge=Ve.context,pe=at&&at.charAt(0),de=pe==Ge.type;if(Ge.type=="statement"&&pe=="}"&&(Ge=Ge.prev),te.dontIndentStatements)for(;Ge.type=="statement"&&te.dontIndentStatements.test(Ge.info);)Ge=Ge.prev;if(Fe.indent){var Ae=Fe.indent(Ve,Ge,at,ye);if(typeof Ae=="number")return Ae}var lt=Ge.prev&&Ge.prev.info=="switch";if(te.allmanIndentation&&/[{(]/.test(pe)){for(;Ge.type!="top"&&Ge.type!="}";)Ge=Ge.prev;return Ge.indented}return Ge.type=="statement"?Ge.indented+(pe=="{"?0:ie):Ge.align&&(!ne||Ge.type!=")")?Ge.column+(de?0:1):Ge.type==")"&&!de?Ge.indented+ie:Ge.indented+(de?0:ye)+(!de&&lt&&!/^(?:case|default)\b/.test(at)?ye:0)},electricInput:Re?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});function m(J){for(var te={},ye=J.split(" "),ie=0;ie<ye.length;++ie)te[ye[ie]]=!0;return te}function g(J,te){return typeof J=="function"?J(te):J.propertyIsEnumerable(te)}var w="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",k="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",A="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",y="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",S=m("int long char short double float unsigned signed void bool"),L=m("SEL instancetype id Class Protocol BOOL");function D(J){return g(S,J)||/.+_t$/.test(J)}function E(J){return D(J)||g(L,J)}var N="case do else for if switch while struct enum union",F="struct enum union";function s(J,te){if(!te.startOfLine)return!1;for(var ye,ie=null;ye=J.peek();){if(ye=="\\"&&J.match(/^.$/)){ie=s;break}else if(ye=="/"&&J.match(/^\/[\/\*]/,!1))break;J.next()}return te.tokenize=ie,"meta"}function p(J,te){return te.prevToken=="type"?"type":!1}function c(J){return!J||J.length<2||J[0]!="_"?!1:J[1]=="_"||J[1]!==J[1].toLowerCase()}function _(J){return J.eatWhile(/[\w\.']/),"number"}function z(J,te){if(J.backUp(1),J.match(/^(?:R|u8R|uR|UR|LR)/)){var ye=J.match(/^"([^\s\\()]{0,16})\(/);return ye?(te.cpp11RawStringDelim=ye[1],te.tokenize=R,R(J,te)):!1}return J.match(/^(?:u8|u|U|L)/)?J.match(/^["']/,!1)?"string":!1:(J.next(),!1)}function M(J){var te=/(\w+)::~?(\w+)$/.exec(J);return te&&te[1]==te[2]}function x(J,te){for(var ye;(ye=J.next())!=null;)if(ye=='"'&&!J.eat('"')){te.tokenize=null;break}return"string"}function R(J,te){var ye=te.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),ie=J.match(new RegExp(".*?\\)"+ye+'"'));return ie?te.tokenize=null:J.skipToEnd(),"string"}function X(J,te){typeof J=="string"&&(J=[J]);var ye=[];function ie(U){if(U)for(var _e in U)U.hasOwnProperty(_e)&&ye.push(_e)}ie(te.keywords),ie(te.types),ie(te.builtin),ie(te.atoms),ye.length&&(te.helperType=J[0],H.registerHelper("hintWords",J[0],ye));for(var ne=0;ne<J.length;++ne)H.defineMIME(J[ne],te)}X(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:m(w),types:D,blockKeywords:m(N),defKeywords:m(F),typeFirstDefinitions:!0,atoms:m("NULL true false"),isReservedIdentifier:c,hooks:{"#":s,"*":p},modeProps:{fold:["brace","include"]}}),X(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:m(w+" "+k),types:D,blockKeywords:m(N+" class try catch"),defKeywords:m(F+" class namespace"),typeFirstDefinitions:!0,atoms:m("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:c,hooks:{"#":s,"*":p,u:z,U:z,L:z,R:z,0:_,1:_,2:_,3:_,4:_,5:_,6:_,7:_,8:_,9:_,token:function(J,te,ye){if(ye=="variable"&&J.peek()=="("&&(te.prevToken==";"||te.prevToken==null||te.prevToken=="}")&&M(J.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),X("text/x-java",{name:"clike",keywords:m("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:m("var byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:m("catch class do else finally for if switch try while"),defKeywords:m("class interface enum @interface"),typeFirstDefinitions:!0,atoms:m("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(J){return J.match("interface",!1)?!1:(J.eatWhile(/[\w\$_]/),"meta")},'"':function(J,te){return J.match(/""$/)?(te.tokenize=$,te.tokenize(J,te)):!1}},modeProps:{fold:["brace","import"]}}),X("text/x-csharp",{name:"clike",keywords:m("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in init interface internal is lock namespace new operator out override params private protected public readonly record ref required return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:m("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:m("catch class do else finally for foreach if struct switch try while"),defKeywords:m("class interface namespace record struct var"),typeFirstDefinitions:!0,atoms:m("true false null"),hooks:{"@":function(J,te){return J.eat('"')?(te.tokenize=x,x(J,te)):(J.eatWhile(/[\w\$_]/),"meta")}}});function $(J,te){for(var ye=!1;!J.eol();){if(!ye&&J.match('"""')){te.tokenize=null;break}ye=J.next()=="\\"&&!ye}return"string"}function Z(J){return function(te,ye){for(var ie;ie=te.next();)if(ie=="*"&&te.eat("/"))if(J==1){ye.tokenize=null;break}else return ye.tokenize=Z(J-1),ye.tokenize(te,ye);else if(ie=="/"&&te.eat("*"))return ye.tokenize=Z(J+1),ye.tokenize(te,ye);return"comment"}}X("text/x-scala",{name:"clike",keywords:m("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:m("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:m("catch class enum do else finally for forSome if match switch try while"),defKeywords:m("class enum def object package trait type val var"),atoms:m("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(J){return J.eatWhile(/[\w\$_]/),"meta"},'"':function(J,te){return J.match('""')?(te.tokenize=$,te.tokenize(J,te)):!1},"'":function(J){return J.match(/^(\\[^'\s]+|[^\\'])'/)?"string-2":(J.eatWhile(/[\w\$_\xa1-\uffff]/),"atom")},"=":function(J,te){var ye=te.context;return ye.type=="}"&&ye.align&&J.eat(">")?(te.context=new O(ye.indented,ye.column,ye.type,ye.info,null,ye.prev),"operator"):!1},"/":function(J,te){return J.eat("*")?(te.tokenize=Z(1),te.tokenize(J,te)):!1}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}});function I(J){return function(te,ye){for(var ie=!1,ne,U=!1;!te.eol();){if(!J&&!ie&&te.match('"')){U=!0;break}if(J&&te.match('"""')){U=!0;break}ne=te.next(),!ie&&ne=="$"&&te.match("{")&&te.skipTo("}"),ie=!ie&&ne=="\\"&&!J}return(U||!J)&&(ye.tokenize=null),"string"}}X("text/x-kotlin",{name:"clike",keywords:m("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam value"),types:m("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:m("catch class do else finally for if where try while enum"),defKeywords:m("class val var object interface fun"),atoms:m("true false null this"),hooks:{"@":function(J){return J.eatWhile(/[\w\$_]/),"meta"},"*":function(J,te){return te.prevToken=="."?"variable":"operator"},'"':function(J,te){return te.tokenize=I(J.match('""')),te.tokenize(J,te)},"/":function(J,te){return J.eat("*")?(te.tokenize=Z(1),te.tokenize(J,te)):!1},indent:function(J,te,ye,ie){var ne=ye&&ye.charAt(0);if((J.prevToken=="}"||J.prevToken==")")&&ye=="")return J.indented;if(J.prevToken=="operator"&&ye!="}"&&J.context.type!="}"||J.prevToken=="variable"&&ne=="."||(J.prevToken=="}"||J.prevToken==")")&&ne==".")return ie*2+te.indented;if(te.align&&te.type=="}")return te.indented+(J.context.type==(ye||"").charAt(0)?0:ie)}},modeProps:{closeBrackets:{triples:'"'}}}),X(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:m("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:m("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:m("for while do if else struct"),builtin:m("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:m("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":s},modeProps:{fold:["brace","include"]}}),X("text/x-nesc",{name:"clike",keywords:m(w+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:D,blockKeywords:m(N),atoms:m("null true false"),hooks:{"#":s},modeProps:{fold:["brace","include"]}}),X("text/x-objectivec",{name:"clike",keywords:m(w+" "+A),types:E,builtin:m(y),blockKeywords:m(N+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:m(F+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:m("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:c,hooks:{"#":s,"*":p},modeProps:{fold:["brace","include"]}}),X("text/x-objectivec++",{name:"clike",keywords:m(w+" "+A+" "+k),types:E,builtin:m(y),blockKeywords:m(N+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:m(F+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:m("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:c,hooks:{"#":s,"*":p,u:z,U:z,L:z,R:z,0:_,1:_,2:_,3:_,4:_,5:_,6:_,7:_,8:_,9:_,token:function(J,te,ye){if(ye=="variable"&&J.peek()=="("&&(te.prevToken==";"||te.prevToken==null||te.prevToken=="}")&&M(J.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),X("text/x-squirrel",{name:"clike",keywords:m("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:D,blockKeywords:m("case catch class else for foreach if switch try while"),defKeywords:m("function local class"),typeFirstDefinitions:!0,atoms:m("true false null"),hooks:{"#":s},modeProps:{fold:["brace","include"]}});var B=null;function Y(J){return function(te,ye){for(var ie=!1,ne,U=!1;!te.eol();){if(!ie&&te.match('"')&&(J=="single"||te.match('""'))){U=!0;break}if(!ie&&te.match("``")){B=Y(J),U=!0;break}ne=te.next(),ie=J=="single"&&!ie&&ne=="\\"}return U&&(ye.tokenize=null),"string"}}X("text/x-ceylon",{name:"clike",keywords:m("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(J){var te=J.charAt(0);return te===te.toUpperCase()&&te!==te.toLowerCase()},blockKeywords:m("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:m("class dynamic function interface module object package value"),builtin:m("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:m("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(J){return J.eatWhile(/[\w\$_]/),"meta"},'"':function(J,te){return te.tokenize=Y(J.match('""')?"triple":"single"),te.tokenize(J,te)},"`":function(J,te){return!B||!J.match("`")?!1:(te.tokenize=B,B=null,te.tokenize(J,te))},"'":function(J){return J.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(J,te,ye){if((ye=="variable"||ye=="type")&&te.prevToken==".")return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})})();var du={exports:{}},cu;function Gf(){return cu||(cu=1,function(b,ce){(function(H){H(Ut())})(function(H){H.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var O=0;O<H.modeInfo.length;O++){var K=H.modeInfo[O];K.mimes&&(K.mime=K.mimes[0])}H.findModeByMIME=function(ae){ae=ae.toLowerCase();for(var W=0;W<H.modeInfo.length;W++){var C=H.modeInfo[W];if(C.mime==ae)return C;if(C.mimes){for(var m=0;m<C.mimes.length;m++)if(C.mimes[m]==ae)return C}}if(/\+xml$/.test(ae))return H.findModeByMIME("application/xml");if(/\+json$/.test(ae))return H.findModeByMIME("application/json")},H.findModeByExtension=function(ae){ae=ae.toLowerCase();for(var W=0;W<H.modeInfo.length;W++){var C=H.modeInfo[W];if(C.ext){for(var m=0;m<C.ext.length;m++)if(C.ext[m]==ae)return C}}},H.findModeByFileName=function(ae){for(var W=0;W<H.modeInfo.length;W++){var C=H.modeInfo[W];if(C.file&&C.file.test(ae))return C}var m=ae.lastIndexOf("."),g=m>-1&&ae.substring(m+1,ae.length);if(g)return H.findModeByExtension(g)},H.findModeByName=function(ae){ae=ae.toLowerCase();for(var W=0;W<H.modeInfo.length;W++){var C=H.modeInfo[W];if(C.name.toLowerCase()==ae)return C;if(C.alias){for(var m=0;m<C.alias.length;m++)if(C.alias[m].toLowerCase()==ae)return C}}}})}()),du.exports}(function(b,ce){(function(H){H(Ut(),zl.exports,Gf())})(function(H){H.defineMode("markdown",function(O,K){var ae=H.getMode(O,"text/html"),W=ae.name=="null";function C(ne){if(H.findModeByName){var U=H.findModeByName(ne);U&&(ne=U.mime||U.mimes[0])}var _e=H.getMode(O,ne);return _e.name=="null"?null:_e}K.highlightFormatting===void 0&&(K.highlightFormatting=!1),K.maxBlockquoteDepth===void 0&&(K.maxBlockquoteDepth=0),K.taskLists===void 0&&(K.taskLists=!1),K.strikethrough===void 0&&(K.strikethrough=!1),K.emoji===void 0&&(K.emoji=!1),K.fencedCodeBlockHighlighting===void 0&&(K.fencedCodeBlockHighlighting=!0),K.fencedCodeBlockDefaultMode===void 0&&(K.fencedCodeBlockDefaultMode="text/plain"),K.xml===void 0&&(K.xml=!0),K.tokenTypeOverrides===void 0&&(K.tokenTypeOverrides={});var m={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var g in m)m.hasOwnProperty(g)&&K.tokenTypeOverrides[g]&&(m[g]=K.tokenTypeOverrides[g]);var w=/^([*\-_])(?:\s*\1){2,}\s*$/,k=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,A=/^\[(x| )\](?=\s)/i,y=K.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,S=/^ {0,3}(?:\={1,}|-{2,})\s*$/,L=/^[^#!\[\]*_\\<>` "'(~:]+/,D=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,E=/^\s*\[[^\]]+?\]:.*$/,N=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,F="    ";function s(ne,U,_e){return U.f=U.inline=_e,_e(ne,U)}function p(ne,U,_e){return U.f=U.block=_e,_e(ne,U)}function c(ne){return!ne||!/\S/.test(ne.string)}function _(ne){if(ne.linkTitle=!1,ne.linkHref=!1,ne.linkText=!1,ne.em=!1,ne.strong=!1,ne.strikethrough=!1,ne.quote=0,ne.indentedCode=!1,ne.f==M){var U=W;if(!U){var _e=H.innerMode(ae,ne.htmlState);U=_e.mode.name=="xml"&&_e.state.tagStart===null&&!_e.state.context&&_e.state.tokenize.isInText}U&&(ne.f=$,ne.block=z,ne.htmlState=null)}return ne.trailingSpace=0,ne.trailingSpaceNewLine=!1,ne.prevLine=ne.thisLine,ne.thisLine={stream:null},null}function z(ne,U){var _e=ne.column()===U.indentation,Ne=c(U.prevLine.stream),me=U.indentedCode,ve=U.prevLine.hr,ke=U.list!==!1,Fe=(U.listStack[U.listStack.length-1]||0)+3;U.indentedCode=!1;var qe=U.indentation;if(U.indentationDiff===null&&(U.indentationDiff=U.indentation,ke)){for(U.list=null;qe<U.listStack[U.listStack.length-1];)U.listStack.pop(),U.listStack.length?U.indentation=U.listStack[U.listStack.length-1]:U.list=!1;U.list!==!1&&(U.indentationDiff=qe-U.listStack[U.listStack.length-1])}var Ue=!Ne&&!ve&&!U.prevLine.header&&(!ke||!me)&&!U.prevLine.fencedCodeEnd,Re=(U.list===!1||ve||Ne)&&U.indentation<=Fe&&ne.match(w),ut=null;if(U.indentationDiff>=4&&(me||U.prevLine.fencedCodeEnd||U.prevLine.header||Ne))return ne.skipToEnd(),U.indentedCode=!0,m.code;if(ne.eatSpace())return null;if(_e&&U.indentation<=Fe&&(ut=ne.match(y))&&ut[1].length<=6)return U.quote=0,U.header=ut[1].length,U.thisLine.header=!0,K.highlightFormatting&&(U.formatting="header"),U.f=U.inline,R(U);if(U.indentation<=Fe&&ne.eat(">"))return U.quote=_e?1:U.quote+1,K.highlightFormatting&&(U.formatting="quote"),ne.eatSpace(),R(U);if(!Re&&!U.setext&&_e&&U.indentation<=Fe&&(ut=ne.match(k))){var De=ut[1]?"ol":"ul";return U.indentation=qe+ne.current().length,U.list=!0,U.quote=0,U.listStack.push(U.indentation),U.em=!1,U.strong=!1,U.code=!1,U.strikethrough=!1,K.taskLists&&ne.match(A,!1)&&(U.taskList=!0),U.f=U.inline,K.highlightFormatting&&(U.formatting=["list","list-"+De]),R(U)}else{if(_e&&U.indentation<=Fe&&(ut=ne.match(D,!0)))return U.quote=0,U.fencedEndRE=new RegExp(ut[1]+"+ *$"),U.localMode=K.fencedCodeBlockHighlighting&&C(ut[2]||K.fencedCodeBlockDefaultMode),U.localMode&&(U.localState=H.startState(U.localMode)),U.f=U.block=x,K.highlightFormatting&&(U.formatting="code-block"),U.code=-1,R(U);if(U.setext||(!Ue||!ke)&&!U.quote&&U.list===!1&&!U.code&&!Re&&!E.test(ne.string)&&(ut=ne.lookAhead(1))&&(ut=ut.match(S)))return U.setext?(U.header=U.setext,U.setext=0,ne.skipToEnd(),K.highlightFormatting&&(U.formatting="header")):(U.header=ut[0].charAt(0)=="="?1:2,U.setext=U.header),U.thisLine.header=!0,U.f=U.inline,R(U);if(Re)return ne.skipToEnd(),U.hr=!0,U.thisLine.hr=!0,m.hr;if(ne.peek()==="[")return s(ne,U,J)}return s(ne,U,U.inline)}function M(ne,U){var _e=ae.token(ne,U.htmlState);if(!W){var Ne=H.innerMode(ae,U.htmlState);(Ne.mode.name=="xml"&&Ne.state.tagStart===null&&!Ne.state.context&&Ne.state.tokenize.isInText||U.md_inside&&ne.current().indexOf(">")>-1)&&(U.f=$,U.block=z,U.htmlState=null)}return _e}function x(ne,U){var _e=U.listStack[U.listStack.length-1]||0,Ne=U.indentation<_e,me=_e+3;if(U.fencedEndRE&&U.indentation<=me&&(Ne||ne.match(U.fencedEndRE))){K.highlightFormatting&&(U.formatting="code-block");var ve;return Ne||(ve=R(U)),U.localMode=U.localState=null,U.block=z,U.f=$,U.fencedEndRE=null,U.code=0,U.thisLine.fencedCodeEnd=!0,Ne?p(ne,U,U.block):ve}else return U.localMode?U.localMode.token(ne,U.localState):(ne.skipToEnd(),m.code)}function R(ne){var U=[];if(ne.formatting){U.push(m.formatting),typeof ne.formatting=="string"&&(ne.formatting=[ne.formatting]);for(var _e=0;_e<ne.formatting.length;_e++)U.push(m.formatting+"-"+ne.formatting[_e]),ne.formatting[_e]==="header"&&U.push(m.formatting+"-"+ne.formatting[_e]+"-"+ne.header),ne.formatting[_e]==="quote"&&(!K.maxBlockquoteDepth||K.maxBlockquoteDepth>=ne.quote?U.push(m.formatting+"-"+ne.formatting[_e]+"-"+ne.quote):U.push("error"))}if(ne.taskOpen)return U.push("meta"),U.length?U.join(" "):null;if(ne.taskClosed)return U.push("property"),U.length?U.join(" "):null;if(ne.linkHref?U.push(m.linkHref,"url"):(ne.strong&&U.push(m.strong),ne.em&&U.push(m.em),ne.strikethrough&&U.push(m.strikethrough),ne.emoji&&U.push(m.emoji),ne.linkText&&U.push(m.linkText),ne.code&&U.push(m.code),ne.image&&U.push(m.image),ne.imageAltText&&U.push(m.imageAltText,"link"),ne.imageMarker&&U.push(m.imageMarker)),ne.header&&U.push(m.header,m.header+"-"+ne.header),ne.quote&&(U.push(m.quote),!K.maxBlockquoteDepth||K.maxBlockquoteDepth>=ne.quote?U.push(m.quote+"-"+ne.quote):U.push(m.quote+"-"+K.maxBlockquoteDepth)),ne.list!==!1){var Ne=(ne.listStack.length-1)%3;Ne?Ne===1?U.push(m.list2):U.push(m.list3):U.push(m.list1)}return ne.trailingSpaceNewLine?U.push("trailing-space-new-line"):ne.trailingSpace&&U.push("trailing-space-"+(ne.trailingSpace%2?"a":"b")),U.length?U.join(" "):null}function X(ne,U){if(ne.match(L,!0))return R(U)}function $(ne,U){var _e=U.text(ne,U);if(typeof _e!="undefined")return _e;if(U.list)return U.list=null,R(U);if(U.taskList){var Ne=ne.match(A,!0)[1]===" ";return Ne?U.taskOpen=!0:U.taskClosed=!0,K.highlightFormatting&&(U.formatting="task"),U.taskList=!1,R(U)}if(U.taskOpen=!1,U.taskClosed=!1,U.header&&ne.match(/^#+$/,!0))return K.highlightFormatting&&(U.formatting="header"),R(U);var me=ne.next();if(U.linkTitle){U.linkTitle=!1;var ve=me;me==="("&&(ve=")"),ve=(ve+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var ke="^\\s*(?:[^"+ve+"\\\\]+|\\\\\\\\|\\\\.)"+ve;if(ne.match(new RegExp(ke),!0))return m.linkHref}if(me==="`"){var Fe=U.formatting;K.highlightFormatting&&(U.formatting="code"),ne.eatWhile("`");var qe=ne.current().length;if(U.code==0&&(!U.quote||qe==1))return U.code=qe,R(U);if(qe==U.code){var Ue=R(U);return U.code=0,Ue}else return U.formatting=Fe,R(U)}else if(U.code)return R(U);if(me==="\\"&&(ne.next(),K.highlightFormatting)){var Re=R(U),ut=m.formatting+"-escape";return Re?Re+" "+ut:ut}if(me==="!"&&ne.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return U.imageMarker=!0,U.image=!0,K.highlightFormatting&&(U.formatting="image"),R(U);if(me==="["&&U.imageMarker&&ne.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return U.imageMarker=!1,U.imageAltText=!0,K.highlightFormatting&&(U.formatting="image"),R(U);if(me==="]"&&U.imageAltText){K.highlightFormatting&&(U.formatting="image");var Re=R(U);return U.imageAltText=!1,U.image=!1,U.inline=U.f=I,Re}if(me==="["&&!U.image)return U.linkText&&ne.match(/^.*?\]/)||(U.linkText=!0,K.highlightFormatting&&(U.formatting="link")),R(U);if(me==="]"&&U.linkText){K.highlightFormatting&&(U.formatting="link");var Re=R(U);return U.linkText=!1,U.inline=U.f=ne.match(/\(.*?\)| ?\[.*?\]/,!1)?I:$,Re}if(me==="<"&&ne.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=Z,K.highlightFormatting&&(U.formatting="link");var Re=R(U);return Re?Re+=" ":Re="",Re+m.linkInline}if(me==="<"&&ne.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=Z,K.highlightFormatting&&(U.formatting="link");var Re=R(U);return Re?Re+=" ":Re="",Re+m.linkEmail}if(K.xml&&me==="<"&&ne.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var De=ne.string.indexOf(">",ne.pos);if(De!=-1){var Pt=ne.string.substring(ne.start,De);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Pt)&&(U.md_inside=!0)}return ne.backUp(1),U.htmlState=H.startState(ae),p(ne,U,M)}if(K.xml&&me==="<"&&ne.match(/^\/\w*?>/))return U.md_inside=!1,"tag";if(me==="*"||me==="_"){for(var Ct=1,_t=ne.pos==1?" ":ne.string.charAt(ne.pos-2);Ct<3&&ne.eat(me);)Ct++;var le=ne.peek()||" ",fe=!/\s/.test(le)&&(!N.test(le)||/\s/.test(_t)||N.test(_t)),We=!/\s/.test(_t)&&(!N.test(_t)||/\s/.test(le)||N.test(le)),Tt=null,we=null;if(Ct%2&&(!U.em&&fe&&(me==="*"||!We||N.test(_t))?Tt=!0:U.em==me&&We&&(me==="*"||!fe||N.test(le))&&(Tt=!1)),Ct>1&&(!U.strong&&fe&&(me==="*"||!We||N.test(_t))?we=!0:U.strong==me&&We&&(me==="*"||!fe||N.test(le))&&(we=!1)),we!=null||Tt!=null){K.highlightFormatting&&(U.formatting=Tt==null?"strong":we==null?"em":"strong em"),Tt===!0&&(U.em=me),we===!0&&(U.strong=me);var Ue=R(U);return Tt===!1&&(U.em=!1),we===!1&&(U.strong=!1),Ue}}else if(me===" "&&(ne.eat("*")||ne.eat("_"))){if(ne.peek()===" ")return R(U);ne.backUp(1)}if(K.strikethrough){if(me==="~"&&ne.eatWhile(me)){if(U.strikethrough){K.highlightFormatting&&(U.formatting="strikethrough");var Ue=R(U);return U.strikethrough=!1,Ue}else if(ne.match(/^[^\s]/,!1))return U.strikethrough=!0,K.highlightFormatting&&(U.formatting="strikethrough"),R(U)}else if(me===" "&&ne.match("~~",!0)){if(ne.peek()===" ")return R(U);ne.backUp(2)}}if(K.emoji&&me===":"&&ne.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){U.emoji=!0,K.highlightFormatting&&(U.formatting="emoji");var Pe=R(U);return U.emoji=!1,Pe}return me===" "&&(ne.match(/^ +$/,!1)?U.trailingSpace++:U.trailingSpace&&(U.trailingSpaceNewLine=!0)),R(U)}function Z(ne,U){var _e=ne.next();if(_e===">"){U.f=U.inline=$,K.highlightFormatting&&(U.formatting="link");var Ne=R(U);return Ne?Ne+=" ":Ne="",Ne+m.linkInline}return ne.match(/^[^>]+/,!0),m.linkInline}function I(ne,U){if(ne.eatSpace())return null;var _e=ne.next();return _e==="("||_e==="["?(U.f=U.inline=Y(_e==="("?")":"]"),K.highlightFormatting&&(U.formatting="link-string"),U.linkHref=!0,R(U)):"error"}var B={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function Y(ne){return function(U,_e){var Ne=U.next();if(Ne===ne){_e.f=_e.inline=$,K.highlightFormatting&&(_e.formatting="link-string");var me=R(_e);return _e.linkHref=!1,me}return U.match(B[ne]),_e.linkHref=!0,R(_e)}}function J(ne,U){return ne.match(/^([^\]\\]|\\.)*\]:/,!1)?(U.f=te,ne.next(),K.highlightFormatting&&(U.formatting="link"),U.linkText=!0,R(U)):s(ne,U,$)}function te(ne,U){if(ne.match("]:",!0)){U.f=U.inline=ye,K.highlightFormatting&&(U.formatting="link");var _e=R(U);return U.linkText=!1,_e}return ne.match(/^([^\]\\]|\\.)+/,!0),m.linkText}function ye(ne,U){return ne.eatSpace()?null:(ne.match(/^[^\s]+/,!0),ne.peek()===void 0?U.linkTitle=!0:ne.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),U.f=U.inline=$,m.linkHref+" url")}var ie={startState:function(){return{f:z,prevLine:{stream:null},thisLine:{stream:null},block:z,htmlState:null,indentation:0,inline:$,text:X,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(ne){return{f:ne.f,prevLine:ne.prevLine,thisLine:ne.thisLine,block:ne.block,htmlState:ne.htmlState&&H.copyState(ae,ne.htmlState),indentation:ne.indentation,localMode:ne.localMode,localState:ne.localMode?H.copyState(ne.localMode,ne.localState):null,inline:ne.inline,text:ne.text,formatting:!1,linkText:ne.linkText,linkTitle:ne.linkTitle,linkHref:ne.linkHref,code:ne.code,em:ne.em,strong:ne.strong,strikethrough:ne.strikethrough,emoji:ne.emoji,header:ne.header,setext:ne.setext,hr:ne.hr,taskList:ne.taskList,list:ne.list,listStack:ne.listStack.slice(0),quote:ne.quote,indentedCode:ne.indentedCode,trailingSpace:ne.trailingSpace,trailingSpaceNewLine:ne.trailingSpaceNewLine,md_inside:ne.md_inside,fencedEndRE:ne.fencedEndRE}},token:function(ne,U){if(U.formatting=!1,ne!=U.thisLine.stream){if(U.header=0,U.hr=!1,ne.match(/^\s*$/,!0))return _(U),null;if(U.prevLine=U.thisLine,U.thisLine={stream:ne},U.taskList=!1,U.trailingSpace=0,U.trailingSpaceNewLine=!1,!U.localState&&(U.f=U.block,U.f!=M)){var _e=ne.match(/^\s*/,!0)[0].replace(/\t/g,F).length;if(U.indentation=_e,U.indentationDiff=null,_e>0)return null}}return U.f(ne,U)},innerMode:function(ne){return ne.block==M?{state:ne.htmlState,mode:ae}:ne.localState?{state:ne.localState,mode:ne.localMode}:{state:ne,mode:ie}},indent:function(ne,U,_e){return ne.block==M&&ae.indent?ae.indent(ne.htmlState,U,_e):ne.localState&&ne.localMode.indent?ne.localMode.indent(ne.localState,U,_e):H.Pass},blankLine:_,getType:R,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ie},"xml"),H.defineMIME("text/markdown","markdown"),H.defineMIME("text/x-markdown","markdown")})})();(function(b,ce){(function(H){H(Ut())})(function(H){function O(g){return new RegExp("^(("+g.join(")|(")+"))\\b")}var K=O(["and","or","not","is"]),ae=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in","False","True"],W=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];H.registerHelper("hintWords","python",ae.concat(W).concat(["exec","print"]));function C(g){return g.scopes[g.scopes.length-1]}H.defineMode("python",function(g,w){for(var k="error",A=w.delimiters||w.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,y=[w.singleOperators,w.doubleOperators,w.doubleDelimiters,w.tripleDelimiters,w.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],S=0;S<y.length;S++)y[S]||y.splice(S--,1);var L=w.hangingIndent||g.indentUnit,D=ae,E=W;w.extra_keywords!=null&&(D=D.concat(w.extra_keywords)),w.extra_builtins!=null&&(E=E.concat(w.extra_builtins));var N=!(w.version&&Number(w.version)<3);if(N){var F=w.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;D=D.concat(["nonlocal","None","aiter","anext","async","await","breakpoint","match","case"]),E=E.concat(["ascii","bytes","exec","print"]);var s=new RegExp(`^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|"{3}|['"]))`,"i")}else{var F=w.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;D=D.concat(["exec","print"]),E=E.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","None"]);var s=new RegExp(`^(([rubf]|(ur)|(br))?('{3}|"{3}|['"]))`,"i")}var p=O(D),c=O(E);function _(B,Y){var J=B.sol()&&Y.lastToken!="\\";if(J&&(Y.indent=B.indentation()),J&&C(Y).type=="py"){var te=C(Y).offset;if(B.eatSpace()){var ye=B.indentation();return ye>te?R(Y):ye<te&&$(B,Y)&&B.peek()!="#"&&(Y.errorToken=!0),null}else{var ie=z(B,Y);return te>0&&$(B,Y)&&(ie+=" "+k),ie}}return z(B,Y)}function z(B,Y,J){if(B.eatSpace())return null;if(!J&&B.match(/^#.*/))return"comment";if(B.match(/^[0-9\.]/,!1)){var te=!1;if(B.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(te=!0),B.match(/^[\d_]+\.\d*/)&&(te=!0),B.match(/^\.\d+/)&&(te=!0),te)return B.eat(/J/i),"number";var ye=!1;if(B.match(/^0x[0-9a-f_]+/i)&&(ye=!0),B.match(/^0b[01_]+/i)&&(ye=!0),B.match(/^0o[0-7_]+/i)&&(ye=!0),B.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(B.eat(/J/i),ye=!0),B.match(/^0(?![\dx])/i)&&(ye=!0),ye)return B.eat(/L/i),"number"}if(B.match(s)){var ie=B.current().toLowerCase().indexOf("f")!==-1;return ie?(Y.tokenize=M(B.current(),Y.tokenize),Y.tokenize(B,Y)):(Y.tokenize=x(B.current(),Y.tokenize),Y.tokenize(B,Y))}for(var ne=0;ne<y.length;ne++)if(B.match(y[ne]))return"operator";return B.match(A)?"punctuation":Y.lastToken=="."&&B.match(F)?"property":B.match(p)||B.match(K)?"keyword":B.match(c)?"builtin":B.match(/^(self|cls)\b/)?"variable-2":B.match(F)?Y.lastToken=="def"||Y.lastToken=="class"?"def":"variable":(B.next(),J?null:k)}function M(B,Y){for(;"rubf".indexOf(B.charAt(0).toLowerCase())>=0;)B=B.substr(1);var J=B.length==1,te="string";function ye(ne){return function(U,_e){var Ne=z(U,_e,!0);return Ne=="punctuation"&&(U.current()=="{"?_e.tokenize=ye(ne+1):U.current()=="}"&&(ne>1?_e.tokenize=ye(ne-1):_e.tokenize=ie)),Ne}}function ie(ne,U){for(;!ne.eol();)if(ne.eatWhile(/[^'"\{\}\\]/),ne.eat("\\")){if(ne.next(),J&&ne.eol())return te}else{if(ne.match(B))return U.tokenize=Y,te;if(ne.match("{{"))return te;if(ne.match("{",!1))return U.tokenize=ye(0),ne.current()?te:U.tokenize(ne,U);if(ne.match("}}"))return te;if(ne.match("}"))return k;ne.eat(/['"]/)}if(J){if(w.singleLineStringErrors)return k;U.tokenize=Y}return te}return ie.isString=!0,ie}function x(B,Y){for(;"rubf".indexOf(B.charAt(0).toLowerCase())>=0;)B=B.substr(1);var J=B.length==1,te="string";function ye(ie,ne){for(;!ie.eol();)if(ie.eatWhile(/[^'"\\]/),ie.eat("\\")){if(ie.next(),J&&ie.eol())return te}else{if(ie.match(B))return ne.tokenize=Y,te;ie.eat(/['"]/)}if(J){if(w.singleLineStringErrors)return k;ne.tokenize=Y}return te}return ye.isString=!0,ye}function R(B){for(;C(B).type!="py";)B.scopes.pop();B.scopes.push({offset:C(B).offset+g.indentUnit,type:"py",align:null})}function X(B,Y,J){var te=B.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:B.column()+1;Y.scopes.push({offset:Y.indent+L,type:J,align:te})}function $(B,Y){for(var J=B.indentation();Y.scopes.length>1&&C(Y).offset>J;){if(C(Y).type!="py")return!0;Y.scopes.pop()}return C(Y).offset!=J}function Z(B,Y){B.sol()&&(Y.beginningOfLine=!0,Y.dedent=!1);var J=Y.tokenize(B,Y),te=B.current();if(Y.beginningOfLine&&te=="@")return B.match(F,!1)?"meta":N?"operator":k;if(/\S/.test(te)&&(Y.beginningOfLine=!1),(J=="variable"||J=="builtin")&&Y.lastToken=="meta"&&(J="meta"),(te=="pass"||te=="return")&&(Y.dedent=!0),te=="lambda"&&(Y.lambda=!0),te==":"&&!Y.lambda&&C(Y).type=="py"&&B.match(/^\s*(?:#|$)/,!1)&&R(Y),te.length==1&&!/string|comment/.test(J)){var ye="[({".indexOf(te);if(ye!=-1&&X(B,Y,"])}".slice(ye,ye+1)),ye="])}".indexOf(te),ye!=-1)if(C(Y).type==te)Y.indent=Y.scopes.pop().offset-L;else return k}return Y.dedent&&B.eol()&&C(Y).type=="py"&&Y.scopes.length>1&&Y.scopes.pop(),J}var I={startState:function(B){return{tokenize:_,scopes:[{offset:B||0,type:"py",align:null}],indent:B||0,lastToken:null,lambda:!1,dedent:0}},token:function(B,Y){var J=Y.errorToken;J&&(Y.errorToken=!1);var te=Z(B,Y);return te&&te!="comment"&&(Y.lastToken=te=="keyword"||te=="punctuation"?B.current():te),te=="punctuation"&&(te=null),B.eol()&&Y.lambda&&(Y.lambda=!1),J?te+" "+k:te},indent:function(B,Y){if(B.tokenize!=_)return B.tokenize.isString?H.Pass:0;var J=C(B),te=J.type==Y.charAt(0)||J.type=="py"&&!B.dedent&&/^(else:|elif |except |finally:)/.test(Y);return J.align!=null?J.align-(te?1:0):J.offset-(te?L:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:`'"`},lineComment:"#",fold:"indent"};return I}),H.defineMIME("text/x-python","python");var m=function(g){return g.split(" ")};H.defineMIME("text/x-cython",{name:"python",extra_keywords:m("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})})})();(function(b,ce){(function(H){H(Ut())})(function(H){H.registerHelper("wordChars","r",/[\w.]/),H.defineMode("r",function(O){function K(_){for(var z={},M=0;M<_.length;++M)z[_[M]]=!0;return z}var ae=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"],W=["list","quote","bquote","eval","return","call","parse","deparse"],C=["if","else","repeat","while","function","for","in","next","break"],m=["if","else","repeat","while","function","for"];H.registerHelper("hintWords","r",ae.concat(W,C));var g=K(ae),w=K(W),k=K(C),A=K(m),y=/[+\-*\/^<>=!&|~$:]/,S;function L(_,z){S=null;var M=_.next();if(M=="#")return _.skipToEnd(),"comment";if(M=="0"&&_.eat("x"))return _.eatWhile(/[\da-f]/i),"number";if(M=="."&&_.eat(/\d/))return _.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(M))return _.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if(M=="'"||M=='"')return z.tokenize=D(M),"string";if(M=="`")return _.match(/[^`]+`/),"variable-3";if(M=="."&&_.match(/.(?:[.]|\d+)/))return"keyword";if(/[a-zA-Z\.]/.test(M)){_.eatWhile(/[\w\.]/);var x=_.current();return g.propertyIsEnumerable(x)?"atom":k.propertyIsEnumerable(x)?(A.propertyIsEnumerable(x)&&!_.match(/\s*if(\s+|$)/,!1)&&(S="block"),"keyword"):w.propertyIsEnumerable(x)?"builtin":"variable"}else return M=="%"?(_.skipTo("%")&&_.next(),"operator variable-2"):M=="<"&&_.eat("-")||M=="<"&&_.match("<-")||M=="-"&&_.match(/>>?/)?"operator arrow":M=="="&&z.ctx.argList?"arg-is":y.test(M)?M=="$"?"operator dollar":(_.eatWhile(y),"operator"):/[\(\){}\[\];]/.test(M)?(S=M,M==";"?"semi":null):null}function D(_){return function(z,M){if(z.eat("\\")){var x=z.next();return x=="x"?z.match(/^[a-f0-9]{2}/i):(x=="u"||x=="U")&&z.eat("{")&&z.skipTo("}")?z.next():x=="u"?z.match(/^[a-f0-9]{4}/i):x=="U"?z.match(/^[a-f0-9]{8}/i):/[0-7]/.test(x)&&z.match(/^[0-7]{1,2}/),"string-2"}else{for(var R;(R=z.next())!=null;){if(R==_){M.tokenize=L;break}if(R=="\\"){z.backUp(1);break}}return"string"}}}var E=1,N=2,F=4;function s(_,z,M){_.ctx={type:z,indent:_.indent,flags:0,column:M.column(),prev:_.ctx}}function p(_,z){var M=_.ctx;_.ctx={type:M.type,indent:M.indent,flags:M.flags|z,column:M.column,prev:M.prev}}function c(_){_.indent=_.ctx.indent,_.ctx=_.ctx.prev}return{startState:function(){return{tokenize:L,ctx:{type:"top",indent:-O.indentUnit,flags:N},indent:0,afterIdent:!1}},token:function(_,z){if(_.sol()&&((z.ctx.flags&3)==0&&(z.ctx.flags|=N),z.ctx.flags&F&&c(z),z.indent=_.indentation()),_.eatSpace())return null;var M=z.tokenize(_,z);return M!="comment"&&(z.ctx.flags&N)==0&&p(z,E),(S==";"||S=="{"||S=="}")&&z.ctx.type=="block"&&c(z),S=="{"?s(z,"}",_):S=="("?(s(z,")",_),z.afterIdent&&(z.ctx.argList=!0)):S=="["?s(z,"]",_):S=="block"?s(z,"block",_):S==z.ctx.type?c(z):z.ctx.type=="block"&&M!="comment"&&p(z,F),z.afterIdent=M=="variable"||M=="keyword",M},indent:function(_,z){if(_.tokenize!=L)return 0;var M=z&&z.charAt(0),x=_.ctx,R=M==x.type;return x.flags&F&&(x=x.prev),x.type=="block"?x.indent+(M=="{"?0:O.indentUnit):x.flags&E?x.column+(R?0:1):x.indent+(R?0:O.indentUnit)},lineComment:"#"}}),H.defineMIME("text/x-rsrc","r")})})();(function(b,ce){(function(H){H(Ut())})(function(H){H.defineMode("shell",function(){var O={};function K(S,L){for(var D=0;D<L.length;D++)O[L[D]]=S}var ae=["true","false"],W=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],C=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];H.registerHelper("hintWords","shell",ae.concat(W,C)),K("atom",ae),K("keyword",W),K("builtin",C);function m(S,L){if(S.eatSpace())return null;var D=S.sol(),E=S.next();if(E==="\\")return S.next(),null;if(E==="'"||E==='"'||E==="`")return L.tokens.unshift(g(E,E==="`"?"quote":"string")),y(S,L);if(E==="#")return D&&S.eat("!")?(S.skipToEnd(),"meta"):(S.skipToEnd(),"comment");if(E==="$")return L.tokens.unshift(k),y(S,L);if(E==="+"||E==="=")return"operator";if(E==="-")return S.eat("-"),S.eatWhile(/\w/),"attribute";if(E=="<"){if(S.match("<<"))return"operator";var N=S.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(N)return L.tokens.unshift(A(N[1])),"string-2"}if(/\d/.test(E)&&(S.eatWhile(/\d/),S.eol()||!/\w/.test(S.peek())))return"number";S.eatWhile(/[\w-]/);var F=S.current();return S.peek()==="="&&/\w+/.test(F)?"def":O.hasOwnProperty(F)?O[F]:null}function g(S,L){var D=S=="("?")":S=="{"?"}":S;return function(E,N){for(var F,s=!1;(F=E.next())!=null;){if(F===D&&!s){N.tokens.shift();break}else if(F==="$"&&!s&&S!=="'"&&E.peek()!=D){s=!0,E.backUp(1),N.tokens.unshift(k);break}else{if(!s&&S!==D&&F===S)return N.tokens.unshift(g(S,L)),y(E,N);if(!s&&/['"]/.test(F)&&!/['"]/.test(S)){N.tokens.unshift(w(F,"string")),E.backUp(1);break}}s=!s&&F==="\\"}return L}}function w(S,L){return function(D,E){return E.tokens[0]=g(S,L),D.next(),y(D,E)}}var k=function(S,L){L.tokens.length>1&&S.eat("$");var D=S.next();return/['"({]/.test(D)?(L.tokens[0]=g(D,D=="("?"quote":D=="{"?"def":"string"),y(S,L)):(/\d/.test(D)||S.eatWhile(/\w/),L.tokens.shift(),"def")};function A(S){return function(L,D){return L.sol()&&L.string==S&&D.tokens.shift(),L.skipToEnd(),"string-2"}}function y(S,L){return(L.tokens[0]||m)(S,L)}return{startState:function(){return{tokens:[]}},token:function(S,L){return y(S,L)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),H.defineMIME("text/x-sh","shell"),H.defineMIME("application/x-sh","shell")})})();(function(b,ce){(function(H){H(Ut())})(function(H){H.defineMode("sql",function(w,k){var A=k.client||{},y=k.atoms||{false:!0,true:!0,null:!0},S=k.builtin||m(g),L=k.keywords||m(C),D=k.operatorChars||/^[*+\-%<>!=&|~^\/]/,E=k.support||{},N=k.hooks||{},F=k.dateSQL||{date:!0,time:!0,timestamp:!0},s=k.backslashStringEscapes!==!1,p=k.brackets||/^[\{}\(\)\[\]]/,c=k.punctuation||/^[;.,:]/;function _(X,$){var Z=X.next();if(N[Z]){var I=N[Z](X,$);if(I!==!1)return I}if(E.hexNumber&&(Z=="0"&&X.match(/^[xX][0-9a-fA-F]+/)||(Z=="x"||Z=="X")&&X.match(/^'[0-9a-fA-F]*'/)))return"number";if(E.binaryNumber&&((Z=="b"||Z=="B")&&X.match(/^'[01]*'/)||Z=="0"&&X.match(/^b[01]+/)))return"number";if(Z.charCodeAt(0)>47&&Z.charCodeAt(0)<58)return X.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),E.decimallessFloat&&X.match(/^\.(?!\.)/),"number";if(Z=="?"&&(X.eatSpace()||X.eol()||X.eat(";")))return"variable-3";if(Z=="'"||Z=='"'&&E.doubleQuote)return $.tokenize=z(Z),$.tokenize(X,$);if((E.nCharCast&&(Z=="n"||Z=="N")||E.charsetCast&&Z=="_"&&X.match(/[a-z][a-z0-9]*/i))&&(X.peek()=="'"||X.peek()=='"'))return"keyword";if(E.escapeConstant&&(Z=="e"||Z=="E")&&(X.peek()=="'"||X.peek()=='"'&&E.doubleQuote))return $.tokenize=function(Y,J){return(J.tokenize=z(Y.next(),!0))(Y,J)},"keyword";if(E.commentSlashSlash&&Z=="/"&&X.eat("/"))return X.skipToEnd(),"comment";if(E.commentHash&&Z=="#"||Z=="-"&&X.eat("-")&&(!E.commentSpaceRequired||X.eat(" ")))return X.skipToEnd(),"comment";if(Z=="/"&&X.eat("*"))return $.tokenize=M(1),$.tokenize(X,$);if(Z=="."){if(E.zerolessFloat&&X.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(X.match(/^\.+/))return null;if(X.match(/^[\w\d_$#]+/))return"variable-2"}else{if(D.test(Z))return X.eatWhile(D),"operator";if(p.test(Z))return"bracket";if(c.test(Z))return X.eatWhile(c),"punctuation";if(Z=="{"&&(X.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||X.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";X.eatWhile(/^[_\w\d]/);var B=X.current().toLowerCase();return F.hasOwnProperty(B)&&(X.match(/^( )+'[^']*'/)||X.match(/^( )+"[^"]*"/))?"number":y.hasOwnProperty(B)?"atom":S.hasOwnProperty(B)?"type":L.hasOwnProperty(B)?"keyword":A.hasOwnProperty(B)?"builtin":null}}function z(X,$){return function(Z,I){for(var B=!1,Y;(Y=Z.next())!=null;){if(Y==X&&!B){I.tokenize=_;break}B=(s||$)&&!B&&Y=="\\"}return"string"}}function M(X){return function($,Z){var I=$.match(/^.*?(\/\*|\*\/)/);return I?I[1]=="/*"?Z.tokenize=M(X+1):X>1?Z.tokenize=M(X-1):Z.tokenize=_:$.skipToEnd(),"comment"}}function x(X,$,Z){$.context={prev:$.context,indent:X.indentation(),col:X.column(),type:Z}}function R(X){X.indent=X.context.indent,X.context=X.context.prev}return{startState:function(){return{tokenize:_,context:null}},token:function(X,$){if(X.sol()&&$.context&&$.context.align==null&&($.context.align=!1),$.tokenize==_&&X.eatSpace())return null;var Z=$.tokenize(X,$);if(Z=="comment")return Z;$.context&&$.context.align==null&&($.context.align=!0);var I=X.current();return I=="("?x(X,$,")"):I=="["?x(X,$,"]"):$.context&&$.context.type==I&&R($),Z},indent:function(X,$){var Z=X.context;if(!Z)return H.Pass;var I=$.charAt(0)==Z.type;return Z.align?Z.col+(I?0:1):Z.indent+(I?0:w.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:E.commentSlashSlash?"//":E.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``",config:k}});function O(w){for(var k;(k=w.next())!=null;)if(k=="`"&&!w.eat("`"))return"variable-2";return w.backUp(w.current().length-1),w.eatWhile(/\w/)?"variable-2":null}function K(w){for(var k;(k=w.next())!=null;)if(k=='"'&&!w.eat('"'))return"variable-2";return w.backUp(w.current().length-1),w.eatWhile(/\w/)?"variable-2":null}function ae(w){return w.eat("@")&&(w.match("session."),w.match("local."),w.match("global.")),w.eat("'")?(w.match(/^.*'/),"variable-2"):w.eat('"')?(w.match(/^.*"/),"variable-2"):w.eat("`")?(w.match(/^.*`/),"variable-2"):w.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function W(w){return w.eat("N")?"atom":w.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var C="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function m(w){for(var k={},A=w.split(" "),y=0;y<A.length;++y)k[A[y]]=!0;return k}var g="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";H.defineMIME("text/x-sql",{name:"sql",keywords:m(C+"begin"),builtin:m(g),atoms:m("false true null unknown"),dateSQL:m("date time timestamp"),support:m("doubleQuote binaryNumber hexNumber")}),H.defineMIME("text/x-mssql",{name:"sql",client:m("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:m(C+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:m("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:m("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:m("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":ae}}),H.defineMIME("text/x-mysql",{name:"sql",client:m("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:m(C+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:m("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:m("date time timestamp"),support:m("decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":ae,"`":O,"\\":W}}),H.defineMIME("text/x-mariadb",{name:"sql",client:m("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:m(C+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group group_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:m("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:m("date time timestamp"),support:m("decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":ae,"`":O,"\\":W}}),H.defineMIME("text/x-sqlite",{name:"sql",client:m("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:m(C+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:m("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:m("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:m("date time timestamp datetime"),support:m("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":ae,":":ae,"?":ae,$:ae,'"':K,"`":O}}),H.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:m("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:m("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:m("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:m("commentSlashSlash decimallessFloat"),hooks:{}}),H.defineMIME("text/x-plsql",{name:"sql",client:m("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:m("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:m("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:m("date time timestamp"),support:m("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),H.defineMIME("text/x-hive",{name:"sql",keywords:m("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:m("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:m("date timestamp"),support:m("doubleQuote binaryNumber hexNumber")}),H.defineMIME("text/x-pgsql",{name:"sql",client:m("source"),keywords:m(C+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:m("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time zone timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:m("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:m("date time timestamp"),support:m("decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),H.defineMIME("text/x-gql",{name:"sql",keywords:m("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:m("false true"),builtin:m("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),H.defineMIME("text/x-gpsql",{name:"sql",client:m("source"),keywords:m("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:m("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:m("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:m("date time timestamp"),support:m("decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),H.defineMIME("text/x-sparksql",{name:"sql",keywords:m("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases data dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:m("abs acos acosh add_months aggregate and any approx_count_distinct approx_percentile array array_contains array_distinct array_except array_intersect array_join array_max array_min array_position array_remove array_repeat array_sort array_union arrays_overlap arrays_zip ascii asin asinh assert_true atan atan2 atanh avg base64 between bigint bin binary bit_and bit_count bit_get bit_length bit_or bit_xor bool_and bool_or boolean bround btrim cardinality case cast cbrt ceil ceiling char char_length character_length chr coalesce collect_list collect_set concat concat_ws conv corr cos cosh cot count count_if count_min_sketch covar_pop covar_samp crc32 cume_dist current_catalog current_database current_date current_timestamp current_timezone current_user date date_add date_format date_from_unix_date date_part date_sub date_trunc datediff day dayofmonth dayofweek dayofyear decimal decode degrees delimited dense_rank div double e element_at elt encode every exists exp explode explode_outer expm1 extract factorial filter find_in_set first first_value flatten float floor forall format_number format_string from_csv from_json from_unixtime from_utc_timestamp get_json_object getbit greatest grouping grouping_id hash hex hour hypot if ifnull in initcap inline inline_outer input_file_block_length input_file_block_start input_file_name inputformat instr int isnan isnotnull isnull java_method json_array_length json_object_keys json_tuple kurtosis lag last last_day last_value lcase lead least left length levenshtein like ln locate log log10 log1p log2 lower lpad ltrim make_date make_dt_interval make_interval make_timestamp make_ym_interval map map_concat map_entries map_filter map_from_arrays map_from_entries map_keys map_values map_zip_with max max_by md5 mean min min_by minute mod monotonically_increasing_id month months_between named_struct nanvl negative next_day not now nth_value ntile nullif nvl nvl2 octet_length or outputformat overlay parse_url percent_rank percentile percentile_approx pi pmod posexplode posexplode_outer position positive pow power printf quarter radians raise_error rand randn random rank rcfile reflect regexp regexp_extract regexp_extract_all regexp_like regexp_replace repeat replace reverse right rint rlike round row_number rpad rtrim schema_of_csv schema_of_json second sentences sequence sequencefile serde session_window sha sha1 sha2 shiftleft shiftright shiftrightunsigned shuffle sign signum sin sinh size skewness slice smallint some sort_array soundex space spark_partition_id split sqrt stack std stddev stddev_pop stddev_samp str_to_map string struct substr substring substring_index sum tan tanh textfile timestamp timestamp_micros timestamp_millis timestamp_seconds tinyint to_csv to_date to_json to_timestamp to_unix_timestamp to_utc_timestamp transform transform_keys transform_values translate trim trunc try_add try_divide typeof ucase unbase64 unhex uniontype unix_date unix_micros unix_millis unix_seconds unix_timestamp upper uuid var_pop var_samp variance version weekday weekofyear when width_bucket window xpath xpath_boolean xpath_double xpath_float xpath_int xpath_long xpath_number xpath_short xpath_string xxhash64 year zip_with"),atoms:m("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:m("date time timestamp"),support:m("doubleQuote zerolessFloat")}),H.defineMIME("text/x-esper",{name:"sql",client:m("source"),keywords:m("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:m("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:m("time"),support:m("decimallessFloat zerolessFloat binaryNumber hexNumber")}),H.defineMIME("text/x-trino",{name:"sql",keywords:m("abs absent acos add admin after all all_match alter analyze and any any_match approx_distinct approx_most_frequent approx_percentile approx_set arbitrary array_agg array_distinct array_except array_intersect array_join array_max array_min array_position array_remove array_sort array_union arrays_overlap as asc asin at at_timezone atan atan2 authorization avg bar bernoulli beta_cdf between bing_tile bing_tile_at bing_tile_coordinates bing_tile_polygon bing_tile_quadkey bing_tile_zoom_level bing_tiles_around bit_count bitwise_and bitwise_and_agg bitwise_left_shift bitwise_not bitwise_or bitwise_or_agg bitwise_right_shift bitwise_right_shift_arithmetic bitwise_xor bool_and bool_or both by call cardinality cascade case cast catalogs cbrt ceil ceiling char2hexint checksum chr classify coalesce codepoint column columns combinations comment commit committed concat concat_ws conditional constraint contains contains_sequence convex_hull_agg copartition corr cos cosh cosine_similarity count count_if covar_pop covar_samp crc32 create cross cube cume_dist current current_catalog current_date current_groups current_path current_role current_schema current_time current_timestamp current_timezone current_user data date_add date_diff date_format date_parse date_trunc day day_of_month day_of_week day_of_year deallocate default define definer degrees delete dense_rank deny desc describe descriptor distinct distributed dow doy drop e element_at else empty empty_approx_set encoding end error escape evaluate_classifier_predictions every except excluding execute exists exp explain extract false features fetch filter final first first_value flatten floor following for format format_datetime format_number from from_base from_base32 from_base64 from_base64url from_big_endian_32 from_big_endian_64 from_encoded_polyline from_geojson_geometry from_hex from_ieee754_32 from_ieee754_64 from_iso8601_date from_iso8601_timestamp from_iso8601_timestamp_nanos from_unixtime from_unixtime_nanos from_utf8 full functions geometric_mean geometry_from_hadoop_shape geometry_invalid_reason geometry_nearest_points geometry_to_bing_tiles geometry_union geometry_union_agg grant granted grants graphviz great_circle_distance greatest group grouping groups hamming_distance hash_counts having histogram hmac_md5 hmac_sha1 hmac_sha256 hmac_sha512 hour human_readable_seconds if ignore in including index infinity initial inner input insert intersect intersection_cardinality into inverse_beta_cdf inverse_normal_cdf invoker io is is_finite is_infinite is_json_scalar is_nan isolation jaccard_index join json_array json_array_contains json_array_get json_array_length json_exists json_extract json_extract_scalar json_format json_object json_parse json_query json_size json_value keep key keys kurtosis lag last last_day_of_month last_value lateral lead leading learn_classifier learn_libsvm_classifier learn_libsvm_regressor learn_regressor least left length level levenshtein_distance like limit line_interpolate_point line_interpolate_points line_locate_point listagg ln local localtime localtimestamp log log10 log2 logical lower lpad ltrim luhn_check make_set_digest map_agg map_concat map_entries map_filter map_from_entries map_keys map_union map_values map_zip_with match match_recognize matched matches materialized max max_by md5 measures merge merge_set_digest millisecond min min_by minute mod month multimap_agg multimap_from_entries murmur3 nan natural next nfc nfd nfkc nfkd ngrams no none none_match normal_cdf normalize not now nth_value ntile null nullif nulls numeric_histogram object objectid_timestamp of offset omit on one only option or order ordinality outer output over overflow parse_data_size parse_datetime parse_duration partition partitions passing past path pattern per percent_rank permute pi position pow power preceding prepare privileges properties prune qdigest_agg quarter quotes radians rand random range rank read recursive reduce reduce_agg refresh regexp_count regexp_extract regexp_extract_all regexp_like regexp_position regexp_replace regexp_split regr_intercept regr_slope regress rename render repeat repeatable replace reset respect restrict returning reverse revoke rgb right role roles rollback rollup round row_number rows rpad rtrim running scalar schema schemas second security seek select sequence serializable session set sets sha1 sha256 sha512 show shuffle sign simplify_geometry sin skewness skip slice some soundex spatial_partitioning spatial_partitions split split_part split_to_map split_to_multimap spooky_hash_v2_32 spooky_hash_v2_64 sqrt st_area st_asbinary st_astext st_boundary st_buffer st_centroid st_contains st_convexhull st_coorddim st_crosses st_difference st_dimension st_disjoint st_distance st_endpoint st_envelope st_envelopeaspts st_equals st_exteriorring st_geometries st_geometryfromtext st_geometryn st_geometrytype st_geomfrombinary st_interiorringn st_interiorrings st_intersection st_intersects st_isclosed st_isempty st_isring st_issimple st_isvalid st_length st_linefromtext st_linestring st_multipoint st_numgeometries st_numinteriorring st_numpoints st_overlaps st_point st_pointn st_points st_polygon st_relate st_startpoint st_symdifference st_touches st_union st_within st_x st_xmax st_xmin st_y st_ymax st_ymin start starts_with stats stddev stddev_pop stddev_samp string strpos subset substr substring sum system table tables tablesample tan tanh tdigest_agg text then ties timestamp_objectid timezone_hour timezone_minute to to_base to_base32 to_base64 to_base64url to_big_endian_32 to_big_endian_64 to_char to_date to_encoded_polyline to_geojson_geometry to_geometry to_hex to_ieee754_32 to_ieee754_64 to_iso8601 to_milliseconds to_spherical_geography to_timestamp to_unixtime to_utf8 trailing transaction transform transform_keys transform_values translate trim trim_array true truncate try try_cast type typeof uescape unbounded uncommitted unconditional union unique unknown unmatched unnest update upper url_decode url_encode url_extract_fragment url_extract_host url_extract_parameter url_extract_path url_extract_port url_extract_protocol url_extract_query use user using utf16 utf32 utf8 validate value value_at_quantile values values_at_quantiles var_pop var_samp variance verbose version view week week_of_year when where width_bucket wilson_interval_lower wilson_interval_upper window with with_timezone within without word_stem work wrapper write xxhash64 year year_of_week yow zip zip_with"),builtin:m("array bigint bingtile boolean char codepoints color date decimal double function geometry hyperloglog int integer interval ipaddress joniregexp json json2016 jsonpath kdbtree likepattern map model objectid p4hyperloglog precision qdigest re2jregexp real regressor row setdigest smallint sphericalgeography tdigest time timestamp tinyint uuid varbinary varchar zone"),atoms:m("false true null unknown"),operatorChars:/^[[\]|<>=!\-+*/%]/,dateSQL:m("date time timestamp zone"),support:m("decimallessFloat zerolessFloat hexNumber")})})})();(function(b,ce){(function(H){H(Ut())})(function(H){function O(M){for(var x={},R=0;R<M.length;R++)x[M[R]]=!0;return x}var K=O(["_","var","let","actor","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","isolated","nonisolated","catch","do","rethrows","throw","throws","async","await","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),ae=O(["var","let","actor","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),W=O(["true","false","nil","self","super","_"]),C=O(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),m="+-/*%=|&<>~^?!",g=":;,.(){}[]",w=/^\-?0b[01][01_]*/,k=/^\-?0o[0-7][0-7_]*/,A=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,y=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,S=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,L=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,D=/^\#[A-Za-z]+/,E=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function N(M,x,R){if(M.sol()&&(x.indented=M.indentation()),M.eatSpace())return null;var X=M.peek();if(X=="/"){if(M.match("//"))return M.skipToEnd(),"comment";if(M.match("/*"))return x.tokenize.push(p),p(M,x)}if(M.match(D))return"builtin";if(M.match(E))return"attribute";if(M.match(w)||M.match(k)||M.match(A)||M.match(y))return"number";if(M.match(L))return"property";if(m.indexOf(X)>-1)return M.next(),"operator";if(g.indexOf(X)>-1)return M.next(),M.match(".."),"punctuation";var $;if($=M.match(/("""|"|')/)){var Z=s.bind(null,$[0]);return x.tokenize.push(Z),Z(M,x)}if(M.match(S)){var I=M.current();return C.hasOwnProperty(I)?"variable-2":W.hasOwnProperty(I)?"atom":K.hasOwnProperty(I)?(ae.hasOwnProperty(I)&&(x.prev="define"),"keyword"):R=="define"?"def":"variable"}return M.next(),null}function F(){var M=0;return function(x,R,X){var $=N(x,R,X);if($=="punctuation"){if(x.current()=="(")++M;else if(x.current()==")"){if(M==0)return x.backUp(1),R.tokenize.pop(),R.tokenize[R.tokenize.length-1](x,R);--M}}return $}}function s(M,x,R){for(var X=M.length==1,$,Z=!1;$=x.peek();)if(Z){if(x.next(),$=="(")return R.tokenize.push(F()),"string";Z=!1}else{if(x.match(M))return R.tokenize.pop(),"string";x.next(),Z=$=="\\"}return X&&R.tokenize.pop(),"string"}function p(M,x){for(var R;R=M.next();)if(R==="/"&&M.eat("*"))x.tokenize.push(p);else if(R==="*"&&M.eat("/")){x.tokenize.pop();break}return"comment"}function c(M,x,R){this.prev=M,this.align=x,this.indented=R}function _(M,x){var R=x.match(/^\s*($|\/[\/\*])/,!1)?null:x.column()+1;M.context=new c(M.context,R,M.indented)}function z(M){M.context&&(M.indented=M.context.indented,M.context=M.context.prev)}H.defineMode("swift",function(M){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(x,R){var X=R.prev;R.prev=null;var $=R.tokenize[R.tokenize.length-1]||N,Z=$(x,R,X);if(!Z||Z=="comment"?R.prev=X:R.prev||(R.prev=Z),Z=="punctuation"){var I=/[\(\[\{]|([\]\)\}])/.exec(x.current());I&&(I[1]?z:_)(R,x)}return Z},indent:function(x,R){var X=x.context;if(!X)return 0;var $=/^[\]\}\)]/.test(R);return X.align!=null?X.align-($?1:0):X.indented+($?0:M.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}}),H.defineMIME("text/x-swift","swift")})})();var fu={exports:{}},pu;function Jf(){return pu||(pu=1,function(b,ce){(function(H){H(Ut())})(function(H){H.overlayMode=function(O,K,ae){return{startState:function(){return{base:H.startState(O),overlay:H.startState(K),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(W){return{base:H.copyState(O,W.base),overlay:H.copyState(K,W.overlay),basePos:W.basePos,baseCur:null,overlayPos:W.overlayPos,overlayCur:null}},token:function(W,C){return(W!=C.streamSeen||Math.min(C.basePos,C.overlayPos)<W.start)&&(C.streamSeen=W,C.basePos=C.overlayPos=W.start),W.start==C.basePos&&(C.baseCur=O.token(W,C.base),C.basePos=W.pos),W.start==C.overlayPos&&(W.pos=W.start,C.overlayCur=K.token(W,C.overlay),C.overlayPos=W.pos),W.pos=Math.min(C.basePos,C.overlayPos),C.overlayCur==null?C.baseCur:C.baseCur!=null&&C.overlay.combineTokens||ae&&C.overlay.combineTokens==null?C.baseCur+" "+C.overlayCur:C.overlayCur},indent:O.indent&&function(W,C,m){return O.indent(W.base,C,m)},electricChars:O.electricChars,innerMode:function(W){return{state:W.base,mode:O}},blankLine:function(W){var C,m;return O.blankLine&&(C=O.blankLine(W.base)),K.blankLine&&(m=K.blankLine(W.overlay)),m==null?C:ae&&C!=null?C+" "+m:m}}}})}()),fu.exports}var hu={exports:{}},mu;function Xf(){return mu||(mu=1,function(b,ce){(function(H){H(Ut())})(function(H){H.defineMode("coffeescript",function(O,K){var ae="error";function W(x){return new RegExp("^(("+x.join(")|(")+"))\\b")}var C=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,m=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,g=/^[_A-Za-z$][_A-Za-z$0-9]*/,w=/^@[_A-Za-z$][_A-Za-z$0-9]*/,k=W(["and","or","not","is","isnt","in","instanceof","typeof"]),A=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],y=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],S=W(A.concat(y));A=W(A);var L=/^('{3}|\"{3}|['\"])/,D=/^(\/{3}|\/)/,E=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],N=W(E);function F(x,R){if(x.sol()){R.scope.align===null&&(R.scope.align=!1);var X=R.scope.offset;if(x.eatSpace()){var $=x.indentation();return $>X&&R.scope.type=="coffee"?"indent":$<X?"dedent":null}else X>0&&_(x,R)}if(x.eatSpace())return null;var Z=x.peek();if(x.match("####"))return x.skipToEnd(),"comment";if(x.match("###"))return R.tokenize=p,R.tokenize(x,R);if(Z==="#")return x.skipToEnd(),"comment";if(x.match(/^-?[0-9\.]/,!1)){var I=!1;if(x.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(I=!0),x.match(/^-?\d+\.\d*/)&&(I=!0),x.match(/^-?\.\d+/)&&(I=!0),I)return x.peek()=="."&&x.backUp(1),"number";var B=!1;if(x.match(/^-?0x[0-9a-f]+/i)&&(B=!0),x.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(B=!0),x.match(/^-?0(?![\dx])/i)&&(B=!0),B)return"number"}if(x.match(L))return R.tokenize=s(x.current(),!1,"string"),R.tokenize(x,R);if(x.match(D)){if(x.current()!="/"||x.match(/^.*\//,!1))return R.tokenize=s(x.current(),!0,"string-2"),R.tokenize(x,R);x.backUp(1)}return x.match(C)||x.match(k)?"operator":x.match(m)?"punctuation":x.match(N)?"atom":x.match(w)||R.prop&&x.match(g)?"property":x.match(S)?"keyword":x.match(g)?"variable":(x.next(),ae)}function s(x,R,X){return function($,Z){for(;!$.eol();)if($.eatWhile(/[^'"\/\\]/),$.eat("\\")){if($.next(),R&&$.eol())return X}else{if($.match(x))return Z.tokenize=F,X;$.eat(/['"\/]/)}return R&&(K.singleLineStringErrors?X=ae:Z.tokenize=F),X}}function p(x,R){for(;!x.eol();){if(x.eatWhile(/[^#]/),x.match("###")){R.tokenize=F;break}x.eatWhile("#")}return"comment"}function c(x,R,X){X=X||"coffee";for(var $=0,Z=!1,I=null,B=R.scope;B;B=B.prev)if(B.type==="coffee"||B.type=="}"){$=B.offset+O.indentUnit;break}X!=="coffee"?(Z=null,I=x.column()+x.current().length):R.scope.align&&(R.scope.align=!1),R.scope={offset:$,type:X,prev:R.scope,align:Z,alignOffset:I}}function _(x,R){if(!!R.scope.prev)if(R.scope.type==="coffee"){for(var X=x.indentation(),$=!1,Z=R.scope;Z;Z=Z.prev)if(X===Z.offset){$=!0;break}if(!$)return!0;for(;R.scope.prev&&R.scope.offset!==X;)R.scope=R.scope.prev;return!1}else return R.scope=R.scope.prev,!1}function z(x,R){var X=R.tokenize(x,R),$=x.current();$==="return"&&(R.dedent=!0),(($==="->"||$==="=>")&&x.eol()||X==="indent")&&c(x,R);var Z="[({".indexOf($);if(Z!==-1&&c(x,R,"])}".slice(Z,Z+1)),A.exec($)&&c(x,R),$=="then"&&_(x,R),X==="dedent"&&_(x,R))return ae;if(Z="])}".indexOf($),Z!==-1){for(;R.scope.type=="coffee"&&R.scope.prev;)R.scope=R.scope.prev;R.scope.type==$&&(R.scope=R.scope.prev)}return R.dedent&&x.eol()&&(R.scope.type=="coffee"&&R.scope.prev&&(R.scope=R.scope.prev),R.dedent=!1),X}var M={startState:function(x){return{tokenize:F,scope:{offset:x||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(x,R){var X=R.scope.align===null&&R.scope;X&&x.sol()&&(X.align=!1);var $=z(x,R);return $&&$!="comment"&&(X&&(X.align=!0),R.prop=$=="punctuation"&&x.current()=="."),$},indent:function(x,R){if(x.tokenize!=F)return 0;var X=x.scope,$=R&&"])}".indexOf(R.charAt(0))>-1;if($)for(;X.type=="coffee"&&X.prev;)X=X.prev;var Z=$&&X.type===R.charAt(0);return X.align?X.alignOffset-(Z?1:0):(Z?X.prev:X).offset},lineComment:"#",fold:"indent"};return M}),H.defineMIME("application/vnd.coffeescript","coffeescript"),H.defineMIME("text/x-coffeescript","coffeescript"),H.defineMIME("text/coffeescript","coffeescript")})}()),hu.exports}var gu={exports:{}},vu;function Zf(){return vu||(vu=1,function(b,ce){(function(H){H(Ut(),La.exports)})(function(H){H.defineMode("sass",function(O){var K=H.mimeModes["text/css"],ae=K.propertyKeywords||{},W=K.colorKeywords||{},C=K.valueKeywords||{},m=K.fontProperties||{};function g(M){return new RegExp("^"+M.join("|"))}var w=["true","false","null","auto"],k=new RegExp("^"+w.join("|")),A=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],y=g(A),S=/^::?[a-zA-Z_][\w\-]*/,L;function D(M){return!M.peek()||M.match(/\s+$/,!1)}function E(M,x){var R=M.peek();return R===")"?(M.next(),x.tokenizer=_,"operator"):R==="("?(M.next(),M.eatSpace(),"operator"):R==="'"||R==='"'?(x.tokenizer=F(M.next()),"string"):(x.tokenizer=F(")",!1),"string")}function N(M,x){return function(R,X){return R.sol()&&R.indentation()<=M?(X.tokenizer=_,_(R,X)):(x&&R.skipTo("*/")?(R.next(),R.next(),X.tokenizer=_):R.skipToEnd(),"comment")}}function F(M,x){x==null&&(x=!0);function R(X,$){var Z=X.next(),I=X.peek(),B=X.string.charAt(X.pos-2),Y=Z!=="\\"&&I===M||Z===M&&B!=="\\";return Y?(Z!==M&&x&&X.next(),D(X)&&($.cursorHalf=0),$.tokenizer=_,"string"):Z==="#"&&I==="{"?($.tokenizer=s(R),X.next(),"operator"):"string"}return R}function s(M){return function(x,R){return x.peek()==="}"?(x.next(),R.tokenizer=M,"operator"):_(x,R)}}function p(M){if(M.indentCount==0){M.indentCount++;var x=M.scopes[0].offset,R=x+O.indentUnit;M.scopes.unshift({offset:R})}}function c(M){M.scopes.length!=1&&M.scopes.shift()}function _(M,x){var R=M.peek();if(M.match("/*"))return x.tokenizer=N(M.indentation(),!0),x.tokenizer(M,x);if(M.match("//"))return x.tokenizer=N(M.indentation(),!1),x.tokenizer(M,x);if(M.match("#{"))return x.tokenizer=s(_),"operator";if(R==='"'||R==="'")return M.next(),x.tokenizer=F(R),"string";if(x.cursorHalf){if(R==="#"&&(M.next(),M.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||M.match(/^-?[0-9\.]+/))return D(M)&&(x.cursorHalf=0),"number";if(M.match(/^(px|em|in)\b/))return D(M)&&(x.cursorHalf=0),"unit";if(M.match(k))return D(M)&&(x.cursorHalf=0),"keyword";if(M.match(/^url/)&&M.peek()==="(")return x.tokenizer=E,D(M)&&(x.cursorHalf=0),"atom";if(R==="$")return M.next(),M.eatWhile(/[\w-]/),D(M)&&(x.cursorHalf=0),"variable-2";if(R==="!")return M.next(),x.cursorHalf=0,M.match(/^[\w]+/)?"keyword":"operator";if(M.match(y))return D(M)&&(x.cursorHalf=0),"operator";if(M.eatWhile(/[\w-]/))return D(M)&&(x.cursorHalf=0),L=M.current().toLowerCase(),C.hasOwnProperty(L)?"atom":W.hasOwnProperty(L)?"keyword":ae.hasOwnProperty(L)?(x.prevProp=M.current().toLowerCase(),"property"):"tag";if(D(M))return x.cursorHalf=0,null}else{if(R==="-"&&M.match(/^-\w+-/))return"meta";if(R==="."){if(M.next(),M.match(/^[\w-]+/))return p(x),"qualifier";if(M.peek()==="#")return p(x),"tag"}if(R==="#"){if(M.next(),M.match(/^[\w-]+/))return p(x),"builtin";if(M.peek()==="#")return p(x),"tag"}if(R==="$")return M.next(),M.eatWhile(/[\w-]/),"variable-2";if(M.match(/^-?[0-9\.]+/))return"number";if(M.match(/^(px|em|in)\b/))return"unit";if(M.match(k))return"keyword";if(M.match(/^url/)&&M.peek()==="(")return x.tokenizer=E,"atom";if(R==="="&&M.match(/^=[\w-]+/))return p(x),"meta";if(R==="+"&&M.match(/^\+[\w-]+/))return"variable-3";if(R==="@"&&M.match("@extend")&&(M.match(/\s*[\w]/)||c(x)),M.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return p(x),"def";if(R==="@")return M.next(),M.eatWhile(/[\w-]/),"def";if(M.eatWhile(/[\w-]/))if(M.match(/ *: *[\w-\+\$#!\("']/,!1)){L=M.current().toLowerCase();var X=x.prevProp+"-"+L;return ae.hasOwnProperty(X)?"property":ae.hasOwnProperty(L)?(x.prevProp=L,"property"):m.hasOwnProperty(L)?"property":"tag"}else return M.match(/ *:/,!1)?(p(x),x.cursorHalf=1,x.prevProp=M.current().toLowerCase(),"property"):(M.match(/ *,/,!1)||p(x),"tag");if(R===":")return M.match(S)?"variable-3":(M.next(),x.cursorHalf=1,"operator")}return M.match(y)?"operator":(M.next(),null)}function z(M,x){M.sol()&&(x.indentCount=0);var R=x.tokenizer(M,x),X=M.current();if((X==="@return"||X==="}")&&c(x),R!==null){for(var $=M.pos-X.length,Z=$+O.indentUnit*x.indentCount,I=[],B=0;B<x.scopes.length;B++){var Y=x.scopes[B];Y.offset<=Z&&I.push(Y)}x.scopes=I}return R}return{startState:function(){return{tokenizer:_,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(M,x){var R=z(M,x);return x.lastToken={style:R,content:M.current()},R},indent:function(M){return M.scopes[0].offset},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}},"css"),H.defineMIME("text/x-sass","sass")})}()),gu.exports}var bu={exports:{}},yu;function Yf(){return yu||(yu=1,function(b,ce){(function(H){H(Ut())})(function(H){H.defineMode("stylus",function(s){for(var p=s.indentUnit,c="",_=N(O),z=/^(a|b|i|s|col|em)$/i,M=N(C),x=N(m),R=N(k),X=N(w),$=N(K),Z=E(K),I=N(W),B=N(ae),Y=N(g),J=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,te=E(A),ye=N(y),ie=new RegExp(/^\-(moz|ms|o|webkit)-/i),ne=N(S),U="",_e={},Ne,me,ve,ke;c.length<p;)c+=" ";function Fe(pe,de){if(U=pe.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),de.context.line.firstWord=U?U[0].replace(/^\s*/,""):"",de.context.line.indent=pe.indentation(),Ne=pe.peek(),pe.match("//"))return pe.skipToEnd(),["comment","comment"];if(pe.match("/*"))return de.tokenize=qe,qe(pe,de);if(Ne=='"'||Ne=="'")return pe.next(),de.tokenize=Ue(Ne),de.tokenize(pe,de);if(Ne=="@")return pe.next(),pe.eatWhile(/[\w\\-]/),["def",pe.current()];if(Ne=="#"){if(pe.next(),pe.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(pe.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return pe.match(ie)?["meta","vendor-prefixes"]:pe.match(/^-?[0-9]?\.?[0-9]/)?(pe.eatWhile(/[a-z%]/i),["number","unit"]):Ne=="!"?(pe.next(),[pe.match(/^(important|optional)/i)?"keyword":"operator","important"]):Ne=="."&&pe.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:pe.match(Z)?(pe.peek()=="("&&(de.tokenize=Re),["property","word"]):pe.match(/^[a-z][\w-]*\(/i)?(pe.backUp(1),["keyword","mixin"]):pe.match(/^(\+|-)[a-z][\w-]*\(/i)?(pe.backUp(1),["keyword","block-mixin"]):pe.string.match(/^\s*&/)&&pe.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:pe.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(pe.backUp(1),["variable-3","reference"]):pe.match(/^&{1}\s*$/)?["variable-3","reference"]:pe.match(te)?["operator","operator"]:pe.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?pe.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!le(pe.current())?(pe.match("."),["variable-2","variable-name"]):["variable-2","word"]:pe.match(J)?["operator",pe.current()]:/[:;,{}\[\]\(\)]/.test(Ne)?(pe.next(),[null,Ne]):(pe.next(),[null,null])}function qe(pe,de){for(var Ae=!1,lt;(lt=pe.next())!=null;){if(Ae&&lt=="/"){de.tokenize=null;break}Ae=lt=="*"}return["comment","comment"]}function Ue(pe){return function(de,Ae){for(var lt=!1,jt;(jt=de.next())!=null;){if(jt==pe&&!lt){pe==")"&&de.backUp(1);break}lt=!lt&&jt=="\\"}return(jt==pe||!lt&&pe!=")")&&(Ae.tokenize=null),["string","string"]}}function Re(pe,de){return pe.next(),pe.match(/\s*[\"\')]/,!1)?de.tokenize=null:de.tokenize=Ue(")"),[null,"("]}function ut(pe,de,Ae,lt){this.type=pe,this.indent=de,this.prev=Ae,this.line=lt||{firstWord:"",indent:0}}function De(pe,de,Ae,lt){return lt=lt>=0?lt:p,pe.context=new ut(Ae,de.indentation()+lt,pe.context),Ae}function Pt(pe,de){var Ae=pe.context.indent-p;return de=de||!1,pe.context=pe.context.prev,de&&(pe.context.indent=Ae),pe.context.type}function Ct(pe,de,Ae){return _e[Ae.context.type](pe,de,Ae)}function _t(pe,de,Ae,lt){for(var jt=lt||1;jt>0;jt--)Ae.context=Ae.context.prev;return Ct(pe,de,Ae)}function le(pe){return pe.toLowerCase()in _}function fe(pe){return pe=pe.toLowerCase(),pe in M||pe in Y}function We(pe){return pe.toLowerCase()in ye}function Tt(pe){return pe.toLowerCase().match(ie)}function we(pe){var de=pe.toLowerCase(),Ae="variable-2";return le(pe)?Ae="tag":We(pe)?Ae="block-keyword":fe(pe)?Ae="property":de in R||de in ne?Ae="atom":de=="return"||de in X?Ae="keyword":pe.match(/^[A-Z]/)&&(Ae="string"),Ae}function Pe(pe,de){return at(de)&&(pe=="{"||pe=="]"||pe=="hash"||pe=="qualifier")||pe=="block-mixin"}function Ee(pe,de){return pe=="{"&&de.match(/^\s*\$?[\w-]+/i,!1)}function St(pe,de){return pe==":"&&de.match(/^[a-z-]+/,!1)}function Ve(pe){return pe.sol()||pe.string.match(new RegExp("^\\s*"+F(pe.current())))}function at(pe){return pe.eol()||pe.match(/^\s*$/,!1)}function Ge(pe){var de=/^\s*[-_]*[a-z0-9]+[\w-]*/i,Ae=typeof pe=="string"?pe.match(de):pe.string.match(de);return Ae?Ae[0].replace(/^\s*/,""):""}return _e.block=function(pe,de,Ae){if(pe=="comment"&&Ve(de)||pe==","&&at(de)||pe=="mixin")return De(Ae,de,"block",0);if(Ee(pe,de))return De(Ae,de,"interpolation");if(at(de)&&pe=="]"&&!/^\s*(\.|#|:|\[|\*|&)/.test(de.string)&&!le(Ge(de)))return De(Ae,de,"block",0);if(Pe(pe,de))return De(Ae,de,"block");if(pe=="}"&&at(de))return De(Ae,de,"block",0);if(pe=="variable-name")return de.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||We(Ge(de))?De(Ae,de,"variableName"):De(Ae,de,"variableName",0);if(pe=="=")return!at(de)&&!We(Ge(de))?De(Ae,de,"block",0):De(Ae,de,"block");if(pe=="*"&&(at(de)||de.match(/\s*(,|\.|#|\[|:|{)/,!1)))return ke="tag",De(Ae,de,"block");if(St(pe,de))return De(Ae,de,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(pe))return De(Ae,de,at(de)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(pe))return De(Ae,de,"keyframes");if(/@extends?/.test(pe))return De(Ae,de,"extend",0);if(pe&&pe.charAt(0)=="@")return de.indentation()>0&&fe(de.current().slice(1))?(ke="variable-2","block"):/(@import|@require|@charset)/.test(pe)?De(Ae,de,"block",0):De(Ae,de,"block");if(pe=="reference"&&at(de))return De(Ae,de,"block");if(pe=="(")return De(Ae,de,"parens");if(pe=="vendor-prefixes")return De(Ae,de,"vendorPrefixes");if(pe=="word"){var lt=de.current();if(ke=we(lt),ke=="property")return Ve(de)?De(Ae,de,"block",0):(ke="atom","block");if(ke=="tag"){if(/embed|menu|pre|progress|sub|table/.test(lt)&&fe(Ge(de))||de.string.match(new RegExp("\\[\\s*"+lt+"|"+lt+"\\s*\\]")))return ke="atom","block";if(z.test(lt)&&(Ve(de)&&de.string.match(/=/)||!Ve(de)&&!de.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!le(Ge(de))))return ke="variable-2",We(Ge(de))?"block":De(Ae,de,"block",0);if(at(de))return De(Ae,de,"block")}if(ke=="block-keyword")return ke="keyword",de.current(/(if|unless)/)&&!Ve(de)?"block":De(Ae,de,"block");if(lt=="return")return De(Ae,de,"block",0);if(ke=="variable-2"&&de.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return De(Ae,de,"block")}return Ae.context.type},_e.parens=function(pe,de,Ae){if(pe=="(")return De(Ae,de,"parens");if(pe==")")return Ae.context.prev.type=="parens"?Pt(Ae):de.string.match(/^[a-z][\w-]*\(/i)&&at(de)||We(Ge(de))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(Ge(de))||!de.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&le(Ge(de))?De(Ae,de,"block"):de.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||de.string.match(/^\s*(\(|\)|[0-9])/)||de.string.match(/^\s+[a-z][\w-]*\(/i)||de.string.match(/^\s+[\$-]?[a-z]/i)?De(Ae,de,"block",0):at(de)?De(Ae,de,"block"):De(Ae,de,"block",0);if(pe&&pe.charAt(0)=="@"&&fe(de.current().slice(1))&&(ke="variable-2"),pe=="word"){var lt=de.current();ke=we(lt),ke=="tag"&&z.test(lt)&&(ke="variable-2"),(ke=="property"||lt=="to")&&(ke="atom")}return pe=="variable-name"?De(Ae,de,"variableName"):St(pe,de)?De(Ae,de,"pseudo"):Ae.context.type},_e.vendorPrefixes=function(pe,de,Ae){return pe=="word"?(ke="property",De(Ae,de,"block",0)):Pt(Ae)},_e.pseudo=function(pe,de,Ae){return fe(Ge(de.string))?_t(pe,de,Ae):(de.match(/^[a-z-]+/),ke="variable-3",at(de)?De(Ae,de,"block"):Pt(Ae))},_e.atBlock=function(pe,de,Ae){if(pe=="(")return De(Ae,de,"atBlock_parens");if(Pe(pe,de))return De(Ae,de,"block");if(Ee(pe,de))return De(Ae,de,"interpolation");if(pe=="word"){var lt=de.current().toLowerCase();if(/^(only|not|and|or)$/.test(lt)?ke="keyword":$.hasOwnProperty(lt)?ke="tag":B.hasOwnProperty(lt)?ke="attribute":I.hasOwnProperty(lt)?ke="property":x.hasOwnProperty(lt)?ke="string-2":ke=we(de.current()),ke=="tag"&&at(de))return De(Ae,de,"block")}return pe=="operator"&&/^(not|and|or)$/.test(de.current())&&(ke="keyword"),Ae.context.type},_e.atBlock_parens=function(pe,de,Ae){if(pe=="{"||pe=="}")return Ae.context.type;if(pe==")")return at(de)?De(Ae,de,"block"):De(Ae,de,"atBlock");if(pe=="word"){var lt=de.current().toLowerCase();return ke=we(lt),/^(max|min)/.test(lt)&&(ke="property"),ke=="tag"&&(z.test(lt)?ke="variable-2":ke="atom"),Ae.context.type}return _e.atBlock(pe,de,Ae)},_e.keyframes=function(pe,de,Ae){return de.indentation()=="0"&&(pe=="}"&&Ve(de)||pe=="]"||pe=="hash"||pe=="qualifier"||le(de.current()))?_t(pe,de,Ae):pe=="{"?De(Ae,de,"keyframes"):pe=="}"?Ve(de)?Pt(Ae,!0):De(Ae,de,"keyframes"):pe=="unit"&&/^[0-9]+\%$/.test(de.current())?De(Ae,de,"keyframes"):pe=="word"&&(ke=we(de.current()),ke=="block-keyword")?(ke="keyword",De(Ae,de,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(pe)?De(Ae,de,at(de)?"block":"atBlock"):pe=="mixin"?De(Ae,de,"block",0):Ae.context.type},_e.interpolation=function(pe,de,Ae){return pe=="{"&&Pt(Ae)&&De(Ae,de,"block"),pe=="}"?de.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||de.string.match(/^\s*[a-z]/i)&&le(Ge(de))?De(Ae,de,"block"):!de.string.match(/^(\{|\s*\&)/)||de.match(/\s*[\w-]/,!1)?De(Ae,de,"block",0):De(Ae,de,"block"):pe=="variable-name"?De(Ae,de,"variableName",0):(pe=="word"&&(ke=we(de.current()),ke=="tag"&&(ke="atom")),Ae.context.type)},_e.extend=function(pe,de,Ae){return pe=="["||pe=="="?"extend":pe=="]"?Pt(Ae):pe=="word"?(ke=we(de.current()),"extend"):Pt(Ae)},_e.variableName=function(pe,de,Ae){return pe=="string"||pe=="["||pe=="]"||de.current().match(/^(\.|\$)/)?(de.current().match(/^\.[\w-]+/i)&&(ke="variable-2"),"variableName"):_t(pe,de,Ae)},{startState:function(pe){return{tokenize:null,state:"block",context:new ut("block",pe||0,null)}},token:function(pe,de){return!de.tokenize&&pe.eatSpace()?null:(me=(de.tokenize||Fe)(pe,de),me&&typeof me=="object"&&(ve=me[1],me=me[0]),ke=me,de.state=_e[de.state](ve,pe,de),ke)},indent:function(pe,de,Ae){var lt=pe.context,jt=de&&de.charAt(0),bn=lt.indent,Vt=Ge(de),an=Ae.match(/^\s*/)[0].replace(/\t/g,c).length,Ie=pe.context.prev?pe.context.prev.line.firstWord:"",hn=pe.context.prev?pe.context.prev.line.indent:an;return lt.prev&&(jt=="}"&&(lt.type=="block"||lt.type=="atBlock"||lt.type=="keyframes")||jt==")"&&(lt.type=="parens"||lt.type=="atBlock_parens")||jt=="{"&&lt.type=="at")?bn=lt.indent-p:/(\})/.test(jt)||(/@|\$|\d/.test(jt)||/^\{/.test(de)||/^\s*\/(\/|\*)/.test(de)||/^\s*\/\*/.test(Ie)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(de)||/^(\+|-)?[a-z][\w-]*\(/i.test(de)||/^return/.test(de)||We(Vt)?bn=an:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(jt)||le(Vt)?/\,\s*$/.test(Ie)?bn=hn:/^\s+/.test(Ae)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(Ie)||le(Ie))?bn=an<=hn?hn:hn+p:bn=an:!/,\s*$/.test(Ae)&&(Tt(Vt)||fe(Vt))&&(We(Ie)?bn=an<=hn?hn:hn+p:/^\{/.test(Ie)?bn=an<=hn?an:hn+p:Tt(Ie)||fe(Ie)?bn=an>=hn?hn:an:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(Ie)||/=\s*$/.test(Ie)||le(Ie)||/^\$[\w-\.\[\]\'\"]/.test(Ie)?bn=hn+p:bn=an)),bn},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}});var O=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],K=["domain","regexp","url-prefix","url"],ae=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],W=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","dynamic-range","video-dynamic-range"],C=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],m=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],g=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],w=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],k=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","high","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","standard","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],A=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],y=["for","if","else","unless","from","to"],S=["null","true","false","href","title","type","not-allowed","readonly","disabled"],L=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],D=O.concat(K,ae,W,C,m,w,k,g,A,y,S,L);function E(s){return s=s.sort(function(p,c){return c>p}),new RegExp("^(("+s.join(")|(")+"))\\b")}function N(s){for(var p={},c=0;c<s.length;++c)p[s[c]]=!0;return p}function F(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}H.registerHelper("hintWords","stylus",D),H.defineMIME("text/x-styl","stylus")})}()),bu.exports}var wu={exports:{}},ku={exports:{}},_u;function Qf(){return _u||(_u=1,function(b,ce){(function(H){H(Ut(),zl.exports,Il.exports,La.exports)})(function(H){var O={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function K(k,A,y){var S=k.current(),L=S.search(A);return L>-1?k.backUp(S.length-L):S.match(/<\/?$/)&&(k.backUp(S.length),k.match(A,!1)||k.match(S)),y}var ae={};function W(k){var A=ae[k];return A||(ae[k]=new RegExp("\\s+"+k+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function C(k,A){var y=k.match(W(A));return y?/^\s*(.*?)\s*$/.exec(y[2])[1]:""}function m(k,A){return new RegExp((A?"^":"")+"</\\s*"+k+"\\s*>","i")}function g(k,A){for(var y in k)for(var S=A[y]||(A[y]=[]),L=k[y],D=L.length-1;D>=0;D--)S.unshift(L[D])}function w(k,A){for(var y=0;y<k.length;y++){var S=k[y];if(!S[0]||S[1].test(C(A,S[0])))return S[2]}}H.defineMode("htmlmixed",function(k,A){var y=H.getMode(k,{name:"xml",htmlMode:!0,multilineTagIndentFactor:A.multilineTagIndentFactor,multilineTagIndentPastTag:A.multilineTagIndentPastTag,allowMissingTagName:A.allowMissingTagName}),S={},L=A&&A.tags,D=A&&A.scriptTypes;if(g(O,S),L&&g(L,S),D)for(var E=D.length-1;E>=0;E--)S.script.unshift(["type",D[E].matches,D[E].mode]);function N(F,s){var p=y.token(F,s.htmlState),c=/\btag\b/.test(p),_;if(c&&!/[<>\s\/]/.test(F.current())&&(_=s.htmlState.tagName&&s.htmlState.tagName.toLowerCase())&&S.hasOwnProperty(_))s.inTag=_+" ";else if(s.inTag&&c&&/>$/.test(F.current())){var z=/^([\S]+) (.*)/.exec(s.inTag);s.inTag=null;var M=F.current()==">"&&w(S[z[1]],z[2]),x=H.getMode(k,M),R=m(z[1],!0),X=m(z[1],!1);s.token=function($,Z){return $.match(R,!1)?(Z.token=N,Z.localState=Z.localMode=null,null):K($,X,Z.localMode.token($,Z.localState))},s.localMode=x,s.localState=H.startState(x,y.indent(s.htmlState,"",""))}else s.inTag&&(s.inTag+=F.current(),F.eol()&&(s.inTag+=" "));return p}return{startState:function(){var F=H.startState(y);return{token:N,inTag:null,localMode:null,localState:null,htmlState:F}},copyState:function(F){var s;return F.localState&&(s=H.copyState(F.localMode,F.localState)),{token:F.token,inTag:F.inTag,localMode:F.localMode,localState:s,htmlState:H.copyState(y,F.htmlState)}},token:function(F,s){return s.token(F,s)},indent:function(F,s,p){return!F.localMode||/^\s*<\//.test(s)?y.indent(F.htmlState,s,p):F.localMode.indent?F.localMode.indent(F.localState,s,p):H.Pass},innerMode:function(F){return{state:F.localState||F.htmlState,mode:F.localMode||y}}}},"xml","javascript","css"),H.defineMIME("text/html","htmlmixed")})}()),ku.exports}var xu;function ep(){return xu||(xu=1,function(b,ce){(function(H){H(Ut(),Il.exports,La.exports,Qf())})(function(H){H.defineMode("pug",function(O){var K="keyword",ae="meta",W="builtin",C="qualifier",m={"{":"}","(":")","[":"]"},g=H.getMode(O,"javascript");function w(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=H.startState(g),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}w.prototype.copy=function(){var le=new w;return le.javaScriptLine=this.javaScriptLine,le.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,le.javaScriptArguments=this.javaScriptArguments,le.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,le.isInterpolating=this.isInterpolating,le.interpolationNesting=this.interpolationNesting,le.jsState=H.copyState(g,this.jsState),le.innerMode=this.innerMode,this.innerMode&&this.innerState&&(le.innerState=H.copyState(this.innerMode,this.innerState)),le.restOfLine=this.restOfLine,le.isIncludeFiltered=this.isIncludeFiltered,le.isEach=this.isEach,le.lastTag=this.lastTag,le.scriptType=this.scriptType,le.isAttrs=this.isAttrs,le.attrsNest=this.attrsNest.slice(),le.inAttributeName=this.inAttributeName,le.attributeIsType=this.attributeIsType,le.attrValue=this.attrValue,le.indentOf=this.indentOf,le.indentToken=this.indentToken,le.innerModeForLine=this.innerModeForLine,le};function k(le,fe){if(le.sol()&&(fe.javaScriptLine=!1,fe.javaScriptLineExcludesColon=!1),fe.javaScriptLine){if(fe.javaScriptLineExcludesColon&&le.peek()===":"){fe.javaScriptLine=!1,fe.javaScriptLineExcludesColon=!1;return}var We=g.token(le,fe.jsState);return le.eol()&&(fe.javaScriptLine=!1),We||!0}}function A(le,fe){if(fe.javaScriptArguments){if(fe.javaScriptArgumentsDepth===0&&le.peek()!=="("){fe.javaScriptArguments=!1;return}if(le.peek()==="("?fe.javaScriptArgumentsDepth++:le.peek()===")"&&fe.javaScriptArgumentsDepth--,fe.javaScriptArgumentsDepth===0){fe.javaScriptArguments=!1;return}var We=g.token(le,fe.jsState);return We||!0}}function y(le){if(le.match(/^yield\b/))return"keyword"}function S(le){if(le.match(/^(?:doctype) *([^\n]+)?/))return ae}function L(le,fe){if(le.match("#{"))return fe.isInterpolating=!0,fe.interpolationNesting=0,"punctuation"}function D(le,fe){if(fe.isInterpolating){if(le.peek()==="}"){if(fe.interpolationNesting--,fe.interpolationNesting<0)return le.next(),fe.isInterpolating=!1,"punctuation"}else le.peek()==="{"&&fe.interpolationNesting++;return g.token(le,fe.jsState)||!0}}function E(le,fe){if(le.match(/^case\b/))return fe.javaScriptLine=!0,K}function N(le,fe){if(le.match(/^when\b/))return fe.javaScriptLine=!0,fe.javaScriptLineExcludesColon=!0,K}function F(le){if(le.match(/^default\b/))return K}function s(le,fe){if(le.match(/^extends?\b/))return fe.restOfLine="string",K}function p(le,fe){if(le.match(/^append\b/))return fe.restOfLine="variable",K}function c(le,fe){if(le.match(/^prepend\b/))return fe.restOfLine="variable",K}function _(le,fe){if(le.match(/^block\b *(?:(prepend|append)\b)?/))return fe.restOfLine="variable",K}function z(le,fe){if(le.match(/^include\b/))return fe.restOfLine="string",K}function M(le,fe){if(le.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&le.match("include"))return fe.isIncludeFiltered=!0,K}function x(le,fe){if(fe.isIncludeFiltered){var We=te(le,fe);return fe.isIncludeFiltered=!1,fe.restOfLine="string",We}}function R(le,fe){if(le.match(/^mixin\b/))return fe.javaScriptLine=!0,K}function X(le,fe){if(le.match(/^\+([-\w]+)/))return le.match(/^\( *[-\w]+ *=/,!1)||(fe.javaScriptArguments=!0,fe.javaScriptArgumentsDepth=0),"variable";if(le.match("+#{",!1))return le.next(),fe.mixinCallAfter=!0,L(le,fe)}function $(le,fe){if(fe.mixinCallAfter)return fe.mixinCallAfter=!1,le.match(/^\( *[-\w]+ *=/,!1)||(fe.javaScriptArguments=!0,fe.javaScriptArgumentsDepth=0),!0}function Z(le,fe){if(le.match(/^(if|unless|else if|else)\b/))return fe.javaScriptLine=!0,K}function I(le,fe){if(le.match(/^(- *)?(each|for)\b/))return fe.isEach=!0,K}function B(le,fe){if(fe.isEach){if(le.match(/^ in\b/))return fe.javaScriptLine=!0,fe.isEach=!1,K;if(le.sol()||le.eol())fe.isEach=!1;else if(le.next()){for(;!le.match(/^ in\b/,!1)&&le.next(););return"variable"}}}function Y(le,fe){if(le.match(/^while\b/))return fe.javaScriptLine=!0,K}function J(le,fe){var We;if(We=le.match(/^(\w(?:[-:\w]*\w)?)\/?/))return fe.lastTag=We[1].toLowerCase(),fe.lastTag==="script"&&(fe.scriptType="application/javascript"),"tag"}function te(le,fe){if(le.match(/^:([\w\-]+)/)){var We;return O&&O.innerModes&&(We=O.innerModes(le.current().substring(1))),We||(We=le.current().substring(1)),typeof We=="string"&&(We=H.getMode(O,We)),Re(le,fe,We),"atom"}}function ye(le,fe){if(le.match(/^(!?=|-)/))return fe.javaScriptLine=!0,"punctuation"}function ie(le){if(le.match(/^#([\w-]+)/))return W}function ne(le){if(le.match(/^\.([\w-]+)/))return C}function U(le,fe){if(le.peek()=="(")return le.next(),fe.isAttrs=!0,fe.attrsNest=[],fe.inAttributeName=!0,fe.attrValue="",fe.attributeIsType=!1,"punctuation"}function _e(le,fe){if(fe.isAttrs){if(m[le.peek()]&&fe.attrsNest.push(m[le.peek()]),fe.attrsNest[fe.attrsNest.length-1]===le.peek())fe.attrsNest.pop();else if(le.eat(")"))return fe.isAttrs=!1,"punctuation";if(fe.inAttributeName&&le.match(/^[^=,\)!]+/))return(le.peek()==="="||le.peek()==="!")&&(fe.inAttributeName=!1,fe.jsState=H.startState(g),fe.lastTag==="script"&&le.current().trim().toLowerCase()==="type"?fe.attributeIsType=!0:fe.attributeIsType=!1),"attribute";var We=g.token(le,fe.jsState);if(fe.attributeIsType&&We==="string"&&(fe.scriptType=le.current().toString()),fe.attrsNest.length===0&&(We==="string"||We==="variable"||We==="keyword"))try{return Function("","var x "+fe.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),fe.inAttributeName=!0,fe.attrValue="",le.backUp(le.current().length),_e(le,fe)}catch(Tt){}return fe.attrValue+=le.current(),We||!0}}function Ne(le,fe){if(le.match(/^&attributes\b/))return fe.javaScriptArguments=!0,fe.javaScriptArgumentsDepth=0,"keyword"}function me(le){if(le.sol()&&le.eatSpace())return"indent"}function ve(le,fe){if(le.match(/^ *\/\/(-)?([^\n]*)/))return fe.indentOf=le.indentation(),fe.indentToken="comment","comment"}function ke(le){if(le.match(/^: */))return"colon"}function Fe(le,fe){if(le.match(/^(?:\| ?| )([^\n]+)/))return"string";if(le.match(/^(<[^\n]*)/,!1))return Re(le,fe,"htmlmixed"),fe.innerModeForLine=!0,ut(le,fe,!0)}function qe(le,fe){if(le.eat(".")){var We=null;return fe.lastTag==="script"&&fe.scriptType.toLowerCase().indexOf("javascript")!=-1?We=fe.scriptType.toLowerCase().replace(/"|'/g,""):fe.lastTag==="style"&&(We="css"),Re(le,fe,We),"dot"}}function Ue(le){return le.next(),null}function Re(le,fe,We){We=H.mimeModes[We]||We,We=O.innerModes&&O.innerModes(We)||We,We=H.mimeModes[We]||We,We=H.getMode(O,We),fe.indentOf=le.indentation(),We&&We.name!=="null"?fe.innerMode=We:fe.indentToken="string"}function ut(le,fe,We){if(le.indentation()>fe.indentOf||fe.innerModeForLine&&!le.sol()||We)return fe.innerMode?(fe.innerState||(fe.innerState=fe.innerMode.startState?H.startState(fe.innerMode,le.indentation()):{}),le.hideFirstChars(fe.indentOf+2,function(){return fe.innerMode.token(le,fe.innerState)||!0})):(le.skipToEnd(),fe.indentToken);le.sol()&&(fe.indentOf=1/0,fe.indentToken=null,fe.innerMode=null,fe.innerState=null)}function De(le,fe){if(le.sol()&&(fe.restOfLine=""),fe.restOfLine){le.skipToEnd();var We=fe.restOfLine;return fe.restOfLine="",We}}function Pt(){return new w}function Ct(le){return le.copy()}function _t(le,fe){var We=ut(le,fe)||De(le,fe)||D(le,fe)||x(le,fe)||B(le,fe)||_e(le,fe)||k(le,fe)||A(le,fe)||$(le,fe)||y(le)||S(le)||L(le,fe)||E(le,fe)||N(le,fe)||F(le)||s(le,fe)||p(le,fe)||c(le,fe)||_(le,fe)||z(le,fe)||M(le,fe)||R(le,fe)||X(le,fe)||Z(le,fe)||I(le,fe)||Y(le,fe)||J(le,fe)||te(le,fe)||ye(le,fe)||ie(le)||ne(le)||U(le,fe)||Ne(le,fe)||me(le)||Fe(le,fe)||ve(le,fe)||ke(le)||qe(le,fe)||Ue(le);return We===!0?null:We}return{startState:Pt,copyState:Ct,token:_t}},"javascript","css","htmlmixed"),H.defineMIME("text/x-pug","pug"),H.defineMIME("text/x-jade","pug")})}()),wu.exports}var Su={exports:{}},Cu={exports:{}},Eu;function tp(){return Eu||(Eu=1,function(b,ce){(function(H){H(Ut())})(function(H){H.defineSimpleMode=function(A,y){H.defineMode(A,function(S){return H.simpleMode(S,y)})},H.simpleMode=function(A,y){O(y,"start");var S={},L=y.meta||{},D=!1;for(var E in y)if(E!=L&&y.hasOwnProperty(E))for(var N=S[E]=[],F=y[E],s=0;s<F.length;s++){var p=F[s];N.push(new W(p,y)),(p.indent||p.dedent)&&(D=!0)}var c={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:D?[]:null}},copyState:function(z){var M={state:z.state,pending:z.pending,local:z.local,localState:null,indent:z.indent&&z.indent.slice(0)};z.localState&&(M.localState=H.copyState(z.local.mode,z.localState)),z.stack&&(M.stack=z.stack.slice(0));for(var x=z.persistentStates;x;x=x.next)M.persistentStates={mode:x.mode,spec:x.spec,state:x.state==z.localState?M.localState:H.copyState(x.mode,x.state),next:M.persistentStates};return M},token:C(S,A),innerMode:function(z){return z.local&&{mode:z.local.mode,state:z.localState}},indent:k(S,L)};if(L)for(var _ in L)L.hasOwnProperty(_)&&(c[_]=L[_]);return c};function O(A,y){if(!A.hasOwnProperty(y))throw new Error("Undefined state "+y+" in simple mode")}function K(A,y){if(!A)return/(?:)/;var S="";return A instanceof RegExp?(A.ignoreCase&&(S="i"),A.unicode&&(S+="u"),A=A.source):A=String(A),new RegExp((y===!1?"":"^")+"(?:"+A+")",S)}function ae(A){if(!A)return null;if(A.apply)return A;if(typeof A=="string")return A.replace(/\./g," ");for(var y=[],S=0;S<A.length;S++)y.push(A[S]&&A[S].replace(/\./g," "));return y}function W(A,y){(A.next||A.push)&&O(y,A.next||A.push),this.regex=K(A.regex),this.token=ae(A.token),this.data=A}function C(A,y){return function(S,L){if(L.pending){var D=L.pending.shift();return L.pending.length==0&&(L.pending=null),S.pos+=D.text.length,D.token}if(L.local)if(L.local.end&&S.match(L.local.end)){var E=L.local.endToken||null;return L.local=L.localState=null,E}else{var E=L.local.mode.token(S,L.localState),N;return L.local.endScan&&(N=L.local.endScan.exec(S.current()))&&(S.pos=S.start+N.index),E}for(var F=A[L.state],s=0;s<F.length;s++){var p=F[s],c=(!p.data.sol||S.sol())&&S.match(p.regex);if(c){p.data.next?L.state=p.data.next:p.data.push?((L.stack||(L.stack=[])).push(L.state),L.state=p.data.push):p.data.pop&&L.stack&&L.stack.length&&(L.state=L.stack.pop()),p.data.mode&&g(y,L,p.data.mode,p.token),p.data.indent&&L.indent.push(S.indentation()+y.indentUnit),p.data.dedent&&L.indent.pop();var _=p.token;if(_&&_.apply&&(_=_(c)),c.length>2&&p.token&&typeof p.token!="string"){for(var z=2;z<c.length;z++)c[z]&&(L.pending||(L.pending=[])).push({text:c[z],token:p.token[z-1]});return S.backUp(c[0].length-(c[1]?c[1].length:0)),_[0]}else return _&&_.join?_[0]:_}}return S.next(),null}}function m(A,y){if(A===y)return!0;if(!A||typeof A!="object"||!y||typeof y!="object")return!1;var S=0;for(var L in A)if(A.hasOwnProperty(L)){if(!y.hasOwnProperty(L)||!m(A[L],y[L]))return!1;S++}for(var L in y)y.hasOwnProperty(L)&&S--;return S==0}function g(A,y,S,L){var D;if(S.persistent)for(var E=y.persistentStates;E&&!D;E=E.next)(S.spec?m(S.spec,E.spec):S.mode==E.mode)&&(D=E);var N=D?D.mode:S.mode||H.getMode(A,S.spec),F=D?D.state:H.startState(N);S.persistent&&!D&&(y.persistentStates={mode:N,spec:S.spec,state:F,next:y.persistentStates}),y.localState=F,y.local={mode:N,end:S.end&&K(S.end),endScan:S.end&&S.forceEnd!==!1&&K(S.end,!1),endToken:L&&L.join?L[L.length-1]:L}}function w(A,y){for(var S=0;S<y.length;S++)if(y[S]===A)return!0}function k(A,y){return function(S,L,D){if(S.local&&S.local.mode.indent)return S.local.mode.indent(S.localState,L,D);if(S.indent==null||S.local||y.dontIndentStates&&w(S.state,y.dontIndentStates)>-1)return H.Pass;var E=S.indent.length-1,N=A[S.state];e:for(;;){for(var F=0;F<N.length;F++){var s=N[F];if(s.data.dedent&&s.data.dedentIfLineStart!==!1){var p=s.regex.exec(L);if(p&&p[0]){E--,(s.next||s.push)&&(N=A[s.next||s.push]),L=L.slice(p[0].length);continue e}}}break}return E<0?0:S.indent[E]}}})}()),Cu.exports}var Lu={exports:{}},Tu;function np(){return Tu||(Tu=1,function(b,ce){(function(H){H(Ut())})(function(H){H.multiplexingMode=function(O){var K=Array.prototype.slice.call(arguments,1);function ae(W,C,m,g){if(typeof C=="string"){var w=W.indexOf(C,m);return g&&w>-1?w+C.length:w}var k=C.exec(m?W.slice(m):W);return k?k.index+m+(g?k[0].length:0):-1}return{startState:function(){return{outer:H.startState(O),innerActive:null,inner:null,startingInner:!1}},copyState:function(W){return{outer:H.copyState(O,W.outer),innerActive:W.innerActive,inner:W.innerActive&&H.copyState(W.innerActive.mode,W.inner),startingInner:W.startingInner}},token:function(W,C){if(C.innerActive){var D=C.innerActive,g=W.string;if(!D.close&&W.sol())return C.innerActive=C.inner=null,this.token(W,C);var A=D.close&&!C.startingInner?ae(g,D.close,W.pos,D.parseDelimiters):-1;if(A==W.pos&&!D.parseDelimiters)return W.match(D.close),C.innerActive=C.inner=null,D.delimStyle&&D.delimStyle+" "+D.delimStyle+"-close";A>-1&&(W.string=g.slice(0,A));var E=D.mode.token(W,C.inner);return A>-1?W.string=g:W.pos>W.start&&(C.startingInner=!1),A==W.pos&&D.parseDelimiters&&(C.innerActive=C.inner=null),D.innerStyle&&(E?E=E+" "+D.innerStyle:E=D.innerStyle),E}else{for(var m=1/0,g=W.string,w=0;w<K.length;++w){var k=K[w],A=ae(g,k.open,W.pos);if(A==W.pos){k.parseDelimiters||W.match(k.open),C.startingInner=!!k.parseDelimiters,C.innerActive=k;var y=0;if(O.indent){var S=O.indent(C.outer,"","");S!==H.Pass&&(y=S)}return C.inner=H.startState(k.mode,y),k.delimStyle&&k.delimStyle+" "+k.delimStyle+"-open"}else A!=-1&&A<m&&(m=A)}m!=1/0&&(W.string=g.slice(0,m));var L=O.token(W,C.outer);return m!=1/0&&(W.string=g),L}},indent:function(W,C,m){var g=W.innerActive?W.innerActive.mode:O;return g.indent?g.indent(W.innerActive?W.inner:W.outer,C,m):H.Pass},blankLine:function(W){var C=W.innerActive?W.innerActive.mode:O;if(C.blankLine&&C.blankLine(W.innerActive?W.inner:W.outer),W.innerActive)W.innerActive.close===`
`&&(W.innerActive=W.inner=null);else for(var m=0;m<K.length;++m){var g=K[m];g.open===`
`&&(W.innerActive=g,W.inner=H.startState(g.mode,C.indent?C.indent(W.outer,"",""):0))}},electricChars:O.electricChars,innerMode:function(W){return W.inner?{state:W.inner,mode:W.innerActive.mode}:{state:W.outer,mode:O}}}}})}()),Lu.exports}var Au;function rp(){return Au||(Au=1,function(b,ce){(function(H){H(Ut(),tp(),np())})(function(H){H.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),H.defineMode("handlebars",function(O,K){var ae=H.getMode(O,"handlebars-tags");return!K||!K.base?ae:H.multiplexingMode(H.getMode(O,K.base),{open:"{{",close:/\}\}\}?/,mode:ae,parseDelimiters:!0})}),H.defineMIME("text/x-handlebars-template","handlebars")})}()),Su.exports}(function(b,ce){(function(H){H(Ut(),Jf(),zl.exports,Il.exports,Xf(),La.exports,Zf(),Yf(),ep(),rp())})(function(H){var O={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};H.defineMode("vue-template",function(K,ae){var W={token:function(C){if(C.match(/^\{\{.*?\}\}/))return"meta mustache";for(;C.next()&&!C.match("{{",!1););return null}};return H.overlayMode(H.getMode(K,ae.backdrop||"text/html"),W)}),H.defineMode("vue",function(K){return H.getMode(K,{name:"htmlmixed",tags:O})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),H.defineMIME("script/x-vue","vue"),H.defineMIME("text/x-vue","vue")})})();var ip={exports:{}};(function(b,ce){(function(H){H(Ut())})(function(H){function O(C,m,g,w){if(g&&g.call){var k=g;g=null}else var k=W(C,g,"rangeFinder");typeof m=="number"&&(m=H.Pos(m,0));var A=W(C,g,"minFoldSize");function y(E){var N=k(C,m);if(!N||N.to.line-N.from.line<A)return null;if(w==="fold")return N;for(var F=C.findMarksAt(N.from),s=0;s<F.length;++s)if(F[s].__isFold){if(!E)return null;N.cleared=!0,F[s].clear()}return N}var S=y(!0);if(W(C,g,"scanUp"))for(;!S&&m.line>C.firstLine();)m=H.Pos(m.line-1,0),S=y(!1);if(!(!S||S.cleared||w==="unfold")){var L=K(C,g,S);H.on(L,"mousedown",function(E){D.clear(),H.e_preventDefault(E)});var D=C.markText(S.from,S.to,{replacedWith:L,clearOnEnter:W(C,g,"clearOnEnter"),__isFold:!0});D.on("clear",function(E,N){H.signal(C,"unfold",C,E,N)}),H.signal(C,"fold",C,S.from,S.to)}}function K(C,m,g){var w=W(C,m,"widget");if(typeof w=="function"&&(w=w(g.from,g.to)),typeof w=="string"){var k=document.createTextNode(w);w=document.createElement("span"),w.appendChild(k),w.className="CodeMirror-foldmarker"}else w&&(w=w.cloneNode(!0));return w}H.newFoldFunction=function(C,m){return function(g,w){O(g,w,{rangeFinder:C,widget:m})}},H.defineExtension("foldCode",function(C,m,g){O(this,C,m,g)}),H.defineExtension("isFolded",function(C){for(var m=this.findMarksAt(C),g=0;g<m.length;++g)if(m[g].__isFold)return!0}),H.commands.toggleFold=function(C){C.foldCode(C.getCursor())},H.commands.fold=function(C){C.foldCode(C.getCursor(),null,"fold")},H.commands.unfold=function(C){C.foldCode(C.getCursor(),{scanUp:!1},"unfold")},H.commands.foldAll=function(C){C.operation(function(){for(var m=C.firstLine(),g=C.lastLine();m<=g;m++)C.foldCode(H.Pos(m,0),{scanUp:!1},"fold")})},H.commands.unfoldAll=function(C){C.operation(function(){for(var m=C.firstLine(),g=C.lastLine();m<=g;m++)C.foldCode(H.Pos(m,0),{scanUp:!1},"unfold")})},H.registerHelper("fold","combine",function(){var C=Array.prototype.slice.call(arguments,0);return function(m,g){for(var w=0;w<C.length;++w){var k=C[w](m,g);if(k)return k}}}),H.registerHelper("fold","auto",function(C,m){for(var g=C.getHelpers(m,"fold"),w=0;w<g.length;w++){var k=g[w](C,m);if(k)return k}});var ae={rangeFinder:H.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};H.defineOption("foldOptions",null);function W(C,m,g){if(m&&m[g]!==void 0)return m[g];var w=C.options.foldOptions;return w&&w[g]!==void 0?w[g]:ae[g]}H.defineExtension("foldOption",function(C,m){return W(this,C,m)})})})();(function(b,ce){(function(H){H(Ut())})(function(H){function O(K){return function(ae,W){var C=W.line,m=ae.getLine(C);function g(L){for(var D,E=W.ch,N=0;;){var F=E<=0?-1:m.lastIndexOf(L[0],E-1);if(F==-1){if(N==1)break;N=1,E=m.length;continue}if(N==1&&F<W.ch)break;if(D=ae.getTokenTypeAt(H.Pos(C,F+1)),!/^(comment|string)/.test(D))return{ch:F+1,tokenType:D,pair:L};E=F-1}}function w(L){var D=1,E=ae.lastLine(),N,F=L.ch,s;e:for(var p=C;p<=E;++p)for(var c=ae.getLine(p),_=p==C?F:0;;){var z=c.indexOf(L.pair[0],_),M=c.indexOf(L.pair[1],_);if(z<0&&(z=c.length),M<0&&(M=c.length),_=Math.min(z,M),_==c.length)break;if(ae.getTokenTypeAt(H.Pos(p,_+1))==L.tokenType){if(_==z)++D;else if(!--D){N=p,s=_;break e}}++_}return N==null||C==N?null:{from:H.Pos(C,F),to:H.Pos(N,s)}}for(var k=[],A=0;A<K.length;A++){var y=g(K[A]);y&&k.push(y)}k.sort(function(L,D){return L.ch-D.ch});for(var A=0;A<k.length;A++){var S=w(k[A]);if(S)return S}return null}}H.registerHelper("fold","brace",O([["{","}"],["[","]"]])),H.registerHelper("fold","brace-paren",O([["{","}"],["[","]"],["(",")"]])),H.registerHelper("fold","import",function(K,ae){function W(A){if(A<K.firstLine()||A>K.lastLine())return null;var y=K.getTokenAt(H.Pos(A,1));if(/\S/.test(y.string)||(y=K.getTokenAt(H.Pos(A,y.end+1))),y.type!="keyword"||y.string!="import")return null;for(var S=A,L=Math.min(K.lastLine(),A+10);S<=L;++S){var D=K.getLine(S),E=D.indexOf(";");if(E!=-1)return{startCh:y.end,end:H.Pos(S,E)}}}var C=ae.line,m=W(C),g;if(!m||W(C-1)||(g=W(C-2))&&g.end.line==C-1)return null;for(var w=m.end;;){var k=W(w.line+1);if(k==null)break;w=k.end}return{from:K.clipPos(H.Pos(C,m.startCh+1)),to:w}}),H.registerHelper("fold","include",function(K,ae){function W(k){if(k<K.firstLine()||k>K.lastLine())return null;var A=K.getTokenAt(H.Pos(k,1));if(/\S/.test(A.string)||(A=K.getTokenAt(H.Pos(k,A.end+1))),A.type=="meta"&&A.string.slice(0,8)=="#include")return A.start+8}var C=ae.line,m=W(C);if(m==null||W(C-1)!=null)return null;for(var g=C;;){var w=W(g+1);if(w==null)break;++g}return{from:H.Pos(C,m+1),to:K.clipPos(H.Pos(g))}})})})();(function(b,ce){(function(H){H(Ut())})(function(H){H.registerGlobalHelper("fold","comment",function(O){return O.blockCommentStart&&O.blockCommentEnd},function(O,K){var ae=O.getModeAt(K),W=ae.blockCommentStart,C=ae.blockCommentEnd;if(!W||!C)return;for(var m=K.line,g=O.getLine(m),w,k=K.ch,A=0;;){var y=k<=0?-1:g.lastIndexOf(W,k-1);if(y==-1){if(A==1)return;A=1,k=g.length;continue}if(A==1&&y<K.ch)return;if(/comment/.test(O.getTokenTypeAt(H.Pos(m,y+1)))&&(y==0||g.slice(y-C.length,y)==C||!/comment/.test(O.getTokenTypeAt(H.Pos(m,y))))){w=y+W.length;break}k=y-1}var S=1,L=O.lastLine(),D,E;e:for(var N=m;N<=L;++N)for(var F=O.getLine(N),s=N==m?w:0;;){var p=F.indexOf(W,s),c=F.indexOf(C,s);if(p<0&&(p=F.length),c<0&&(c=F.length),s=Math.min(p,c),s==F.length)break;if(s==p)++S;else if(!--S){D=N,E=s;break e}++s}if(!(D==null||m==D&&E==w))return{from:H.Pos(m,w),to:H.Pos(D,E)}})})})();(function(b,ce){(function(H){H(Ut())})(function(H){function O(K,ae){var W=K.getLine(ae),C=W.search(/\S/);return C==-1||/\bcomment\b/.test(K.getTokenTypeAt(H.Pos(ae,C+1)))?-1:H.countColumn(W,null,K.getOption("tabSize"))}H.registerHelper("fold","indent",function(K,ae){var W=O(K,ae.line);if(!(W<0)){for(var C=null,m=ae.line+1,g=K.lastLine();m<=g;++m){var w=O(K,m);if(w!=-1)if(w>W)C=m;else break}if(C)return{from:H.Pos(ae.line,K.getLine(ae.line).length),to:H.Pos(C,K.getLine(C).length)}}})})})();(function(b,ce){(function(H){H(Ut(),ip.exports)})(function(H){H.defineOption("foldGutter",!1,function(D,E,N){N&&N!=H.Init&&(D.clearGutter(D.state.foldGutter.options.gutter),D.state.foldGutter=null,D.off("gutterClick",k),D.off("changes",y),D.off("viewportChange",S),D.off("fold",L),D.off("unfold",L),D.off("swapDoc",y),D.off("optionChange",A)),E&&(D.state.foldGutter=new K(ae(E)),w(D),D.on("gutterClick",k),D.on("changes",y),D.on("viewportChange",S),D.on("fold",L),D.on("unfold",L),D.on("swapDoc",y),D.on("optionChange",A))});var O=H.Pos;function K(D){this.options=D,this.from=this.to=0}function ae(D){return D===!0&&(D={}),D.gutter==null&&(D.gutter="CodeMirror-foldgutter"),D.indicatorOpen==null&&(D.indicatorOpen="CodeMirror-foldgutter-open"),D.indicatorFolded==null&&(D.indicatorFolded="CodeMirror-foldgutter-folded"),D}function W(D,E){for(var N=D.findMarks(O(E,0),O(E+1,0)),F=0;F<N.length;++F)if(N[F].__isFold){var s=N[F].find(-1);if(s&&s.line===E)return N[F]}}function C(D){if(typeof D=="string"){var E=document.createElement("div");return E.className=D+" CodeMirror-guttermarker-subtle",E}else return D.cloneNode(!0)}function m(D,E,N){var F=D.state.foldGutter.options,s=E-1,p=D.foldOption(F,"minFoldSize"),c=D.foldOption(F,"rangeFinder"),_=typeof F.indicatorFolded=="string"&&g(F.indicatorFolded),z=typeof F.indicatorOpen=="string"&&g(F.indicatorOpen);D.eachLine(E,N,function(M){++s;var x=null,R=M.gutterMarkers;if(R&&(R=R[F.gutter]),W(D,s)){if(_&&R&&_.test(R.className))return;x=C(F.indicatorFolded)}else{var X=O(s,0),$=c&&c(D,X);if($&&$.to.line-$.from.line>=p){if(z&&R&&z.test(R.className))return;x=C(F.indicatorOpen)}}!x&&!R||D.setGutterMarker(M,F.gutter,x)})}function g(D){return new RegExp("(^|\\s)"+D+"(?:$|\\s)\\s*")}function w(D){var E=D.getViewport(),N=D.state.foldGutter;!N||(D.operation(function(){m(D,E.from,E.to)}),N.from=E.from,N.to=E.to)}function k(D,E,N){var F=D.state.foldGutter;if(!!F){var s=F.options;if(N==s.gutter){var p=W(D,E);p?p.clear():D.foldCode(O(E,0),s)}}}function A(D,E){E=="mode"&&y(D)}function y(D){var E=D.state.foldGutter;if(!!E){var N=E.options;E.from=E.to=0,clearTimeout(E.changeUpdate),E.changeUpdate=setTimeout(function(){w(D)},N.foldOnChangeTimeSpan||600)}}function S(D){var E=D.state.foldGutter;if(!!E){var N=E.options;clearTimeout(E.changeUpdate),E.changeUpdate=setTimeout(function(){var F=D.getViewport();E.from==E.to||F.from-E.to>20||E.from-F.to>20?w(D):D.operation(function(){F.from<E.from&&(m(D,F.from,E.from),E.from=F.from),F.to>E.to&&(m(D,E.to,F.to),E.to=F.to)})},N.updateViewportTimeSpan||400)}}function L(D,E){var N=D.state.foldGutter;if(!!N){var F=E.line;F>=N.from&&F<N.to&&m(D,F,F+1)}}})})();(function(b,ce){(function(H){H(Ut())})(function(H){var O="CodeMirror-activeline",K="CodeMirror-activeline-background",ae="CodeMirror-activeline-gutter";H.defineOption("styleActiveLine",!1,function(w,k,A){var y=A==H.Init?!1:A;k!=y&&(y&&(w.off("beforeSelectionChange",g),W(w),delete w.state.activeLines),k&&(w.state.activeLines=[],m(w,w.listSelections()),w.on("beforeSelectionChange",g)))});function W(w){for(var k=0;k<w.state.activeLines.length;k++)w.removeLineClass(w.state.activeLines[k],"wrap",O),w.removeLineClass(w.state.activeLines[k],"background",K),w.removeLineClass(w.state.activeLines[k],"gutter",ae)}function C(w,k){if(w.length!=k.length)return!1;for(var A=0;A<w.length;A++)if(w[A]!=k[A])return!1;return!0}function m(w,k){for(var A=[],y=0;y<k.length;y++){var S=k[y],L=w.getOption("styleActiveLine");if(!(typeof L=="object"&&L.nonEmpty?S.anchor.line!=S.head.line:!S.empty())){var D=w.getLineHandleVisualStart(S.head.line);A[A.length-1]!=D&&A.push(D)}}C(w.state.activeLines,A)||w.operation(function(){W(w);for(var E=0;E<A.length;E++)w.addLineClass(A[E],"wrap",O),w.addLineClass(A[E],"background",K),w.addLineClass(A[E],"gutter",ae);w.state.activeLines=A})}function g(w,k){m(w,k.ranges)}})})();(function(b,ce){(function(H){H(Ut())})(function(H){var O="CodeMirror-hint",K="CodeMirror-hint-active";H.showHint=function(E,N,F){if(!N)return E.showHint(F);F&&F.async&&(N.async=!0);var s={hint:N};if(F)for(var p in F)s[p]=F[p];return E.showHint(s)},H.defineExtension("showHint",function(E){E=m(this,this.getCursor("start"),E);var N=this.listSelections();if(!(N.length>1)){if(this.somethingSelected()){if(!E.hint.supportsSelection)return;for(var F=0;F<N.length;F++)if(N[F].head.line!=N[F].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var s=this.state.completionActive=new ae(this,E);!s.options.hint||(H.signal(this,"startCompletion",this),s.update(!0))}}),H.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function ae(E,N){if(this.cm=E,this.options=N,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var F=this;E.on("cursorActivity",this.activityFunc=function(){F.cursorActivity()})}}var W=window.requestAnimationFrame||function(E){return setTimeout(E,1e3/60)},C=window.cancelAnimationFrame||clearTimeout;ae.prototype={close:function(){!this.active()||(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&H.signal(this.data,"close"),this.widget&&this.widget.close(),H.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(E,N){var F=E.list[N],s=this;this.cm.operation(function(){F.hint?F.hint(s.cm,E,F):s.cm.replaceRange(g(F),F.from||E.from,F.to||E.to,"complete"),H.signal(E,"pick",F),s.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(C(this.debounce),this.debounce=0);var E=this.startPos;this.data&&(E=this.data.from);var N=this.cm.getCursor(),F=this.cm.getLine(N.line);if(N.line!=this.startPos.line||F.length-N.ch!=this.startLen-this.startPos.ch||N.ch<E.ch||this.cm.somethingSelected()||!N.ch||this.options.closeCharacters.test(F.charAt(N.ch-1)))this.close();else{var s=this;this.debounce=W(function(){s.update()}),this.widget&&this.widget.disable()}},update:function(E){if(this.tick!=null){var N=this,F=++this.tick;S(this.options.hint,this.cm,this.options,function(s){N.tick==F&&N.finishUpdate(s,E)})}},finishUpdate:function(E,N){this.data&&H.signal(this.data,"update");var F=this.widget&&this.widget.picked||N&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=E,E&&E.list.length&&(F&&E.list.length==1?this.pick(E,0):(this.widget=new A(this,E),H.signal(E,"shown")))}};function m(E,N,F){var s=E.options.hintOptions,p={};for(var c in D)p[c]=D[c];if(s)for(var c in s)s[c]!==void 0&&(p[c]=s[c]);if(F)for(var c in F)F[c]!==void 0&&(p[c]=F[c]);return p.hint.resolve&&(p.hint=p.hint.resolve(E,N)),p}function g(E){return typeof E=="string"?E:E.text}function w(E,N){var F={Up:function(){N.moveFocus(-1)},Down:function(){N.moveFocus(1)},PageUp:function(){N.moveFocus(-N.menuSize()+1,!0)},PageDown:function(){N.moveFocus(N.menuSize()-1,!0)},Home:function(){N.setFocus(0)},End:function(){N.setFocus(N.length-1)},Enter:N.pick,Tab:N.pick,Esc:N.close},s=/Mac/.test(navigator.platform);s&&(F["Ctrl-P"]=function(){N.moveFocus(-1)},F["Ctrl-N"]=function(){N.moveFocus(1)});var p=E.options.customKeys,c=p?{}:F;function _(x,R){var X;typeof R!="string"?X=function($){return R($,N)}:F.hasOwnProperty(R)?X=F[R]:X=R,c[x]=X}if(p)for(var z in p)p.hasOwnProperty(z)&&_(z,p[z]);var M=E.options.extraKeys;if(M)for(var z in M)M.hasOwnProperty(z)&&_(z,M[z]);return c}function k(E,N){for(;N&&N!=E;){if(N.nodeName.toUpperCase()==="LI"&&N.parentNode==E)return N;N=N.parentNode}}function A(E,N){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=E,this.data=N,this.picked=!1;var F=this,s=E.cm,p=s.getInputField().ownerDocument,c=p.defaultView||p.parentWindow,_=this.hints=p.createElement("ul");_.setAttribute("role","listbox"),_.setAttribute("aria-expanded","true"),_.id=this.id;var z=E.cm.options.theme;_.className="CodeMirror-hints "+z,this.selectedHint=N.selectedHint||0;for(var M=N.list,x=0;x<M.length;++x){var R=_.appendChild(p.createElement("li")),X=M[x],$=O+(x!=this.selectedHint?"":" "+K);X.className!=null&&($=X.className+" "+$),R.className=$,x==this.selectedHint&&R.setAttribute("aria-selected","true"),R.id=this.id+"-"+x,R.setAttribute("role","option"),X.render?X.render(R,N,X):R.appendChild(p.createTextNode(X.displayText||g(X))),R.hintId=x}var Z=E.options.container||p.body,I=s.cursorCoords(E.options.alignWithWord?N.from:null),B=I.left,Y=I.bottom,J=!0,te=0,ye=0;if(Z!==p.body){var ie=["absolute","relative","fixed"].indexOf(c.getComputedStyle(Z).position)!==-1,ne=ie?Z:Z.offsetParent,U=ne.getBoundingClientRect(),_e=p.body.getBoundingClientRect();te=U.left-_e.left-ne.scrollLeft,ye=U.top-_e.top-ne.scrollTop}_.style.left=B-te+"px",_.style.top=Y-ye+"px";var Ne=c.innerWidth||Math.max(p.body.offsetWidth,p.documentElement.offsetWidth),me=c.innerHeight||Math.max(p.body.offsetHeight,p.documentElement.offsetHeight);Z.appendChild(_),s.getInputField().setAttribute("aria-autocomplete","list"),s.getInputField().setAttribute("aria-owns",this.id),s.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var ve=E.options.moveOnOverlap?_.getBoundingClientRect():new DOMRect,ke=E.options.paddingForScrollbar?_.scrollHeight>_.clientHeight+1:!1,Fe;setTimeout(function(){Fe=s.getScrollInfo()});var qe=ve.bottom-me;if(qe>0){var Ue=ve.bottom-ve.top,Re=ve.top-(I.bottom-I.top)-2;me-ve.top<Re?(Ue>Re&&(_.style.height=(Ue=Re)+"px"),_.style.top=(Y=I.top-Ue)+ye+"px",J=!1):_.style.height=me-ve.top-2+"px"}var ut=ve.right-Ne;if(ke&&(ut+=s.display.nativeBarWidth),ut>0&&(ve.right-ve.left>Ne&&(_.style.width=Ne-5+"px",ut-=ve.right-ve.left-Ne),_.style.left=(B=Math.max(I.left-ut-te,0))+"px"),ke)for(var De=_.firstChild;De;De=De.nextSibling)De.style.paddingRight=s.display.nativeBarWidth+"px";if(s.addKeyMap(this.keyMap=w(E,{moveFocus:function(_t,le){F.changeActive(F.selectedHint+_t,le)},setFocus:function(_t){F.changeActive(_t)},menuSize:function(){return F.screenAmount()},length:M.length,close:function(){E.close()},pick:function(){F.pick()},data:N})),E.options.closeOnUnfocus){var Pt;s.on("blur",this.onBlur=function(){Pt=setTimeout(function(){E.close()},100)}),s.on("focus",this.onFocus=function(){clearTimeout(Pt)})}s.on("scroll",this.onScroll=function(){var _t=s.getScrollInfo(),le=s.getWrapperElement().getBoundingClientRect();Fe||(Fe=s.getScrollInfo());var fe=Y+Fe.top-_t.top,We=fe-(c.pageYOffset||(p.documentElement||p.body).scrollTop);if(J||(We+=_.offsetHeight),We<=le.top||We>=le.bottom)return E.close();_.style.top=fe+"px",_.style.left=B+Fe.left-_t.left+"px"}),H.on(_,"dblclick",function(_t){var le=k(_,_t.target||_t.srcElement);le&&le.hintId!=null&&(F.changeActive(le.hintId),F.pick())}),H.on(_,"click",function(_t){var le=k(_,_t.target||_t.srcElement);le&&le.hintId!=null&&(F.changeActive(le.hintId),E.options.completeOnSingleClick&&F.pick())}),H.on(_,"mousedown",function(){setTimeout(function(){s.focus()},20)});var Ct=this.getSelectedHintRange();return(Ct.from!==0||Ct.to!==0)&&this.scrollToActive(),H.signal(N,"select",M[this.selectedHint],_.childNodes[this.selectedHint]),!0}A.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var E=this.completion.cm.getInputField();E.removeAttribute("aria-activedescendant"),E.removeAttribute("aria-owns");var N=this.completion.cm;this.completion.options.closeOnUnfocus&&(N.off("blur",this.onBlur),N.off("focus",this.onFocus)),N.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var E=this;this.keyMap={Enter:function(){E.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(E,N){if(E>=this.data.list.length?E=N?this.data.list.length-1:0:E<0&&(E=N?0:this.data.list.length-1),this.selectedHint!=E){var F=this.hints.childNodes[this.selectedHint];F&&(F.className=F.className.replace(" "+K,""),F.removeAttribute("aria-selected")),F=this.hints.childNodes[this.selectedHint=E],F.className+=" "+K,F.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",F.id),this.scrollToActive(),H.signal(this.data,"select",this.data.list[this.selectedHint],F)}},scrollToActive:function(){var E=this.getSelectedHintRange(),N=this.hints.childNodes[E.from],F=this.hints.childNodes[E.to],s=this.hints.firstChild;N.offsetTop<this.hints.scrollTop?this.hints.scrollTop=N.offsetTop-s.offsetTop:F.offsetTop+F.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=F.offsetTop+F.offsetHeight-this.hints.clientHeight+s.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var E=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-E),to:Math.min(this.data.list.length-1,this.selectedHint+E)}}};function y(E,N){if(!E.somethingSelected())return N;for(var F=[],s=0;s<N.length;s++)N[s].supportsSelection&&F.push(N[s]);return F}function S(E,N,F,s){if(E.async)E(N,s,F);else{var p=E(N,F);p&&p.then?p.then(s):s(p)}}function L(E,N){var F=E.getHelpers(N,"hint"),s;if(F.length){var p=function(c,_,z){var M=y(c,F);function x(R){if(R==M.length)return _(null);S(M[R],c,z,function(X){X&&X.list.length>0?_(X):x(R+1)})}x(0)};return p.async=!0,p.supportsSelection=!0,p}else return(s=E.getHelper(E.getCursor(),"hintWords"))?function(c){return H.hint.fromList(c,{words:s})}:H.hint.anyword?function(c,_){return H.hint.anyword(c,_)}:function(){}}H.registerHelper("hint","auto",{resolve:L}),H.registerHelper("hint","fromList",function(E,N){var F=E.getCursor(),s=E.getTokenAt(F),p,c=H.Pos(F.line,s.start),_=F;s.start<F.ch&&/\w/.test(s.string.charAt(F.ch-s.start-1))?p=s.string.substr(0,F.ch-s.start):(p="",c=F);for(var z=[],M=0;M<N.words.length;M++){var x=N.words[M];x.slice(0,p.length)==p&&z.push(x)}if(z.length)return{list:z,from:c,to:_}}),H.commands.autocomplete=H.showHint;var D={hint:H.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};H.defineOption("hintOptions",null)})})();(function(b,ce){(function(H){H(Ut())})(function(H){var O=/[\w$]+/,K=500;H.registerHelper("hint","anyword",function(ae,W){for(var C=W&&W.word||O,m=W&&W.range||K,g=ae.getCursor(),w=ae.getLine(g.line),k=g.ch,A=k;A&&C.test(w.charAt(A-1));)--A;for(var y=A!=k&&w.slice(A,k),S=W&&W.list||[],L={},D=new RegExp(C.source,"g"),E=-1;E<=1;E+=2)for(var N=g.line,F=Math.min(Math.max(N+E*m,ae.firstLine()),ae.lastLine())+E;N!=F;N+=E)for(var s=ae.getLine(N),p;p=D.exec(s);)N==g.line&&p[0]===y||(!y||p[0].lastIndexOf(y,0)==0)&&!Object.prototype.hasOwnProperty.call(L,p[0])&&(L[p[0]]=!0,S.push(p[0]));return{list:S,from:H.Pos(g.line,A),to:H.Pos(g.line,k)}})})})();const jl=Bt({name:"JCodeEditor",inheritAttrs:!1,components:{},props:{value:Me.string.def(""),height:Me.string.def("auto"),disabled:Me.bool.def(!1),fullScreen:Me.bool.def(!1),zIndex:Me.any.def(999),theme:Me.string.def("idea"),language:Me.string.def("")},emits:["change","update:value"],setup(b,{emit:ce}){var p;const{prefixCls:H}=Nl("code-editer"),O=window.CodeMirror||$f,K=Be(),[ae]=lr(b,"value","change",K),W=Be();let C=null;const m=nn();Be(b.height);const g=dr({tabSize:2,theme:b.theme,smartIndent:!0,lineNumbers:!0,line:!0,foldGutter:!0,lineWrapping:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],styleActiveLine:!0,extraKeys:{Tab:function(_){S(w,!1)}}});let w=(p=b.value)!=null?p:"";const k=Be(!1),A=On(()=>k.value?"fullscreen-exit":"fullscreen"),y=On(()=>{let c={class:[H,"full-screen-parent","auto-height",{"full-screen":k.value}],style:{}};return k.value&&(c.style["z-index"]=b.zIndex),c});It(()=>b.value,()=>{w!=b.value&&S(b.value,!1)}),Pl(()=>{E()});function S(c,_=!0){c&&pc(c)&&(c=JSON.stringify(JSON.parse(c),null,2)),C==null||C.setValue(c!=null?c:""),w=c,_&&D(w)}function L(c){w=c.getValue()||"",b.value!=w&&D(w)}function D(c){ce("change",c),ce("update:value",c)}function E(){C=O.fromTextArea(W.value,g),C.on("change",L),S(w,!1)}function N(){k.value=!k.value}It(()=>b.disabled,c=>{C&&C.setOption("readOnly",c)}),It(()=>b.language,c=>{c&&C&&C.setOption("mode",c)});const F=Object.assign({},ot(b),ot(m));function s(){C&&C.refresh()}return{state:ae,textarea:W,boxBindProps:y,getBindValue:F,setValue:S,isFullScreen:k,fullScreenIcon:A,onToggleFullScreen:N,refresh:s}}}),Mu=()=>{hc(b=>({"5f7cc734":b.height}))},Du=jl.setup;jl.setup=Du?(b,ce)=>(Mu(),Du(b,ce)):Mu;function op(b,ce,H,O,K,ae){const W=Ye("a-icon");return tt(),zt("div",mc(gc(b.boxBindProps)),[b.fullScreen?(tt(),Lt(W,{key:0,class:"full-screen-icon",type:b.fullScreenIcon,onClick:b.onToggleFullScreen},null,8,["type","onClick"])):Kn("",!0),Nr("textarea",Nt({ref:"textarea"},b.getBindValue),null,16)],16)}const eh=Jt(jl,[["render",op]]),ap=Bt({name:"JCategorySelect",components:{},inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.array]),placeholder:{type:String,default:"\u8BF7\u9009\u62E9",required:!1},disabled:{type:Boolean,default:!1,required:!1},condition:{type:String,default:"",required:!1},multiple:{type:[Boolean,String],default:!1},loadTriggleChange:{type:Boolean,default:!1,required:!1},pid:{type:String,default:"",required:!1},pcode:{type:String,default:"",required:!1},back:{type:String,default:"",required:!1}},emits:["options-change","change","update:value"],setup(b,{emit:ce,refs:H}){console.info(b);const O=Be([]),K=Be([]),ae=Be();ae.value="";const W=nn(),[C]=lr(b,"value","change",O);It(()=>b.value,()=>{g()},{deep:!0}),It(()=>b.pcode,()=>{m()},{deep:!0,immediate:!0});function m(){let L={pid:b.pid,pcode:b.pcode?b.pcode:"0",condition:b.condition};console.info(L),iu(L).then(D=>{if(D&&D.length>0){for(let E of D)E.value=E.key,E.leaf==!1?E.isLeaf=!1:E.leaf==!0&&(E.isLeaf=!0);K.value=D}})}function g(){!b.value||b.value=="0"?b.multiple?ae.value=[]:ae.value=null:Nc({ids:b.value}).then(L=>{let D=b.value.split(",");ae.value=L.map((E,N)=>({key:D[N],value:D[N],label:E})),b.multiple||(ae.value=ae.value[0]),w(L[0])})}function w(L){!b.multiple&&b.loadTriggleChange&&k(b.value,L)}function k(L,D){let E={};b.back&&(E[b.back]=D),ce("change",L,E),ce("update:value",L)}function A(L){let D=L.dataRef;return new Promise(E=>{if(L.children&&L.children.length>0){E();return}let N=D.key,F={pid:N,condition:b.condition};iu(F).then(s=>{if(s){for(let p of s)p.value=p.key,p.leaf==!1?p.isLeaf=!1:p.leaf==!0&&(p.isLeaf=!0);y(N,s,K.value),E()}})})}function y(L,D,E){if(E&&E.length>0)for(let N of E)if(N.key==L){!D||D.length==0?N.isLeaf=!0:N.children=D;break}else y(L,D,N.children)}function S(L){if(!L)ce("change",""),ae.value="",ce("update:value","");else if(Array.isArray(L)){let D=[],E=L.map(N=>(D.push(N.label),N.value));k(E.join(","),D.join(",")),ae.value=L}else k(L.value,L.label),ae.value=L}return{state:C,attrs:W,onChange:S,treeData:K,treeValue:ae,asyncLoadTreeData:A}}});function lp(b,ce,H,O,K,ae){const W=Ye("a-tree-select");return tt(),Lt(W,{allowClear:"",labelInValue:"",style:{width:"100%"},disabled:b.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:b.placeholder,loadData:b.asyncLoadTreeData,value:b.treeValue,treeData:b.treeData,multiple:b.multiple,onChange:b.onChange},null,8,["disabled","placeholder","loadData","value","treeData","multiple","onChange"])}const th=Jt(ap,[["render",lp]]),sp=Bt({name:"JSelectMultiple",components:{},inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.array]),placeholder:{type:String,default:"\u8BF7\u9009\u62E9",required:!1},readOnly:{type:Boolean,required:!1,default:!1},options:{type:Array,default:()=>[],required:!1},triggerChange:{type:Boolean,required:!1,default:!0},spliter:{type:String,required:!1,default:","},popContainer:{type:String,default:"",required:!1},dictCode:{type:String,required:!1},disabled:{type:Boolean,default:!1}},emits:["options-change","change","input","update:value"],setup(b,{emit:ce,refs:H}){const O=Be([]),K=Be(b.value?b.value.split(b.spliter):[]),ae=Be([]),W=nn(),[C]=lr(b,"value","change",O);Pl(()=>{b.dictCode?w():ae.value=b.options}),It(()=>b.value,A=>{A?K.value=b.value.split(b.spliter):K.value=[]}),It(()=>b.options,()=>{b.dictCode||(ae.value=b.options)});function m(A){b.triggerChange?(ce("change",A.join(b.spliter)),ce("update:value",A.join(b.spliter))):(ce("input",A.join(b.spliter)),ce("update:value",A.join(b.spliter)))}function g(A){return b.popContainer?document.querySelector(b.popContainer):A.parentNode}function w(){let A=b.dictCode||"";A.indexOf(",")>0&&A.indexOf(" ")>0&&(A=encodeURI(A)),Pc(A).then(y=>{y?ae.value=y.map(S=>({value:S.value,label:S.text})):(console.error("getDictItems error: : ",y),ae.value=[])})}function k(A,y){return y.children()[0].children.toLowerCase().indexOf(A.toLowerCase())>=0}return{state:C,attrs:W,dictOptions:ae,onChange:m,arrayValue:K,getParentContainer:g,filterOption:k}}});function up(b,ce,H,O,K,ae){const W=Ye("a-select-option"),C=Ye("a-select");return tt(),Lt(C,{value:b.arrayValue,onChange:b.onChange,mode:"multiple","filter-option":b.filterOption,disabled:b.disabled,placeholder:b.placeholder,allowClear:"",getPopupContainer:b.getParentContainer},{default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.dictOptions,(m,g)=>(tt(),Lt(W,{key:g,getPopupContainer:b.getParentContainer,value:m.value},{default:ct(()=>[pn(ur(m.text||m.label),1)]),_:2},1032,["getPopupContainer","value"]))),128))]),_:1},8,["value","onChange","filter-option","disabled","placeholder","getPopupContainer"])}const nh=Jt(sp,[["render",up]]),dp=Bt({name:"JPopupOnlReportModal",components:{BasicModal:Qi,SearchFormItem:Ji(()=>Xi(()=>import("./SearchFormItem.2501ac10.js"),["assets/SearchFormItem.2501ac10.js","assets/index.c1d8dbc8.js","assets/index.8a10b1a2.css","assets/BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js","assets/componentMap.995605ed.js","assets/useFormItem.6935557d.js","assets/index.5f6d2eec.js","assets/BasicModal.4c523d71.js","assets/useWindowSizeFn.1a55d327.js","assets/BasicModal.1e1b2ed9.css","assets/index.361bf2db.css","assets/JUpload.vue_vue_type_style_index_0_lang.51f417a5.js","assets/api.221c4cde.js","assets/JUpload.2a8a7c7c.css","assets/download.f2b87928.js","assets/base64Conver.030fa32c.js","assets/index.236167d6.js","assets/index.399aa0e3.css","assets/index.9b215829.js","assets/useCountdown.5186f11f.js","assets/index.15cc10f8.css","assets/index.7a47645e.js","assets/index.600d2c21.css","assets/componentMap.524c5264.css","assets/uniqBy.3dbe90b3.js","assets/BasicForm.384f4697.css","assets/areaDataUtil.b22cb30b.js","assets/props.adbaf37f.js","assets/index.201afc50.js","assets/bem.452cc75b.js","assets/props.82dd77cc.js","assets/useContextMenu.184539a6.js","assets/useContextMenu.6fcaad79.css","assets/index.a95e0833.css","assets/index.cf6640d7.js","assets/onMountedOrActivated.6b21dee8.js","assets/index.e8c59073.css","assets/depart.api.ef5d901e.js","assets/MinusCircleOutlined.bac41ad8.js","assets/SearchFormItem.b13c918a.css"]),{loading:!1}),BasicTable:Ji(()=>Xi(()=>import("./BasicTable.a8592173.js"),["assets/BasicTable.a8592173.js","assets/BasicTable.vue_vue_type_style_index_0_lang.bed283e2.js","assets/index.c1d8dbc8.js","assets/index.8a10b1a2.css","assets/BasicForm.763c9f74.js","assets/BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js","assets/componentMap.995605ed.js","assets/useFormItem.6935557d.js","assets/index.5f6d2eec.js","assets/BasicModal.4c523d71.js","assets/useWindowSizeFn.1a55d327.js","assets/BasicModal.1e1b2ed9.css","assets/index.361bf2db.css","assets/JUpload.vue_vue_type_style_index_0_lang.51f417a5.js","assets/api.221c4cde.js","assets/JUpload.2a8a7c7c.css","assets/download.f2b87928.js","assets/base64Conver.030fa32c.js","assets/index.236167d6.js","assets/index.399aa0e3.css","assets/index.9b215829.js","assets/useCountdown.5186f11f.js","assets/index.15cc10f8.css","assets/index.7a47645e.js","assets/index.600d2c21.css","assets/componentMap.524c5264.css","assets/uniqBy.3dbe90b3.js","assets/BasicForm.384f4697.css","assets/useForm.4b03a18a.js","assets/injectionKey.1ad13e6c.js","assets/onMountedOrActivated.6b21dee8.js","assets/SettingOutlined.549e296f.js","assets/RedoOutlined.27cf802c.js","assets/BasicTable.ffdc5c98.css","assets/areaDataUtil.b22cb30b.js","assets/props.adbaf37f.js","assets/index.201afc50.js","assets/bem.452cc75b.js","assets/props.82dd77cc.js","assets/useContextMenu.184539a6.js","assets/useContextMenu.6fcaad79.css","assets/index.a95e0833.css","assets/index.cf6640d7.js","assets/index.e8c59073.css","assets/depart.api.ef5d901e.js","assets/MinusCircleOutlined.bac41ad8.js"]),{loading:!0})},props:["multi","code","sorter","groupId","param"],emits:["ok","register"],setup(b,{emit:ce,refs:H}){const{createMessage:O}=jo(),K=dr({xs:{span:24},sm:{span:6}}),ae=dr({xs:{span:24},sm:{span:18}}),[W,{closeModal:C}]=Zi(),m=Be(),g=Be(),w=Be(!1),k=nn(),A=Be({x:!0}),y=Object.assign({},ot(b),ot(k)),[{visibleChange:S,loadColumnsInfo:L,dynamicParamHandler:D,loadData:E,handleChangeInTable:N,combineRowKey:F,clickThenCheck:s,filterUnuseSelect:p,getOkSelectRows:c},{visible:_,rowSelection:z,checkedKeys:M,selectRows:x,pagination:R,dataSource:X,columns:$,loading:Z,title:I,iSorter:B,queryInfo:Y,queryParam:J,dictOptions:te}]=vc(y,g),ye=On(()=>ot(Y)&&ot(Y).length>0);It(()=>b.code,()=>{L()}),It(()=>b.param,()=>{_&&(D(),E())}),ar(()=>{if(b.sorter){let me=b.sorter.split("=");me.length===2&&["asc","desc"].includes(me[1].toLowerCase())?(B.value={column:me[0],order:me[1].toLowerCase()},ot($).forEach(ve=>{ve.dataIndex===ot(B).column?ve.sortOrder=ot(B).order==="asc"?"ascend":"descend":ve.sortOrder=!1})):console.warn("\u3010JPopup\u3011sorter\u53C2\u6570\u4E0D\u5408\u6CD5")}}),It(()=>R.current,me=>{me&&g.value.setPagination({current:me})});function ie(){w.value=!ot(w)}function ne(){C(),M.value=[],x.value=[]}function U(){if(p(),!b.multi&&ot(x)&&ot(x).length>1)return O.warning("\u53EA\u80FD\u9009\u62E9\u4E00\u6761\u8BB0\u5F55"),!1;if(!ot(x)||ot(x).length==0)return O.warning("\u81F3\u5C11\u9009\u62E9\u4E00\u6761\u8BB0\u5F55"),!1;let me=c();ce("ok",me),ne()}function _e(){E(1)}function Ne(){J.value={},E(1)}return{attrs:k,register:W,tableScroll:A,dataSource:X,pagination:R,columns:$,rowSelection:z,checkedKeys:M,loading:Z,title:I,handleCancel:ne,handleSubmit:U,clickThenCheck:s,loadData:E,combineRowKey:F,handleChangeInTable:N,visibleChange:S,queryInfo:Y,queryParam:J,tableRef:g,formRef:m,labelCol:K,wrapperCol:ae,dictOptions:te,showSearchFlag:ye,toggleSearchStatus:w,handleToggleSearch:ie,searchQuery:_e,searchReset:Ne}}});const cp={key:0,class:"jeecg-basic-table-form-container"},fp={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"};function pp(b,ce,H,O,K,ae){const W=Ye("SearchFormItem"),C=Ye("a-col"),m=Ye("a-button"),g=Ye("Icon"),w=Ye("a-row"),k=Ye("a-form"),A=Ye("BasicTable"),y=Ye("BasicModal");return tt(),zt("div",null,[ht(y,Nt(b.$attrs,{onRegister:b.register,title:b.title,width:1200,onOk:b.handleSubmit,onCancel:b.handleCancel,cancelText:"\u5173\u95ED",wrapClassName:"j-popup-modal",onVisibleChange:b.visibleChange}),{default:ct(()=>[b.showSearchFlag?(tt(),zt("div",cp,[ht(k,{ref:"formRef",model:b.queryParam,"label-col":b.labelCol,"wrapper-col":b.wrapperCol,onKeyup:bc(b.searchQuery,["enter","native"])},{default:ct(()=>[ht(w,{gutter:24},{default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.queryInfo,(S,L)=>(tt(),zt(Yn,null,[S.hidden==="1"?yc((tt(),Lt(C,{md:8,sm:24,key:"query"+L},{default:ct(()=>[ht(W,{formElRef:b.formRef,queryParam:b.queryParam,item:S,dictOptions:b.dictOptions},null,8,["formElRef","queryParam","item","dictOptions"])]),_:2},1024)),[[wc,b.toggleSearchStatus]]):(tt(),Lt(C,{md:8,sm:24,key:"query"+L},{default:ct(()=>[ht(W,{formElRef:b.formRef,queryParam:b.queryParam,item:S,dictOptions:b.dictOptions},null,8,["formElRef","queryParam","item","dictOptions"])]),_:2},1024))],64))),256)),ht(C,{md:8,sm:8},{default:ct(()=>[Nr("span",fp,[ht(C,{lg:6},{default:ct(()=>[ht(m,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:b.searchReset},{default:ct(()=>[pn("\u91CD\u7F6E")]),_:1},8,["onClick"]),ht(m,{type:"primary",preIcon:"ant-design:search-outlined",onClick:b.searchQuery,style:{"margin-left":"8px"}},{default:ct(()=>[pn("\u67E5\u8BE2")]),_:1},8,["onClick"]),Nr("a",{onClick:ce[0]||(ce[0]=(...S)=>b.handleToggleSearch&&b.handleToggleSearch(...S)),style:{"margin-left":"8px"}},[pn(ur(b.toggleSearchStatus?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),ht(g,{icon:b.toggleSearchStatus?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","label-col","wrapper-col","onKeyup"])])):Kn("",!0),ht(A,{ref:"tableRef",canResize:!1,bordered:!0,loading:b.loading,rowKey:b.combineRowKey,columns:b.columns,showIndexColumn:!1,dataSource:b.dataSource,pagination:b.pagination,rowSelection:b.rowSelection,onRowClick:b.clickThenCheck,onChange:b.handleChangeInTable},{tableTitle:ct(()=>[]),_:1},8,["loading","rowKey","columns","dataSource","pagination","rowSelection","onRowClick","onChange"])]),_:1},16,["onRegister","title","onOk","onCancel","onVisibleChange"])])}const hp=Jt(dp,[["render",pp],["__scopeId","data-v-29433003"]]),mp=Bt({name:"JPopup",components:{JPopupOnlReportModal:hp},inheritAttrs:!1,props:{code:Me.string.def(""),value:Me.string.def(""),sorter:Me.string.def(""),width:Me.number.def(1200),placeholder:Me.string.def("\u8BF7\u9009\u62E9"),multi:Me.bool.def(!1),param:Me.object.def({}),spliter:Me.string.def(","),groupId:Me.string.def(""),formElRef:Me.object,setFieldsValue:Me.func,getContainer:Me.func,fieldConfig:{type:Array,default:()=>[]}},emits:["update:value","register"],setup(b,{emit:ce,refs:H}){const{createMessage:O}=jo(),K=nn(),ae=Be(!0),W=Be(""),[C,{openModal:m}]=Yi();let{groupId:g,code:w,fieldConfig:k}=b;const A=On(()=>g?`${g}_${w}_${k[0].source}_${k[0].target}`:"");Pl(()=>{b.fieldConfig.length==0&&(O.error("popup\u53C2\u6570\u672A\u6B63\u786E\u914D\u7F6E!"),ae.value=!1)}),It(()=>b.value,D=>{W.value=D&&D.length>0?D.split(b.spliter).join(","):""},{immediate:!0});function y(){!b.disabled&&m(!0)}function S(){W.value=""}function L(D){let{fieldConfig:E}=b,N={};for(let F of E){let s=D.map(p=>p[F.source]).join(",");F.target.split(",").forEach(p=>{N[p]=s})}b.formElRef&&b.formElRef.setFieldsValue(N),b.setFieldsValue&&b.setFieldsValue(N)}return{showText:W,avalid:ae,uniqGroupId:A,attrs:K,regModal:C,handleOpen:y,handleEmpty:S,callBack:L}}});const gp={key:0,class:"components-input-demo-presuffix"};function vp(b,ce,H,O,K,ae){const W=Ye("Icon"),C=Ye("a-input"),m=Ye("JPopupOnlReportModal");return b.avalid?(tt(),zt("div",gp,[ht(C,Nt({onClick:b.handleOpen,value:b.showText,"onUpdate:value":ce[0]||(ce[0]=g=>b.showText=g),placeholder:b.placeholder,readOnly:""},b.attrs),{prefix:ct(()=>[ht(W,{icon:"ant-design:cluster-outlined"})]),_:1},16,["onClick","value","placeholder"]),ht(m,{onRegister:b.regModal,code:b.code,multi:b.multi,sorter:b.sorter,groupId:b.uniqGroupId,param:b.param,onOk:b.callBack,getContainer:b.getContainer},null,8,["onRegister","code","multi","sorter","groupId","param","onOk","getContainer"])])):Kn("",!0)}const rh=Jt(mp,[["render",vp],["__scopeId","data-v-1fe6c017"]]),ih=Bt({__name:"JSwitch",props:{value:Me.oneOfType([Me.string,Me.number]),options:Me.array.def(()=>["Y","N"]),labelOptions:Me.array.def(()=>["\u662F","\u5426"]),query:Me.bool.def(!1),disabled:Me.bool.def(!1)},emits:["change","update:value"],setup(b,{emit:ce}){const H=b,{prefixCls:O}=Nl("j-switch"),K=nn(),ae=Be(!1),[W]=lr(H,"value","change");It(()=>H.value,k=>{H.query||(k?ae.value=H.options[0]==k:(ae.value=!1,w(H.options[1])))},{immediate:!0});const C=On(()=>{let k=[];return k.push({value:H.options[0],label:H.labelOptions[0]}),k.push({value:H.options[1],label:H.labelOptions[1]}),k});function m(k){let A=k===!1?H.options[1]:H.options[0];w(A)}function g(k){w(k)}function w(k){ce("change",k),ce("update:value",k)}return(k,A)=>{const y=Ye("a-select"),S=Ye("a-switch");return tt(),zt("div",{class:Ml(ot(O))},[b.query?(tt(),Lt(y,Nt({key:0,value:ot(W),"onUpdate:value":A[0]||(A[0]=L=>kc(W)?W.value=L:null),options:C.value,disabled:b.disabled,style:{width:"100%"}},ot(K),{onChange:g}),null,16,["value","options","disabled"])):(tt(),Lt(S,Nt({key:1,checked:ae.value,"onUpdate:checked":A[1]||(A[1]=L=>ae.value=L),disabled:b.disabled},ot(K),{onChange:m}),null,16,["checked","disabled"]))],2)}}});const oh=Bt({__name:"JTreeDict",props:{value:Me.string.def(""),field:Me.string.def("id"),parentCode:Me.string.def(""),async:Me.bool.def(!1)},emits:["change","update:value"],setup(b,{emit:ce}){const H=b,{prefixCls:O}=Nl("j-tree-dict"),K=nn(),ae=Be([]),W=Be(null);It(()=>H.value,()=>C(),{deep:!0,immediate:!0}),It(()=>H.parentCode,()=>m(),{deep:!0,immediate:!0});function C(){return tn(this,null,function*(){if(!H.value||H.value=="0")W.value=null;else{let S={field:H.field,val:H.value},L=yield Or.get({url:"/sys/category/loadOne",params:S});W.value={value:H.value,label:L.name}}})}function m(){return tn(this,null,function*(){let S={async:H.async,pcode:H.parentCode},L=yield Or.get({url:"/sys/category/loadTreeRoot",params:S});ae.value=[...L],k(L)})}function g(S){return tn(this,null,function*(){if(!H.async||S.dataRef.children)return Promise.resolve();let L=S.dataRef.key,D={pid:L},E=yield Or.get({url:"/sys/category/loadTreeChildren",params:D});return k(E),w(L,E,ae.value),ae.value=[...ae.value],Promise.resolve()})}function w(S,L,D){if(D&&D.length>0)for(let E of D)if(E.key==S){!L||L.length==0?E.leaf=!0:E.children=L;break}else w(S,L,E.children)}function k(S){let L=H.field=="code"?"code":"key";for(let D of S)D.value=D[L],D.isLeaf=D.leaf,D.children&&D.children.length>0&&k(D.children)}function A(S){y(S?S.value:""),W.value=S}function y(S){ce("change",S),ce("update:value",S)}return(S,L)=>(tt(),Lt(ot(_c),Nt({class:ot(O),value:W.value,treeData:ae.value,loadData:g,allowClear:"",labelInValue:"",dropdownStyle:{maxHeight:"400px",overflow:"auto"},style:{width:"100%"}},ot(K),{onChange:A}),null,16,["class","value","treeData"]))}});const bp=Bt({name:"JCheckbox",props:{value:Me.oneOfType([Me.string,Me.number]),dictCode:Me.string,options:{type:Array,default:()=>[]}},emits:["change","update:value"],setup(b,{emit:ce}){const H=nn(),O=Be([]),K=Be([]);ar(()=>{let C=b.value;!C&&C!==0?K.value=[]:(C=C+"",K.value=C.split(",")),(b.value===""||b.value===void 0)&&(K.value=[])}),ar(()=>{b&&ae()});function ae(){return tn(this,null,function*(){if(b.options&&b.options.length>0){O.value=b.options;return}if(b.dictCode){const C=yield Dl(b.dictCode);O.value=C.reduce((m,g)=>{if(g){const w=g.value;m.push({label:g.text,value:w})}return m},[])}})}function W(C){ce("update:value",C.join(",")),ce("change",C.join(","))}return{checkboxArray:K,checkOptions:O,attrs:H,handleChange:W}}});function yp(b,ce,H,O,K,ae){const W=Ye("a-checkbox-group");return tt(),Lt(W,Nt(b.attrs,{value:b.checkboxArray,"onUpdate:value":ce[0]||(ce[0]=C=>b.checkboxArray=C),options:b.checkOptions,onChange:b.handleChange}),null,16,["value","options","onChange"])}const ah=Jt(bp,[["render",yp]]),lh=Bt({__name:"JTreeSelect",props:{value:Me.string.def(""),placeholder:Me.string.def("\u8BF7\u9009\u62E9"),dict:Me.string.def("id"),parentCode:Me.string.def(""),pidField:Me.string.def("pid"),pidValue:Me.string.def(""),hasChildField:Me.string.def(""),converIsLeafVal:Me.integer.def(1),condition:Me.string.def(""),multiple:Me.bool.def(!1),loadTriggleChange:Me.bool.def(!1),reload:Me.number.def(1),url:Me.string.def(""),params:Me.object.def({}),treeCheckAble:Me.bool.def(!1)},emits:["change","update:value"],setup(b,{emit:ce}){const H=b,O=nn(),{createMessage:K}=jo(),ae=Be([]),W=Be(null),C=Be(""),m=Be(""),g=Be("");It(()=>H.value,()=>w(),{deep:!0,immediate:!0}),It(()=>H.dict,()=>{A(),y()},{deep:!0,immediate:!0}),It(()=>H.reload,()=>tn(this,null,function*(){ae.value=[],yield y()}),{immediate:!1});function w(){return tn(this,null,function*(){if(!H.value||H.value=="0")H.multiple?W.value=[]:W.value=null;else if(H.url)p();else{let _={key:H.value},z=yield Or.get({url:`/sys/dict/loadDictItem/${H.dict}`,params:_},{isTransformResponse:!1});if(z.success){let M=H.value.split(",");W.value=z.result.map((x,R)=>({key:M[R],value:M[R],label:x})),k(z.result[0])}}})}function k(_){!H.multiple&&H.loadTriggleChange&&ce("change",H.value,_)}function A(){var z;let _=(z=H.dict)==null?void 0:z.split(",");C.value=_[0],m.value=_[1],g.value=_[2]}function y(){return tn(this,null,function*(){let _={pid:H.pidValue,pidField:H.pidField,hasChildField:H.hasChildField,converIsLeafVal:H.converIsLeafVal,condition:H.condition,tableName:ot(C),text:ot(m),code:ot(g)},z=yield Or.get({url:"/sys/dict/loadTreeData",params:_},{isTransformResponse:!1});if(z.success&&z.result){for(let M of z.result)M.value=M.key,M.isLeaf=!!M.leaf;ae.value=[...z.result]}else console.log("\u6570\u6839\u8282\u70B9\u67E5\u8BE2\u7ED3\u679C\u5F02\u5E38",z)})}function S(_){return tn(this,null,function*(){if(_.dataRef.children||H.url)return Promise.resolve();let z=_.dataRef.key,M={pid:z,pidField:H.pidField,hasChildField:H.hasChildField,converIsLeafVal:H.converIsLeafVal,condition:H.condition,tableName:ot(C),text:ot(m),code:ot(g)},x=yield Or.get({url:"/sys/dict/loadTreeData",params:M},{isTransformResponse:!1});if(x.success){for(let R of x.result)R.value=R.key,R.isLeaf=!!R.leaf;L(z,x.result,ae.value),ae.value=[...ae.value]}return Promise.resolve()})}function L(_,z,M){if(M&&M.length>0)for(let x of M)if(x.key==_){!z||z.length==0?x.isLeaf=!0:x.children=z;break}else L(_,z,x.children)}function D(_){_?_ instanceof Array?E(_.map(z=>z.value).join(",")):E(_.value):E(""),W.value=_}function E(_){ce("change",_),ce("update:value",_)}function N(_){console.log(_)}function F(){let _=H.condition;return new Promise((z,M)=>{if(!_)z();else try{let x=JSON.parse(_);typeof x=="object"&&x?z():(K.error("\u7EC4\u4EF6JTreeSelect-condition\u4F20\u503C\u6709\u8BEF\uFF0C\u9700\u8981\u4E00\u4E2Ajson\u5B57\u7B26\u4E32!"),M())}catch(x){K.error("\u7EC4\u4EF6JTreeSelect-condition\u4F20\u503C\u6709\u8BEF\uFF0C\u9700\u8981\u4E00\u4E2Ajson\u5B57\u7B26\u4E32!"),M()}})}It(()=>H.url,_=>tn(this,null,function*(){_&&(yield s())}));function s(){return tn(this,null,function*(){let _=H.url,z=H.params,M=yield Or.get({url:_,params:z},{isTransformResponse:!1});if(M.success&&M.result){for(let x of M.result)x.key=x.value,x.isLeaf=!!x.leaf;ae.value=[...M.result]}else console.log("\u6570\u6839\u8282\u70B9\u67E5\u8BE2\u7ED3\u679C\u5F02\u5E38",M)})}function p(){let _=ae.value,z=[];c(_,z),z.length>0&&(W.value=z,k(z[0]))}function c(_,z){let M=H.value;if(_&&_.length)for(let x of _)M===x.value?z.push({key:x.key,value:x.value,label:x.label||x.title}):c(x.children,z)}return F().then(()=>{A(),y(),w()}),(_,z)=>{const M=Ye("a-tree-select");return tt(),Lt(M,Nt({allowClear:"",labelInValue:"",style:{width:"100%"},getPopupContainer:x=>x.parentNode,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:b.placeholder,loadData:S,value:W.value,treeData:ae.value,multiple:b.multiple},ot(O),{onChange:D,onSearch:N,"tree-checkable":b.treeCheckAble}),null,16,["getPopupContainer","placeholder","value","treeData","multiple","tree-checkable"])}}}),wp=Bt({name:"UserSelectByDepModal",components:{BasicModal:Qi,BasicTree:Hu,BasicTable:Ji(()=>Xi(()=>import("./BasicTable.a8592173.js"),["assets/BasicTable.a8592173.js","assets/BasicTable.vue_vue_type_style_index_0_lang.bed283e2.js","assets/index.c1d8dbc8.js","assets/index.8a10b1a2.css","assets/BasicForm.763c9f74.js","assets/BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js","assets/componentMap.995605ed.js","assets/useFormItem.6935557d.js","assets/index.5f6d2eec.js","assets/BasicModal.4c523d71.js","assets/useWindowSizeFn.1a55d327.js","assets/BasicModal.1e1b2ed9.css","assets/index.361bf2db.css","assets/JUpload.vue_vue_type_style_index_0_lang.51f417a5.js","assets/api.221c4cde.js","assets/JUpload.2a8a7c7c.css","assets/download.f2b87928.js","assets/base64Conver.030fa32c.js","assets/index.236167d6.js","assets/index.399aa0e3.css","assets/index.9b215829.js","assets/useCountdown.5186f11f.js","assets/index.15cc10f8.css","assets/index.7a47645e.js","assets/index.600d2c21.css","assets/componentMap.524c5264.css","assets/uniqBy.3dbe90b3.js","assets/BasicForm.384f4697.css","assets/useForm.4b03a18a.js","assets/injectionKey.1ad13e6c.js","assets/onMountedOrActivated.6b21dee8.js","assets/SettingOutlined.549e296f.js","assets/RedoOutlined.27cf802c.js","assets/BasicTable.ffdc5c98.css","assets/areaDataUtil.b22cb30b.js","assets/props.adbaf37f.js","assets/index.201afc50.js","assets/bem.452cc75b.js","assets/props.82dd77cc.js","assets/useContextMenu.184539a6.js","assets/useContextMenu.6fcaad79.css","assets/index.a95e0833.css","assets/index.cf6640d7.js","assets/index.e8c59073.css","assets/depart.api.ef5d901e.js","assets/MinusCircleOutlined.bac41ad8.js"]),{loading:!0})},props:ti(or({},Ca),{modalTitle:{type:String,default:"\u90E8\u95E8\u7528\u6237\u9009\u62E9"}}),emits:["register","getSelectResult"],setup(b,{emit:ce,refs:H}){const O=Be(),K=Be(),[ae,{closeModal:W}]=Zi(z=>tn(this,null,function*(){yield F()})),C=nn(),m=Be([]),g=Be([]),w=Be([]),k={},A={columns:[{title:"\u7528\u6237\u8D26\u53F7",dataIndex:"username",width:50},{title:"\u7528\u6237\u59D3\u540D",dataIndex:"realname",width:50},{title:"\u6027\u522B",dataIndex:"sex_dictText",width:50},{title:"\u624B\u673A\u53F7\u7801",dataIndex:"phone",width:50}],useSearchForm:!0,canResize:!1,showIndexColumn:!1,striped:!0,bordered:!0,size:"small",formConfig:{baseColProps:{xs:24,sm:8,md:6,lg:8,xl:6,xxl:10},schemas:[{label:"\u8D26\u53F7",field:"username",component:"Input"}],resetFunc:c}},y=Object.assign({},ot(b),ot(C),A),[{rowSelection:S,visibleChange:L,indexColumnProps:D,getSelectResult:E,reset:N}]=Ea(ou,y);function F(){au().then(z=>{z&&(m.value=z)})}function s(z){return tn(this,null,function*(){try{const M=yield au({pid:z.eventKey}),x=ot(K);x&&(x.updateNodeByKey(z.eventKey,{children:M}),x.setExpandedKeys([z.eventKey,...x.getExpandedKeys()]))}catch(M){console.error(M)}return Promise.resolve()})}function p(z){z[0]!=null&&(ot(g)[0]!==z[0]&&(g.value=[z[0]]),k.departId=ot(g).join(","),O.value.reload())}function c(){return tn(this,null,function*(){console.log("\u81EA\u5B9A\u4E49\u67E5\u8BE2"),g.value=[],k.departId="",N()})}function _(){E((z,M)=>{ce("getSelectResult",z,M),W()})}return{handleOk:_,searchInfo:k,register:ae,indexColumnProps:D,visibleChange:L,getBindValue:y,rowSelection:S,departTree:m,selectedDepIds:g,expandedKeys:w,treeRef:K,tableRef:O,getTableList:ou,onDepSelect:p,loadChildrenTreeData:s}}});function kp(b,ce,H,O,K,ae){const W=Ye("BasicTree"),C=Ye("a-card"),m=Ye("a-col"),g=Ye("BasicTable"),w=Ye("a-row"),k=Ye("BasicModal");return tt(),Lt(k,Nt(b.$attrs,{onRegister:b.register,title:b.modalTitle,width:"1200px",onOk:b.handleOk,destroyOnClose:"",onVisibleChange:b.visibleChange}),{default:ct(()=>[ht(w,{gutter:10},{default:ct(()=>[ht(m,{md:7,sm:24},{default:ct(()=>[ht(C,{style:{minHeight:"613px",overflow:"auto"}},{default:ct(()=>[ht(W,{ref:"treeRef",style:{minWidth:"250px"},selectable:"",onSelect:b.onDepSelect,"load-data":b.loadChildrenTreeData,treeData:b.departTree,selectedKeys:b.selectedDepIds,expandedKeys:b.expandedKeys,clickRowToExpand:!1},null,8,["onSelect","load-data","treeData","selectedKeys","expandedKeys"])]),_:1})]),_:1}),ht(m,{md:17,sm:24},{default:ct(()=>[ht(C,{style:{minHeight:"613px",overflow:"auto"}},{default:ct(()=>[ht(g,Nt({ref:"tableRef"},b.getBindValue,{searchInfo:b.searchInfo,api:b.getTableList,rowSelection:b.rowSelection}),null,16,["searchInfo","api","rowSelection"])]),_:1})]),_:1})]),_:1})]),_:1},16,["onRegister","title","onOk","onVisibleChange"])}const _p=Jt(wp,[["render",kp]]),xp=Bt({name:"JSelectUserByDept",components:{UserSelectByDepModal:_p,JSelectBiz:Ro},inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.array]),rowKey:{type:String,default:"username"},labelKey:{type:String,default:"realname"}},emits:["options-change","change","update:value"],setup(b,{emit:ce,refs:H}){const O=Be(),[K,{openModal:ae}]=Yi(),[W]=lr(b,"value","change",O),C=Be([]);let m=dr({value:[],change:!1});const g=Be(!1);Vn("selectOptions",C),Vn("selectValues",m),Vn("loadingEcho",g);const w=Be(!1),k=nn();ar(()=>{y()}),It(m,()=>{m&&(W.value=m.value)});function A(){w.value=!0,ae(!0,{isUpdate:!1})}function y(){let E=b.value?b.value:[];E&&typeof E=="string"&&E!="null"&&E!="undefined"?(W.value=E.split(","),m.value=E.split(",")):m.value=E}function S(E,N){C.value=E,W.value=N,m.value=N,ce("update:value",N),ce("options-change",E)}function L(E){ce("update:value",E)}const D=Object.assign({},ot(b),ot(k));return{state:W,attrs:k,selectOptions:C,getBindValue:D,selectValues:m,loadingEcho:g,tag:w,regModal:K,setValue:S,handleOpen:A,handleChange:L}}});function Sp(b,ce,H,O,K,ae){const W=Ye("JSelectBiz"),C=Ye("UserSelectByDepModal");return tt(),zt("div",null,[ht(W,Nt({onChange:b.handleChange,onHandleOpen:b.handleOpen,loading:b.loadingEcho},b.attrs),null,16,["onChange","onHandleOpen","loading"]),ht(C,Nt({rowKey:b.rowKey,onRegister:b.regModal,onGetSelectResult:b.setValue},b.getBindValue),null,16,["rowKey","onRegister","onGetSelectResult"])])}const sh=Jt(xp,[["render",Sp],["__scopeId","data-v-a5d65088"]]),Cp=Bt({name:"JSearchSelect",inheritAttrs:!1,props:{value:Me.oneOfType([Me.string,Me.number]),dict:Me.string,dictOptions:{type:Array,default:()=>[]},async:Me.bool.def(!1),placeholder:Me.string,popContainer:Me.string,pageSize:Me.number.def(10),getPopupContainer:{type:Function,default:b=>b.parentNode},adjustY:Me.bool.def(!0),immediateChange:Me.bool.def(!1),params:{type:Object,default:()=>{}}},emits:["change","update:value"],setup(b,{emit:ce,refs:H}){const O=Be([]),K=Be(!1),ae=nn(),W=Be([]),C=Be([]),m=Be(0),g=Be(!0);ar(()=>{b.dict&&A()}),It(()=>b.value,F=>{F||F===0?k():(W.value=[],C.value=[])},{immediate:!0}),It(()=>b.dictOptions,F=>{F&&F.length>0&&(O.value=[...F])},{immediate:!0});function w(F){return tn(this,null,function*(){m.value+=1;const s=ot(m);O.value=[],K.value=!0;let p=N(F);Or.get({url:`/sys/dict/loadDict/${b.dict}`,params:{keyword:p,pageSize:b.pageSize}}).then(c=>{if(K.value=!1,c&&c.length>0){if(s!=ot(m))return;O.value=c}})})}function k(){if(g.value===!1){g.value=!0;return}let{async:F,value:s,dict:p}=b;F?(!C||!C.key||C.key!==s)&&Or.get({url:`/sys/dict/loadDictItem/${p}`,params:{key:s}}).then(c=>{if(c&&c.length>0){let _={key:s,label:c};C.value=or({},_),b.immediateChange==!0&&ce("change",s)}}):(W.value=s.toString(),b.immediateChange==!0&&ce("change",s.toString()))}function A(){return tn(this,null,function*(){let{dict:F,async:s,dictOptions:p,pageSize:c}=b;if(s)if(!F)console.error("\u641C\u7D22\u7EC4\u4EF6\u672A\u914D\u7F6E\u5B57\u5178\u9879");else{K.value=!0;let _=N("");Or.get({url:`/sys/dict/loadDict/${F}`,params:{pageSize:c,keyword:_}}).then(z=>{K.value=!1,z&&z.length>0&&(O.value=z)})}else if(p&&p.length>0)O.value=p;else{let _="";if(F){let z=F.split(",");if(z[0].indexOf("where")>0){let x=z[0].split("where");_=x[0].trim()+","+z[1]+","+z[2]+","+encodeURIComponent(x[1])}else _=F;const M=yield Dl(_);O.value=M}}})}function y(F){W.value=F,L()}function S(F){F?(C.value=F,W.value=F.key):(C.value=null,W.value=null,O.value=null,w("")),L()}function L(){g.value=!1,ce("change",ot(W)),ce("update:value",ot(W))}function D(F,s){let p="",c="";try{p=s.value,c=s.children()[0].children}catch(z){console.log("\u83B7\u53D6\u4E0B\u62C9\u9879\u5931\u8D25",z)}let _=F.toLowerCase();return p.toLowerCase().indexOf(_)>=0||c.toLowerCase().indexOf(_)>=0}function E(F){return b.popContainer?document.querySelector(b.popContainer):typeof b.getPopupContainer=="function"?b.getPopupContainer(F):F.parentNode}function N(F){if(b.params&&b.params.column&&b.params.order){let s=F||"";return s=s+"[orderby:"+b.params.column+","+b.params.order+"]",encodeURI(s)}else return F}return{attrs:ae,options:O,loading:K,selectedValue:W,selectedAsyncValue:C,loadData:xc(w,800),getParentContainer:E,filterOption:D,handleChange:y,handleAsyncChange:S}}});function Ep(b,ce,H,O,K,ae){const W=Ye("a-spin"),C=Ye("a-select-option"),m=Ye("a-select");return b.async?(tt(),Lt(m,Nt({key:0},b.attrs,{value:b.selectedAsyncValue,"onUpdate:value":ce[0]||(ce[0]=g=>b.selectedAsyncValue=g),showSearch:"",labelInValue:"",allowClear:"",getPopupContainer:b.getParentContainer,placeholder:b.placeholder,filterOption:!1,notFoundContent:b.loading?void 0:null,onSearch:b.loadData,onChange:b.handleAsyncChange}),{notFoundContent:ct(()=>[ht(W,{size:"small"})]),default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.options,g=>(tt(),Lt(C,{key:g.value,value:g.value},{default:ct(()=>[pn(ur(g.text),1)]),_:2},1032,["value"]))),128))]),_:1},16,["value","getPopupContainer","placeholder","notFoundContent","onSearch","onChange"])):(tt(),Lt(m,Nt({key:1,value:b.selectedValue,"onUpdate:value":ce[1]||(ce[1]=g=>b.selectedValue=g)},b.attrs,{showSearch:"",getPopupContainer:b.getParentContainer,placeholder:b.placeholder,filterOption:b.filterOption,notFoundContent:b.loading?void 0:null,dropdownAlign:{overflow:{adjustY:b.adjustY}},onChange:b.handleChange}),{notFoundContent:ct(()=>[b.loading?(tt(),Lt(W,{key:0,size:"small"})):Kn("",!0)]),default:ct(()=>[(tt(!0),zt(Yn,null,Cr(b.options,g=>(tt(),Lt(C,{key:g.value,value:g.value},{default:ct(()=>[pn(ur(g.text),1)]),_:2},1032,["value"]))),128))]),_:1},16,["value","getPopupContainer","placeholder","filterOption","notFoundContent","dropdownAlign","onChange"]))}const uh=Jt(Cp,[["render",Ep]]),Lp=Bt({name:"JAddInput",props:{value:Me.string.def(""),min:Me.integer.def(1)},emits:["change","update:value"],setup(b,{emit:ce}){const H=dr({params:[]}),O=C=>{let m=H.params.indexOf(C);m!==-1&&H.params.splice(m,1),W()},K=()=>{H.params.push({label:"",value:""}),W()};ar(()=>{ae()});function ae(){if(console.log("props.value",b.value),H.params=[],b.value&&b.value.indexOf("{")==0){let C=JSON.parse(b.value);Object.keys(C).forEach(m=>{H.params.push({label:m,value:C[m]})})}}function W(){let C={};H.params.length>0&&H.params.forEach(m=>{C[m.label]=m.value}),ce("change",Qs(C)?"":JSON.stringify(C)),ce("update:value",Qs(C)?"":JSON.stringify(C))}return{dynamicInput:H,emitChange:W,remove:O,add:K}},components:{MinusCircleOutlined:Rc,PlusOutlined:Sc}});function Tp(b,ce,H,O,K,ae){const W=Ye("a-input"),C=Ye("MinusCircleOutlined"),m=Ye("PlusOutlined"),g=Ye("a-button");return tt(),zt(Yn,null,[(tt(!0),zt(Yn,null,Cr(b.dynamicInput.params,(w,k)=>(tt(),zt("div",{key:k,style:{display:"flex"}},[ht(W,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570key",value:w.label,"onUpdate:value":A=>w.label=A,style:{width:"30%","margin-bottom":"5px"},onInput:b.emitChange},null,8,["value","onUpdate:value","onInput"]),ht(W,{placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570value",value:w.value,"onUpdate:value":A=>w.value=A,style:{width:"30%",margin:"0 0 5px 5px"},onInput:b.emitChange},null,8,["value","onUpdate:value","onInput"]),b.dynamicInput.params.length>b.min?(tt(),Lt(C,{key:0,class:"dynamic-delete-button",onClick:A=>b.remove(w),style:{width:"50px"}},null,8,["onClick"])):Kn("",!0)]))),128)),Nr("div",null,[ht(g,{type:"dashed",style:{width:"60%"},onClick:b.add},{default:ct(()=>[ht(m),pn(" \u65B0\u589E ")]),_:1},8,["onClick"])])],64)}const dh=Jt(Lp,[["render",Tp],["__scopeId","data-v-aea2876b"]]);export{Iu as C,qp as J,Jc as U,ih as _,Up as a,Wp as b,Kp as c,$p as d,Gp as e,Jp as f,Xp as g,Zp as h,Yp as i,Qp as j,eh as k,th as l,nh as m,rh as n,oh as o,ah as p,lh as q,sh as r,uh as s,dh as t,Wc as u};
