var e=(e,a,l)=>new Promise(((t,n)=>{var o=e=>{try{s(l.next(e))}catch(a){n(a)}},i=e=>{try{s(l.throw(e))}catch(a){n(a)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,i);s((l=l.apply(e,a)).next())}));import{q as a,l,dU as t,F as n,bI as o,o as i,at as s,a8 as d,H as r,L as u,t as c,v as p,x as m,c8 as f,y as g,z as v,ax as b,W as y,aW as h,C as j,D as _,V as x,E as C,au as w,ac as I,dp as k,dq as R}from"./index.435ab247.js";import{B as U}from"./BasicTable.0748ea8a.js";import{T as M}from"./helper.1c9dc9a5.js";import"./TableImg.e204e8e3.js";import{u as S}from"./useTable.6359f662.js";import"./index.e1e06dd6.js";import{g as T,c as F,s as B,a as D,b as q,_ as z,d as A,e as J}from"./DemoModal.1f4af2ca.js";import{J as K}from"./JImportModal.31eee2f4.js";import{e as O}from"./JAddInput.8c125e2c.js";import"./BasicForm.d9f6c231.js";import"./uniqBy.91f18935.js";import"./BasicModal.c66de981.js";import"./useWindowSizeFn.3d5b1a05.js";import"./useForm.45d68074.js";import"./index.4cdbd2ab.js";import"./useContentHeight.60ff243a.js";import"./onMountedOrActivated.e9ddbd41.js";import"./useContentViewHeight.f55d8457.js";import"./usePageContext.56c44530.js";import"./RedoOutlined.9fc7613c.js";import"./useFormItem.816007c4.js";import"./functional.be5901d6.js";import"./download.5dc68cfb.js";import"./base64Conver.030fa32c.js";import"./index.a5502478.js";import"./index.64086148.js";import"./useCountdown.adc4ab77.js";import"./JUpload.e164672b.js";import"./api.bc301b0f.js";import"./index.cdc49bf1.js";import"./renderUtils.06416dce.js";import"./index.e1ec35e6.js";import"./props.5467b933.js";import"./index.713dc63d.js";import"./bem.0e923c54.js";import"./props.37836c63.js";import"./useContextMenu.82ce6d89.js";import"./index.627c6cd3.js";import"./htmlmixed.749cbc8c.js";import"./vue.f62dfd4a.js";/* empty css             */import"./depart.api.c07add53.js";const P=e=>(k("data-v-7c6ad578"),e=e(),R(),e),W=["onKeyup"],Y=P((()=>h("span",null,"~",-1))),H={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},E=j("查询"),L=j("重置"),V=P((()=>h("span",null,"~",-1))),X=j("新增"),N=j("导入"),G=j("导出"),Q=j("打开Tab页"),Z=j("弹窗导入"),$=j(" 删除 "),ee=j("批量操作 ");var ae=a(l({__name:"index",setup(a){const l=t(),k=n([]),[R,{openModal:P}]=o(),[ae,{openModal:le}]=o(),{handleExportXls:te,handleImportXls:ne}=w(),oe=n(),ie=n(),se=n(!1),[de,{reload:re,setProps:ue}]=S({title:"单表示例",api:T,columns:F,formConfig:{schemas:B,fieldMapToTime:[["birthday",["birthday_begin","birthday_end"],"YYYY-MM-DD"]],fieldMapToNumber:[["age",["age_begin","age_end"]]],autoAdvancedCol:2,actionColOptions:{style:{textAlign:"left"}}},defSort:{column:"sex,salaryMoney",order:"desc"},striped:!0,useSearchForm:!0,showTableSetting:!0,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,tableSetting:{fullScreen:!0},canResize:!1,rowKey:"id",actionColumn:{width:180,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),ce={type:"checkbox",columnWidth:40,selectedRowKeys:k,onChange:function(e){k.value=e}};function pe(){le(!0)}const me=i((()=>{let e={};return k.value&&k.value.length>0&&(e.selections=k.value.join(",")),s(e)}));function fe(e){return[{label:"编辑",onClick:ve.bind(null,e)},{label:"详情",onClick:be.bind(null,e)},{label:"删除",popConfirm:{title:"是否确认删除",confirm:ye.bind(null,e)}}]}function ge(){se.value=!1,P(!0,{isUpdate:!1})}function ve(e){se.value=!1,P(!0,{record:e,isUpdate:!0})}function be(e){se.value=!0,P(!0,{record:e,isUpdate:!0})}function ye(a){return e(this,null,(function*(){yield A({id:a.id},re)}))}function he(){return e(this,null,(function*(){yield J({ids:k.value},re)}))}function je(e,a){e[a]=[u(oe),u(ie)]}function _e(){l("/comp/jeecg/basic")}n();const xe=d({xs:{span:24},sm:{span:7}}),Ce=d({xs:{span:24},sm:{span:16}}),we=n(!1),Ie=n(!1),ke=d({name:"",age_begin:"",age_end:"",sex:"",id:""});function Re(){ue({searchInfo:I(ke)}),re()}function Ue(){Object.assign(ke,{name:"",age_begin:"",age_end:"",sex:"",id:""}),re()}return r(Ie,(()=>{ue({useSearchForm:!u(Ie)})})),(e,a)=>{const l=c("a-input"),t=c("a-form-item"),n=c("a-col"),o=c("a-button"),i=c("Icon"),s=c("a-row"),d=c("a-form"),r=c("a-upload"),w=c("a-menu-item"),I=c("a-menu"),S=c("a-dropdown");return p(),m("div",null,[Ie.value?(p(),m("div",{key:0,class:"jeecg-basic-table-form-container",onKeyup:f(Re,["enter"])},[g(d,{ref:"formRef",model:ke,"label-col":xe,"wrapper-col":Ce},{default:v((()=>[g(s,{gutter:24},{default:v((()=>[g(n,{lg:8},{default:v((()=>[g(t,{label:"用户名"},{default:v((()=>[g(l,{placeholder:"请输入名称模糊查询",value:ke.name,"onUpdate:value":a[0]||(a[0]=e=>ke.name=e)},null,8,["value"])])),_:1})])),_:1}),g(n,{lg:8},{default:v((()=>[g(t,{label:"年龄"},{default:v((()=>[g(l,{placeholder:"最小年龄",type:"ge",value:ke.age_begin,"onUpdate:value":a[1]||(a[1]=e=>ke.age_begin=e),style:{width:"calc(50% - 15px)"}},null,8,["value"]),Y,g(l,{placeholder:"最大年龄",type:"le",value:ke.age_end,"onUpdate:value":a[2]||(a[2]=e=>ke.age_end=e),style:{width:"calc(50% - 15px)"}},null,8,["value"])])),_:1})])),_:1}),we.value?(p(),m(b,{key:0},[g(n,{lg:8},{default:v((()=>[g(t,{label:"性别"},{default:v((()=>[g(O,{value:ke.sex,"onUpdate:value":a[3]||(a[3]=e=>ke.sex=e),placeholder:"请选择性别",dictCode:"sex"},null,8,["value"])])),_:1})])),_:1}),g(n,{lg:8},{default:v((()=>[g(t,{label:"选择用户"},{default:v((()=>[g(O,{value:ke.id,"onUpdate:value":a[4]||(a[4]=e=>ke.id=e),placeholder:"请选择用户",dictCode:"demo,name,id"},null,8,["value"])])),_:1})])),_:1})],64)):y("",!0),h("span",H,[g(n,{lg:6},{default:v((()=>[g(o,{type:"primary",preIcon:"ant-design:search-outlined",onClick:Re},{default:v((()=>[E])),_:1}),g(o,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:Ue,style:{"margin-left":"8px"}},{default:v((()=>[L])),_:1}),h("a",{onClick:a[5]||(a[5]=e=>we.value=!we.value),style:{"margin-left":"8px"}},[j(_(we.value?"收起":"展开")+" ",1),g(i,{icon:we.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])])),_:1})])])),_:1})])),_:1},8,["model","label-col","wrapper-col"])],40,W)):y("",!0),g(u(U),{onRegister:u(de),rowSelection:ce,class:C({"p-4":Ie.value})},{"form-age":v((({model:e,field:t})=>[g(l,{placeholder:"最小年龄",type:"ge",value:oe.value,"onUpdate:value":a[6]||(a[6]=e=>oe.value=e),style:{width:"calc(50% - 15px)"},onChange:a=>je(e,t)},null,8,["value","onChange"]),V,g(l,{placeholder:"最大年龄",type:"le",value:ie.value,"onUpdate:value":a[7]||(a[7]=e=>ie.value=e),style:{width:"calc(50% - 15px)"},onChange:a=>je(e,t)},null,8,["value","onChange"])])),tableTitle:v((()=>[g(o,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:ge},{default:v((()=>[X])),_:1}),g(r,{name:"file",showUploadList:!1,customRequest:e=>u(ne)(e,u(D),u(re))},{default:v((()=>[g(o,{preIcon:"ant-design:import-outlined",type:"primary"},{default:v((()=>[N])),_:1})])),_:1},8,["customRequest"]),g(o,{preIcon:"ant-design:export-outlined",type:"primary",onClick:a[8]||(a[8]=e=>u(te)("单表示例",u(q),u(me)))},{default:v((()=>[G])),_:1}),g(o,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:_e},{default:v((()=>[Q])),_:1}),g(o,{preIcon:"ant-design:retweet-outlined",type:"primary",onClick:a[9]||(a[9]=e=>Ie.value=!Ie.value)},{default:v((()=>[j(_(Ie.value?"表单配置查询":"自定义查询"),1)])),_:1}),g(o,{preIcon:"ant-design:import-outlined",type:"primary",onClick:pe},{default:v((()=>[Z])),_:1}),k.value.length>0?(p(),x(S,{key:0},{overlay:v((()=>[g(I,null,{default:v((()=>[g(w,{key:"1",onClick:he},{default:v((()=>[g(i,{icon:"ant-design:delete-outlined"}),$])),_:1})])),_:1})])),default:v((()=>[g(o,null,{default:v((()=>[ee,g(i,{style:{fontsize:"12px"},icon:"ant-design:down-outlined"})])),_:1})])),_:1})):y("",!0)])),action:v((({record:e})=>[g(u(M),{actions:fe(e)},null,8,["actions"])])),_:1},8,["onRegister","class"]),g(z,{onRegister:u(R),onSuccess:u(re),isDisabled:se.value},null,8,["onRegister","onSuccess","isDisabled"]),g(K,{onRegister:u(ae),url:u(D),online:""},null,8,["onRegister","url"])])}}}),[["__scopeId","data-v-7c6ad578"]]);export{ae as default};
