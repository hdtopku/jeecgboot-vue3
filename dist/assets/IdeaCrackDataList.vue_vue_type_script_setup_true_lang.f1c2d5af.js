import{j as A,ds as N,C as D,r as _,s as c,Q as k,bx as M,w as e,aW as o,v as a,y as n,z as r,N as h,O as F,t as x,R as v,H as b,B as L,ax as U,bc as K}from"./index.086d23f2.js";import{_ as W}from"./CommonList.vue_vue_type_script_setup_true_lang.ecfd0a63.js";import{a as q,s as G}from"./IdeaCrack.api.c12f365d.js";import{M as O}from"./MinusCircleOutlined.4dff8018.js";import{S}from"./SyncOutlined.6b563de7.js";const J={key:0},P={key:1},X={class:"w-24"},Y=["onClick"],au=A({__name:"IdeaCrackDataList",setup(Z,{expose:V}){A({components:{MinusCircleOutlined:O,ClockCircleOutlined:N,SyncOutlined:S}});const B=D(!1),j=s=>"e.taojingling.cn/jb/"+s,T=s=>{if(s.valid===-1)return s.status===-1?"default":"error";switch(Number.parseInt(s.status)){case 1:return"processing";case 0:return"error"}},t=D("0"),I=D(),E=s=>{var y,l,p;return(s==null?void 0:s.ip)==null?"\u4F4D\u7F6E\u4FE1\u606F\u91C7\u96C6\u4E2D...":`${s.operator}-`+(((y=s==null?void 0:s.country)==null?void 0:y.indexOf("\u4E2D\u56FD"))>-1||((p=(l=s==null?void 0:s.country)==null?void 0:l.toUpperCase())==null?void 0:p.indexOf("CHINA"))>-1?"":s==null?void 0:s.country)+s.province+s.city+s.county},w=s=>s.model+" | "+s.system+" | "+s.browser,$=(s,y)=>{s.valid=y,G(s,!0).then(()=>{})};return V({startQuery:(s={})=>{t.value=s==null?void 0:s.status,I.value.execQuery(q,s)},changeAdvanced:()=>{B.value=!B.value}}),(s,y)=>{const l=_("a-typography-text"),p=_("a-tag"),z=_("a-popover"),Q=_("a-button"),R=_("a-menu-item"),H=_("a-menu");return c(),k(W,{ref_key:"CommonListRef",ref:I},M({header:e(()=>[h(a(l,{mark:""},{default:e(()=>[n("\u5173\u9ED1\u5C4B\uFF0C\u6FC0\u6D3B\u7801\u4F1A\u5931\u6548")]),_:1},512),[[F,t.value==="-100"]]),h(a(l,{mark:""},{default:e(()=>[n("\u91CD\u70B9\u89C2\u5BDF\uFF0C\u6FC0\u6D3B\u7801\u4E0D\u4F1A\u5931\u6548")]),_:1},512),[[F,t.value==="-90"]]),h(a(l,{mark:""},{default:e(()=>[n("\u6FC0\u6D3B\u7801\u4F1A\u5931\u6548")]),_:1},512),[[F,t.value==="-10"]]),h(a(l,{mark:""},{default:e(()=>[n("\u6309\u63D0\u53D6\u6B21\u6570\u5012\u6392")]),_:1},512),[[F,t.value==="90"]]),h(a(l,{mark:""},{default:e(()=>[n(" \u6309\u66F4\u65B0\u65F6\u95F4\u5012\u6392 ")]),_:1},512),[[F,t.value!=="-100"&&t.value!=="-90"&&t.value!=="-10"&&t.value!=="90"]])]),top:e(({item:u})=>{var f,d,C;return[((f=u==null?void 0:u.sysIps)==null?void 0:f.length)>0?(c(),x("div",J,[n(r(E(u==null?void 0:u.sysIps[0]))+" ",1),B.value?(c(),k(l,{key:0,copyable:""},{default:e(()=>{var g;return[n(r((g=u==null?void 0:u.sysIps[0])==null?void 0:g.ip),1)]}),_:2},1024)):v("",!0)])):v("",!0),((d=u==null?void 0:u.sysIps)==null?void 0:d.length)>0?(c(),x("div",P,r(w(u==null?void 0:u.sysIps[0])),1)):v("",!0),o("div",null,[a(p,{color:T(u)},{icon:e(()=>[u.valid===-1?(c(),k(b(O),{key:0})):v("",!0),u.valid===0&&u.status===-1?(c(),k(b(N),{key:1})):v("",!0),u.valid===0&&u.status===1?(c(),k(b(S),{key:2,spin:!0})):v("",!0)]),default:e(()=>[n(" "+r(u==null?void 0:u.statusName),1)]),_:2},1032,["color"]),o("span",{class:L(u.valid===-1||u.status===-1?"line-through text-red-300":"text-red-500")},r((C=u==null?void 0:u.openTime)==null?void 0:C.substring(5)),3)])]}),left:e(({item:u,index:f})=>[o("div",X,[o("div",null,[a(z,{placement:"right"},{content:e(()=>[(c(!0),x(U,null,K(u==null?void 0:u.sysIps,(d,C)=>(c(),x("div",{key:C},[a(l,{copyable:""},{default:e(()=>[o("div",null,[n(r(E(d))+" | ",1),a(l,{copyable:""},{default:e(()=>{var g;return[n(r((g=u==null?void 0:u.sysIps[0])==null?void 0:g.ip),1)]}),_:2},1024)]),o("span",null,r(w(d)),1)]),_:2},1024)]))),128))]),default:e(()=>{var d;return[o("a",{href:"javascript:;",onClick:C=>s.showSysIpInfo(u)},r((d=u==null?void 0:u.sysIps)==null?void 0:d.length)+"\u4E2A\u8BBE\u5907",9,Y)]}),_:2},1024)]),a(l,{copyable:{text:j(u==null?void 0:u.code)}},{default:e(()=>[o("span",{class:L(["",(u==null?void 0:u.valid)===-1?"text-gray-500 line-through":"text-purple-900 font-medium"])},r(u==null?void 0:u.code),3)]),_:2},1032,["copyable"])])]),operate:e(({item:u,index:f})=>[a(H,null,{default:e(()=>[a(R,null,{default:e(()=>[a(Q,{type:"link",size:"small",danger:"",onClick:d=>$(u,-1)},{default:e(()=>[n(" \u9500\u6BC1\u94FE\u63A5 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},[B.value?{name:"bottom",fn:e(({item:u,index:f})=>[o("div",null,[a(p,null,{default:e(()=>[n(r(u==null?void 0:u.createBy)+"\u521B\u5EFA",1)]),_:2},1024),n(r(u==null?void 0:u.createTime.substring(5)),1)]),o("div",null,[a(p,null,{default:e(()=>[n(r(u==null?void 0:u.updateBy)+"\u66F4\u65B0",1)]),_:2},1024),n(r(u==null?void 0:u.updateTime.substring(5)),1)])]),key:"0"}:void 0]),1536)}}});export{au as _};
