var v=Object.defineProperty,y=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var _=(r,e,t)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e)=>{for(var t in e||(e={}))B.call(e,t)&&_(r,t,e[t]);if(f)for(var t of f(e))E.call(e,t)&&_(r,t,e[t]);return r},g=(r,e)=>y(r,C(e));var u=(r,e,t)=>new Promise((m,s)=>{var c=o=>{try{n(t.next(o))}catch(a){s(a)}},l=o=>{try{n(t.throw(o))}catch(a){s(a)}},n=o=>o.done?m(o.value):Promise.resolve(o.value).then(c,l);n((t=t.apply(r,e)).next())});import{l as F,F as x,t as I,v as R,V as k,z as T,y as b,L as d,a1 as w}from"./index.df6cbb3d.js";import{a as L}from"./index.31905c2f.js";import{B as S}from"./BasicTable.d4abc042.js";import"./helper.dae66a79.js";import"./TableImg.99059cb7.js";import{u as z}from"./useTable.ee55c7dd.js";import"./useContentHeight.ad60fc09.js";import"./onMountedOrActivated.52712096.js";import"./useWindowSizeFn.87f9f2e2.js";import"./useContentViewHeight.5d879871.js";import"./usePageContext.f3d66cef.js";import"./BasicForm.8686bc8b.js";import"./uniqBy.e3808e33.js";import"./index.696f9d2b.js";import"./BasicModal.e43862ee.js";import"./useForm.900aea93.js";import"./JAddInput.40436f5c.js";import"./useFormItem.2be14484.js";import"./api.1cb48a64.js";import"./props.bc182eb5.js";import"./index.c0884eed.js";import"./bem.5fa20b7a.js";import"./props.9345007b.js";import"./useContextMenu.c6597c00.js";import"./index.6f447a9e.js";import"./index.c3549ccd.js";import"./htmlmixed.978f590c.js";import"./vue.26970574.js";/* empty css             */import"./depart.api.37e03c1e.js";import"./RedoOutlined.fd8676f8.js";import"./functional.78b6c3eb.js";import"./download.7309a450.js";import"./base64Conver.030fa32c.js";import"./index.bbb41f7e.js";import"./index.af8068b1.js";import"./useCountdown.62194240.js";import"./JUpload.b938f4f4.js";import"./index.9f431460.js";const bt=F({__name:"AsyncTreeTable",setup(r){const e="/mock/api/asynTreeList",t=x(!1),m=x([]),[s,{setLoading:c}]=z({rowKey:"id",bordered:!0,canResize:!1,isTreeTable:!0,showIndexColumn:!0,columns:[{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u7EC4\u4EF6",dataIndex:"component"},{title:"\u6392\u5E8F",dataIndex:"orderNum"}]});function l(a){return u(this,null,function*(){t.value=!0;let i=yield w.get({url:e,params:a});return t.value=!1,i.map(p=>p.hasChildren?g(h({},p),{children:[]}):p)})}function n(){return u(this,null,function*(){m.value=yield l({id:"0"})})}n();function o(a,i){return u(this,null,function*(){a&&i.hasChildren&&i.children.length===0&&(i.children=yield l({id:i.id}))})}return(a,i)=>{const p=I("a-card");return R(),k(d(L),null,{default:T(()=>[b(p,{bordered:!1},{default:T(()=>[b(d(S),{loading:t.value,dataSource:m.value,onRegister:d(s),onExpand:o},null,8,["loading","dataSource","onRegister"])]),_:1})]),_:1})}}});export{bt as default};
