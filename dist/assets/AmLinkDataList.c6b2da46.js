import{l as i,di as m,dj as ss,F as D,t as v,v as a,V as t,z as n,x as h,y as l,W as e,R as M,S as Q,aV as F,D as y,C as o,E as us,c3 as ns,a6 as os}from"./index.23784a6b.js";import{s as z,g as as}from"./AmLink.api.c1838e8b.js";import ls from"./CommonList.bcfb8d81.js";import{g as es}from"./Am.api.df409892.js";const ts={key:0},_s=o("\u65B0\u589E"),ds=o("online\u5730\u5740 "),cs=o("\u6309\u521B\u5EFA\u65F6\u95F4\u5012\u6392"),rs=o("\u6309\u4FEE\u6539\u65F6\u95F4\u5012\u6392 "),ys=o("\u7F6E\u9876"),hs=o("\u7F16\u8F91"),ps=o("\u5220\u9664"),ks=o("\u5907\u7528"),fs=o("\u4F7F\u7528"),gs=o("\u8BBE\u4E3A\u81F3\u5C0A"),Cs=o("\u8BBE\u4E3A\u666E\u901A"),vs=o("\u53D6\u6D88\u81F3\u5C0A"),Fs=o("\u53D6\u6D88\u666E\u901A"),xs={key:0},Es=o(" |"),Bs={size:"small",class:"text-red-500"},As=o("\u81F3\u5C0A\u7248"),bs=o("\u666E\u901A\u7248"),Ls={key:2,style:{"margin-left":"-10px"}},Ds=o("\u590D\u5236\u77ED\u94FE"),zs=o("\u6FC0\u6D3B\u94FE"),$s=o("\u672A\u751F\u6210"),Ns={key:0,class:"text-indigo-700"},ws={key:0,class:"text-red-600"},Os=o("\u5907\u6CE8"),Ts={key:1},Is=o("\u9884\u5B58"),Vs=o("\u672A\u586B\u5199"),qs={key:2},Ss=o("\u957F\u94FE\u63A5"),Rs=o("\u672A\u586B\u5199"),js={key:3},Hs=o("\u9884\u5B58"),Ks=o("\u672A\u586B\u5199"),Ms={key:4},Qs={class:"text-indigo-700"},Gs={key:0},Zs=i({__name:"AmLinkDataList",emits:["handleEdit","handleAdd","queryList"],setup(Us,{expose:G,emit:C}){const B=m(ss);let{username:U,realname:Ws}=B==null?void 0:B.userInfo;const $=D(),W=u=>{C("handleEdit",u)},Y=u=>{C("handleAdd",u)},N=u=>A(u==null?void 0:u.link)+A(u==null?void 0:u.thirdLink)+A(u==null?void 0:u.shortLink),A=u=>{if((u==null?void 0:u.indexOf("itunes.apple.com"))>0){let _=u==null?void 0:u.indexOf("&ud_t=");if(_>0){let c=Number.parseInt(u==null?void 0:u.substring(_+6))*1e3;return ns(c).format("MM-DD HH:mm")}}return""},x=u=>{if((u==null?void 0:u.length)>0){let _=u.indexOf("clicked/");if(_>=0)return u.substring(_,_+13);if(_=u.indexOf("&ud_t="),_>=0)return u.substring(_+4)}return u},b=(u,_)=>{u.status=_,z(u,!0).then(()=>{C("queryList")})},J=u=>{z({id:u},!0).then(()=>{C("queryList")})},E=(u,_)=>{u.type=_,z(u,!0).then(()=>{C("queryList")})},{proxy:P}=os(),w=(u={})=>es({count:1,type:6,linkId:u==null?void 0:u.id,link:u==null?void 0:u.link,username:U},_=>{P.tool.copy(_,_+"\u5DF2\u590D\u5236")}),f=D("0"),X=(u={})=>{f.value=u==null?void 0:u.status,$.value.execQuery(as,u)},g=D(!1);return G({startQuery:X,changeAdvanced:()=>{g.value=!g.value},copyCode:w}),(u,_)=>{const c=v("a-button"),k=v("a-typography-text"),p=v("a-menu-item"),Z=v("a-menu"),r=v("a-tag");return a(),t(ls,{ref_key:"CommonListRef",ref:$},{header:n(()=>[f.value==="1"?(a(),h("span",ts,[l(c,{class:"mr-6",size:"small",type:"primary",preIcon:"ant-design:plus-outlined",onClick:Y},{default:n(()=>[_s]),_:1}),l(k,{class:"mr-6",copyable:{text:"https://www.myunidays.hk/CN/zh-CN/partners/applemusic/micro-access/online"}},{default:n(()=>[ds]),_:1},8,["copyable"])])):e("",!0),M(l(k,{mark:""},{default:n(()=>[cs]),_:1},512),[[Q,f.value==="0"]]),M(l(k,{mark:""},{default:n(()=>[rs]),_:1},512),[[Q,f.value==="100"||f.value==="-1"||f.value==="1"]])]),operate:n(({item:s})=>[l(Z,null,{default:n(()=>[(s==null?void 0:s.status)!==0?(a(),t(p,{key:0,onClick:d=>J(s.id)},{default:n(()=>[l(c,{type:"warning",ghost:"",size:"small"},{default:n(()=>[ys]),_:1})]),_:2},1032,["onClick"])):e("",!0),l(p,{onClick:d=>W(s)},{default:n(()=>[l(c,{type:"link",size:"small"},{default:n(()=>[hs]),_:1})]),_:2},1032,["onClick"]),(s==null?void 0:s.status)===0||(s==null?void 0:s.status)===1?(a(),t(p,{key:1,onClick:d=>b(s,-1)},{default:n(()=>[l(c,{type:"link",size:"small",danger:""},{default:n(()=>[ps]),_:1})]),_:2},1032,["onClick"])):e("",!0),(s==null?void 0:s.status)===0||(s==null?void 0:s.status)===-1?(a(),t(p,{key:2,onClick:d=>b(s,1)},{default:n(()=>[l(c,{type:"link",size:"small"},{default:n(()=>[ks]),_:1})]),_:2},1032,["onClick"])):e("",!0),(s==null?void 0:s.status)===-1||(s==null?void 0:s.status)===1?(a(),t(p,{key:3,onClick:d=>b(s,0)},{default:n(()=>[l(c,{type:"link",size:"small"},{default:n(()=>[fs]),_:1})]),_:2},1032,["onClick"])):e("",!0),(s==null?void 0:s.type)!==1&&(s==null?void 0:s.type)!==6?(a(),t(p,{key:4},{default:n(()=>[l(c,{onClick:d=>E(s,6),type:"link",size:"small"},{default:n(()=>[gs]),_:2},1032,["onClick"])]),_:2},1024)):e("",!0),(s==null?void 0:s.type)!==1&&(s==null?void 0:s.type)!==6?(a(),t(p,{key:5},{default:n(()=>[l(c,{onClick:d=>E(s,1),type:"link",size:"small"},{default:n(()=>[Cs]),_:2},1032,["onClick"])]),_:2},1024)):e("",!0),(s==null?void 0:s.type)===6?(a(),t(p,{key:6,onClick:d=>E(s,0)},{default:n(()=>[l(c,{type:"link",size:"small"},{default:n(()=>[vs]),_:1})]),_:2},1032,["onClick"])):e("",!0),(s==null?void 0:s.type)===1?(a(),t(p,{key:7,onClick:d=>E(s,0)},{default:n(()=>[l(c,{type:"link",size:"small"},{default:n(()=>[Fs]),_:1})]),_:2},1032,["onClick"])):e("",!0)]),_:2},1024)]),shelter:n(({item:s})=>[(s==null?void 0:s.bindCount)>0?(a(),h("span",xs,[Es,F("span",Bs,y(s==null?void 0:s.bindCount)+"\u6B21",1)])):e("",!0)]),left:n(({item:s})=>{var d;return[(s==null?void 0:s.type)===6?(a(),t(r,{key:0,color:"red"},{default:n(()=>[As]),_:1})):e("",!0),(s==null?void 0:s.type)===1?(a(),t(r,{key:1},{default:n(()=>[bs]),_:1})):e("",!0),((d=s==null?void 0:s.link)==null?void 0:d.length)>0?(a(),h("div",Ls,[l(c,{size:"small",type:"link",onClick:L=>w(s)},{default:n(()=>[Ds]),_:2},1032,["onClick"])])):e("",!0)]}),bottom:n(({item:s})=>{var d,L,O,T,I,V,q,S,R,j,H,K;return[F("div",{class:us((s==null?void 0:s.type)===6||(s==null?void 0:s.type)===1?"bg-pink-100 p-2":"")},[F("div",null,[l(r,null,{default:n(()=>[zs]),_:1}),((d=s==null?void 0:s.link)==null?void 0:d.length)>0?(a(),t(k,{key:0,delete:(s==null?void 0:s.status)===-1,copyable:{text:s.link}},{default:n(()=>[o(y(x(s.link)),1)]),_:2},1032,["delete","copyable"])):(a(),t(r,{key:1,color:"error"},{default:n(()=>[$s]),_:1}))]),F("div",null,[o(" [\u521B\u5EFA]"+y((L=s==null?void 0:s.createTime)==null?void 0:L.substring(5,16))+" ",1),((O=N(s))==null?void 0:O.length)>0?(a(),h("span",Ns,"[\u6FC0\u6D3B]"+y(N(s)),1)):e("",!0)]),((T=s==null?void 0:s.remark)==null?void 0:T.length)>0?(a(),h("div",ws,[l(r,{color:"red"},{default:n(()=>[Os]),_:1}),o(" "+y(s.remark),1)])):e("",!0),((I=s==null?void 0:s.email)==null?void 0:I.length)>0&&(g.value||(s==null?void 0:s.status)===1||(s==null?void 0:s.type)===1)?(a(),h("div",Ts,[l(r,null,{default:n(()=>[Is]),_:1}),((V=s==null?void 0:s.email)==null?void 0:V.length)>0?(a(),t(k,{key:0,copyable:{text:s.email}},{default:n(()=>[o(y(x(s.email)),1)]),_:2},1032,["copyable"])):(a(),t(r,{key:1,color:"error"},{default:n(()=>[Vs]),_:1}))])):e("",!0),g.value&&((q=s==null?void 0:s.longLink)==null?void 0:q.length)>0||(s==null?void 0:s.status)===1?(a(),h("div",qs,[l(r,null,{default:n(()=>[Ss]),_:1}),((S=s==null?void 0:s.longLink)==null?void 0:S.length)>0?(a(),t(k,{key:0,copyable:{text:s.longLink}},{default:n(()=>[o(y(x(s.longLink)),1)]),_:2},1032,["copyable"])):(a(),t(r,{key:1,color:"error"},{default:n(()=>[Rs]),_:1}))])):e("",!0),((R=s==null?void 0:s.thirdLink)==null?void 0:R.length)>0&&(g.value||(s==null?void 0:s.status)===1||(s==null?void 0:s.status)===6)?(a(),h("div",js,[l(r,null,{default:n(()=>[Hs]),_:1}),((j=s==null?void 0:s.thirdLink)==null?void 0:j.length)>0?(a(),t(k,{key:0,copyable:{text:s.thirdLink}},{default:n(()=>[o(y(x(s.thirdLink)),1)]),_:2},1032,["copyable"])):(a(),t(r,{key:1,color:"error"},{default:n(()=>[Ks]),_:1}))])):e("",!0),g.value?(a(),h("div",Ms,[F("span",Qs,[o(" [\u521B\u5EFA]"+y(s==null?void 0:s.createBy)+" ",1),((H=s==null?void 0:s.updateBy)==null?void 0:H.length)>0?(a(),h("div",Gs,"[\u66F4\u65B0]"+y(s==null?void 0:s.updateBy)+"\uFF1A"+y((K=s==null?void 0:s.updateTime)==null?void 0:K.substring(5,19)),1)):e("",!0)])])):e("",!0)],2)]}),_:1},512)}}});export{Zs as default};
