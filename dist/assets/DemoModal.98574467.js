var E=Object.defineProperty;var f=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var D=(e,t,u)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[t]=u,b=(e,t)=>{for(var u in t||(t={}))y.call(t,u)&&D(e,u,t[u]);if(f)for(var u of f(t))w.call(t,u)&&D(e,u,t[u]);return e};var B=(e,t,u)=>new Promise((n,d)=>{var m=a=>{try{i(u.next(a))}catch(l){d(l)}},s=a=>{try{i(u.throw(a))}catch(l){d(l)}},i=a=>a.done?n(a.value):Promise.resolve(a.value).then(m,s);i((u=u.apply(e,t)).next())});import{B as x}from"./index.e8f8bca4.js";import{B as I}from"./BasicForm.213c2d85.js";import"./helper.ad8866a8.js";import{u as P}from"./useForm.f89b5089.js";import"./JAddInput.e43de06a.js";import{a1 as c,a5 as T,l as M,F as A,bG as j,L as r,o as v,v as k,V as z,z as C,y as _,B as Y}from"./index.bf68c475.js";import{render as S}from"./renderUtils.8c919bdc.js";const $=[{title:"\u59D3\u540D",dataIndex:"name",width:170,align:"left",resizable:!0,sorter:{multiple:1}},{title:"\u5173\u952E\u8BCD",dataIndex:"keyWord",width:130,resizable:!0},{title:"\u6253\u5361\u65F6\u95F4",dataIndex:"punchTime",width:140,resizable:!0},{title:"\u5DE5\u8D44",dataIndex:"salaryMoney",width:140,resizable:!0,sorter:{multiple:2}},{title:"\u5956\u91D1",dataIndex:"bonusMoney",width:140,resizable:!0},{title:"\u6027\u522B",dataIndex:"sex",sorter:{multiple:3},customRender:({record:e})=>S.renderDict(e.sex,"sex"),width:120,resizable:!0},{title:"\u751F\u65E5",dataIndex:"birthday",width:120,resizable:!0},{title:"\u90AE\u7BB1",dataIndex:"email",width:120,resizable:!0},{title:"\u4E2A\u4EBA\u7B80\u4ECB",dataIndex:"content",width:120,resizable:!0}],K=[{field:"name",label:"\u59D3\u540D",component:"Input",colProps:{span:8}},{field:"birthday",label:"\u751F\u65E5",component:"RangePicker",componentProps:{valueType:"Date"},colProps:{span:8}},{field:"age",label:"\u5E74\u9F84",component:"Input",slot:"age",colProps:{span:8}},{field:"sex",label:"\u6027\u522B",colProps:{span:8},component:"JDictSelectTag",componentProps:{dictCode:"sex",placeholder:"\u8BF7\u9009\u62E9\u6027\u522B"}}],U=[{field:"id",label:"id",component:"Input",show:!1},{field:"createBy",label:"createBy",component:"Input",show:!1},{field:"createTime",label:"createTime",component:"Input",show:!1},{field:"name",label:"\u540D\u5B57",component:"Input",required:!0,componentProps:{placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57"}},{field:"keyWord",label:"\u5173\u952E\u8BCD",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD"}},{field:"punchTime",label:"\u6253\u5361\u65F6\u95F4",component:"DatePicker",componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"\u8BF7\u9009\u62E9\u6253\u5361\u65F6\u95F4"}},{field:"salaryMoney",label:"\u5DE5\u8D44",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u8D44"}},{field:"sex",label:"\u6027\u522B",component:"JDictSelectTag",defaultValue:"1",componentProps:{type:"radio",dictCode:"sex",placeholder:"\u8BF7\u9009\u62E9\u6027\u522B"}},{field:"age",label:"\u5E74\u9F84",component:"InputNumber",defaultValue:1,componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5E74\u9F84"}},{field:"birthday",label:"\u751F\u65E5",component:"DatePicker",defaultValue:"",componentProps:{valueFormat:"YYYY-MM-DD",placeholder:"\u8BF7\u9009\u62E9\u751F\u65E5"}},{field:"email",label:"\u90AE\u7BB1",component:"Input",rules:[{required:!1,type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E",trigger:"blur"}],componentProps:{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"}},{field:"content",label:"\u4E2A\u4EBA\u7B80\u4ECB - To introduce myself",component:"InputTextArea",labelLength:4,componentProps:{placeholder:"\u8BF7\u8F93\u5165\u4E2A\u4EBA\u7B80\u4ECB"}}],Q="/test/jeecgDemo/exportXls",Z="/test/jeecgDemo/importExcel",ee=e=>c.get({url:"/test/jeecgDemo/list",params:e}),L=(e,t)=>{let u=t?"/test/jeecgDemo/edit":"/test/jeecgDemo/add";return c.post({url:u,params:e})},O=e=>c.get({url:"/test/jeecgDemo/queryById",params:e}),te=(e,t)=>c.delete({url:"/test/jeecgDemo/delete",data:e},{joinParamsToUrl:!0}).then(()=>{t()}),ue=(e,t)=>{T.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u6570\u636E",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:()=>c.delete({url:"/test/jeecgDemo/deleteBatch",data:e},{joinParamsToUrl:!0}).then(()=>{t()})})},R=M({__name:"DemoModal",props:{isDisabled:{type:Boolean,default:!1}},emits:["register","success"],setup(e,{emit:t}){const u=e,n=A(!0),[d,{resetFields:m,setFieldsValue:s,validate:i}]=P({schemas:U,showActionButtonGroup:!1}),[a,{setModalProps:l,closeModal:h}]=j(o=>B(this,null,function*(){yield m(),l({confirmLoading:!1,showOkBtn:!u.isDisabled}),n.value=!!(o!=null&&o.isUpdate),o.createBy&&(yield s({createBy:o.createBy})),o.createTime&&(yield s({createTime:o.createTime})),r(n)&&(o.record=yield O({id:o.record.id}),yield s(b({},o.record)))})),F=v(()=>r(n)?"\u7F16\u8F91":"\u65B0\u589E");function g(o){return B(this,null,function*(){try{let p=yield i();l({confirmLoading:!0}),yield L(p,n.value),h(),t("success",p)}finally{l({confirmLoading:!1})}})}return(o,p)=>(k(),z(r(x),Y(o.$attrs,{onRegister:r(a),title:r(F),onOk:g,width:"40%"}),{default:C(()=>[_(r(I),{onRegister:r(d),disabled:e.isDisabled},null,8,["onRegister","disabled"])]),_:1},16,["onRegister","title"]))}});var oe=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{oe as D,R as _,Z as a,Q as b,$ as c,te as d,ue as e,ee as g,K as s};
