var y=Object.defineProperty,A=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var Y=(r,t,e)=>t in r?y(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,p=(r,t)=>{for(var e in t||(t={}))R.call(t,e)&&Y(r,e,t[e]);if(w)for(var e of w(t))T.call(t,e)&&Y(r,e,t[e]);return r},B=(r,t)=>A(r,L(t));var d=(r,t,e)=>new Promise((f,u)=>{var g=o=>{try{i(e.next(o))}catch(n){u(n)}},M=o=>{try{i(e.throw(o))}catch(n){u(n)}},i=o=>o.done?f(o.value):Promise.resolve(o.value).then(g,M);i((e=e.apply(r,t)).next())});import{B as j}from"./index.df1721d5.js";import{B as k}from"./BasicForm.be7f03c1.js";import"./componentMap.6d6ce384.js";import{u as v}from"./useForm.b4df01c5.js";import"./JAddInput.d2fd0723.js";import{j as h,bH as x,cF as l,s as C,Q as E,w as N,v as Q,H as c,x as V}from"./index.0be4b5b8.js";import{c as b}from"./user.data.76251684.js";import{i as P,j as S}from"./user.api.324b85f8.js";const q=h({name:"user-quit-agent-modal"}),X=h(B(p({},q),{emits:["success","register"],setup(r,{emit:t}){const[e,{resetFields:f,setFieldsValue:u,validate:g,clearValidate:M}]=v({schemas:b,showActionButtonGroup:!1}),[i,{setModalProps:o,closeModal:n}]=x(s=>d(this,null,function*(){yield f(),o({confirmLoading:!1}),o({confirmLoading:!1});const a=yield P({userName:s.userName});s=a.result?a.result:s;let m=new Date;s.startTime||(s.startTime=l(m).format("YYYY-MM-DD HH:mm:ss")),s.endTime||(s.endTime=D(m)),yield u(p({},s))}));function H(){return d(this,null,function*(){try{const s=yield g();o({confirmLoading:!0}),yield S(s),n(),t("success")}finally{o({confirmLoading:!1})}})}function D(s){let a=s.getFullYear()+30,m=l(s).format("MM"),_=l(s).format("DD"),F=l(s).format("HH:mm:ss");return console.log("\u5E74\u6708\u65E5",a+"-"+m+"-"+_),l(a+"-"+m+"-"+_+" "+F).format("YYYY-MM-DD HH:mm:ss")}return(s,a)=>(C(),E(c(j),V(s.$attrs,{onRegister:c(i),width:800,title:"\u79BB\u804C\u4EA4\u63A5",onOk:H}),{default:N(()=>[Q(c(k),{onRegister:c(e)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}}));export{X as _};
