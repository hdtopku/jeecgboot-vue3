var v=Object.defineProperty,w=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var c=(o,t,e)=>t in o?v(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,_=(o,t)=>{for(var e in t||(t={}))I.call(t,e)&&c(o,e,t[e]);if(d)for(var e of d(t))k.call(t,e)&&c(o,e,t[e]);return o},g=(o,t)=>w(o,E(t));import P from"./BasicTable.a8592173.js";import"./componentMap.995605ed.js";import"./BasicTable.vue_vue_type_style_index_0_lang.bed283e2.js";import"./useTable.08b8c8c7.js";import{Z as R,j as F,C,r as s,s as f,Q as A,w as r,v as i,t as L,aW as a,z as h,R as S,H as B}from"./index.c1d8dbc8.js";import{useListPage as Y}from"./useListPage.fbe26446.js";import"./BasicForm.763c9f74.js";import"./BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js";import"./uniqBy.3dbe90b3.js";import"./index.5f6d2eec.js";import"./BasicModal.4c523d71.js";import"./useWindowSizeFn.1a55d327.js";import"./useFormItem.6935557d.js";import"./JUpload.vue_vue_type_style_index_0_lang.51f417a5.js";import"./api.221c4cde.js";import"./download.f2b87928.js";import"./base64Conver.030fa32c.js";import"./index.236167d6.js";import"./index.9b215829.js";import"./useCountdown.5186f11f.js";import"./JAddInput.c425dfe6.js";import"./areaDataUtil.b22cb30b.js";import"./props.adbaf37f.js";import"./index.201afc50.js";import"./bem.452cc75b.js";import"./props.82dd77cc.js";import"./useContextMenu.184539a6.js";import"./index.cf6640d7.js";import"./onMountedOrActivated.6b21dee8.js";import"./depart.api.ef5d901e.js";import"./MinusCircleOutlined.bac41ad8.js";import"./index.7a47645e.js";import"./useForm.4b03a18a.js";import"./injectionKey.1ad13e6c.js";import"./SettingOutlined.549e296f.js";import"./RedoOutlined.27cf802c.js";const M=o=>R.get({url:"/sys/log/list",params:o}),u=[{title:"\u65E5\u5FD7\u5185\u5BB9",dataIndex:"logContent",width:100,align:"left"},{title:"\u64CD\u4F5C\u4EBAID",dataIndex:"userid",width:80},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"username",width:80},{title:"IP",dataIndex:"ip",width:80},{title:"\u8017\u65F6(\u6BEB\u79D2)",dataIndex:"costTime",width:80},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",sorter:!0,width:80},{title:"\u65E5\u5FD7\u7C7B\u578B",dataIndex:"logType_dictText",width:60}],N=[...u,{title:"\u64CD\u4F5C\u7C7B\u578B",dataIndex:"operateType_dictText",width:40}],V=[{field:"keyWord",label:"\u641C\u7D22\u65E5\u5FD7",component:"Input",colProps:{span:8}},{field:"fieldTime",component:"RangePicker",label:"\u521B\u5EFA\u65F6\u95F4",componentProps:{valueType:"Date"},colProps:{span:8}}],W={key:0},z={style:{"margin-bottom":"5px"}},H={style:{"vertical-align":"middle"}},j={style:{"vertical-align":"middle"}},q=F({name:"monitor-log"}),kt=F(g(_({},q),{setup(o){C([]);const t=C(u),e={logType:"1"},{prefixCls:K,tableContext:T}=Y({designScope:"user-list",tableProps:{title:"\u65E5\u5FD7\u5217\u8868",api:M,expandRowByClick:!0,showActionColumn:!1,rowSelection:{columnWidth:20},formConfig:{schemas:V,fieldMapToTime:[["fieldTime",["createTime_begin","createTime_end"],"YYYY-MM-DD"]]}}}),[b,{reload:x}]=T;function y(n){e.logType=n,n=="1"?t.value=u:t.value=N,x()}return(n,Q)=>{const l=s("a-tab-pane"),D=s("a-tabs"),m=s("a-badge");return f(),A(B(P),{onRegister:B(b),searchInfo:e,columns:t.value},{tableTitle:r(()=>[i(D,{defaultActiveKey:"1",onChange:y,size:"small"},{default:r(()=>[i(l,{tab:"\u767B\u5F55\u65E5\u5FD7",key:"1"}),i(l,{tab:"\u64CD\u4F5C\u65E5\u5FD7",key:"2"})]),_:1})]),expandedRowRender:r(({record:p})=>[e.logType==2?(f(),L("div",W,[a("div",z,[i(m,{status:"success",style:{"vertical-align":"middle"}}),a("span",H,"\u8BF7\u6C42\u65B9\u6CD5:"+h(p.method),1)]),a("div",null,[i(m,{status:"processing",style:{"vertical-align":"middle"}}),a("span",j,"\u8BF7\u6C42\u53C2\u6570:"+h(p.requestParam),1)])])):S("",!0)]),_:1},8,["onRegister","columns"])}}}));export{kt as default};
