import{B as e,u as t}from"./index.32c2f26d.js";import a from"./AuthFieldConfig.47f67a8d.js";import i from"./AuthButtonConfig.d8b28c26.js";import o from"./AuthDataConfig.8f8d389f.js";import{l as s,F as r,o as d,f0 as n,t as m,v as p,V as u,z as f,y as l,x as c,ax as j,W as b}from"./index.26a57b91.js";import"./BasicTable.8cbbb86a.js";import"./helper.7e5efd4b.js";import"./TableImg.f02873d7.js";import"./_baseClone.a8082016.js";import"./_arrayPush.8821345e.js";import"./isArray.40a4ed15.js";import"./index.934459b9.js";import"./BasicForm.5f094c03.js";import"./JAddInput.a2bd8bfb.js";import"./useTable.98dbd6c0.js";import"./auth.api.a6f2a5e6.js";import"./auth.data.f236296d.js";import"./useForm.18cf269c.js";import"./index.1a78ea68.js";import"./useContentHeight.3e69d770.js";import"./onMountedOrActivated.d719a17d.js";import"./useWindowSizeFn.9ed8a10e.js";import"./useContentViewHeight.34b8e2f1.js";import"./usePageContext.dd16d566.js";import"./BasicModal.e5e1fb3e.js";import"./RedoOutlined.48666e00.js";import"./useFormItem.efca0b58.js";import"./functional.c7818516.js";import"./download.4b98da42.js";import"./base64Conver.030fa32c.js";import"./index.608c7cf2.js";import"./index.b94b363f.js";import"./useCountdown.e60db803.js";import"./JUpload.7c63ef7b.js";import"./api.54a4ca84.js";import"./index.9c299300.js";import"./uniqBy.006870c7.js";import"./props.eaaadc91.js";import"./index.3e7bd500.js";import"./bem.73404aba.js";import"./props.d9d42440.js";import"./useContextMenu.7af190c4.js";import"./index.0d2a049f.js";import"./index.6fce0e9a.js";import"./htmlmixed.fbaa0b47.js";import"./vue.38e13cef.js";/* empty css             */import"./depart.api.c295d6d2.js";var h=n(s({name:"AuthManagerDrawer",components:{BasicDrawer:e,AuthFieldConfig:a,AuthButtonConfig:i,AuthDataConfig:o},props:{tableType:{type:Number,default:1}},emits:["register"],setup(e){const a=r(""),i=r(""),o=r([]),s=r("field"),n=d((()=>1==e.tableType||2==e.tableType)),[m,{closeDrawer:p}]=t((e=>{a.value=e.cgformId,i.value=a.value+"?"+(new Date).getTime(),s.value="field"}));return{activeKey:s,cgformId:a,headId:i,authFields:o,hasDataAuth:n,onClose:function(){p()},registerDrawer:m}}}),[["render",function(e,t,a,i,o,s){const r=m("AuthFieldConfig"),d=m("a-tab-pane"),n=m("AuthButtonConfig"),h=m("AuthDataConfig"),g=m("a-tabs"),C=m("BasicDrawer");return p(),u(C,{onRegister:e.registerDrawer,title:"权限管理",width:800,onClose:e.onClose},{default:f((()=>[l(g,{activeKey:e.activeKey,"onUpdate:activeKey":t[1]||(t[1]=t=>e.activeKey=t)},{default:f((()=>[l(d,{tab:"字段权限",key:"field",forceRender:""},{default:f((()=>[l(r,{headId:e.headId,authFields:e.authFields,"onUpdate:authFields":t[0]||(t[0]=t=>e.authFields=t)},null,8,["headId","authFields"])])),_:1}),e.hasDataAuth?(p(),c(j,{key:0},[l(d,{tab:"按钮权限",key:"button",forceRender:""},{default:f((()=>[l(n,{headId:e.headId},null,8,["headId"])])),_:1}),l(d,{tab:"数据权限",key:"data",forceRender:""},{default:f((()=>[l(h,{cgformId:e.cgformId,authFields:e.authFields},null,8,["cgformId","authFields"])])),_:1})],64)):b("",!0)])),_:1},8,["activeKey"])])),_:1},8,["onRegister","onClose"])}]]);export{h as default};
