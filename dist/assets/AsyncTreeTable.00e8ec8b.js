var v=Object.defineProperty,y=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var _=(r,e,t)=>e in r?v(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e)=>{for(var t in e||(e={}))B.call(e,t)&&_(r,t,e[t]);if(f)for(var t of f(e))E.call(e,t)&&_(r,t,e[t]);return r},g=(r,e)=>y(r,C(e));var u=(r,e,t)=>new Promise((m,s)=>{var c=o=>{try{n(t.next(o))}catch(a){s(a)}},l=o=>{try{n(t.throw(o))}catch(a){s(a)}},n=o=>o.done?m(o.value):Promise.resolve(o.value).then(c,l);n((t=t.apply(r,e)).next())});import{l as F,F as x,t as I,v as R,V as k,z as T,y as b,L as d,a1 as w}from"./index.03381019.js";import{a as L}from"./index.0ef9d1d3.js";import{B as S}from"./BasicTable.1418031a.js";import"./helper.62d7a2b5.js";import"./TableImg.e7498905.js";import{u as z}from"./useTable.fa26b6e0.js";import"./useContentHeight.4a5978f4.js";import"./onMountedOrActivated.0719aea5.js";import"./useWindowSizeFn.cef3ea24.js";import"./useContentViewHeight.d0cd8301.js";import"./usePageContext.9f7ced2e.js";import"./BasicForm.ecc6ccc2.js";import"./uniqBy.64817009.js";import"./index.b8969fc1.js";import"./BasicModal.054df514.js";import"./useForm.bde97473.js";import"./JAddInput.e0696232.js";import"./useFormItem.88145019.js";import"./api.f3ed8388.js";import"./props.99c86442.js";import"./index.43e8311b.js";import"./bem.33ff6aa4.js";import"./props.8f4a4c8e.js";import"./useContextMenu.504d9de6.js";import"./index.2387aa07.js";import"./index.97339fb9.js";import"./htmlmixed.c0a5a20d.js";import"./vue.cfa17d5d.js";/* empty css             */import"./depart.api.80b2ea1d.js";import"./RedoOutlined.06bde436.js";import"./functional.70175c43.js";import"./download.e8c725df.js";import"./base64Conver.030fa32c.js";import"./index.94c7ab70.js";import"./index.1f5c0ca0.js";import"./useCountdown.055b73d4.js";import"./JUpload.1412a476.js";import"./index.5ae7b27e.js";const bt=F({__name:"AsyncTreeTable",setup(r){const e="/mock/api/asynTreeList",t=x(!1),m=x([]),[s,{setLoading:c}]=z({rowKey:"id",bordered:!0,canResize:!1,isTreeTable:!0,showIndexColumn:!0,columns:[{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u7EC4\u4EF6",dataIndex:"component"},{title:"\u6392\u5E8F",dataIndex:"orderNum"}]});function l(a){return u(this,null,function*(){t.value=!0;let i=yield w.get({url:e,params:a});return t.value=!1,i.map(p=>p.hasChildren?g(h({},p),{children:[]}):p)})}function n(){return u(this,null,function*(){m.value=yield l({id:"0"})})}n();function o(a,i){return u(this,null,function*(){a&&i.hasChildren&&i.children.length===0&&(i.children=yield l({id:i.id}))})}return(a,i)=>{const p=I("a-card");return R(),k(d(L),null,{default:T(()=>[b(p,{bordered:!1},{default:T(()=>[b(d(S),{loading:t.value,dataSource:m.value,onRegister:d(s),onExpand:o},null,8,["loading","dataSource","onRegister"])]),_:1})]),_:1})}}});export{bt as default};
