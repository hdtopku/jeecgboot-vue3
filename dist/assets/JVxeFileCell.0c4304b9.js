import{q as D,l as v,eR as w,t,v as a,x as m,aw as V,bb as A,V as i,z as n,y as o,aV as u,D as _,W as p,R as E,S as B,C as d,B as b}from"./index.a1b4e527.js";import{U as M}from"./JUpload.5aa10044.js";import"./JUploadModal.491f0d32.js";import{c as N,u as R,e as U}from"./useFileCell.dbb55481.js";import"./api.d480aed7.js";import"./functional.011cfa3e.js";import"./index.ea6d1b33.js";import"./BasicModal.6dc4adbe.js";import"./useWindowSizeFn.cf93ddee.js";const J=v({name:"JVxeFileCell",components:N,props:w(),setup(e){return R(e,M.file)},enhanced:U}),$=u("span",{style:{"margin-left":"5px"}},"\u4E0A\u4F20\u4E2D\u2026",-1),L={style:{"margin-left":"5px"}},I={style:{"margin-left":"5px"}},O=d("\xA0\u4E0B\u8F7D"),P=d("\xA0\u5220\u9664"),S=d("\xA0\u66F4\u591A");function T(e,q,z,H,W,j){const g=t("LoadingOutlined"),r=t("a-tooltip"),l=t("Icon"),c=t("a-menu-item"),h=t("a-menu"),C=t("Dropdown"),f=t("a-button"),k=t("a-upload"),y=t("JUploadModal");return a(),m("div",null,[e.hasFile?(a(!0),m(V,{key:0},A([e.innerFile||{}],(s,F)=>(a(),m("div",{key:F,style:{position:"relative"}},[s.status==="uploading"?(a(),i(r,{key:0,title:`\u4E0A\u4F20\u4E2D(${Math.floor(s.percent)}%)`},{default:n(()=>[o(g),$]),_:2},1032,["title"])):s.status==="done"?(a(),i(r,{key:1,title:s.name},{default:n(()=>[o(l,{icon:"ant-design:paper-clip"}),u("span",L,_(e.ellipsisFileName),1)]),_:2},1032,["title"])):(a(),i(r,{key:2,title:s.message||"\u4E0A\u4F20\u5931\u8D25"},{default:n(()=>[o(l,{icon:"ant-design:exclamation-circle",style:{color:"red"}}),u("span",I,_(e.ellipsisFileName),1)]),_:2},1032,["title"])),o(C,{trigger:["click"],placement:"bottomRight",style:{"margin-left":"10px"}},{overlay:n(()=>[o(h,null,{default:n(()=>[e.originColumn.allowDownload!==!1?(a(),i(c,{key:0,onClick:e.handleClickDownloadFile},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:download"}),O])]),_:1},8,["onClick"])):p("",!0),e.originColumn.allowRemove!==!1?(a(),i(c,{key:1,onClick:e.handleClickDeleteFile},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:delete"}),P])]),_:1},8,["onClick"])):p("",!0),o(c,{onClick:e.handleMoreOperation},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:bars"}),S])]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[o(r,{title:"\u64CD\u4F5C"},{default:n(()=>[s.status!=="uploading"?(a(),i(l,{key:0,icon:"ant-design:setting",style:{cursor:"pointer"}})):p("",!0)]),_:2},1024)]),_:2},1024)]))),128)):p("",!0),E(o(k,b({name:"file",data:{isup:1},multiple:!1,action:e.uploadAction,headers:e.uploadHeaders,showUploadList:!1},e.cellProps,{onChange:e.handleChangeUpload}),{default:n(()=>[o(f,{preIcon:"ant-design:upload"},{default:n(()=>[d(_(e.originColumn.btnText||"\u70B9\u51FB\u4E0A\u4F20"),1)]),_:1})]),_:1},16,["action","headers","onChange"]),[[B,!e.hasFile]]),o(y,{value:e.modalValue,onRegister:e.registerModel,onChange:e.onModalChange},null,8,["value","onRegister","onChange"])])}var ne=D(J,[["render",T]]);export{ne as default};
