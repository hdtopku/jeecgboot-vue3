var T=Object.defineProperty,b=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var f=(o,t,r)=>t in o?T(o,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[t]=r,_=(o,t)=>{for(var r in t||(t={}))y.call(t,r)&&f(o,r,t[r]);if(c)for(var r of c(t))w.call(t,r)&&f(o,r,t[r]);return o},h=(o,t)=>b(o,v(t));var n=(o,t,r)=>new Promise((s,l)=>{var m=e=>{try{a(r.next(e))}catch(i){l(i)}},u=e=>{try{a(r.throw(e))}catch(i){l(i)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(m,u);a((r=r.apply(o,t)).next())});import{j as E,C as g,r as I,s as R,Q as k,w as x,v as C,K as d,Z as B}from"./index.9d4ffdff.js";import{P as F}from"./index.dc6bea19.js";import S from"./BasicTable.4f050cd0.js";import"./componentMap.bd60345c.js";import"./BasicTable.vue_vue_type_style_index_0_lang.68d83792.js";import"./TableImg.vue_vue_type_style_index_0_lang.b32b7dd8.js";import{u as K}from"./useTable.06d516c7.js";import"./useContentHeight.aa81b320.js";import"./onMountedOrActivated.1516be09.js";import"./useWindowSizeFn.722b7aaa.js";import"./useContentViewHeight.aac4ad23.js";import"./usePageContext.037686fe.js";import"./injectionKey.1ad13e6c.js";import"./BasicForm.10d2bac8.js";import"./BasicForm.vue_vue_type_style_index_0_lang.4e84674c.js";import"./uniqBy.144d64e1.js";import"./index.fa33ec21.js";import"./BasicModal.80fe5012.js";import"./useFormItem.6cd3d92a.js";import"./functional.db9e0476.js";import"./download.70e251a6.js";import"./base64Conver.030fa32c.js";import"./index.fcb9611e.js";import"./index.4dc520b5.js";import"./useCountdown.11eac9c0.js";import"./JAddInput.2d4443c3.js";import"./areaDataUtil.d553b295.js";import"./api.d12fe1c3.js";import"./props.b0f6852a.js";import"./index.0991c9be.js";import"./bem.393108ef.js";import"./props.2c136ce5.js";import"./useContextMenu.37312741.js";import"./index.94ebb6f8.js";import"./index.1cd463e1.js";import"./htmlmixed.e1e616a1.js";import"./vue.6aa3bd32.js";/* empty css             */import"./depart.api.57d85389.js";import"./MinusCircleOutlined.ffeee554.js";import"./JUpload.vue_vue_type_style_index_0_lang.3d564f34.js";import"./index.28971d5a.js";import"./index.46008326.js";import"./useForm.92846014.js";import"./RedoOutlined.18a0b687.js";const L="/mock/api/asynTreeList",It=E({__name:"AsyncTreeTable",setup(o){const t=g(!1),r=g([]),[s,{setLoading:l}]=K({rowKey:"id",bordered:!0,canResize:!1,isTreeTable:!0,showIndexColumn:!0,columns:[{title:"\u540D\u79F0",dataIndex:"name"},{title:"\u7EC4\u4EF6",dataIndex:"component"},{title:"\u6392\u5E8F",dataIndex:"orderNum"}]});function m(e){return n(this,null,function*(){t.value=!0;let i=yield B.get({url:L,params:e});return t.value=!1,i.map(p=>p.hasChildren?h(_({},p),{children:[]}):p)})}function u(){return n(this,null,function*(){r.value=yield m({id:"0"})})}u();function a(e,i){return n(this,null,function*(){e&&i.hasChildren&&i.children.length===0&&(i.children=yield m({id:i.id}))})}return(e,i)=>{const p=I("a-card");return R(),k(d(F),null,{default:x(()=>[C(p,{bordered:!1},{default:x(()=>[C(d(S),{loading:t.value,dataSource:r.value,onRegister:d(s),onExpand:a},null,8,["loading","dataSource","onRegister"])]),_:1})]),_:1})}}});export{It as default};
