var v=Object.defineProperty;var h=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var w=(t,s,e)=>s in t?v(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,d=(t,s)=>{for(var e in s||(s={}))F.call(s,e)&&w(t,e,s[e]);if(h)for(var e of h(s))_.call(s,e)&&w(t,e,s[e]);return t};var f=(t,s,e)=>new Promise((c,a)=>{var m=r=>{try{n(e.next(r))}catch(l){a(l)}},u=r=>{try{n(e.throw(r))}catch(l){a(l)}},n=r=>r.done?c(r.value):Promise.resolve(r.value).then(m,u);n((e=e.apply(t,s)).next())});import{B as M}from"./index.1f7bae22.js";import{B as b}from"./BasicForm.3a183fb4.js";import"./componentMap.336a260f.js";import{u as k}from"./useForm.41384b89.js";import"./JAddInput.00851a08.js";import{j as C,C as x,bH as y,H as i,m as R,s as U,Q as A,w as I,v as L,x as O}from"./index.c1f9bce8.js";import{s as E}from"./Am.api.8b520491.js";const H=[{label:"",field:"id",component:"Input",show:!1},{label:"\u5907\u6CE8",field:"remark",component:"InputTextArea"}],W=C({__name:"AmModal",emits:["register","success"],setup(t,{emit:s}){const e=x(!0),[c,{resetFields:a,setFieldsValue:m,validate:u}]=k({labelWidth:150,schemas:H,showActionButtonGroup:!1}),[n,{setModalProps:r,closeModal:l}]=y(o=>f(this,null,function*(){yield a(),r({confirmLoading:!1,showCancelBtn:o==null?void 0:o.showFooter,showOkBtn:o==null?void 0:o.showFooter}),e.value=!!(o!=null&&o.isUpdate),i(e)&&(yield m(d({},o.record)))})),g=R(()=>i(e)?"\u7F16\u8F91":"\u65B0\u589E");function B(o){return f(this,null,function*(){try{let p=yield u();r({confirmLoading:!0}),yield E(p,e.value),l(),s("success",{isUpdate:e.value,values:p})}finally{r({confirmLoading:!1})}})}return(o,p)=>(U(),A(i(M),O(o.$attrs,{onRegister:i(n),title:g.value,onOk:B,width:"96%"}),{default:I(()=>[L(i(b),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{W as _};
