var v=Object.defineProperty,w=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var c=(o,t,e)=>t in o?v(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,_=(o,t)=>{for(var e in t||(t={}))I.call(t,e)&&c(o,e,t[e]);if(d)for(var e of d(t))k.call(t,e)&&c(o,e,t[e]);return o},g=(o,t)=>w(o,E(t));import{B as P}from"./BasicTable.5ee1302a.js";import"./helper.1b3fdfba.js";import"./TableImg.7ccb5f8d.js";import{a1 as A,l as F,F as C,t as n,v as f,V as R,z as s,y as i,x as L,aV as a,D as h,W as V,L as B}from"./index.b3d2a891.js";import{useListPage as S}from"./useListPage.c9ea079e.js";import"./BasicForm.2d2aa4ab.js";import"./uniqBy.4cec2220.js";import"./index.2d23bddf.js";import"./BasicModal.7efd78fc.js";import"./useWindowSizeFn.ab02708a.js";import"./useForm.96d1836c.js";import"./JAddInput.43004d14.js";import"./useFormItem.c06072f5.js";import"./api.1d3c1927.js";import"./props.eccfb3be.js";import"./index.7afb8201.js";import"./bem.8fd44f61.js";import"./props.9df65a00.js";import"./useContextMenu.2f0b587d.js";import"./index.bc22d773.js";import"./onMountedOrActivated.12413c39.js";import"./index.bcdb3c55.js";import"./htmlmixed.6d768be1.js";import"./vue.1e0c6574.js";/* empty css             */import"./depart.api.7ce3d710.js";import"./index.2ff6eac0.js";import"./useContentHeight.0b543e32.js";import"./useContentViewHeight.b97dff8b.js";import"./usePageContext.2dbf8e50.js";import"./RedoOutlined.b10d0ad6.js";import"./functional.4d8eb9e7.js";import"./download.2189cbe2.js";import"./base64Conver.030fa32c.js";import"./index.ea39cbd7.js";import"./index.792f7f1c.js";import"./useCountdown.a4eb9495.js";import"./JUpload.7bcd35c5.js";import"./index.96560ef2.js";import"./useTable.99eebf43.js";const Y=o=>A.get({url:"/sys/log/list",params:o}),u=[{title:"\u65E5\u5FD7\u5185\u5BB9",dataIndex:"logContent",width:100,align:"left"},{title:"\u64CD\u4F5C\u4EBAID",dataIndex:"userid",width:80},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"username",width:80},{title:"IP",dataIndex:"ip",width:80},{title:"\u8017\u65F6(\u6BEB\u79D2)",dataIndex:"costTime",width:80},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",sorter:!0,width:80},{title:"\u65E5\u5FD7\u7C7B\u578B",dataIndex:"logType_dictText",width:60}],M=[...u,{title:"\u64CD\u4F5C\u7C7B\u578B",dataIndex:"operateType_dictText",width:40}],N=[{field:"keyWord",label:"\u641C\u7D22\u65E5\u5FD7",component:"Input",colProps:{span:8}},{field:"fieldTime",component:"RangePicker",label:"\u521B\u5EFA\u65F6\u95F4",componentProps:{valueType:"Date"},colProps:{span:8}}],W={key:0},z={style:{"margin-bottom":"5px"}},q={style:{"vertical-align":"middle"}},H={style:{"vertical-align":"middle"}},K=F({name:"monitor-log"}),Lt=F(g(_({},K),{setup(o){C([]);const t=C(u),e={logType:"1"},{prefixCls:j,tableContext:x}=S({designScope:"user-list",tableProps:{title:"\u65E5\u5FD7\u5217\u8868",api:Y,expandRowByClick:!0,showActionColumn:!1,rowSelection:{columnWidth:20},formConfig:{schemas:N,fieldMapToTime:[["fieldTime",["createTime_begin","createTime_end"],"YYYY-MM-DD"]]}}}),[y,{reload:D}]=x;function T(r){e.logType=r,r=="1"?t.value=u:t.value=M,D()}return(r,G)=>{const l=n("a-tab-pane"),b=n("a-tabs"),m=n("a-badge");return f(),R(B(P),{onRegister:B(y),searchInfo:e,columns:t.value},{tableTitle:s(()=>[i(b,{defaultActiveKey:"1",onChange:T,size:"small"},{default:s(()=>[i(l,{tab:"\u767B\u5F55\u65E5\u5FD7",key:"1"}),i(l,{tab:"\u64CD\u4F5C\u65E5\u5FD7",key:"2"})]),_:1})]),expandedRowRender:s(({record:p})=>[e.logType==2?(f(),L("div",W,[a("div",z,[i(m,{status:"success",style:{"vertical-align":"middle"}}),a("span",q,"\u8BF7\u6C42\u65B9\u6CD5:"+h(p.method),1)]),a("div",null,[i(m,{status:"processing",style:{"vertical-align":"middle"}}),a("span",H,"\u8BF7\u6C42\u53C2\u6570:"+h(p.requestParam),1)])])):V("",!0)]),_:1},8,["onRegister","columns"])}}}));export{Lt as default};
