import{dU as g,dS as _,o as v,cM as f,u as F,q as m,s as E,t as k,dz as b}from"./index.c1f9bce8.js";const B={name:"TokenLogin",setup(){const u=g();let n=_();const{createMessage:t,notification:s}=F(),{t:a}=v(),o=u.query;o||t.warning("\u53C2\u6570\u65E0\u6548");const i=o.loginToken;i||t.warning("token\u65E0\u6548"),f().ThirdLogin({token:i,thirdType:"email"}).then(e=>{console.log("res====>doThirdLogin",e),e&&e.userInfo?l(e):r(e)});function r(e){s.error({message:"\u767B\u5F55\u5931\u8D25",description:((e.response||{}).data||{}).message||e.message||"\u8BF7\u6C42\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",duration:4})}function l(e){let c=o.info;if(c){let d=JSON.parse(c),p="/task/handle/"+d.taskId;n.replace({path:p,query:d}),s.success({message:a("sys.login.loginSuccessTitle"),description:`${a("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else s.error({message:"\u53C2\u6570\u5931\u6548",description:"\u9875\u9762\u8DF3\u8F6C\u53C2\u6570\u4E22\u5931\uFF0C\u8BF7\u67E5\u770B\u65E5\u5FD7",duration:4})}}},h="/resource/img/logo.png";const S={class:"app-loading"},y=b('<div class="app-loading-wrap" data-v-95b06157><img src="'+h+'" class="app-loading-logo" alt="Logo" data-v-95b06157><div class="app-loading-dots" data-v-95b06157><span class="dot dot-spin" data-v-95b06157><i data-v-95b06157></i><i data-v-95b06157></i><i data-v-95b06157></i><i data-v-95b06157></i></span></div><div class="app-loading-title" data-v-95b06157>JeecgBoot \u4F01\u4E1A\u7EA7\u4F4E\u4EE3\u7801\u5E73\u53F0</div></div>',1),T=[y];function C(u,n,t,s,a,o){return E(),k("div",S,T)}const $=m(B,[["render",C],["__scopeId","data-v-95b06157"]]);export{$ as default};
