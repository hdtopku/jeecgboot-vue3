import{_ as G}from"./CommonList.vue_vue_type_script_setup_true_lang.37360c50.js";import{g as P,s as X,a as Y}from"./IdeaCode.api.56d526e6.js";import{j as N,ds as A,C as D,m as Z,r as d,s as t,t as h,aW as o,v as a,w as s,y as n,bx as i,z as r,Q as f,R as p,H as E,B as O,ax as T,bc as m,ac as ee}from"./index.c1d8dbc8.js";import{S as L}from"./SyncOutlined.e1db0dd4.js";import{M as z}from"./MinusCircleOutlined.bac41ad8.js";const ue={class:"text-center mb-2"},se={key:2},ne={key:3},ae={class:"w-24"},re=["onClick"],_e=N({__name:"IdeaCodeDataList",setup(oe,{expose:V}){var w;N({components:{MinusCircleOutlined:z,ClockCircleOutlined:A,SyncOutlined:L}});const _=D(1);_.value=JSON.parse((w=localStorage.getItem("ideaButtonType"))!=null?w:"1");let I=ee();const $=Z(()=>{var u;switch(localStorage.setItem("ideaButtonType",JSON.stringify(_.value)),(u=I==null?void 0:I.proxy)==null||u.bus.emit("changeCodeType",_.value),_.value){case 1:return"error";case 6:return"warning";case 8:return"success";default:return"primary"}}),b=D(!1),Q=u=>u.type===6?"e.taojingling.cn/jjh/"+u.code:u.type===8?"e.taojingling.cn/jzh/"+u.code:"e.taojingling.cn/jcj/"+u.code,R=u=>{if(u.valid===-1)return u.status===-1?"default":"error";switch(Number.parseInt(u.status)){case 1:return"processing";case 0:return"error"}},U=D("0"),B=D(),j=u=>{var l,y,k;return(u==null?void 0:u.ip)==null?"\u4F4D\u7F6E\u4FE1\u606F\u91C7\u96C6\u4E2D...":`${u.operator}-`+(((l=u==null?void 0:u.country)==null?void 0:l.indexOf("\u4E2D\u56FD"))>-1||((k=(y=u==null?void 0:u.country)==null?void 0:y.toUpperCase())==null?void 0:k.indexOf("CHINA"))>-1?"":u==null?void 0:u.country)+u.province+u.city+u.county},S=u=>u.model+" | "+u.system+" | "+u.browser,q=(u,l)=>{u.valid=l,X(u,!0).then(()=>{})},H=u=>{u.type=_.value,Y(u,l=>{B.value.queryFinish(l)},()=>{B.value.queryFinish()})};return V({startQuery:(u={})=>{U.value=u==null?void 0:u.status,B.value.execQuery(P,u)},changeAdvanced:()=>{b.value=!b.value}}),(u,l)=>{const y=d("a-radio-button"),k=d("a-radio-group"),v=d("a-tag"),x=d("a-typography-text"),J=d("a-popover"),M=d("a-button"),K=d("a-menu-item"),W=d("a-menu");return t(),h(T,null,[o("div",ue,[a(k,{value:_.value,"onUpdate:value":l[0]||(l[0]=e=>_.value=e),"button-style":"solid"},{default:s(()=>[a(y,{value:6},{default:s(()=>[n("jh\u6FC0\u6D3B\u7801\u6FC0\u6D3B")]),_:1}),a(y,{value:1},{default:s(()=>[n("cj\u63D2\u4EF6\u6FC0\u6D3B")]),_:1}),a(y,{value:8},{default:s(()=>[n("zh\u8D26\u53F7\u6FC0\u6D3B")]),_:1})]),_:1},8,["value"])]),a(G,{ref_key:"CommonListRef",ref:B,onConfirmCopy:H,"button-color":$.value},i({top:s(({item:e})=>{var g,c,C;return[e.type===6?(t(),f(v,{key:0,color:"warning"},{default:s(()=>[n("\u6FC0\u6D3B\u7801\u6FC0\u6D3B")]),_:1})):p("",!0),e.type===1?(t(),f(v,{key:1,color:"#f50"},{default:s(()=>[n("\u63D2\u4EF6\u6FC0\u6D3B")]),_:1})):p("",!0),a(v,{color:R(e)},{icon:s(()=>[e.valid===-1?(t(),f(E(z),{key:0})):p("",!0),e.valid===0&&e.status===-1?(t(),f(E(A),{key:1})):p("",!0),e.valid===0&&e.status===1?(t(),f(E(L),{key:2,spin:!0})):p("",!0)]),default:s(()=>[n(" "+r(e==null?void 0:e.statusName),1)]),_:2},1032,["color"]),((g=e==null?void 0:e.sysIps)==null?void 0:g.length)>0?(t(),h("div",se,[n(" \u4F4D\u7F6E\uFF1A"+r(j(e==null?void 0:e.sysIps[0]))+" ",1),b.value?(t(),f(x,{key:0,copyable:""},{default:s(()=>{var F;return[n(r((F=e==null?void 0:e.sysIps[0])==null?void 0:F.ip),1)]}),_:2},1024)):p("",!0)])):p("",!0),((c=e==null?void 0:e.sysIps)==null?void 0:c.length)>0?(t(),h("div",ne," \u7CFB\u7EDF\uFF1A"+r(S(e==null?void 0:e.sysIps[0])),1)):p("",!0),o("div",null,[o("span",null,[n(" \u6253\u5F00\uFF1A"),o("span",{class:O(e.valid===-1||e.status===-1?"line-through text-red-300":"text-red-500")},r((C=e==null?void 0:e.openTime)==null?void 0:C.substring(5)),3)])])]}),left:s(({item:e,index:g})=>[o("div",ae,[o("div",null,[a(J,{placement:"right"},{content:s(()=>[(t(!0),h(T,null,m(e==null?void 0:e.sysIps,(c,C)=>(t(),h("div",{key:C},[a(x,{copyable:""},{default:s(()=>[o("div",null,[n(r(j(c))+" | ",1),a(x,{copyable:""},{default:s(()=>{var F;return[n(r((F=e==null?void 0:e.sysIps[0])==null?void 0:F.ip),1)]}),_:2},1024)]),o("span",null,r(S(c)),1)]),_:2},1024)]))),128))]),default:s(()=>{var c;return[o("a",{href:"javascript:;",onClick:C=>u.showSysIpInfo(e)},r((c=e==null?void 0:e.sysIps)==null?void 0:c.length)+"\u4E2A\u8BBE\u5907",9,re)]}),_:2},1024)]),a(x,{copyable:{text:Q(e)}},{default:s(()=>[o("span",{class:O(["",(e==null?void 0:e.valid)===-1?"text-gray-500 line-through":"text-purple-900 font-medium"])},r(e==null?void 0:e.code),3)]),_:2},1032,["copyable"])])]),operate:s(({item:e,index:g})=>[a(W,null,{default:s(()=>[a(K,null,{default:s(()=>[a(M,{type:"link",size:"small",danger:"",onClick:c=>q(e,-1)},{default:s(()=>[n(" \u9500\u6BC1\u94FE\u63A5 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),header:s(()=>[]),_:2},[b.value?{name:"bottom",fn:s(({item:e,index:g})=>[o("div",null,[a(v,null,{default:s(()=>[n(r(e==null?void 0:e.createBy)+"\u521B\u5EFA",1)]),_:2},1024),n(r(e==null?void 0:e.createTime.substring(5)),1)]),o("div",null,[a(v,null,{default:s(()=>[n(r(e==null?void 0:e.updateBy)+"\u66F4\u65B0",1)]),_:2},1024),n(r(e==null?void 0:e.updateTime.substring(5)),1)])]),key:"0"}:void 0]),1032,["button-color"])],64)}}});export{_e as _};
