var h=Object.defineProperty;var p=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var g=(a,s,e)=>s in a?h(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,w=(a,s)=>{for(var e in s||(s={}))v.call(s,e)&&g(a,e,s[e]);if(p)for(var e of p(s))y.call(s,e)&&g(a,e,s[e]);return a};var d=(a,s,e)=>new Promise((c,l)=>{var m=t=>{try{i(e.next(t))}catch(r){l(r)}},u=t=>{try{i(e.throw(t))}catch(r){l(r)}},i=t=>t.done?c(t.value):Promise.resolve(t.value).then(m,u);i((e=e.apply(a,s)).next())});import{B as M}from"./index.fa33ec21.js";import{B as b}from"./BasicForm.10d2bac8.js";import"./componentMap.bd60345c.js";import{u as x}from"./useForm.92846014.js";import"./JAddInput.2d4443c3.js";import{j as D,C as R,bH as k,K as n,m as C,s as L,Q as S,w as T,v as U,x as I}from"./index.9d4ffdff.js";import{f as O}from"./tenant.data.0049a3a8.js";import{g as P,s as V}from"./tenant.api.0ba94592.js";const q=D({__name:"TenantModal",emits:["register","success"],setup(a,{emit:s}){const e=R(!0),[c,{resetFields:l,setFieldsValue:m,validate:u,updateSchema:i}]=x({schemas:O,showActionButtonGroup:!1}),[t,{setModalProps:r,closeModal:B}]=k(o=>d(this,null,function*(){yield l(),r({confirmLoading:!1}),e.value=!!(o!=null&&o.isUpdate),n(e)?(i({field:"id",dynamicDisabled:!0}),o.record=yield P({id:o.record.id}),yield m(w({},o.record))):i({field:"id",dynamicDisabled:!1})})),F=C(()=>n(e)?"\u7F16\u8F91\u79DF\u6237":"\u65B0\u589E\u79DF\u6237");function _(o){return d(this,null,function*(){try{let f=yield u();r({confirmLoading:!0}),yield V(f,e.value),B(),s("success")}finally{r({confirmLoading:!1})}})}return(o,f)=>(L(),S(n(M),I(o.$attrs,{onRegister:n(t),title:F.value,onOk:_,width:"700px"}),{default:T(()=>[U(n(b),{onRegister:n(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{q as _};
