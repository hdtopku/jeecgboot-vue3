import{q as _,dN as v,dL as f,s as F,d7 as m,v as E,x as k,u as B,du as b}from"./index.48973554.js";var h="/resource/img/logo.png";const y={name:"TokenLogin",setup(){const u=v();let n=f();const{createMessage:o,notification:a}=B(),{t}=F(),s=u.query;s||o.warning("\u53C2\u6570\u65E0\u6548");const i=s.loginToken;i||o.warning("token\u65E0\u6548"),m().ThirdLogin({token:i,thirdType:"email"}).then(e=>{console.log("res====>doThirdLogin",e),e&&e.userInfo?l(e):c(e)});function c(e){a.error({message:"\u767B\u5F55\u5931\u8D25",description:((e.response||{}).data||{}).message||e.message||"\u8BF7\u6C42\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",duration:4})}function l(e){let r=s.info;if(r){let d=JSON.parse(r),p=d.taskId,g="/task/handle/"+p;n.replace({path:g,query:d}),a.success({message:t("sys.login.loginSuccessTitle"),description:`${t("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else a.error({message:"\u53C2\u6570\u5931\u6548",description:"\u9875\u9762\u8DF3\u8F6C\u53C2\u6570\u4E22\u5931\uFF0C\u8BF7\u67E5\u770B\u65E5\u5FD7",duration:4})}}},S={class:"app-loading"},T=b('<div class="app-loading-wrap" data-v-1a6ba6e2><img src="'+h+'" class="app-loading-logo" alt="Logo" data-v-1a6ba6e2><div class="app-loading-dots" data-v-1a6ba6e2><span class="dot dot-spin" data-v-1a6ba6e2><i data-v-1a6ba6e2></i><i data-v-1a6ba6e2></i><i data-v-1a6ba6e2></i><i data-v-1a6ba6e2></i></span></div><div class="app-loading-title" data-v-1a6ba6e2>JeecgBoot \u4F01\u4E1A\u7EA7\u4F4E\u4EE3\u7801\u5E73\u53F0</div></div>',1),C=[T];function D(u,n,o,a,t,s){return E(),k("div",S,C)}var $=_(y,[["render",D],["__scopeId","data-v-1a6ba6e2"]]);export{$ as default};
