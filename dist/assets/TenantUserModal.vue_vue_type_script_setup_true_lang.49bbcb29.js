var r=(d,p,a)=>new Promise((f,i)=>{var c=e=>{try{o(a.next(e))}catch(s){i(s)}},u=e=>{try{o(a.throw(e))}catch(s){i(s)}},o=e=>e.done?f(e.value):Promise.resolve(e.value).then(c,u);o((a=a.apply(d,p)).next())});import{B as I}from"./index.ae44de4e.js";import{u as S,c as k}from"./tenant.data.e481789e.js";import{i as M,l as g}from"./tenant.api.39b61ec0.js";import{useListPage as R}from"./useListPage.648748b2.js";import F from"./BasicTable.a41212ce.js";import{T as L}from"./componentMap.fb20707e.js";import"./BasicTable.vue_vue_type_style_index_0_lang.68263dc2.js";import"./useTable.a1a29200.js";import{j as P,C as j,H as n,bH as N,r as O,s as b,Q as C,w as l,v as _,y as V,R as A,x as H}from"./index.4c230d5e.js";const U="\u6210\u5458",Z=P({__name:"TenantUserModal",emits:["register","success"],setup(d,{emit:p}){const a=j(0),{prefixCls:f,tableContext:i}=R({designScope:"tenant-template",tableProps:{api:M,columns:S,immediate:!1,formConfig:{schemas:k,labelCol:{span:8},actionColOptions:{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8}},beforeFetch:t=>Object.assign(t,{userTenantId:n(a)})}}),[c,{reload:u},{rowSelection:o,selectedRowKeys:e}]=i,[s,{setModalProps:K,closeModal:h}]=N(t=>r(this,null,function*(){a.value=t.id,m()}));function x(t){return r(this,null,function*(){h()})}function B(t){return[{label:"\u8BF7\u79BB",onClick:y.bind(null,t.id)}]}function m(){(e.value=[])&&u()}function y(t){return r(this,null,function*(){yield g({userIds:t,tenantId:n(a)},m)})}function T(){return r(this,null,function*(){yield g({userIds:e.value.join(","),tenantId:n(a)},m)})}return(t,Q)=>{const v=O("a-button");return b(),C(n(I),H(t.$attrs,{onRegister:n(s),title:U,onOk:x,width:"800px"}),{default:l(()=>[_(n(F),{onRegister:n(c),rowSelection:n(o)},{tableTitle:l(()=>[n(e).length>0?(b(),C(v,{key:0,preIcon:"ant-design:delete-outlined",type:"primary",onClick:T,style:{"margin-right":"5px"}},{default:l(()=>[V("\u6279\u91CF\u8BF7\u79BB")]),_:1})):A("",!0)]),action:l(({record:w})=>[_(n(L),{actions:B(w)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"])]),_:1},16,["onRegister"])}}});export{Z as _};
