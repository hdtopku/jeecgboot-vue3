var Ee=Object.defineProperty,We=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var Be=(e,s,a)=>s in e?Ee(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,w=(e,s)=>{for(var a in s||(s={}))_e.call(s,a)&&Be(e,a,s[a]);if(we)for(var a of we(s))qe.call(s,a)&&Be(e,a,s[a]);return e},Fe=(e,s)=>We(e,xe(s));var L=(e,s,a)=>new Promise((d,A)=>{var p=b=>{try{f(a.next(b))}catch(u){A(u)}},i=b=>{try{f(a.throw(b))}catch(u){A(u)}},f=b=>b.done?d(b.value):Promise.resolve(b.value).then(p,i);f((a=a.apply(e,s)).next())});import{o as k,L as t,N as Se,l as ye,b7 as He,R as Ke,y as M,bX as re,bY as Ye,s as De,aP as E,ax as Z,bg as Ce,S as ze,b6 as Je,B as Y,bZ as ge,aW as be,C as ne,b_ as Ue,b$ as Xe,c0 as Ge,ad as Qe,ac as Ze,c1 as et,c2 as tt,aM as P,q as Me,t as q,v as K,V as J,z as _,aV as nt,X as H,D as ue,W as te,Y as ot,bk as oe,a4 as U,ae as ee,aN as le,c3 as he,aO as se,aR as st,c4 as at,c5 as rt,H as ae,ak as lt,ab as Oe,bW as Te,c6 as Ve,a2 as it,a9 as ct,Q as Le,bB as ut,c7 as dt,a7 as je,F as Q,n as ft,$ as mt,x as pt,bb as de,aw as bt,bj as Ie,bl as fe,c8 as ht}from"./index.df6cbb3d.js";import{h as Pe,i as Re,s as yt,j as gt,k as Ne}from"./helper.dae66a79.js";import{u as At}from"./uniqBy.e3808e33.js";import"./index.696f9d2b.js";import{u as vt}from"./BasicModal.e43862ee.js";function wt(e,s){return k(()=>{const a=t(e),{labelCol:d={},wrapperCol:A={}}=a.itemProps||{},{labelWidth:p,disabledLabelWidth:i}=a,{labelWidth:f,labelCol:b,wrapperCol:u,layout:R}=t(s);if(i)return{labelCol:d,wrapperCol:A};if(!f&&!p&&!b)return d.style={textAlign:"left"},{labelCol:d,wrapperCol:A};let B=p||f;const C=w(w({},b),d),x=w(w({},u),A);return B&&(B=Se(B)?`${B}px`:B),{labelCol:w({style:{width:B||"100%"}},C),wrapperCol:w({style:{width:R==="vertical"?"100%":`calc(100% - ${B})`}},x)}})}function me(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ye(e)}var Bt=ye({name:"BasicFormItem",inheritAttrs:!1,props:{schema:{type:Object,default:()=>({})},formProps:{type:Object,default:()=>({})},allDefaultValues:{type:Object,default:()=>({})},formModel:{type:Object,default:()=>({})},setFormModel:{type:Function,default:null},tableAction:{type:Object},formActionType:{type:Object}},setup(e,{slots:s}){const{t:a}=De(),{schema:d,formProps:A}=He(e),p=wt(d,A),i=k(()=>{const{allDefaultValues:c,formModel:r,schema:h}=e,{mergeDynamicData:F}=e.formProps;return{field:h.field,model:r,values:w(w(w({},F),c),r),schema:h}}),f=k(()=>{var y;const{schema:c,tableAction:r,formModel:h,formActionType:F}=e;let{componentProps:m={}}=c;return E(m)&&(m=(y=m({schema:c,tableAction:r,formModel:h,formActionType:F}))!=null?y:{}),c.component==="Divider"&&(m=Object.assign({type:"horizontal"},m,{orientation:"left",plain:!0})),m}),b=k(()=>{const{disabled:c}=e.formProps,{dynamicDisabled:r}=e.schema,{disabled:h=!1}=t(f);let F=!!c||h;return Z(r)&&(F=r),E(r)&&(F=r(t(i))),F});function u(){const{show:c,ifShow:r}=e.schema,{showAdvancedButton:h}=e.formProps,F=h&&Z(e.schema.isAdvanced)?e.schema.isAdvanced:!0;let m=!0,y=!0;return Z(c)&&(m=c),Z(r)&&(y=r),E(c)&&(m=c(t(i))),E(r)&&(y=r(t(i))),m=m&&F,{isShow:m,isIfShow:y}}function R(){var V;const{rules:c=[],component:r,rulesMessageJoinLabel:h,label:F,dynamicRules:m,required:y}=e.schema;if(E(m))return m(t(i));let v=be(c);const{rulesMessageJoinLabel:D}=e.formProps,n=Reflect.has(e.schema,"rulesMessageJoinLabel")?h:D,o=Re(r)+`${n?F:""}`;function g(I,O){const $=I.message||o;return O===void 0||Xe(O)||Array.isArray(O)&&O.length===0||typeof O=="string"&&O.trim()===""||typeof O=="object"&&Reflect.has(O,"checked")&&Reflect.has(O,"halfChecked")&&Array.isArray(O.checked)&&Array.isArray(O.halfChecked)&&O.checked.length===0&&O.halfChecked.length===0?Promise.reject($):Promise.resolve()}const l=E(y)?y(t(i)):y;(!v||v.length===0)&&l&&(v=[{required:l,validator:g}]);const S=v.findIndex(I=>Reflect.has(I,"required")&&!Reflect.has(I,"validator"));if(S!==-1){const I=v[S],{isShow:O}=u();if(O||(I.required=!1),r){Reflect.has(I,"type")||(I.type=r==="InputNumber"?"number":"string"),I.message=I.message||o,(r.includes("Input")||r.includes("Textarea"))&&(I.whitespace=!0);const $=(V=t(f))==null?void 0:V.valueFormat;yt(I,r,$)}}const j=v.findIndex(I=>I.max);return j!==-1&&!v[j].validator&&(v[j].message=v[j].message||a("component.form.maxTip",[v[j].max])),v}function B(){var O;const{renderComponentContent:c,component:r,field:h,changeEvent:F="change",valueField:m}=e.schema,y=r&&["Switch","Checkbox"].includes(r),v=`on${Ge(F)}`,D={[v]:(...$)=>{const[X]=$;l[v]&&l[v](...$);const G=X?X.target:null,ie=G?y?G.checked:G.value:X;e.setFormModel(h,ie)}},n=Pe.get(r),{autoSetPlaceHolder:o,size:g}=e.formProps,l=Fe(w({allowClear:!0,getPopupContainer:$=>$.parentNode,size:g},t(f)),{disabled:t(b)});!l.disabled&&o&&r!=="RangePicker"&&r&&(l.placeholder=((O=t(f))==null?void 0:O.placeholder)||Re(r)+e.schema.label),l.codeField=h,l.formValues=t(i);const j={[m||(y?"checked":"value")]:e.formModel[h]},V=w(w(w({},l),D),j);if(!c)return M(n,V,null);const I=E(c)?w({},c(t(i))):{default:()=>c};return M(n,V,me(I)?I:{default:()=>[I]})}function C(){const{label:c,helpMessage:r,helpComponentProps:h,subLabel:F,labelLength:m}=e.schema;let y=c+"";m&&y.length>4&&(y=y.substr(0,m));const D=F?M("span",null,[c,ne(" "),M("span",{class:"text-secondary"},[F])]):m?M("label",{title:c},[y]):c,n=E(r)?r(t(i)):r;return!n||Array.isArray(n)&&n.length===0?D:M("span",null,[D,M(Ue,Y({placement:"top",class:"mx-1",text:n},h),null)])}function x(){const{itemProps:c,slot:r,render:h,field:F,suffix:m,component:y}=e.schema,{labelCol:v,wrapperCol:D}=t(p),{colon:n}=e.formProps;if(y==="Divider"){let o;return M(re,{span:24},{default:()=>[M(Je,t(f),me(o=C())?o:{default:()=>[o]})]})}else{const o=()=>r?Ce(s,r,t(i)):h?h(t(i)):B(),g=!!m,l=E(m)?m(t(i)):m;return M(ge.Item,Y({name:F,colon:n,class:{"suffix-item":g}},c,{label:C(),rules:R(),labelCol:v,wrapperCol:D}),{default:()=>[M("div",{style:"display:flex"},[M("div",{style:"flex:1; width: 100%;"},[o()]),g&&M("span",{class:"suffix"},[l])])]})}}return()=>{let c;const{colProps:r={},colSlot:h,renderColContent:F,component:m}=e.schema;if(!Pe.has(m))return null;const{baseColProps:y={}}=e.formProps,v=w(w({},y),r),{isIfShow:D,isShow:n}=u(),o=t(i);return D&&Ke(M(re,v,me(c=(()=>h?Ce(s,h,o):F?F(o):x())())?c:{default:()=>[c]}),[[ze,n]])}}});const ke=Symbol();function Ft(e){return Ze(e,ke)}function Ct(){return Qe(ke)}const Ot=ye({name:"BasicFormAction",components:{FormItem:ge.Item,Button:et,BasicArrow:tt,[re.name]:re},props:{showActionButtonGroup:P.bool.def(!0),showResetButton:P.bool.def(!0),showSubmitButton:P.bool.def(!0),showAdvancedButton:P.bool.def(!0),resetButtonOptions:{type:Object,default:()=>({})},submitButtonOptions:{type:Object,default:()=>({})},actionColOptions:{type:Object,default:()=>({})},actionSpan:P.number.def(6),isAdvanced:P.bool,hideAdvanceBtn:P.bool},emits:["toggle-advanced"],setup(e,{emit:s}){const{t:a}=De(),d=k(()=>{const{showAdvancedButton:f,actionSpan:b,actionColOptions:u}=e,R=24-b,B=f?{span:R<6?24:R}:{};return w(w({style:{textAlign:"right"},span:f?6:4},B),u)}),A=k(()=>Object.assign({text:a("common.resetText"),preIcon:"ic:baseline-restart-alt"},e.resetButtonOptions)),p=k(()=>Object.assign({},{text:a("common.queryText"),preIcon:"ant-design:search-outlined"},e.submitButtonOptions));function i(){s("toggle-advanced")}return w({t:a,actionColOpt:d,getResetBtnOptions:A,getSubmitBtnOptions:p,toggleAdvanced:i},Ct())}});function Tt(e,s,a,d,A,p){const i=q("Button"),f=q("BasicArrow"),b=q("FormItem"),u=q("a-col");return e.showActionButtonGroup?(K(),J(u,oe(Y({key:0},e.actionColOpt)),{default:_(()=>[nt("div",{style:ot([{width:"100%"},{textAlign:e.actionColOpt.style.textAlign}])},[M(b,null,{default:_(()=>[H(e.$slots,"submitBefore"),e.showSubmitButton?(K(),J(i,Y({key:0,type:"primary",class:"mr-2"},e.getSubmitBtnOptions,{onClick:e.submitAction}),{default:_(()=>[ne(ue(e.getSubmitBtnOptions.text),1)]),_:1},16,["onClick"])):te("",!0),H(e.$slots,"resetBefore"),e.showResetButton?(K(),J(i,Y({key:1,type:"default",class:"mr-2"},e.getResetBtnOptions,{onClick:e.resetAction}),{default:_(()=>[ne(ue(e.getResetBtnOptions.text),1)]),_:1},16,["onClick"])):te("",!0),H(e.$slots,"advanceBefore"),e.showAdvancedButton&&!e.hideAdvanceBtn?(K(),J(i,{key:2,type:"link",size:"small",onClick:e.toggleAdvanced},{default:_(()=>[ne(ue(e.isAdvanced?e.t("component.form.putAway"):e.t("component.form.unfold"))+" ",1),M(f,{class:"ml-1",expand:!e.isAdvanced,up:""},null,8,["expand"])]),_:1},8,["onClick"])):te("",!0),H(e.$slots,"advanceAfter")]),_:3})],4)]),_:3},16)):te("",!0)}var jt=Me(Ot,[["render",Tt]]);function It(e,s){var A,p;return((A=t(e))==null?void 0:A.fieldMapToTime)&&(s=Pt(e,s)),((p=t(e))==null?void 0:p.fieldMapToNumber)&&(s=Rt(e,s)),s}function Pt(e,s){const a=t(e).fieldMapToTime;if(!a||!Array.isArray(a))return s;for(const[d,[A,p],i="YYYY-MM-DD"]of a){if(!d||!A||!p||!s[d])continue;let f=s[d];Array.isArray(f)||(f=f.split(","));const[b,u]=f;s[A]=U(b).format(i),s[p]=U(u).format(i),Reflect.deleteProperty(s,d)}return s}function Rt(e,s){const a=t(e).fieldMapToNumber;if(!a||!Array.isArray(a))return s;for(const[d,[A,p]]of a){if(!d||!A||!p||!s[d])continue;let i=s[d];typeof i=="string"&&(i=i.split(","));const[f,b]=i;s[A]=f,s[p]=b,Reflect.deleteProperty(s,d)}return s}function St({defaultValueRef:e,getSchema:s,formModel:a,getProps:d}){function A(i){if(!ee(i))return{};const f={};for(const b of Object.entries(i)){let[,u]=b;const[R]=b;if(!R||le(u)&&u.length===0||E(u))continue;const B=t(d).transformDateFunc;ee(u)&&(u=B==null?void 0:B(u)),le(u)&&he.isDayjs(u[0])&&he.isDayjs(u[1])&&(u=u.map(C=>B==null?void 0:B(C))),se(u)&&(u=u.trim()),st(f,R,u)}return It(d,f)}function p(){const i=t(s),f={};i.forEach(b=>{const{defaultValue:u}=b;at(u)||(f[b.field]=u,a[b.field]=u)}),e.value=f}return{handleFormValues:A,initDefault:p}}const z=24;function Dt({advanceState:e,emit:s,getProps:a,getSchema:d,formModel:A,defaultValueRef:p}){const{realWidthRef:i,screenEnum:f,screenRef:b}=rt(),u=k(()=>{if(!e.isAdvanced)return 0;const c=t(a).emptySpan||0;if(Se(c))return c;if(ee(c)){const{span:r=0}=c,h=t(b);return c[h.toLowerCase()]||r||0}return 0}),R=lt(C,30);ae([()=>t(d),()=>e.isAdvanced,()=>t(i)],()=>{const{showAdvancedButton:c}=t(a);c&&R()},{immediate:!0});function B(c,r=0,h=!1,F=0){var g;const m=t(i),y=parseInt(c.md)||parseInt(c.xs)||parseInt(c.sm)||c.span||z,v=parseInt(c.lg)||y,D=parseInt(c.xl)||v,n=parseInt(c.xxl)||D;m<=f.LG?r+=y:m<f.XL?r+=v:m<f.XXL?r+=D:r+=n;let o=(g=t(a).autoAdvancedCol)!=null?g:3;return h?(e.hideAdvanceBtn=t(d).length<=o,r>z*2&&r<=z*(t(a).autoAdvancedLine||3)?e.hideAdvanceBtn=!1:e.isLoad||(e.isLoad=!0,e.isAdvanced=!e.isAdvanced,t(d).length>o&&(e.hideAdvanceBtn=!1,e.isAdvanced=!1)),{isAdvanced:e.isAdvanced,itemColSum:r}):r>z*(t(a).alwaysShowLines||1)?{isAdvanced:e.isAdvanced,itemColSum:r}:!e.isAdvanced&&F+1>o?{isAdvanced:!1,itemColSum:r}:{isAdvanced:!0,itemColSum:r}}function C(){let c=0,r=0;const{baseColProps:h={}}=t(a),F=t(d);for(let m=0;m<F.length;m++){const y=F[m],{show:v,colProps:D}=y;let n=!0;if(Z(v)&&(n=v),E(v)&&(n=v({schema:y,model:A,field:y.field,values:w(w({},t(p)),A)})),n&&(D||h)){const{itemColSum:o,isAdvanced:g}=B(w(w({},h),D),c,!1,m);c=o||0,g&&(r=c),y.isAdvanced=g}}e.actionSpan=r%z+t(u),B(t(a).actionColOptions||{span:z},c,!0),s("advanced-change")}function x(){e.isAdvanced=!e.isAdvanced}return{handleToggleAdvanced:x}}function Mt({emit:e,getProps:s,formModel:a,getSchema:d,defaultValueRef:A,formElRef:p,schemaRef:i,handleFormValues:f}){function b(){return L(this,null,function*(){const{resetFunc:n,submitOnReset:o}=t(s);n&&E(n)&&(yield n()),t(p)&&(Object.keys(a).forEach(l=>{a[l]=A.value[l]}),y(),e("reset",Oe(a)),o&&D())})}function u(n){return L(this,null,function*(){const o=t(d).map(l=>l.field).filter(Boolean),g=[];Object.keys(n).forEach(l=>{const S=t(d).find(I=>I.field===l);let j=n[l];if(!(n instanceof Object))return;const V=Reflect.has(n,l);if(j=gt(S==null?void 0:S.component,j),V&&o.includes(l)){if(h(l))if(Array.isArray(j)){const I=[];for(const O of j)I.push(O?U(O):null);a[l]=I}else{const{componentProps:I}=S||{};let O=I;typeof I=="function"&&(O=O({formModel:a})),a[l]=j?O!=null&&O.valueFormat?j:U(j):null}else a[l]=j;g.push(l)}}),F(g).catch(l=>{})})}function R(n){return L(this,null,function*(){const o=be(t(d));if(!n)return;let g=se(n)?[n]:n;se(n)&&(g=[n]);for(const l of g)B(l,o);i.value=o})}function B(n,o){if(se(n)){const g=o.findIndex(l=>l.field===n);g!==-1&&(delete a[n],o.splice(g,1))}}function C(n,o,g=!1){return L(this,null,function*(){const l=be(t(d)),S=l.findIndex(V=>V.field===o);if(!!l.some(V=>V.field===o||n.field)){if(!o||S===-1||g){g?l.unshift(n):l.push(n),i.value=l;return}S!==-1&&l.splice(S+1,0,n),i.value=l}})}function x(n){return L(this,null,function*(){let o=[];if(ee(n)&&o.push(n),le(n)&&(o=[...n]),!o.every(l=>l.component==="Divider"||Reflect.has(l,"field")&&l.field)){Te("All children of the form Schema array that need to be updated must contain the `field` field");return}i.value=o})}function c(n){return L(this,null,function*(){let o=[];if(ee(n)&&o.push(n),le(n)&&(o=[...n]),!o.every(S=>S.component==="Divider"||Reflect.has(S,"field")&&S.field)){Te("All children of the form Schema array that need to be updated must contain the `field` field");return}const l=[];o.forEach(S=>{t(d).forEach(j=>{if(j.field===S.field){const V=Ve(j,S);l.push(V)}else l.push(j)})}),i.value=At(l,"field")})}function r(){return t(p)?f(Oe(t(a))):{}}function h(n){return t(d).some(o=>o.field===n?Ne.includes(o.component):!1)}function F(n){return L(this,null,function*(){var o;return(o=t(p))==null?void 0:o.validateFields(n)})}function m(n){return L(this,null,function*(){var o;return yield(o=t(p))==null?void 0:o.validate(n)})}function y(n){return L(this,null,function*(){var o;yield(o=t(p))==null?void 0:o.clearValidate(n)})}function v(n,o){return L(this,null,function*(){var g;yield(g=t(p))==null?void 0:g.scrollToField(n,o)})}function D(n){return L(this,null,function*(){n&&n.preventDefault();const{submitFunc:o}=t(s);if(o&&E(o)){yield o();return}if(!!t(p))try{const l=yield m();for(let j in l)l[j]instanceof Array&&it(s,j)==="string"&&(l[j]=l[j].join(","));const S=f(l);e("submit",S)}catch(l){throw new Error(l)}})}return{handleSubmit:D,clearValidate:y,validate:m,validateFields:F,getFieldsValue:r,updateSchema:c,resetSchema:x,appendSchemaByField:C,removeSchemaByFiled:R,resetFields:b,setFieldsValue:u,scrollToField:v}}function Vt(A){return L(this,arguments,function*({getSchema:e,getProps:s,formElRef:a,isInitedDefault:d}){ct(()=>L(this,null,function*(){if(t(d)||!t(s).autoFocusFirstItem)return;yield Le();const p=t(e),i=t(a),f=i==null?void 0:i.$el;if(!i||!f||!p||p.length===0||!p[0].component.includes("Input"))return;const u=f.querySelector(".ant-row:first-child input");!u||u==null||u.focus()}))})}const{form:pe}=ut,Lt={model:{type:Object,default:{}},labelWidth:{type:[Number,String],default:0},fieldMapToTime:{type:Array,default:()=>[]},fieldMapToNumber:{type:Array,default:()=>[]},compact:P.bool,schemas:{type:[Array],default:()=>[]},mergeDynamicData:{type:Object,default:null},baseRowStyle:{type:Object},baseColProps:{type:Object},autoSetPlaceHolder:P.bool.def(!0),autoSubmitOnEnter:P.bool.def(!1),submitOnReset:P.bool,size:P.oneOf(["default","small","large"]).def("default"),disabled:P.bool,emptySpan:{type:[Number,Object],default:0},showAdvancedButton:P.bool,transformDateFunc:{type:Function,default:e=>he.isDayjs(e)?e==null?void 0:e.format("YYYY-MM-DD HH:mm:ss"):e},rulesMessageJoinLabel:P.bool.def(!0),autoAdvancedCol:P.number.def(3),autoAdvancedLine:P.number.def(3),alwaysShowLines:P.number.def(1),showActionButtonGroup:P.bool.def(!0),actionColOptions:Object,showResetButton:P.bool.def(!0),autoFocusFirstItem:P.bool,resetButtonOptions:Object,showSubmitButton:P.bool.def(!0),submitButtonOptions:Object,resetFunc:Function,submitFunc:Function,hideRequiredMark:P.bool,labelCol:{type:Object,default:pe.labelCol},layout:P.oneOf(["horizontal","vertical","inline"]).def("horizontal"),tableAction:{type:Object},wrapperCol:{type:Object,default:pe.wrapperCol},colon:P.bool.def(pe.colon),labelAlign:P.string,rowProps:Object};const Nt=ye({name:"BasicForm",components:{FormItem:Bt,Form:ge,Row:dt,FormAction:jt},props:Lt,emits:["advanced-change","reset","submit","register"],setup(e,{emit:s,attrs:a}){const d=je({}),A=vt(),p=je({isAdvanced:!1,hideAdvanceBtn:!0,isLoad:!1,actionSpan:6}),i=Q({}),f=Q(!1),b=Q({}),u=Q(null),R=Q(null),{prefixCls:B}=ft("basic-form"),C=k(()=>{let T=w(w({},e),t(b));return T.labelWidth&&(T.labelCol=void 0),T}),x=k(()=>[B,{[`${B}--compact`]:t(C).compact}]),c=k(()=>{const{baseRowStyle:T={},rowProps:N}=t(C);return w({style:T},N)}),r=k(()=>w(w(w({},a),e),t(C))),h=k(()=>{const T=t(u)||t(C).schemas;for(const N of T){const{defaultValue:W,component:Ae}=N;if(W&&Ne.includes(Ae))if(!Array.isArray(W))N.defaultValue=U(W);else{const ve=[];W.forEach($e=>{ve.push(U($e))}),N.defaultValue=ve}}return t(C).showAdvancedButton?T.filter(N=>N.component!=="Divider"):T}),{handleToggleAdvanced:F}=Dt({advanceState:p,emit:s,getProps:C,getSchema:h,formModel:d,defaultValueRef:i}),{handleFormValues:m,initDefault:y}=St({getProps:C,defaultValueRef:i,getSchema:h,formModel:d});Vt({getSchema:h,getProps:C,isInitedDefault:f,formElRef:R});const{handleSubmit:v,setFieldsValue:D,clearValidate:n,validate:o,validateFields:g,getFieldsValue:l,updateSchema:S,resetSchema:j,appendSchemaByField:V,removeSchemaByFiled:I,resetFields:O,scrollToField:$}=Mt({emit:s,getProps:C,formModel:d,getSchema:h,defaultValueRef:i,formElRef:R,schemaRef:u,handleFormValues:m});Ft({resetAction:O,submitAction:v}),ae(()=>t(C).model,()=>{const{model:T}=t(C);!T||D(T)},{immediate:!0}),ae(()=>t(C).schemas,T=>{j(T!=null?T:[])}),ae(()=>h.value,T=>{Le(()=>{var N;(N=A==null?void 0:A.redoModalHeight)==null||N.call(A)}),!t(f)&&T!=null&&T.length&&(y(),f.value=!0)});function X(T){return L(this,null,function*(){b.value=Ve(t(b)||{},T)})}function G(T,N){d[T]=N;const{validateTrigger:W}=t(r);(!W||W==="change")&&g([T]).catch(Ae=>{})}function ie(T){const{autoSubmitOnEnter:N}=t(C);if(!!N&&T.key==="Enter"&&T.target&&T.target instanceof HTMLElement){const W=T.target;W&&W.tagName&&W.tagName.toUpperCase()=="INPUT"&&v()}}const ce={getFieldsValue:l,setFieldsValue:D,resetFields:O,updateSchema:S,resetSchema:j,setProps:X,getProps:C,removeSchemaByFiled:I,appendSchemaByField:V,clearValidate:n,validateFields:g,validate:o,submit:v,scrollToField:$};return mt(()=>{y(),s("register",ce)}),w({getBindValue:r,handleToggleAdvanced:F,handleEnterPress:ie,formModel:d,defaultValueRef:i,advanceState:p,getRow:c,getProps:C,formElRef:R,getSchema:h,formActionType:ce,setFormModel:G,getFormClass:x,getFormActionBindProps:k(()=>w(w({},C.value),p))},ce)}});function kt(e,s,a,d,A,p){const i=q("FormItem"),f=q("FormAction"),b=q("Row"),u=q("Form");return K(),J(u,Y(e.getBindValue,{class:e.getFormClass,ref:"formElRef",model:e.formModel,onKeypress:ht(e.handleEnterPress,["enter"])}),{default:_(()=>[M(b,oe(fe(e.getRow)),{default:_(()=>[H(e.$slots,"formHeader"),(K(!0),pt(bt,null,de(e.getSchema,R=>(K(),J(i,{key:R.field,tableAction:e.tableAction,formActionType:e.formActionType,schema:R,formProps:e.getProps,allDefaultValues:e.defaultValueRef,formModel:e.formModel,setFormModel:e.setFormModel},Ie({_:2},[de(Object.keys(e.$slots),B=>({name:B,fn:_(C=>[H(e.$slots,B,oe(fe(C||{})))])}))]),1032,["tableAction","formActionType","schema","formProps","allDefaultValues","formModel","setFormModel"]))),128)),M(f,Y(e.getFormActionBindProps,{onToggleAdvanced:e.handleToggleAdvanced}),Ie({_:2},[de(["resetBefore","submitBefore","advanceBefore","advanceAfter"],R=>({name:R,fn:_(B=>[H(e.$slots,R,oe(fe(B||{})))])}))]),1040,["onToggleAdvanced"]),H(e.$slots,"formFooter")]),_:3},16)]),_:3},16,["class","model","onKeypress"])}var Ht=Me(Nt,[["render",kt]]);export{Ht as B,It as h};
