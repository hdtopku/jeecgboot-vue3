var V=Object.defineProperty,b=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var f=(e,l,n)=>l in e?V(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,r=(e,l)=>{for(var n in l||(l={}))w.call(l,n)&&f(e,n,l[n]);if(c)for(var n of c(l))F.call(l,n)&&f(e,n,l[n]);return e},s=(e,l)=>b(e,J(l));import{eL as I,bI as N,m as i,I as O,bd as U,bw as _,eM as E,eN as L}from"./index.c1d8dbc8.js";import{c as S}from"./api.221c4cde.js";import"./JUpload.vue_vue_type_style_index_0_lang.51f417a5.js";import{_ as j}from"./JUploadModal.vue_vue_type_script_setup_true_lang.678423f1.js";import"./index.5f6d2eec.js";function A(e,l,n){const m=I(e,r({token:!0,action:S},n)),{innerFile:o,handleChangeCommon:d,originColumn:u}=m,[v,{openModal:h}]=N(),C=i(()=>{let a=5,t=o.value;return!t||!t.name?"":t.name.length>a?t.name.substr(0,a)+"\u2026":t.name}),g=i(()=>{if(o.value){if(o.value.url)return o.value.url;if(o.value.path)return o.value.path}return""}),p=i(()=>{let a=u.value.maxCount;if(u.value&&u.value.fieldExtendJson){let t=JSON.parse(u.value.fieldExtendJson);a=t.uploadnum?t.uploadnum:0}return a!=null?a:0});function M(){h(!0,s(r({removeConfirm:!0,mover:!0,download:!0},u.value.props),{maxCount:p.value,fileType:l}))}function x(a){a?(o.value.path=a,d(o.value)):d(null)}return s(r({},m),{modalValue:g,maxCount:p,ellipsisFileName:C,registerModel:v,onModalChange:x,handleMoreOperation:M})}const B={Icon:O,Dropdown:U,LoadingOutlined:_,JUploadModal:j},H={switches:{visible:!0},getValue:e=>E(e),setValue:e=>L(e)};export{B as c,H as e,A as u};
