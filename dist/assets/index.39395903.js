var t=(t,e,a)=>new Promise(((n,s)=>{var r=t=>{try{i(a.next(t))}catch(e){s(e)}},o=t=>{try{i(a.throw(t))}catch(e){s(e)}},i=t=>t.done?n(t.value):Promise.resolve(t.value).then(r,o);i((a=a.apply(t,e)).next())}));import{a as e}from"./index.4cdbd2ab.js";import{a1 as a,q as n,l as s,dr as r,d7 as o,t as i,v as d,V as l,z as u,y as c,C as p,aW as m}from"./index.435ab247.js";import"./useContentHeight.60ff243a.js";import"./onMountedOrActivated.e9ddbd41.js";import"./useWindowSizeFn.3d5b1a05.js";import"./useContentViewHeight.f55d8457.js";import"./usePageContext.56c44530.js";const f=s({name:"TestSessionTimeout",components:{ACardGrid:r.Grid,ACard:r,PageWrapper:e},setup(){const e=o();return{test1:function(){return t(this,null,(function*(){e.setToken(void 0),e.setSessionTimeout(!0)}))},test2:function(){return t(this,null,(function*(){try{yield a.post({url:"/mock/user/tokenExpired"})}catch(t){}}))}}}}),y=p("HttpStatus == 401"),h=m("span",null,null,-1),x=p("Response.code == 401");var C=n(f,[["render",function(t,e,a,n,s,r){const o=i("a-button"),p=i("a-card-grid"),m=i("a-card"),f=i("PageWrapper");return d(),l(f,{title:"登录过期示例",content:"用户登录过期示例，不再跳转登录页，直接生成页面覆盖当前页面，方便保持过期前的用户状态！"},{default:u((()=>[c(m,{title:"请点击下面的按钮访问测试接口",extra:"所访问的接口会返回Token过期响应"},{default:u((()=>[c(p,{style:{width:"50%","text-align":"center"}},{default:u((()=>[c(o,{type:"primary",onClick:t.test1},{default:u((()=>[y])),_:1},8,["onClick"])])),_:1}),c(p,{style:{width:"50%","text-align":"center"}},{default:u((()=>[h,c(o,{class:"ml-4",type:"primary",onClick:t.test2},{default:u((()=>[x])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}]]);export{C as default};
