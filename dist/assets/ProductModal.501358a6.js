var I=Object.defineProperty;var f=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var b=(s,o,e)=>o in s?I(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e,F=(s,o)=>{for(var e in o||(o={}))g.call(o,e)&&b(s,e,o[e]);if(f)for(var e of f(o))B.call(o,e)&&b(s,e,o[e]);return s};var d=(s,o,e)=>new Promise((i,a)=>{var c=u=>{try{r(e.next(u))}catch(l){a(l)}},m=u=>{try{r(e.throw(u))}catch(l){a(l)}},r=u=>u.done?i(u.value):Promise.resolve(u.value).then(c,m);r((e=e.apply(s,o)).next())});import{B as _}from"./index.6aad32b5.js";import{B as w}from"./BasicForm.638a5420.js";import"./helper.df0282ae.js";import{u as v}from"./useForm.e5081d00.js";import"./JAddInput.b3ef411a.js";import{l as E,F as M,bG as x,L as n,o as y,v as k,V as P,z as D,y as O,B as S}from"./index.a86a095a.js";import{s as L}from"./Product.api.082cb832.js";const $=[{title:"\b\u5546\u54C1\u540D\u79F0",dataIndex:"name"},{title:"\b\u5546\u54C1\u4EF7\u683C",dataIndex:"price"},{title:"\b\u5546\u54C1\u8FDB\u4EF7",dataIndex:"cost"},{title:"\u5907\u6CE8",dataIndex:"remark"},{title:"\b\u5546\u54C1\u56FE\u7247",dataIndex:"pic"}],q=[{label:"\b\u5546\u54C1\u540D\u79F0",field:"name",component:"Input"},{label:"\b\u5546\u54C1\u4EF7\u683C",field:"price",component:"InputNumber"}],N=[{label:"",field:"id",component:"Input",show:!1},{label:"\b\u5546\u54C1\u540D\u79F0",field:"name",component:"Input"},{label:"\b\u5546\u54C1\u4EF7\u683C",field:"price",component:"InputNumber"},{label:"\b\u5546\u54C1\u8FDB\u4EF7",field:"cost",component:"InputNumber"},{label:"\u5907\u6CE8",field:"remark",component:"Input"},{label:"\b\u5546\u54C1\u56FE\u7247",field:"pic",component:"Input"}],R=E({__name:"ProductModal",emits:["register","success"],setup(s,{emit:o}){const e=M(!0),[i,{resetFields:a,setFieldsValue:c,validate:m}]=v({labelWidth:150,schemas:N,showActionButtonGroup:!1}),[r,{setModalProps:u,closeModal:l}]=x(t=>d(this,null,function*(){yield a(),u({confirmLoading:!1,showCancelBtn:t==null?void 0:t.showFooter,showOkBtn:t==null?void 0:t.showFooter}),e.value=!!(t!=null&&t.isUpdate),n(e)&&(yield c(F({},t.record)))})),C=y(()=>n(e)?"\u7F16\u8F91":"\u65B0\u589E");function h(t){return d(this,null,function*(){try{let p=yield m();u({confirmLoading:!0}),yield L(p,e.value),l(),o("success",{isUpdate:e.value,values:p})}finally{u({confirmLoading:!1})}})}return(t,p)=>(k(),P(n(_),S(t.$attrs,{onRegister:n(r),title:n(C),onOk:h,width:"80%"}),{default:D(()=>[O(n(w),{onRegister:n(i)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});var H=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{H as P,R as _,$ as c,q as s};
