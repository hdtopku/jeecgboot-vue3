var e=(e,t,i)=>new Promise(((s,o)=>{var r=e=>{try{n(i.next(e))}catch(t){o(t)}},a=e=>{try{n(i.throw(e))}catch(t){o(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,a);n((i=i.apply(e,t)).next())}));import{u as t,B as i}from"./index.19984ae3.js";import{B as s}from"./BasicTable.cdd414e6.js";import{T as o}from"./helper.ec3e26f3.js";import"./TableImg.6cb3a734.js";import{u as r}from"./useTable.4670d269.js";import"./index.ee0a0c33.js";import a from"./DataRuleModal.6f180da7.js";import{d as n,a as d,b as m,c as p}from"./menu.data.01806c12.js";import{useDrawerAdaptiveWidth as l}from"./useAdaptiveWidth.2a14a9b3.js";import{l as c,F as u,bI as j,L as b,t as f,v as x,x as h,y as g,z as C,B as v,ax as w,C as R}from"./index.b3c93d64.js";import"./BasicForm.79466d99.js";import"./uniqBy.30d2558a.js";import"./BasicModal.2a8ad889.js";import"./useWindowSizeFn.e6386ae5.js";import"./useForm.ee23be26.js";import"./JAddInput.c8a1b05b.js";import"./useFormItem.d029403d.js";import"./api.dced5d87.js";import"./props.a4f5d1ca.js";import"./index.c4683457.js";import"./bem.3d3e77ca.js";import"./props.c13d8268.js";import"./useContextMenu.de287960.js";import"./index.9bbe419b.js";import"./onMountedOrActivated.d3784e6c.js";import"./index.36d6c198.js";import"./htmlmixed.ba3cd961.js";import"./vue.8c416d71.js";/* empty css             */import"./depart.api.429e062c.js";import"./index.4258d6df.js";import"./useContentHeight.7565ed37.js";import"./useContentViewHeight.d3266665.js";import"./usePageContext.f338fb2a.js";import"./RedoOutlined.c563bb0b.js";import"./functional.3bb51b91.js";import"./download.261c8978.js";import"./base64Conver.030fa32c.js";import"./index.d2e70b0d.js";import"./index.17ec2e33.js";import"./useCountdown.cb4ad478.js";import"./JUpload.6bcc6fce.js";import"./index.ef2039b9.js";import"./user.api.f4883dd0.js";import"./renderUtils.864e5731.js";const I=R(" 新增"),y=c({__name:"DataRuleList",setup(c){const R=u(""),{adaptiveWidth:y}=l(),[B,{openModal:F}]=j(),[S]=t((t=>e(this,null,(function*(){R.value=t.id,P({searchInfo:{permissionId:b(R)}}),M()})))),[T,{reload:M,setProps:P}]=r({api:n,columns:d,size:"small",formConfig:{baseColProps:{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8},labelAlign:"right",labelCol:{offset:1,xs:24,sm:24,md:24,lg:8,xl:8,xxl:8},wrapperCol:{},schemas:m,autoSubmitOnEnter:!0},striped:!0,useSearchForm:!0,bordered:!0,showIndexColumn:!1,showTableSetting:!1,canResize:!1,immediate:!1,actionColumn:{width:100,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}});function _(){F(!0,{isUpdate:!1})}function z(e){F(!0,{record:e,isUpdate:!0})}function A(t){return e(this,null,(function*(){yield p({id:t.id},M)}))}function U(e){return[{label:"编辑",onClick:z.bind(null,e)},{label:"删除",popConfirm:{title:"是否确认删除",confirm:A.bind(null,e)}}]}return(e,t)=>{const r=f("a-button");return x(),h(w,null,[g(b(i),v(e.$attrs,{onRegister:b(S),title:"数据权限规则",width:b(y)}),{default:C((()=>[g(b(s),{onRegister:b(T)},{tableTitle:C((()=>[g(r,{type:"primary",onClick:_},{default:C((()=>[I])),_:1})])),action:C((({record:e})=>[g(b(o),{actions:U(e)},null,8,["actions"])])),_:1},8,["onRegister"])])),_:1},16,["onRegister","width"]),g(a,{onRegister:b(B),onSuccess:b(M),permissionId:R.value},null,8,["onRegister","onSuccess","permissionId"])],64)}}});export{y as default};
