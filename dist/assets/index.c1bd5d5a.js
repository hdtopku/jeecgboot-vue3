var k=(b,p,r)=>new Promise((_,n)=>{var i=s=>{try{v(r.next(s))}catch(g){n(g)}},d=s=>{try{v(r.throw(s))}catch(g){n(g)}},v=s=>s.done?_(s.value):Promise.resolve(s.value).then(i,d);v((r=r.apply(b,p)).next())});import{l as w,F as C,a7 as N,t as f,v as S,x as Y,y as o,z as a,C as c,a1 as K,L as m}from"./index.bf68c475.js";import{B as T}from"./Bar.95ca3e6b.js";import{P as U}from"./Pie.d8ae5d9b.js";import"./useECharts.5641b6ec.js";import"./echarts.6d32f04e.js";const $={class:"p-4"},P=c("\u6309\u5E74\u7EDF\u8BA1"),V=c("\u6309\u6708\u7EDF\u8BA1"),z=c("\u6309\u7C7B\u522B\u7EDF\u8BA1"),H=c("\u6309\u67DC\u53F7\u7EDF\u8BA1"),L=c("\u6309\u5E74\u7EDF\u8BA1"),R=c("\u6309\u6708\u7EDF\u8BA1"),j=c("\u6309\u7C7B\u522B\u7EDF\u8BA1"),q=c("\u6309\u67DC\u53F7\u7EDF\u8BA1"),Z=w({__name:"index",setup(b){const p=C("bar"),r=C("year"),_=C("year"),n=C([]),i=N({getYearCountInfo:"/mock/api/report/getYearCountInfo",getMonthCountInfo:"/mock/api/report/getMonthCountInfo",getCntrNoCountInfo:"/mock/api/report/getCntrNoCountInfo",getCabinetCountInfo:"/mock/api/report/getCabinetCountInfo"});function d(t,e,u){return k(this,null,function*(){const l=yield K.get({url:t,params:u},{isTransformResponse:!1,errorMessageMode:"none"});if(l.success)switch(n.value=[],e){case"year":v(l.result);break;case"month":s(l.result);break;case"category":g(l.result);break;case"cabinet":I(l.result);break}})}function v(t){for(let e=0;e<t.length;e++)n.value.push({name:`${t[e].year}\u5E74`,value:t[e].yearcount})}function s(t){for(let e=0;e<t.length;e++)n.value.push({name:`${t[e].month}`,value:t[e].monthcount})}function g(t){for(let e=0;e<t.length;e++)n.value.push({name:`${t[e].classifyname}`,value:t[e].cntrnocount})}function I(t){for(let e=0;e<t.length;e++)n.value.push({name:`${t[e].cabinetname}`,value:t[e].cabinetcocunt})}function y(t){m(p)==="pie"?d(B(m(_)),m(_),{}):d(B(m(r)),m(r),{})}function B(t){if(t==="year")return i.getYearCountInfo;if(t==="month")return i.getMonthCountInfo;if(t==="category")return i.getCntrNoCountInfo;if(t==="cabinet")return i.getCabinetCountInfo}function A(t){console.log("\u5207\u6362\u7684key:",t)}return d(i.getYearCountInfo,"year",{}),(t,e)=>{const u=f("a-radio-button"),l=f("a-radio-group"),D=f("a-col"),E=f("a-row"),F=f("a-tab-pane"),x=f("a-tabs"),M=f("a-card");return S(),Y("div",$,[o(M,{bordered:!1,style:{height:"100%"}},{default:a(()=>[o(x,{activeKey:p.value,"onUpdate:activeKey":e[2]||(e[2]=h=>p.value=h),animated:"",onChange:A},{default:a(()=>[o(F,{key:"bar",tab:"\u67F1\u72B6\u56FE"},{default:a(()=>[o(E,null,{default:a(()=>[o(D,{span:10},{default:a(()=>[o(l,{value:r.value,"onUpdate:value":e[0]||(e[0]=h=>r.value=h),onChange:y},{default:a(()=>[o(u,{value:"year"},{default:a(()=>[P]),_:1}),o(u,{value:"month"},{default:a(()=>[V]),_:1}),o(u,{value:"category"},{default:a(()=>[z]),_:1}),o(u,{value:"cabinet"},{default:a(()=>[H]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),o(T,{chartData:n.value,height:"50vh"},null,8,["chartData"])]),_:1}),o(F,{key:"pie",tab:"\u997C\u72B6\u56FE","force-render":""},{default:a(()=>[o(E,{gutter:24},{default:a(()=>[o(D,{span:10},{default:a(()=>[o(l,{value:_.value,"onUpdate:value":e[1]||(e[1]=h=>_.value=h),onChange:y},{default:a(()=>[o(u,{value:"year"},{default:a(()=>[L]),_:1}),o(u,{value:"month"},{default:a(()=>[R]),_:1}),o(u,{value:"category"},{default:a(()=>[j]),_:1}),o(u,{value:"cabinet"},{default:a(()=>[q]),_:1})]),_:1},8,["value"])]),_:1}),o(U,{chartData:n.value,height:"40vh"},null,8,["chartData"])]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1})])}}});export{Z as default};
