import{j as A,ds as N,C as x,r as f,s as o,Q as y,bx as M,w as e,aW as t,v as r,y as a,z as n,N as g,O as h,R as _,t as D,H as b,B as L,ax as U,bc as K}from"./index.086d23f2.js";import{_ as W}from"./CommonList.vue_vue_type_script_setup_true_lang.ecfd0a63.js";import{a as q,s as G}from"./IdeaCode.api.713fb1b0.js";import{S as O}from"./SyncOutlined.6b563de7.js";import{M as S}from"./MinusCircleOutlined.4dff8018.js";const J={key:2},P={key:3},X={class:"w-24"},Y=["onClick"],au=A({__name:"IdeaCodeDataList",setup(Z,{expose:V}){A({components:{MinusCircleOutlined:S,ClockCircleOutlined:N,SyncOutlined:O}});const B=x(!1),j=s=>"e.taojingling.cn/jb/"+s,T=s=>{if(s.valid===-1)return s.status===-1?"default":"error";switch(Number.parseInt(s.status)){case 1:return"processing";case 0:return"error"}},d=x("0"),E=x(),I=s=>{var v,l,c;return(s==null?void 0:s.ip)==null?"\u4F4D\u7F6E\u4FE1\u606F\u91C7\u96C6\u4E2D...":`${s.operator}-`+(((v=s==null?void 0:s.country)==null?void 0:v.indexOf("\u4E2D\u56FD"))>-1||((c=(l=s==null?void 0:s.country)==null?void 0:l.toUpperCase())==null?void 0:c.indexOf("CHINA"))>-1?"":s==null?void 0:s.country)+s.province+s.city+s.county},w=s=>s.model+" | "+s.system+" | "+s.browser,$=(s,v)=>{s.valid=v,G(s,!0).then(()=>{})};return V({startQuery:(s={})=>{d.value=s==null?void 0:s.status,E.value.execQuery(q,s)},changeAdvanced:()=>{B.value=!B.value}}),(s,v)=>{const l=f("a-typography-text"),c=f("a-tag"),z=f("a-popover"),Q=f("a-button"),R=f("a-menu-item"),H=f("a-menu");return o(),y(W,{ref_key:"CommonListRef",ref:E},M({header:e(()=>[g(r(l,{mark:""},{default:e(()=>[a("\u5173\u9ED1\u5C4B\uFF0C\u6FC0\u6D3B\u7801\u4F1A\u5931\u6548")]),_:1},512),[[h,d.value==="-100"]]),g(r(l,{mark:""},{default:e(()=>[a("\u91CD\u70B9\u89C2\u5BDF\uFF0C\u6FC0\u6D3B\u7801\u4E0D\u4F1A\u5931\u6548")]),_:1},512),[[h,d.value==="-90"]]),g(r(l,{mark:""},{default:e(()=>[a("\u6FC0\u6D3B\u7801\u4F1A\u5931\u6548")]),_:1},512),[[h,d.value==="-10"]]),g(r(l,{mark:""},{default:e(()=>[a("\u6309\u63D0\u53D6\u6B21\u6570\u5012\u6392")]),_:1},512),[[h,d.value==="90"]]),g(r(l,{mark:""},{default:e(()=>[a(" \u6309\u66F4\u65B0\u65F6\u95F4\u5012\u6392 ")]),_:1},512),[[h,d.value!=="-100"&&d.value!=="-90"&&d.value!=="-10"&&d.value!=="90"]])]),top:e(({item:u})=>{var C,p,k;return[u.type===6?(o(),y(c,{key:0,color:"#87d068"},{default:e(()=>[a("\u6B63\u7248\u6FC0\u6D3B\u7801")]),_:1})):_("",!0),u.type===1?(o(),y(c,{key:1,color:"#f50"},{default:e(()=>[a("\u63D2\u4EF6\u6FC0\u6D3B")]),_:1})):_("",!0),((C=u==null?void 0:u.sysIps)==null?void 0:C.length)>0?(o(),D("div",J,[a(n(I(u==null?void 0:u.sysIps[0]))+" ",1),B.value?(o(),y(l,{key:0,copyable:""},{default:e(()=>{var F;return[a(n((F=u==null?void 0:u.sysIps[0])==null?void 0:F.ip),1)]}),_:2},1024)):_("",!0)])):_("",!0),((p=u==null?void 0:u.sysIps)==null?void 0:p.length)>0?(o(),D("div",P,n(w(u==null?void 0:u.sysIps[0])),1)):_("",!0),t("div",null,[r(c,{color:T(u)},{icon:e(()=>[u.valid===-1?(o(),y(b(S),{key:0})):_("",!0),u.valid===0&&u.status===-1?(o(),y(b(N),{key:1})):_("",!0),u.valid===0&&u.status===1?(o(),y(b(O),{key:2,spin:!0})):_("",!0)]),default:e(()=>[a(" "+n(u==null?void 0:u.statusName),1)]),_:2},1032,["color"]),t("span",{class:L(u.valid===-1||u.status===-1?"line-through text-red-300":"text-red-500")},n((k=u==null?void 0:u.openTime)==null?void 0:k.substring(5)),3)])]}),left:e(({item:u,index:C})=>[t("div",X,[t("div",null,[r(z,{placement:"right"},{content:e(()=>[(o(!0),D(U,null,K(u==null?void 0:u.sysIps,(p,k)=>(o(),D("div",{key:k},[r(l,{copyable:""},{default:e(()=>[t("div",null,[a(n(I(p))+" | ",1),r(l,{copyable:""},{default:e(()=>{var F;return[a(n((F=u==null?void 0:u.sysIps[0])==null?void 0:F.ip),1)]}),_:2},1024)]),t("span",null,n(w(p)),1)]),_:2},1024)]))),128))]),default:e(()=>{var p;return[t("a",{href:"javascript:;",onClick:k=>s.showSysIpInfo(u)},n((p=u==null?void 0:u.sysIps)==null?void 0:p.length)+"\u4E2A\u8BBE\u5907",9,Y)]}),_:2},1024)]),r(l,{copyable:{text:j(u==null?void 0:u.code)}},{default:e(()=>[t("span",{class:L(["",(u==null?void 0:u.valid)===-1?"text-gray-500 line-through":"text-purple-900 font-medium"])},n(u==null?void 0:u.code),3)]),_:2},1032,["copyable"])])]),operate:e(({item:u,index:C})=>[r(H,null,{default:e(()=>[r(R,null,{default:e(()=>[r(Q,{type:"link",size:"small",danger:"",onClick:p=>$(u,-1)},{default:e(()=>[a(" \u9500\u6BC1\u94FE\u63A5 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},[B.value?{name:"bottom",fn:e(({item:u,index:C})=>[t("div",null,[r(c,null,{default:e(()=>[a(n(u==null?void 0:u.createBy)+"\u521B\u5EFA",1)]),_:2},1024),a(n(u==null?void 0:u.createTime.substring(5)),1)]),t("div",null,[r(c,null,{default:e(()=>[a(n(u==null?void 0:u.updateBy)+"\u66F4\u65B0",1)]),_:2},1024),a(n(u==null?void 0:u.updateTime.substring(5)),1)])]),key:"0"}:void 0]),1536)}}});export{au as _};
