var z=(x,R,m)=>new Promise((N,g)=>{var M=a=>{try{c(m.next(a))}catch(h){g(h)}},E=a=>{try{c(m.throw(a))}catch(h){g(h)}},c=a=>a.done?N(a.value):Promise.resolve(a.value).then(M,E);c((m=m.apply(x,R)).next())});import{onMountedOrActivated as I}from"./onMountedOrActivated.12413c39.js";import{useWindowSizeFn as Q}from"./useWindowSizeFn.ab02708a.js";import{u as V}from"./useContentViewHeight.b97dff8b.js";import{F as A,H as W,Q as P,L as r,b2 as X,ch as Z,aO as _,N as $}from"./index.b3d2a891.js";import"./usePageContext.2dbf8e50.js";function L(x,R,m,N,g=0,M=A(0)){const E=A(null),{footerHeightRef:c}=V();let a={useLayoutFooter:!0};const h=e=>{a=e};function D(){P(()=>{B()})}function p(e,F="all"){var s,H,l,b;function u(t){return Number(t.replace(/[^\d]/g,""))}let i=0;const f="0px";if(e){const t=getComputedStyle(e),n=u((s=t==null?void 0:t.marginTop)!=null?s:f),o=u((H=t==null?void 0:t.marginBottom)!=null?H:f),d=u((l=t==null?void 0:t.paddingTop)!=null?l:f),k=u((b=t==null?void 0:t.paddingBottom)!=null?b:f);F==="all"?(i+=n,i+=o,i+=d,i+=k):F==="top"?(i+=n,i+=d):(i+=o,i+=k)}return i}function T(e){return e==null?null:e instanceof HTMLDivElement?e:e.$el}function B(){return z(this,null,function*(){var b;if(!x.value)return;yield P();const e=T(r(R));if(!e)return;const{bottomIncludeBody:F}=X(e);let u=0;m.forEach(t=>{var n,o;u+=(o=(n=T(r(t)))==null?void 0:n.offsetHeight)!=null?o:0});let i=(b=p(e))!=null?b:0;N.forEach(t=>{i+=p(T(r(t)))});let f=0;function s(t,n){if(t&&n){const o=t.parentElement;o&&(_(n)?o.classList.contains(n)?f+=p(o,"bottom"):(f+=p(o,"bottom"),s(o,n)):$(n)&&n>0&&(f+=p(o,"bottom"),s(o,--n)))}}Z(g)?s(e,r(g)):s(e,g);let H=F-r(c)-r(M)-u-i-f;const l=()=>{var t;(t=a.elements)==null||t.forEach(n=>{var o,d;H+=(d=(o=T(r(n)))==null?void 0:o.offsetHeight)!=null?d:0})};a.useLayoutFooter&&r(c)>0,l(),E.value=H})}return I(()=>{P(()=>{B()})}),Q(()=>{B()},50,{immediate:!0}),W(()=>[c.value],()=>{B()},{flush:"post",immediate:!0}),{redoHeight:D,setCompensation:h,contentHeight:E}}export{L as useContentHeight};
