import{render as e}from"./renderUtils.9c2a0911.js";import{d as l}from"./user.api.c522f7b9.js";import{a1 as a,a5 as s}from"./index.26a57b91.js";const t="sys/checkRule/exportXls",o="sys/checkRule/importExcel",r=e=>a.get({url:"/sys/checkRule/list",params:e}),n=(e,l)=>a.delete({url:"/sys/checkRule/delete",data:e},{joinParamsToUrl:!0}).then((()=>{l()})),c=(e,l)=>{s.confirm({title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>a.delete({url:"/sys/checkRule/deleteBatch",data:e},{joinParamsToUrl:!0}).then((()=>{l()}))})},d=e=>a.post({url:"/sys/checkRule/add",params:e}),u=e=>a.put({url:"/sys/checkRule/edit",params:e}),i=[{title:"规则名称",dataIndex:"ruleName",width:200,align:"center"},{title:"规则编码",dataIndex:"ruleCode",width:200,align:"center"},{title:"规则描述",dataIndex:"ruleDescription",width:300,align:"center",customRender:function({text:l}){return e.renderTip(l,30)}}],p=[{field:"ruleName",label:"规则名称",component:"Input",colProps:{span:6}},{field:"ruleCode",label:"规则编码",component:"Input",colProps:{span:6}}],m=[{label:"",field:"id",component:"Input",show:!1},{field:"ruleName",label:"规则名称",component:"Input",required:!0,colProps:{span:24}},{field:"ruleCode",label:"规则编码",component:"Input",colProps:{span:24},dynamicDisabled:({values:e})=>!!e.id,dynamicRules:({model:e})=>[{required:!0,validator:(a,s)=>new Promise(((a,t)=>{if(!s)return t("请输入规则编码！");let o={tableName:"sys_check_rule",fieldName:"rule_code",fieldVal:s,dataId:e.id};l(o).then((e=>{e.success?a():t("规则编码已存在!")})).catch((e=>{t(e.message||"校验失败")}))}))}]},{field:"ruleDescription",label:"规则描述",colProps:{span:24},component:"InputTextArea",componentProps:{placeholder:"请输入规则描述",rows:2}}],h=[{label:"123",field:"ruleCode",component:"Input",show:!1},{field:"testValue",label:"需要测试的值:",component:"Input",componentProps:({formModel:e})=>({onChange:l=>{e.testValue=l.target.value}}),dynamicRules:({model:e})=>{const{ruleCode:l}=e;return[{required:!1,validator:(e,s)=>new Promise(((e,t)=>{l&&s?((e,l)=>{let s={ruleCode:e,value:l=encodeURIComponent(l)};return a.get({url:"/sys/checkRule/checkByCode",params:s},{isTransformResponse:!1})})(l,s).then((l=>{l.success?e():t(l.message)})).catch((e=>{t(e.message||e)})):e()}))}]}}];export{i as a,p as b,h as c,c as d,t as e,m as f,r as g,n as h,o as i,d as s,u};
