import{a as e}from"./index.7e26b7de.js";import{q as t,l as o,t as n,aV as i,v as s,V as r,z as a,R as d,x as l,C as p}from"./index.b2c24a42.js";import"./useContentHeight.aae13605.js";import"./onMountedOrActivated.bfdd028b.js";import"./useWindowSizeFn.6c0c5931.js";import"./useContentViewHeight.879059d9.js";import"./usePageContext.174066c3.js";const u={event:"mousedown",transition:400},c={beforeMount:(e,t)=>{if(!1===t.value)return;const o=e.getAttribute("ripple-background");var n,i;n=Object.keys(t.modifiers),i=u,n.forEach((e=>{isNaN(Number(e))?i.event=e:i.transition=e}));const s=o||c.background,r=c.zIndex;e.addEventListener(u.event,(t=>{!function({event:e,el:t,zIndex:o,background:n}){var i,s;const r=parseInt(getComputedStyle(t).borderWidth.replace("px","")),a=e.clientX||e.touches[0].clientX,d=e.clientY||e.touches[0].clientY,l=t.getBoundingClientRect(),{left:p,top:c}=l,{offsetWidth:m,offsetHeight:g}=t,{transition:v}=u,b=a-p,h=d-c,f=Math.max(b,m-b),x=Math.max(h,g-h),R=window.getComputedStyle(t),y=Math.sqrt(f*f+x*x),C=r>0?r:0,L=document.createElement("div"),j=document.createElement("div");L.className="ripple",Object.assign(null!=(i=L.style)?i:{},{marginTop:"0px",marginLeft:"0px",width:"1px",height:"1px",transition:`all ${v}ms cubic-bezier(0.4, 0, 0.2, 1)`,borderRadius:"50%",pointerEvents:"none",position:"relative",zIndex:null!=o?o:"9999",backgroundColor:null!=n?n:"rgba(0, 0, 0, 0.12)"}),j.className="ripple-container",Object.assign(null!=(s=j.style)?s:{},{position:"absolute",left:0-C+"px",top:0-C+"px",height:"0",width:"0",pointerEvents:"none",overflow:"hidden"});const E=t.style.position.length>0?t.style.position:getComputedStyle(t).position;"relative"!==E&&(t.style.position="relative");j.appendChild(L),t.appendChild(j),Object.assign(L.style,{marginTop:`${h}px`,marginLeft:`${b}px`});const{borderTopLeftRadius:k,borderTopRightRadius:w,borderBottomLeftRadius:T,borderBottomRightRadius:N}=R;function z(){setTimeout((()=>{L.style.backgroundColor="rgba(0, 0, 0, 0)"}),250),setTimeout((()=>{var e;null==(e=null==j?void 0:j.parentNode)||e.removeChild(j)}),850),t.removeEventListener("mouseup",z,!1),t.removeEventListener("mouseleave",z,!1),t.removeEventListener("dragstart",z,!1),setTimeout((()=>{let e=!0;for(let o=0;o<t.childNodes.length;o++)"ripple-container"===t.childNodes[o].className&&(e=!1);e&&(t.style.position="static"!==E?E:"")}),u.transition+260)}Object.assign(j.style,{width:`${m}px`,height:`${g}px`,direction:"ltr",borderTopLeftRadius:k,borderTopRightRadius:w,borderBottomLeftRadius:T,borderBottomRightRadius:N}),setTimeout((()=>{var e;const t=2*y+"px";Object.assign(null!=(e=L.style)?e:{},{width:t,height:t,marginLeft:b-y+"px",marginTop:h-y+"px"})}),0),"mousedown"===e.type?(t.addEventListener("mouseup",z,!1),t.addEventListener("mouseleave",z,!1),t.addEventListener("dragstart",z,!1)):z();t.setBackground=e=>{e&&(L.style.backgroundColor=e)}}({event:t,el:e,background:s,zIndex:r})}))},updated(e,t){var o,n;if(!t.value)return void(null==(o=null==e?void 0:e.clearRipple)||o.call(e));const i=e.getAttribute("ripple-background");null==(n=null==e?void 0:e.setBackground)||n.call(e,i)}};const m=o({components:{PageWrapper:e},directives:{Ripple:c}}),g={class:"demo-box"},v=[p(" content ")];var b=t(m,[["render",function(e,t,o,p,u,c){const m=n("PageWrapper"),b=i("ripple");return s(),r(m,{title:"Ripple示例"},{default:a((()=>[d((s(),l("div",g,v)),[[b]])])),_:1})}],["__scopeId","data-v-3cd1560f"]]);export{b as default};
