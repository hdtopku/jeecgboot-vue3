import D from"./LeftRole.c8b16c28.js";import O from"./LeftDepart.20c5dff5.js";import k from"./LeftUser.86e73d73.js";import w from"./AuthFieldTree.71886531.js";import L from"./AuthButtonTree.fb55436e.js";import E from"./AuthDataTree.46f1a331.js";import{B as K}from"./index.c1c509d9.js";import{l as F,F as p,o as U,bF as j,f0 as N,Q as T,t as i,v as B,V,z as n,y as o,x as $,av as z,W as Q}from"./index.6c1aeca2.js";import"./BasicTable.1db2499e.js";import"./helper.15e1830a.js";import"./TableImg.e6a1ca63.js";import"./useMethods.eccfa16d.js";import"./api.52ea4d1e.js";import"./useListPage.7d5f3d18.js";import"./useTable.d616a74c.js";import"./BasicForm.e500713f.js";import"./uniqBy.b316cd09.js";import"./BasicModal.2246c02b.js";import"./useWindowSizeFn.a6a246d2.js";import"./useForm.f4b29e26.js";import"./JAddInput.5c78e955.js";import"./useFormItem.63b4eda3.js";import"./props.0c0dfcc6.js";import"./index.5b79f8bf.js";import"./bem.8f063110.js";import"./props.ee552767.js";import"./useContextMenu.2ad8381d.js";import"./index.3803400c.js";import"./onMountedOrActivated.0e85db74.js";import"./index.2847d809.js";import"./htmlmixed.6fb02709.js";import"./vue.ab8c7c18.js";/* empty css             */import"./usePopBiz.651349c4.js";import"./depart.api.c664bb73.js";import"./index.866fff1a.js";import"./useContentHeight.a77fa571.js";import"./useContentViewHeight.bf6f2f30.js";import"./usePageContext.5da89706.js";import"./RedoOutlined.f33cdacc.js";import"./functional.32464814.js";import"./download.54491438.js";import"./base64Conver.030fa32c.js";import"./index.1785e33e.js";import"./index.9d763a26.js";import"./useCountdown.c7fbe84b.js";import"./JUpload.7c7f9634.js";import"./index.af09c9a6.js";import"./auth.api.145cc7b3.js";import"./auth.data.374af7fb.js";var W=Object.defineProperty,q=Object.defineProperties,G=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,M=(e,t,r)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))H.call(t,r)&&M(e,r,t[r]);if(I)for(var r of I(t))J.call(t,r)&&M(e,r,t[r]);return e},Y=(e,t)=>q(e,G(t)),P=(e,t,r)=>new Promise((s,l)=>{var a=f=>{try{u(r.next(f))}catch(m){l(m)}},d=f=>{try{u(r.throw(f))}catch(m){l(m)}},u=f=>f.done?s(f.value):Promise.resolve(f.value).then(a,d);u((r=r.apply(e,t)).next())});const Z=F({name:"AuthSetterModal",components:{BasicModal:K,LeftRole:D,LeftDepart:O,LeftUser:k,AuthFieldTree:w,AuthButtonTree:L,AuthDataTree:E},props:{tableType:{type:Number,default:1}},setup(e){const t=p(""),r=p(!1),s=p("field"),l=p("role"),a={fieldRef:p(),buttonRef:p(),dataRef:p(),roleRef:p(),userRef:p(),departRef:p()},d=p(""),u=U(()=>e.tableType==1||e.tableType==2),[f,{closeModal:m}]=j(c=>{s.value="field",t.value!=c.cgformId&&(t.value=c.cgformId,h())});function v(c=s.value){var C;return(C=a[c+"Ref"])==null?void 0:C.value}function h(){return P(this,null,function*(){yield T(),g(),v().clear()})}function S(c){d.value=c,_(s.value),y()}function b(c){d.value=c,_(s.value),y()}function A(c){d.value=c,_(s.value),y()}function y(){l.value=="role"?(a.departRef.value.clearSelected(),a.userRef.value.clearSelected()):l.value=="depart"?(a.roleRef.value.clearSelected(),a.userRef.value.clearSelected()):l.value=="user"&&(a.departRef.value.clearSelected(),a.roleRef.value.clearSelected())}function g(){l.value=="role"?a.roleRef.value.clearSelected():l.value=="depart"?a.departRef.value.clearSelected():l.value=="user"&&a.userRef.value.clearSelected(),v().clearChecked()}function _(c){return P(this,null,function*(){yield T(),d.value&&v(c).loadChecked(d.value,l.value)})}function R(){g()}return Y(X({},a),{cgformId:t,loading:r,activeKey:s,hasDataAuth:u,authMode:l,onAuthModeChange:R,onAuthTypeChange:_,closeModal:m,onSelectRole:S,onSelectDepart:b,onSelectUser:A,registerModal:f})}});function x(e,t,r,s,l,a){const d=i("LeftRole"),u=i("a-tab-pane"),f=i("LeftDepart"),m=i("LeftUser"),v=i("a-tabs"),h=i("a-col"),S=i("AuthFieldTree"),b=i("AuthButtonTree"),A=i("AuthDataTree"),y=i("a-row"),g=i("a-spin"),_=i("BasicModal");return B(),V(_,{title:"Online\u6743\u9650\u6388\u6743",width:900,maskClosable:!1,defaultFullscreen:"",okButtonProps:{style:{display:"none"}},cancelText:"\u5173\u95ED",onCancel:e.closeModal,onRegister:e.registerModal},{default:n(()=>[o(g,{spinning:e.loading},{default:n(()=>[o(y,null,{default:n(()=>[o(h,{span:12},{default:n(()=>[o(v,{activeKey:e.authMode,"onUpdate:activeKey":t[0]||(t[0]=R=>e.authMode=R),onChange:e.onAuthModeChange},{default:n(()=>[o(u,{tab:"\u89D2\u8272\u6388\u6743",key:"role",forceRender:""},{default:n(()=>[o(d,{ref:"roleRef",onSelect:e.onSelectRole},null,8,["onSelect"])]),_:1}),o(u,{tab:"\u90E8\u95E8\u6388\u6743",key:"depart",forceRender:""},{default:n(()=>[o(f,{ref:"departRef",onSelect:e.onSelectDepart},null,8,["onSelect"])]),_:1}),o(u,{tab:"\u4EBA\u5458\u6388\u6743",key:"user",forceRender:""},{default:n(()=>[o(m,{ref:"userRef",onSelect:e.onSelectUser},null,8,["onSelect"])]),_:1})]),_:1},8,["activeKey","onChange"])]),_:1}),o(h,{span:1}),o(h,{span:11},{default:n(()=>[o(v,{activeKey:e.activeKey,"onUpdate:activeKey":t[1]||(t[1]=R=>e.activeKey=R),onChange:e.onAuthTypeChange},{default:n(()=>[o(u,{tab:"\u5B57\u6BB5\u6743\u9650",key:"field",forceRender:""},{default:n(()=>[o(S,{ref:"fieldRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1}),e.hasDataAuth?(B(),$(z,{key:0},[o(u,{tab:"\u6309\u94AE\u6743\u9650",key:"button",forceRender:""},{default:n(()=>[o(b,{ref:"buttonRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1}),o(u,{tab:"\u6570\u636E\u6743\u9650",key:"data",forceRender:""},{default:n(()=>[o(A,{ref:"dataRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1})],64)):Q("",!0)]),_:1},8,["activeKey","onChange"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["onCancel","onRegister"])}var Xe=N(Z,[["render",x]]);export{Xe as default};
