import{l as W,F as T,a7 as A,o as u,L as i,H as I,$ as B,Q as M,al as k,y as o,bg as L,q as C,Z as P,b6 as q,t as S,v as z,V as Q,z as _,aV as g,D as V,C as $}from"./index.23784a6b.js";import{a as U}from"./index.1525978f.js";import"./useContentHeight.83e16fa4.js";import"./onMountedOrActivated.20f21d4b.js";import"./useWindowSizeFn.c7f5a452.js";import"./useContentViewHeight.6b076a37.js";import"./usePageContext.0eee1b9e.js";const Z={height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String],bench:{type:[Number,String],default:0},itemHeight:{type:[Number,String],required:!0},items:{type:Array,default:()=>[]}},y="virtual-scroll";function a(t,s="px"){if(!(t==null||t===""))return isNaN(+t)?String(t):`${Number(t)}${s}`}var j=W({name:"VirtualScroll",props:Z,setup(t,{slots:s}){const c=T(null),n=A({first:0,last:0,scrollTop:0}),p=u(()=>parseInt(t.bench,10)),h=u(()=>parseInt(t.itemHeight,10)),d=u(()=>Math.max(0,n.first-i(p))),f=u(()=>Math.min((t.items||[]).length,n.last+i(p))),v=u(()=>({height:a((t.items||[]).length*i(h))})),m=u(()=>{const e={},r=a(t.height),l=a(t.minHeight),x=a(t.minWidth),b=a(t.maxHeight),F=a(t.maxWidth),N=a(t.width);return r&&(e.height=r),l&&(e.minHeight=l),x&&(e.minWidth=x),b&&(e.maxHeight=b),F&&(e.maxWidth=F),N&&(e.width=N),e});I([()=>t.itemHeight,()=>t.height],()=>{H()});function w(e){const r=i(c);if(!r)return 0;const l=parseInt(t.height||0,10)||r.clientHeight;return e+Math.ceil(l/i(h))}function E(){return Math.floor(n.scrollTop/i(h))}function H(){const e=i(c);!e||(n.scrollTop=e.scrollTop,n.first=E(),n.last=w(n.first))}function D(){const{items:e=[]}=t;return e.slice(i(d),i(f)).map(R)}function R(e,r){r+=i(d);const l=a(r*i(h));return o("div",{class:`${y}__item`,style:{top:l},key:r},[L(s,"default",{index:r,item:e})])}return B(()=>{n.last=w(0),M(()=>{const e=i(c);!e||k({el:e,name:"scroll",listener:H,wait:0})})}),()=>o("div",{class:y,style:i(m),ref:c},[o("div",{class:`${y}__container`,style:i(v)},[D()])])}});var G=C(j,[["__scopeId","data-v-1d50f09e"]]);const J=P(G);const K=(()=>{const t=[];for(let s=1;s<2e4;s++)t.push({title:"\u5217\u8868\u9879"+s});return t})(),O=W({components:{VScroll:J,Divider:q,PageWrapper:U},setup(){return{data:K}}}),X=$("\u57FA\u7840\u6EDA\u52A8\u793A\u4F8B"),Y={class:"virtual-scroll-demo-wrap"},tt={class:"virtual-scroll-demo__item"},et=$("\u5373\u4F7F\u4E0D\u53EF\u89C1\uFF0C\u4E5F\u9884\u5148\u52A0\u8F7D50\u6761\u6570\u636E\uFF0C\u9632\u6B62\u7A7A\u767D"),it={class:"virtual-scroll-demo-wrap"},rt={class:"virtual-scroll-demo__item"};function nt(t,s,c,n,p,h){const d=S("Divider"),f=S("VScroll"),v=S("PageWrapper");return z(),Q(v,{class:"virtual-scroll-demo"},{default:_(()=>[o(d,null,{default:_(()=>[X]),_:1}),g("div",Y,[o(f,{itemHeight:41,items:t.data,height:300,width:300},{default:_(({item:m})=>[g("div",tt,V(m.title),1)]),_:1},8,["items"])]),o(d,null,{default:_(()=>[et]),_:1}),g("div",it,[o(f,{itemHeight:41,items:t.data,height:300,width:300,bench:50},{default:_(({item:m})=>[g("div",rt,V(m.title),1)]),_:1},8,["items"])])]),_:1})}var dt=C(O,[["render",nt],["__scopeId","data-v-002a1a68"]]);export{dt as default};
