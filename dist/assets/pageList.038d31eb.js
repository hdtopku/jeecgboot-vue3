var O=Object.defineProperty,L=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var M=(o,a,t)=>a in o?O(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t,F=(o,a)=>{for(var t in a||(a={}))j.call(a,t)&&M(o,t,a[t]);if(b)for(var t of b(a))G.call(a,t)&&M(o,t,a[t]);return o},v=(o,a)=>L(o,$(a));var c=(o,a,t)=>new Promise((g,d)=>{var l=r=>{try{i(t.next(r))}catch(u){d(u)}},n=r=>{try{i(t.throw(r))}catch(u){d(u)}},i=r=>r.done?g(r.value):Promise.resolve(r.value).then(l,n);i((t=t.apply(o,a)).next())});import H from"./CardList.4a8ea81d.js";import{s as K,_ as W}from"./PageModal.vue_vue_type_script_setup_true_lang.2cca860b.js";import q from"./PasswordModal.5a7d72d7.js";import{_ as J}from"./DragPageModal.vue_vue_type_style_index_0_lang.2a09176f.js";import"./index.5f6d2eec.js";import{j as A,bI as B,C as Q,a7 as X,r as _,s as Y,t as Z,v as s,w as m,y as w,aW as T,H as h,ax as ee,b5 as te}from"./index.c1d8dbc8.js";import{l as ae,d as k,c as oe,s as ne}from"./page.api.4b24c6a8.js";import"./BasicForm.763c9f74.js";import"./BasicForm.vue_vue_type_style_index_0_lang.1eae9d9f.js";import"./componentMap.995605ed.js";import"./useFormItem.6935557d.js";import"./JUpload.vue_vue_type_style_index_0_lang.51f417a5.js";import"./api.221c4cde.js";import"./BasicModal.4c523d71.js";import"./useWindowSizeFn.1a55d327.js";import"./download.f2b87928.js";import"./base64Conver.030fa32c.js";import"./index.236167d6.js";import"./index.9b215829.js";import"./useCountdown.5186f11f.js";import"./JAddInput.c425dfe6.js";import"./areaDataUtil.b22cb30b.js";import"./props.adbaf37f.js";import"./index.201afc50.js";import"./bem.452cc75b.js";import"./props.82dd77cc.js";import"./useContextMenu.184539a6.js";import"./index.cf6640d7.js";import"./onMountedOrActivated.6b21dee8.js";import"./depart.api.ef5d901e.js";import"./MinusCircleOutlined.bac41ad8.js";import"./index.7a47645e.js";import"./uniqBy.3dbe90b3.js";import"./useForm.4b03a18a.js";import"./RedoOutlined.27cf802c.js";import"./SettingOutlined.549e296f.js";const se=A({name:"drag-page"}),je=A(v(F({},se),{setup(o){const[a,{openModal:t}]=B(),[g,{openModal:d}]=B(),l=Q();let n=e=>{};const i=X({type:"1",izTemplate:"0"});function r(e){n=e}function u(e){n(),e&&y(e)}function E(){t(!0,{isUpdate:!1})}function z(e){e.protectionCode&&e.protectionCode.length>0?l.value.showModal("edit",e):t(!0,{record:e,isUpdate:!0})}function P(e,p){return c(this,null,function*(){e=="edit"?t(!0,{record:p,isUpdate:!0}):e=="delete"&&(yield k({id:p.id},n))})}function x(e){return c(this,null,function*(){e.protectionCode&&e.protectionCode.length>0?(l.value.showModal("delete",e),l.value.extraMsg="\u9762\u677F\u88AB\u4FDD\u62A4\u4E2D,\u5220\u9664\u524D\u8BF7\u5148\u8F93\u5165\u4FDD\u62A4\u7801"):yield k({id:e.id},n)})}function y(e){d(!0,{record:e,isUpdate:!0})}function R(e){te.push({name:"drag-page-view-@id",params:{id:e}})}function S(e){return c(this,null,function*(){yield oe({id:e},n)})}function U(e,p){return c(this,null,function*(){const f=yield ne({id:e,izTemplate:p},!0);console.log("handleTemplate-------------->res:",f),n()})}function V(e){e!=="3"?(i.type=e,i.izTemplate="0"):(i.type="",i.izTemplate="1"),n({pageNo:1})}function I(){n()}return(e,p)=>{const C=_("a-button"),f=_("Icon"),D=_("a-tab-pane"),N=_("a-tabs");return Y(),Z(ee,null,[s(H,{searchFormSchema:h(K),params:i,api:h(ae),onGetMethod:r,onDelete:x,onView:R,onDesign:y,onEdit:z,onCopy:S,onTemplate:U},{header:m(()=>[s(C,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:E},{default:m(()=>[w("\u65B0\u589E")]),_:1})]),cardTitle:m(()=>[s(N,{defaultActiveKey:"1",onChange:V,size:"small"},{default:m(()=>[s(D,{key:"1"},{tab:m(()=>[T("span",null,[s(f,{icon:"ant-design:bar-chart-outlined",size:20}),w(" \u4EEA\u8868\u76D8\u8BBE\u8BA1 ")])]),_:1}),s(D,{key:"3"},{tab:m(()=>[T("span",null,[s(f,{icon:"ant-design:star-outlined",size:20}),w(" \u6A21\u677F ")])]),_:1})]),_:1})]),_:1},8,["searchFormSchema","params","api"]),s(W,{onRegister:h(a),onSuccess:u},null,8,["onRegister"]),s(q,{ref_key:"passwordRef",ref:l,onSuccess:P},null,512),s(J,{onRegister:h(g),onSuccess:I,isLowApp:!1},null,8,["onRegister"])],64)}}}));export{je as default};
