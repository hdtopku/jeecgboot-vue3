import{j as K,dm as M,dn as G,C as x,r as C,s as n,Q as d,w as a,t as k,R as l,N as T,v as o,y as e,O as j,aW as h,z as v,B as J,cF as U,ac as W}from"./index.c5ce5f09.js";import{s as E,l as Y}from"./IdeaJetCode.api.cb41771c.js";import{_ as P}from"./CommonList.vue_vue_type_script_setup_true_lang.223fe248.js";import{g as X}from"./Am.api.8eff9f43.js";const Z={key:0},i={key:0},m={size:"small",class:"text-red-500"},uu={key:0,style:{"margin-left":"-10px"}},su={class:"mb-1"},au={key:0,class:"text-red-600"},eu={key:0,class:"text-indigo-700"},ru=K({__name:"IdeaJetCodeDataList",emits:["handleEdit","handleAdd","queryList"],setup(nu,{expose:w,emit:g}){const F=M(G);let{username:q,realname:ou}=F==null?void 0:F.userInfo;const b=x(),V=s=>{g("handleEdit",s)},z=s=>B(s==null?void 0:s.link)+B(s==null?void 0:s.thirdLink)+B(s==null?void 0:s.shortLink),B=s=>{if((s==null?void 0:s.indexOf("itunes.apple.com"))>0){let c=s==null?void 0:s.indexOf("&ud_t=");if(c>0){let y=Number.parseInt(s==null?void 0:s.substring(c+6))*1e3;return U(y).format("MM-DD HH:mm")}}return""},L=(s,c)=>{s.status=c,E(s,!0).then(()=>{g("queryList")})},Q=s=>{E({id:s},!0).then(()=>{g("queryList")})},A=(s,c)=>{s.type=c,E(s,!0).then(()=>{g("queryList")})},{proxy:R}=W(),N=(s={})=>X({count:1,type:6,linkId:s==null?void 0:s.id,link:s==null?void 0:s.link,username:q},c=>{R.tool.copy(c,c+"\u5DF2\u590D\u5236")}),_=x("0"),S=(s={})=>{_.value=s==null?void 0:s.status,b.value.execQuery(Y,s)},$=x(!1);return w({startQuery:S,changeAdvanced:()=>{$.value=!$.value},copyCode:N}),(s,c)=>{const y=C("a-typography-text"),r=C("a-button"),p=C("a-menu-item"),H=C("a-menu"),f=C("a-tag");return n(),d(P,{ref_key:"CommonListRef",ref:b},{header:a(()=>[_.value==="1"?(n(),k("span",Z)):l("",!0),T(o(y,{mark:""},{default:a(()=>[e("\u6309\u521B\u5EFA\u65F6\u95F4\u5012\u6392")]),_:1},512),[[j,_.value==="0"]]),T(o(y,{mark:""},{default:a(()=>[e("\u6309\u4FEE\u6539\u65F6\u95F4\u5012\u6392 ")]),_:1},512),[[j,_.value==="100"||_.value==="-1"||_.value==="1"]])]),operate:a(({item:u})=>[o(H,null,{default:a(()=>[(u==null?void 0:u.status)!==0?(n(),d(p,{key:0,onClick:t=>Q(u.id)},{default:a(()=>[o(r,{type:"warning",ghost:"",size:"small"},{default:a(()=>[e("\u7F6E\u9876")]),_:1})]),_:2},1032,["onClick"])):l("",!0),o(p,{onClick:t=>V(u)},{default:a(()=>[o(r,{type:"link",size:"small"},{default:a(()=>[e("\u7F16\u8F91")]),_:1})]),_:2},1032,["onClick"]),((u==null?void 0:u.status)===0||(u==null?void 0:u.status)===1)&&u.type===0?(n(),d(p,{key:1,onClick:t=>L(u,-1)},{default:a(()=>[o(r,{type:"link",size:"small",danger:""},{default:a(()=>[e("\u5220\u9664")]),_:1})]),_:2},1032,["onClick"])):l("",!0),((u==null?void 0:u.status)===0||(u==null?void 0:u.status)===-1)&&u.type===0?(n(),d(p,{key:2,onClick:t=>L(u,1)},{default:a(()=>[o(r,{type:"link",size:"small"},{default:a(()=>[e("\u5907\u7528")]),_:1})]),_:2},1032,["onClick"])):l("",!0),(u==null?void 0:u.type)!==1&&(u==null?void 0:u.type)!==6?(n(),d(p,{key:3},{default:a(()=>[o(r,{onClick:t=>A(u,6),type:"link",size:"small"},{default:a(()=>[e("\u8BBE\u4E3A\u6FC0\u6D3B\u7801")]),_:2},1032,["onClick"])]),_:2},1024)):l("",!0),(u==null?void 0:u.type)!==1&&(u==null?void 0:u.type)!==6?(n(),d(p,{key:4},{default:a(()=>[o(r,{onClick:t=>A(u,1),type:"link",size:"small"},{default:a(()=>[e("\u8BBE\u4E3A\u8D26\u53F7\u8865\u65B0")]),_:2},1032,["onClick"])]),_:2},1024)):l("",!0)]),_:2},1024)]),shelter:a(({item:u})=>[(u==null?void 0:u.bindCount)>0?(n(),k("span",i,[e(" |"),h("span",m,v(u==null?void 0:u.bindCount)+"\u6B21",1)])):l("",!0)]),left:a(({item:u})=>{var t;return[h("div",null,[(u==null?void 0:u.type)===6?(n(),d(f,{key:0,color:"red"},{default:a(()=>[e("\u6FC0\u6D3B\u7801\u63D0\u53D6")]),_:1})):l("",!0),(u==null?void 0:u.type)===1?(n(),d(f,{key:1,color:"blue"},{default:a(()=>[e("\u8D26\u53F7\u8865\u65B0")]),_:1})):l("",!0)]),((t=u==null?void 0:u.link)==null?void 0:t.length)>0?(n(),k("div",uu,[o(r,{size:"small",type:"link",onClick:D=>N(u)},{default:a(()=>[e("\u590D\u5236\u77ED\u94FE")]),_:2},1032,["onClick"])])):l("",!0)]}),bottom:a(({item:u})=>{var t,D,I,O;return[h("div",{class:J((u==null?void 0:u.type)===6?"bg-pink-100 p-2":(u==null?void 0:u.type)===1?"bg-blue-100 p-2":"")},[h("div",su,[o(f,null,{default:a(()=>[e("\u6FC0\u6D3B\u7801")]),_:1}),((t=u==null?void 0:u.jetCode)==null?void 0:t.length)>0?(n(),d(y,{key:0,delete:(u==null?void 0:u.status)===-1,copyable:{text:u.jetCode}},{default:a(()=>[e(v(u.jetCode.substring(0,10)),1)]),_:2},1032,["delete","copyable"])):(n(),d(f,{key:1,color:"error"},{default:a(()=>[e("\u672A\u586B\u5199")]),_:1}))]),((D=u==null?void 0:u.remark)==null?void 0:D.length)>0?(n(),k("div",au,[o(f,{color:"red"},{default:a(()=>[e("\u5907\u6CE8")]),_:1}),e(" "+v(u.remark),1)])):l("",!0),h("div",null,[e(v((I=u==null?void 0:u.createTime)==null?void 0:I.substring(5,16))+" \u521B\u5EFA ",1),((O=z(u))==null?void 0:O.length)>0?(n(),k("span",eu,"[\u6FC0\u6D3B]"+v(z(u)),1)):l("",!0)])],2)]}),_:1},512)}}});export{ru as _};
