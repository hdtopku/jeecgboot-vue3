var R=Object.defineProperty;var g=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var h=(o,s,e)=>s in o?R(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,v=(o,s)=>{for(var e in s||(s={}))_.call(s,e)&&h(o,e,s[e]);if(g)for(var e of g(s))y.call(s,e)&&h(o,e,s[e]);return o};var d=(o,s,e)=>new Promise((i,c)=>{var m=r=>{try{l(e.next(r))}catch(n){c(n)}},u=r=>{try{l(e.throw(r))}catch(n){c(n)}},l=r=>r.done?i(r.value):Promise.resolve(r.value).then(m,u);l((e=e.apply(o,s)).next())});import{B as b}from"./BasicForm.b20927f3.js";import"./componentMap.fb20707e.js";import{u as j}from"./useForm.d7af1f7d.js";import"./JAddInput.f15273e1.js";import{j as k,bj as x,C as w,m as C,bH as I,H as a,s as U,Q as O,w as S,v as D,x as H}from"./index.4c230d5e.js";import{B as L}from"./index.ae44de4e.js";import{h as P}from"./depart.user.api.0627208c.js";import{b as V}from"./depart.user.data.7be57872.js";const T=k({__name:"DepartRoleModal",props:{departId:{require:!0,type:String}},emits:["success","register"],setup(o,{emit:s}){const e=o;x("prefixCls");const i=w(!0),c=w({}),m=C(()=>i.value?"\u7F16\u8F91":"\u65B0\u589E"),[u,{resetFields:l,setFieldsValue:r,validate:n,updateSchema:q}]=j({schemas:V,showActionButtonGroup:!1}),[B,{setModalProps:f,closeModal:F}]=I(t=>d(this,null,function*(){yield l(),i.value=a(t==null?void 0:t.isUpdate);let p=a(t==null?void 0:t.record);typeof p=="object"&&(c.value=p,yield r(v({},p)))}));function M(){return d(this,null,function*(){try{f({confirmLoading:!0});let t=yield n();t.departId=a(e.departId),yield P(t,i.value),F(),s("success",{isUpdate:a(i),values:t})}finally{f({confirmLoading:!1})}})}return(t,p)=>(U(),O(a(L),H({title:m.value,width:800},t.$attrs,{onOk:M,onRegister:a(B)}),{default:S(()=>[D(a(b),{onRegister:a(u)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{T as _};
