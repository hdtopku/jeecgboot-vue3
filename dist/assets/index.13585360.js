var A=(f,k,u)=>new Promise((D,g)=>{var I=d=>{try{y(u.next(d))}catch(c){g(c)}},S=d=>{try{y(u.throw(d))}catch(c){g(c)}},y=d=>d.done?D(d.value):Promise.resolve(d.value).then(I,S);y((u=u.apply(f,k)).next())});import{q as me,l as _e,dU as fe,F as _,bH as J,o as ge,as as ve,a7 as U,H as ye,L as l,t as i,v as E,x as M,c8 as he,y as e,z as t,aw as be,W as K,aV as B,C as r,D as N,V as Ce,E as xe,at as Fe,ab as we,dp as Ee,dq as Be}from"./index.5f7d93b1.js";import{B as ke}from"./BasicTable.f88c96c0.js";import{T as De}from"./helper.29c59307.js";import"./TableImg.db8711fe.js";import{u as Ie}from"./useTable.ce541257.js";import"./index.c798cc9a.js";import{g as Se,c as Re,s as Te,a as z,b as Ae,_ as Ue,d as Me,e as Ke}from"./DemoModal.6b0b86b1.js";import{J as Ve}from"./JImportModal.c8813116.js";import{e as Y}from"./JAddInput.e6c175df.js";import"./BasicForm.7019d962.js";import"./uniqBy.86c8b918.js";import"./BasicModal.b4151c1f.js";import"./useWindowSizeFn.05229bfb.js";import"./useForm.6f5a263d.js";import"./index.065c9901.js";import"./useContentHeight.e1732b81.js";import"./onMountedOrActivated.d771aa37.js";import"./useContentViewHeight.c38fa0d6.js";import"./usePageContext.49af5419.js";import"./RedoOutlined.1fb7c858.js";import"./useFormItem.40c0dd5d.js";import"./functional.f9bb65b2.js";import"./download.411f4791.js";import"./base64Conver.030fa32c.js";import"./index.1e1f2df6.js";import"./index.c7d26f2b.js";import"./useCountdown.a6b605cc.js";import"./JUpload.95c56dc1.js";import"./api.80306347.js";import"./index.80dd03fd.js";import"./renderUtils.a8886be5.js";import"./index.171dcf06.js";import"./props.ca074a27.js";import"./index.1d538add.js";import"./bem.3d85b5e5.js";import"./props.e6e8642f.js";import"./useContextMenu.e2b8fb2e.js";import"./index.3513a940.js";import"./htmlmixed.e9d94073.js";import"./vue.498df36d.js";/* empty css             */import"./depart.api.630b7ee6.js";const H=f=>(Ee("data-v-7c6ad578"),f=f(),Be(),f),$e=["onKeyup"],je=H(()=>B("span",null,"~",-1)),qe={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},Je=r("\u67E5\u8BE2"),Ne=r("\u91CD\u7F6E"),ze=H(()=>B("span",null,"~",-1)),Ye=r("\u65B0\u589E"),He=r("\u5BFC\u5165"),Le=r("\u5BFC\u51FA"),Oe=r("\u6253\u5F00Tab\u9875"),Pe=r("\u5F39\u7A97\u5BFC\u5165"),We=r(" \u5220\u9664 "),Xe=r("\u6279\u91CF\u64CD\u4F5C "),Ge=_e({__name:"index",setup(f){const k=fe(),u=_([]),[D,{openModal:g}]=J(),[I,{openModal:S}]=J(),{handleExportXls:y,handleImportXls:d}=Fe(),c=_(),R=_(),F=_(!1),[L,{reload:v,setProps:V}]=Ie({title:"\u5355\u8868\u793A\u4F8B",api:Se,columns:Re,formConfig:{schemas:Te,fieldMapToTime:[["birthday",["birthday_begin","birthday_end"],"YYYY-MM-DD"]],fieldMapToNumber:[["age",["age_begin","age_end"]]],autoAdvancedCol:2,actionColOptions:{style:{textAlign:"left"}}},defSort:{column:"sex,salaryMoney",order:"desc"},striped:!0,useSearchForm:!0,showTableSetting:!0,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,tableSetting:{fullScreen:!0},canResize:!1,rowKey:"id",actionColumn:{width:180,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),O={type:"checkbox",columnWidth:40,selectedRowKeys:u,onChange:G};function P(){S(!0)}const W=ge(()=>{let n={};return u.value&&u.value.length>0&&(n.selections=u.value.join(",")),ve(n)});function X(n){return[{label:"\u7F16\u8F91",onClick:Z.bind(null,n)},{label:"\u8BE6\u60C5",onClick:ee.bind(null,n)},{label:"\u5220\u9664",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:te.bind(null,n)}}]}function G(n){console.log("checkedKeys------>",u),u.value=n}function Q(){F.value=!1,g(!0,{isUpdate:!1})}function Z(n){F.value=!1,g(!0,{record:n,isUpdate:!0})}function ee(n){F.value=!0,g(!0,{record:n,isUpdate:!0})}function te(n){return A(this,null,function*(){yield Me({id:n.id},v)})}function oe(){return A(this,null,function*(){yield Ke({ids:u.value},v)})}function $(n,o){n[o]=[l(c),l(R)]}function ae(){k("/comp/jeecg/basic")}_();const ne=U({xs:{span:24},sm:{span:7}}),le=U({xs:{span:24},sm:{span:16}}),h=_(!1),m=_(!1),s=U({name:"",age_begin:"",age_end:"",sex:"",id:""});ye(m,()=>{V({useSearchForm:!l(m)})});function j(){V({searchInfo:we(s)}),v()}function ue(){Object.assign(s,{name:"",age_begin:"",age_end:"",sex:"",id:""}),v()}return(n,o)=>{const b=i("a-input"),w=i("a-form-item"),C=i("a-col"),p=i("a-button"),T=i("Icon"),se=i("a-row"),ie=i("a-form"),re=i("a-upload"),de=i("a-menu-item"),pe=i("a-menu"),ce=i("a-dropdown");return E(),M("div",null,[m.value?(E(),M("div",{key:0,class:"jeecg-basic-table-form-container",onKeyup:he(j,["enter"])},[e(ie,{ref:"formRef",model:s,"label-col":ne,"wrapper-col":le},{default:t(()=>[e(se,{gutter:24},{default:t(()=>[e(C,{lg:8},{default:t(()=>[e(w,{label:"\u7528\u6237\u540D"},{default:t(()=>[e(b,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u6A21\u7CCA\u67E5\u8BE2",value:s.name,"onUpdate:value":o[0]||(o[0]=a=>s.name=a)},null,8,["value"])]),_:1})]),_:1}),e(C,{lg:8},{default:t(()=>[e(w,{label:"\u5E74\u9F84"},{default:t(()=>[e(b,{placeholder:"\u6700\u5C0F\u5E74\u9F84",type:"ge",value:s.age_begin,"onUpdate:value":o[1]||(o[1]=a=>s.age_begin=a),style:{width:"calc(50% - 15px)"}},null,8,["value"]),je,e(b,{placeholder:"\u6700\u5927\u5E74\u9F84",type:"le",value:s.age_end,"onUpdate:value":o[2]||(o[2]=a=>s.age_end=a),style:{width:"calc(50% - 15px)"}},null,8,["value"])]),_:1})]),_:1}),h.value?(E(),M(be,{key:0},[e(C,{lg:8},{default:t(()=>[e(w,{label:"\u6027\u522B"},{default:t(()=>[e(Y,{value:s.sex,"onUpdate:value":o[3]||(o[3]=a=>s.sex=a),placeholder:"\u8BF7\u9009\u62E9\u6027\u522B",dictCode:"sex"},null,8,["value"])]),_:1})]),_:1}),e(C,{lg:8},{default:t(()=>[e(w,{label:"\u9009\u62E9\u7528\u6237"},{default:t(()=>[e(Y,{value:s.id,"onUpdate:value":o[4]||(o[4]=a=>s.id=a),placeholder:"\u8BF7\u9009\u62E9\u7528\u6237",dictCode:"demo,name,id"},null,8,["value"])]),_:1})]),_:1})],64)):K("",!0),B("span",qe,[e(C,{lg:6},{default:t(()=>[e(p,{type:"primary",preIcon:"ant-design:search-outlined",onClick:j},{default:t(()=>[Je]),_:1}),e(p,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:ue,style:{"margin-left":"8px"}},{default:t(()=>[Ne]),_:1}),B("a",{onClick:o[5]||(o[5]=a=>h.value=!h.value),style:{"margin-left":"8px"}},[r(N(h.value?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),e(T,{icon:h.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1},8,["model","label-col","wrapper-col"])],40,$e)):K("",!0),e(l(ke),{onRegister:l(L),rowSelection:O,class:xe({"p-4":m.value})},{"form-age":t(({model:a,field:q})=>[e(b,{placeholder:"\u6700\u5C0F\u5E74\u9F84",type:"ge",value:c.value,"onUpdate:value":o[6]||(o[6]=x=>c.value=x),style:{width:"calc(50% - 15px)"},onChange:x=>$(a,q)},null,8,["value","onChange"]),ze,e(b,{placeholder:"\u6700\u5927\u5E74\u9F84",type:"le",value:R.value,"onUpdate:value":o[7]||(o[7]=x=>R.value=x),style:{width:"calc(50% - 15px)"},onChange:x=>$(a,q)},null,8,["value","onChange"])]),tableTitle:t(()=>[e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:Q},{default:t(()=>[Ye]),_:1}),e(re,{name:"file",showUploadList:!1,customRequest:a=>l(d)(a,l(z),l(v))},{default:t(()=>[e(p,{preIcon:"ant-design:import-outlined",type:"primary"},{default:t(()=>[He]),_:1})]),_:1},8,["customRequest"]),e(p,{preIcon:"ant-design:export-outlined",type:"primary",onClick:o[8]||(o[8]=a=>l(y)("\u5355\u8868\u793A\u4F8B",l(Ae),l(W)))},{default:t(()=>[Le]),_:1}),e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:ae},{default:t(()=>[Oe]),_:1}),e(p,{preIcon:"ant-design:retweet-outlined",type:"primary",onClick:o[9]||(o[9]=a=>m.value=!m.value)},{default:t(()=>[r(N(m.value?"\u8868\u5355\u914D\u7F6E\u67E5\u8BE2":"\u81EA\u5B9A\u4E49\u67E5\u8BE2"),1)]),_:1}),e(p,{preIcon:"ant-design:import-outlined",type:"primary",onClick:P},{default:t(()=>[Pe]),_:1}),u.value.length>0?(E(),Ce(ce,{key:0},{overlay:t(()=>[e(pe,null,{default:t(()=>[e(de,{key:"1",onClick:oe},{default:t(()=>[e(T,{icon:"ant-design:delete-outlined"}),We]),_:1})]),_:1})]),default:t(()=>[e(p,null,{default:t(()=>[Xe,e(T,{style:{fontsize:"12px"},icon:"ant-design:down-outlined"})]),_:1})]),_:1})):K("",!0)]),action:t(({record:a})=>[e(l(De),{actions:X(a)},null,8,["actions"])]),_:1},8,["onRegister","class"]),e(Ue,{onRegister:l(D),onSuccess:l(v),isDisabled:F.value},null,8,["onRegister","onSuccess","isDisabled"]),e(Ve,{onRegister:l(I),url:l(z),online:""},null,8,["onRegister","url"])])}}});var Jt=me(Ge,[["__scopeId","data-v-7c6ad578"]]);export{Jt as default};
