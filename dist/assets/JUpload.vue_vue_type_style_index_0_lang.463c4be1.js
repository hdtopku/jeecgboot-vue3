var Ot=Object.defineProperty;var ze=Object.getOwnPropertySymbols;var St=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable;var Ve=(t,e,i)=>e in t?Ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Te=(t,e)=>{for(var i in e||(e={}))St.call(e,i)&&Ve(t,i,e[i]);if(ze)for(var i of ze(e))_t.call(e,i)&&Ve(t,i,e[i]);return t};import{cd as Lt,ce as It,C as M,a7 as fe,_ as p,X as $e,cf as Be,bl as ot,cg as Mt,bo as q,bB as kt,bj as Nt,m as g,j as Q,bq as Re,ch as lt,ci as we,E as J,a9 as ut,cj as At,v as u,ax as xe,ck as $t,cl as ve,cm as se,ag as st,cn as Rt,co as Dt,cp as ct,cq as Ge,cr as Et,cs as Ft,av as Oe,aJ as vt,az as ft,aA as dt,bn as mt,ct as We,d as jt,cu as Ut,aN as z,l as gt,aR as zt,H as N,y as Vt,cv as Tt,cw as Bt,s as pe,t as ye,N as Xe,O as Ze,aW as ie,I as he,u as pt,bv as Gt,n as Wt,r as Ye,w as He,z as qe,R as Je,Q as Xt,x as Zt,B as Yt,M as Ht,cx as qt,a as ke}from"./index.c1f9bce8.js";import{c as Jt}from"./api.f187642e.js";var Qt="[object Number]";function Kt(t){return typeof t=="number"||Lt(t)&&It(t)==Qt}function en(t){var e=M(null),i=fe(p({},t)),a=M([]),r=function(h){e.value===null&&(a.value=[],e.value=Be(function(){var P;a.value.forEach(function(S){P=p(p({},P),S)}),ot(i,P),e.value=null})),a.value.push(h)};return $e(function(){e.value&&Be.cancel(e.value)}),[i,r]}function Qe(t,e,i,a){var r=e+i,v=(i-a)/2;if(i>a){if(e>0)return q({},t,v);if(e<0&&r<a)return q({},t,-v)}else if(e<0||r>a)return q({},t,e<0?v:-v);return{}}function tn(t,e,i,a){var r=Mt(),v=r.width,h=r.height,P=null;return t<=v&&e<=h?P={x:0,y:0}:(t>v||e>h)&&(P=p(p({},Qe("x",i,t,v)),Qe("y",a,e,h))),P}var Ke=Symbol("previewGroupContext"),De={provide:function(e){kt(Ke,e)},inject:function(){return Nt(Ke,{isPreviewGroup:M(!1),previewUrls:g(function(){return new Map}),setPreviewUrls:function(){},current:M(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null,rootClassName:""})}},nn=Q({compatConfig:{MODE:3},name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:function(){return{}}}},setup:function(e,i){var a=i.slots,r=g(function(){var b={visible:void 0,onVisibleChange:function(){},getContainer:void 0,current:0};return Re(e.preview)==="object"?bt(e.preview,b):b}),v=fe(new Map),h=M(),P=g(function(){return r.value.visible}),S=g(function(){return r.value.getContainer}),s=function(C,R){var o,c;(o=(c=r.value).onVisibleChange)===null||o===void 0||o.call(c,C,R)},m=lt(!!P.value,{value:P,onChange:s}),d=we(m,2),O=d[0],f=d[1],_=M(null),V=g(function(){return P.value!==void 0}),B=g(function(){return Array.from(v.keys())}),L=g(function(){return B.value[r.value.current]}),D=g(function(){return new Map(Array.from(v).filter(function(b){var C=we(b,2),R=C[1].canPreview;return!!R}).map(function(b){var C=we(b,2),R=C[0],o=C[1].url;return[R,o]}))}),E=function(C,R){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;v.set(C,{url:R,canPreview:o})},j=function(C){h.value=C},A=function(C){_.value=C},$=function(C,R){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=function(){v.delete(C)};return v.set(C,{url:R,canPreview:o}),c},U=function(C){C==null||C.stopPropagation(),f(!1),A(null)};return J(L,function(b){j(b)},{immediate:!0,flush:"post"}),ut(function(){O.value&&V.value&&j(L.value)},{flush:"post"}),De.provide({isPreviewGroup:M(!0),previewUrls:D,setPreviewUrls:E,current:h,setCurrent:j,setShowPreview:f,setMousePosition:A,registerImage:$}),function(){var b=ot({},(At(r.value),r.value));return u(xe,null,[a.default&&a.default(),u(ht,p(p({},b),{},{"ria-hidden":!O.value,visible:O.value,prefixCls:e.previewPrefixCls,onClose:U,mousePosition:_.value,src:D.value.get(h.value),icons:e.icons,getContainer:S.value}),null)])}}});const wt=nn;var ae={x:0,y:0},rn=p(p({},$t()),{},{src:String,alt:String,rootClassName:String,icons:{type:Object,default:function(){return{}}}}),an=Q({compatConfig:{MODE:3},name:"Preview",inheritAttrs:!1,props:rn,emits:["close","afterClose"],setup:function(e,i){var a=i.emit,r=i.attrs,v=fe(e.icons),h=v.rotateLeft,P=v.rotateRight,S=v.zoomIn,s=v.zoomOut,m=v.close,d=v.left,O=v.right,f=M(1),_=M(0),V=en(ae),B=we(V,2),L=B[0],D=B[1],E=function(){return a("close")},j=M(),A=fe({originX:0,originY:0,deltaX:0,deltaY:0}),$=M(!1),U=De.inject(),b=U.previewUrls,C=U.current,R=U.isPreviewGroup,o=U.setCurrent,c=g(function(){return b.value.size}),n=g(function(){return Array.from(b.value.keys())}),l=g(function(){return n.value.indexOf(C.value)}),I=g(function(){return R.value?b.value.get(C.value):e.src}),k=g(function(){return R.value&&c.value>1}),W=M({wheelDirection:0}),ee=function(){f.value=1,_.value=0,D(ae),a("afterClose")},te=function(){f.value++,D(ae)},de=function(){f.value>1&&f.value--,D(ae)},x=function(){_.value+=90},F=function(){_.value-=90},X=function(w){w.preventDefault(),w.stopPropagation(),l.value>0&&o(n.value[l.value-1])},Z=function(w){w.preventDefault(),w.stopPropagation(),l.value<c.value-1&&o(n.value[l.value+1])},Y=ve(q({},"".concat(e.prefixCls,"-moving"),$.value)),Se="".concat(e.prefixCls,"-operations-operation"),Ce="".concat(e.prefixCls,"-operations-icon"),_e=[{icon:m,onClick:E,type:"close"},{icon:S,onClick:te,type:"zoomIn"},{icon:s,onClick:de,type:"zoomOut",disabled:g(function(){return f.value===1})},{icon:P,onClick:x,type:"rotateRight"},{icon:h,onClick:F,type:"rotateLeft"}],me=function(){if(e.visible&&$.value){var w=j.value.offsetWidth*f.value,G=j.value.offsetHeight*f.value,ne=ct(j.value),H=ne.left,re=ne.top,K=_.value%180!==0;$.value=!1;var le=tn(K?G:w,K?w:G,H,re);le&&D(p({},le))}},Le=function(w){w.button===0&&(w.preventDefault(),w.stopPropagation(),A.deltaX=w.pageX-L.x,A.deltaY=w.pageY-L.y,A.originX=L.x,A.originY=L.y,$.value=!0)},be=function(w){e.visible&&$.value&&D({x:w.pageX-A.deltaX,y:w.pageY-A.deltaY})},Pe=function(w){if(!!e.visible){w.preventDefault();var G=w.deltaY;W.value={wheelDirection:G}}},Ie=function(w){!e.visible||!k.value||(w.preventDefault(),w.keyCode===Ge.LEFT?l.value>0&&o(n.value[l.value-1]):w.keyCode===Ge.RIGHT&&l.value<c.value-1&&o(n.value[l.value+1]))},Me=function(){e.visible&&(f.value!==1&&(f.value=1),(L.x!==ae.x||L.y!==ae.y)&&D(ae))},ge=function(){};return $e(function(){J([function(){return e.visible},$],function(){ge();var y,w,G=se(window,"mouseup",me,!1),ne=se(window,"mousemove",be,!1),H=se(window,"wheel",Pe,{passive:!1}),re=se(window,"keydown",Ie,!1);try{window.top!==window.self&&(y=se(window.top,"mouseup",me,!1),w=se(window.top,"mousemove",be,!1))}catch(K){}ge=function(){G.remove(),ne.remove(),H.remove(),re.remove(),y&&y.remove(),w&&w.remove()}},{flush:"post",immediate:!0}),J([W],function(){var y=W.value.wheelDirection;y>0?de():y<0&&te()})}),st(function(){ge()}),function(){var y=e.visible,w=e.prefixCls,G=e.rootClassName;return u(Dt,p(p({},r),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:w,onClose:E,afterClose:ee,visible:y,wrapClassName:Y,rootClassName:G,getContainer:e.getContainer}),{default:function(){return[u("ul",{class:"".concat(e.prefixCls,"-operations")},[_e.map(function(H){var re=H.icon,K=H.onClick,le=H.type,ue=H.disabled;return u("li",{class:ve(Se,q({},"".concat(e.prefixCls,"-operations-operation-disabled"),ue&&(ue==null?void 0:ue.value))),onClick:K,key:le},[Rt(re,{class:Ce})])})]),u("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(L.x,"px, ").concat(L.y,"px, 0)")}},[u("img",{onMousedown:Le,onDblclick:Me,ref:j,class:"".concat(e.prefixCls,"-img"),src:I.value,alt:e.alt,style:{transform:"scale3d(".concat(f.value,", ").concat(f.value,", 1) rotate(").concat(_.value,"deg)")}},null)]),k.value&&u("div",{class:ve("".concat(e.prefixCls,"-switch-left"),q({},"".concat(e.prefixCls,"-switch-left-disabled"),l.value<=0)),onClick:X},[d]),k.value&&u("div",{class:ve("".concat(e.prefixCls,"-switch-right"),q({},"".concat(e.prefixCls,"-switch-right-disabled"),l.value>=c.value-1)),onClick:Z},[O])]}})}}});const ht=an;var on=["icons","maskClassName"],Ct=function(){return{src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:Et.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}},bt=function(e,i){var a=p({},e);return Object.keys(i).forEach(function(r){e[r]===void 0&&(a[r]=i[r])}),a},ln=0,Pt=Q({compatConfig:{MODE:3},name:"Image",inheritAttrs:!1,props:Ct(),emits:["click","error"],setup:function(e,i){var a=i.attrs,r=i.slots,v=i.emit,h=g(function(){return e.prefixCls}),P=g(function(){return"".concat(h.value,"-preview")}),S=g(function(){var x={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return Re(e.preview)==="object"?bt(e.preview,x):x}),s=g(function(){var x;return(x=S.value.src)!==null&&x!==void 0?x:e.src}),m=g(function(){return e.placeholder&&e.placeholder!==!0||r.placeholder}),d=g(function(){return S.value.visible}),O=g(function(){return S.value.getContainer}),f=g(function(){return d.value!==void 0}),_=function(F,X){var Z,Y;(Z=(Y=S.value).onVisibleChange)===null||Z===void 0||Z.call(Y,F,X)},V=lt(!!d.value,{value:d,onChange:_}),B=we(V,2),L=B[0],D=B[1];J(L,function(x,F){_(x,F)});var E=M(m.value?"loading":"normal");J(function(){return e.src},function(){E.value=m.value?"loading":"normal"});var j=M(null),A=g(function(){return E.value==="error"}),$=De.inject(),U=$.isPreviewGroup,b=$.setCurrent,C=$.setShowPreview,R=$.setMousePosition,o=$.registerImage,c=M(ln++),n=g(function(){return e.preview&&!A.value}),l=function(){E.value="normal"},I=function(F){E.value="error",v("error",F)},k=function(F){if(!f.value){var X=ct(F.target),Z=X.left,Y=X.top;U.value?(b(c.value),R({x:Z,y:Y})):j.value={x:Z,y:Y}}U.value?C(!0):D(!0),v("click",F)},W=function(){D(!1),f.value||(j.value=null)},ee=M(null);J(function(){return ee},function(){E.value==="loading"&&ee.value.complete&&(ee.value.naturalWidth||ee.value.naturalHeight)&&l()});var te=function(){};$e(function(){J([s,n],function(){if(te(),!U.value)return function(){};te=o(c.value,s.value,n.value),n.value||te()},{flush:"post",immediate:!0})}),st(function(){te()});var de=function(F){return Kt(F)?F+"px":F};return function(){var x=e.prefixCls,F=e.wrapperClassName,X=e.fallback,Z=e.src,Y=e.placeholder,Se=e.wrapperStyle,Ce=e.rootClassName,_e=a.width,me=a.height,Le=a.crossorigin,be=a.decoding,Pe=a.alt,Ie=a.sizes,Me=a.srcset,ge=a.usemap,y=a.class,w=a.style,G=S.value,ne=G.icons,H=G.maskClassName,re=Ft(G,on),K=ve(x,F,Ce,q({},"".concat(x,"-error"),A.value)),le=A.value&&X?X:s.value,ue={crossorigin:Le,decoding:be,alt:Pe,sizes:Ie,srcset:Me,usemap:ge,class:ve("".concat(x,"-img"),q({},"".concat(x,"-img-placeholder"),Y===!0),y),style:p({height:me},w)};return u(xe,null,[u("div",{class:K,onClick:n.value?k:function(xt){v("click",xt)},style:p({width:de(_e),height:de(me)},Se)},[u("img",p(p(p({},ue),A.value&&X?{src:X}:{onLoad:l,onError:I,src:Z}),{},{ref:ee}),null),E.value==="loading"&&u("div",{"aria-hidden":"true",class:"".concat(x,"-placeholder")},[Y||r.placeholder&&r.placeholder()]),r.previewMask&&n.value&&u("div",{class:["".concat(x,"-mask"),H]},[r.previewMask()])]),!U.value&&n.value&&u(ht,p(p({},re),{},{"aria-hidden":!L.value,visible:L.value,prefixCls:P.value,onClose:W,mousePosition:j.value,src:le,alt:Pe,getContainer:O.value,icons:ne,rootClassName:Ce}),null)])}}});Pt.PreviewGroup=wt;const un=Pt;var sn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const cn=sn;function et(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),a.forEach(function(r){vn(t,r,i[r])})}return t}function vn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ee=function(e,i){var a=et({},e,i.attrs);return u(Oe,et({},a,{icon:cn}),null)};Ee.displayName="RotateLeftOutlined";Ee.inheritAttrs=!1;const fn=Ee;var dn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const mn=dn;function tt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),a.forEach(function(r){gn(t,r,i[r])})}return t}function gn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Fe=function(e,i){var a=tt({},e,i.attrs);return u(Oe,tt({},a,{icon:mn}),null)};Fe.displayName="RotateRightOutlined";Fe.inheritAttrs=!1;const pn=Fe;var wn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const hn=wn;function nt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),a.forEach(function(r){Cn(t,r,i[r])})}return t}function Cn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var je=function(e,i){var a=nt({},e,i.attrs);return u(Oe,nt({},a,{icon:hn}),null)};je.displayName="ZoomInOutlined";je.inheritAttrs=!1;const bn=je;var Pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const yn=Pn;function rt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),a.forEach(function(r){xn(t,r,i[r])})}return t}function xn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ue=function(e,i){var a=rt({},e,i.attrs);return u(Oe,rt({},a,{icon:yn}),null)};Ue.displayName="ZoomOutOutlined";Ue.inheritAttrs=!1;const On=Ue;var yt={rotateLeft:u(fn,null,null),rotateRight:u(pn,null,null),zoomIn:u(bn,null,null),zoomOut:u(On,null,null),close:u(vt,null,null),left:u(ft,null,null),right:u(dt,null,null)},Sn=Q({compatConfig:{MODE:3},name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,i){var a=i.attrs,r=i.slots,v=mt("image",e),h=v.getPrefixCls,P=g(function(){return h("image-preview",e.previewPrefixCls)});return function(){return u(wt,p(p({},p(p({},a),e)),{},{icons:yt,previewPrefixCls:P.value}),r)}}});const _n=Sn;var oe=Q({name:"AImage",inheritAttrs:!1,props:Ct(),setup:function(e,i){var a=i.slots,r=i.attrs,v=mt("image",e),h=v.prefixCls,P=v.rootPrefixCls,S=v.configProvider,s=g(function(){var m=e.preview;if(m===!1)return m;var d=Re(m)==="object"?m:{};return p(p({icons:yt},d),{},{transitionName:We(P.value,"zoom",d.transitionName),maskTransitionName:We(P.value,"fade",d.maskTransitionName)})});return function(){var m,d=((m=S.locale)===null||m===void 0?void 0:m.Image)||jt.Image,O=function(){return u("div",{class:"".concat(h.value,"-mask-info")},[u(Ut,null,null),d==null?void 0:d.preview])},f=e.previewMask,_=f===void 0?a.previewMask||O:f;return u(un,p(p({},p(p(p({},r),e),{},{prefixCls:h.value})),{},{preview:s.value}),p(p({},a),{},{previewMask:typeof _=="function"?_:null}))}}});oe.PreviewGroup=_n;oe.install=function(t){return t.component(oe.name,oe),t.component(oe.PreviewGroup.name,oe.PreviewGroup),t};const at=oe;Q({name:"ImagePreview",components:{Image:at,PreviewGroup:at.PreviewGroup},props:{functional:z.bool,imageList:{type:Array}},setup(t){const{prefixCls:e}=gt("image-preview"),i=g(()=>{const{imageList:a}=t;return a?a.map(r=>zt(r)?{src:r,placeholder:!1}:r):[]});return{prefixCls:e,getImageList:i}}});const Ln="/assets/resume.8f27866b.svg",In="/assets/p-rotate.cb8bbfc3.svg",Mn="/assets/scale.44abde22.svg",kn="/assets/unscale.c552f416.svg",Nn="/assets/unrotate.ef6a2daf.svg";var ce=function(t){return t[t.LOADING=0]="LOADING",t[t.DONE=1]="DONE",t[t.FAIL=2]="FAIL",t}(ce||{});const An={show:{type:Boolean,default:!1},imageList:{type:[Array],default:null},index:{type:Number,default:0},scaleStep:{type:Number},defaultWidth:{type:Number},maskClosable:{type:Boolean},rememberState:{type:Boolean}},T="img-preview",$n=Q({name:"ImagePreview",props:An,emits:["img-load","img-error"],setup(t,{expose:e,emit:i}){const a=new Map,r=fe({currentUrl:"",imgScale:1,imgRotate:0,imgTop:0,imgLeft:0,status:ce.LOADING,currentIndex:0,moveX:0,moveY:0,show:t.show}),v=M(null),h=M(null);function P(){s();const{index:n,imageList:l}=t;if(!l||!l.length)throw new Error("imageList is undefined");r.currentIndex=n,V(l[n])}function S(){r.imgScale=1,r.imgRotate=0,r.imgTop=0,r.imgLeft=0}function s(){const n=N(v);!n||(n.onmousewheel=d,document.body.addEventListener("DOMMouseScroll",d),document.ondragstart=function(){return!1})}const m=g(()=>{var l;const n=(l=t==null?void 0:t.scaleStep)!=null?l:0;return(n!=null?n:0>0)?n/100:r.imgScale/10});function d(n){n=n||window.event,n.delta=n.wheelDelta||-n.detail,n.preventDefault(),n.delta>0&&O(m.value),n.delta<0&&O(-m.value)}function O(n){r.imgScale<=.2&&n<0||(r.imgScale+=n)}function f(n){r.imgRotate+=n}function _(){const n=N(h);!n||(n.onmousemove=null)}function V(n){r.status=ce.LOADING;const l=new Image;l.src=n,l.onload=I=>{if(r.currentUrl!==n){const k=I.composedPath();if(t.rememberState){a.set(r.currentUrl,{scale:r.imgScale,top:r.imgTop,left:r.imgLeft,rotate:r.imgRotate});const W=a.get(n);W?(r.imgScale=W.scale,r.imgTop=W.top,r.imgRotate=W.rotate,r.imgLeft=W.left):(S(),t.defaultWidth&&(r.imgScale=t.defaultWidth/k[0].naturalWidth))}else t.defaultWidth&&(r.imgScale=t.defaultWidth/k[0].naturalWidth);k&&i("img-load",{index:r.currentIndex,dom:k[0],url:n})}r.currentUrl=n,r.status=ce.DONE},l.onerror=I=>{const k=I.composedPath();k&&i("img-error",{index:r.currentIndex,dom:k[0],url:n}),r.status=ce.FAIL}}function B(n){n&&n.stopPropagation(),L()}function L(){r.show=!1,document.body.removeEventListener("DOMMouseScroll",d),document.ondragstart=null}function D(){S()}e({resume:D,close:L,prev:E.bind(null,"left"),next:E.bind(null,"right"),setScale:n=>{n>0&&n<=10&&(r.imgScale=n)},setRotate:n=>{r.imgRotate=n}});function E(n){const{currentIndex:l}=r,{imageList:I}=t;n==="left"&&(r.currentIndex--,l<=0&&(r.currentIndex=I.length-1)),n==="right"&&(r.currentIndex++,l>=I.length-1&&(r.currentIndex=0)),V(I[r.currentIndex])}function j(n){n=n||window.event,r.moveX=n.clientX,r.moveY=n.clientY;const l=N(h);l&&(l.onmousemove=A)}function A(n){n=n||window.event,n.preventDefault();const l=n.clientX-r.moveX,I=n.clientY-r.moveY;r.imgLeft+=l,r.imgTop+=I,r.moveX=n.clientX,r.moveY=n.clientY}const $=g(()=>{const{imgScale:n,imgRotate:l,imgTop:I,imgLeft:k}=r;return{transform:`scale(${n}) rotate(${l}deg)`,marginTop:`${I}px`,marginLeft:`${k}px`,maxWidth:t.defaultWidth?"unset":"100%"}}),U=g(()=>{const{imageList:n}=t;return n.length>1});ut(()=>{t.show&&P(),t.imageList&&S()});const b=n=>{t.maskClosable&&n.target&&n.target.classList.contains(`${T}-content`)&&B(n)},C=()=>u("div",{class:`${T}__close`,onClick:B},[u(vt,{class:`${T}__close-icon`},null)]),R=()=>{if(!N(U))return null;const{currentIndex:n}=r,{imageList:l}=t;return u("div",{class:`${T}__index`},[n+1,Vt(" / "),l.length])},o=()=>u("div",{class:`${T}__controller`},[u("div",{class:`${T}__controller-item`,onClick:()=>O(-m.value)},[u("img",{src:kn},null)]),u("div",{class:`${T}__controller-item`,onClick:()=>O(m.value)},[u("img",{src:Mn},null)]),u("div",{class:`${T}__controller-item`,onClick:D},[u("img",{src:Ln},null)]),u("div",{class:`${T}__controller-item`,onClick:()=>f(-90)},[u("img",{src:Nn},null)]),u("div",{class:`${T}__controller-item`,onClick:()=>f(90)},[u("img",{src:In},null)])]),c=n=>N(U)?u("div",{class:[`${T}__arrow`,n],onClick:()=>E(n)},[n==="left"?u(ft,null,null):u(dt,null,null)]):null;return()=>r.show&&u("div",{class:T,ref:v,onMouseup:_,onClick:b},[u("div",{class:`${T}-content`},[u("img",{style:N($),class:[`${T}-image`,r.status===ce.DONE?"":"hidden"],ref:h,src:r.currentUrl,onMousedown:j},null),C(),R(),o(),c("left"),c("right")])])}});let Ne=null;function Rn(t){var a;if(!Tt)return;const e={},i=document.createElement("div");return Object.assign(e,{show:!0,index:0,scaleStep:100},t),Ne=u($n,e),Bt(Ne,i),document.body.appendChild(i),(a=Ne.component)==null?void 0:a.exposed}var Ae=(t=>(t.all="all",t.image="image",t.file="file",t))(Ae||{});const Dn={class:"upload-download-handler"},En={class:"upload-mover-handler"},Fn=Q({__name:"UploadItemActions",props:{element:{type:HTMLElement,required:!0},fileList:{type:Object,required:!0},mover:{type:Boolean,required:!0},download:{type:Boolean,required:!0},emitValue:{type:Function,required:!0}},setup(t){const e=t,{createMessage:i}=pt(),a=g(()=>N(e.fileList));function r(){let s=P();if(s===-1){i.warn("\u79FB\u52A8\u5931\u8D25\uFF1A"+s);return}if(s===0){h(s,N(a).length-1);return}h(s,s-1)}function v(){let s=P();if(s===-1){i.warn("\u79FB\u52A8\u5931\u8D25\uFF1A"+s);return}if(s==N(a).length-1){h(s,0);return}h(s,s+1)}function h(s,m){if(s!==m){let d=[...N(a)],O=d[s];d[s]=d[m],d[m]=O,e.emitValue(d.map(f=>f.url).join(","))}}function P(){var m,d;const s=(d=(m=e.element)==null?void 0:m.getElementsByTagName("img")[0])==null?void 0:d.src;if(s){const O=N(a);for(let f=0;f<O.length;f++){let _=O[f].url;const V=s.replace(window.location.origin,"");if(_===V||encodeURI(_)===V)return f}}return-1}function S(){var m,d;const s=(d=(m=e.element)==null?void 0:m.getElementsByTagName("img")[0])==null?void 0:d.src;window.open(s)}return(s,m)=>(pe(),ye(xe,null,[Xe(ie("div",Dn,[ie("a",{class:"download",title:"\u4E0B\u8F7D",onClick:S},[u(N(he),{icon:"ant-design:download"})])],512),[[Ze,t.download]]),Xe(ie("div",En,[ie("a",{title:"\u5411\u524D\u79FB\u52A8",onClick:r},[u(N(he),{icon:"ant-design:arrow-left"})]),ie("a",{title:"\u5411\u540E\u79FB\u52A8",onClick:v},[u(N(he),{icon:"ant-design:arrow-right"})])],512),[[Ze,t.mover&&a.value.length>1]])],64))}}),jn={key:0},Un={class:"ant-upload-text"},it="ant-upload-list-item",Bn=Q({__name:"JUpload",props:{value:z.oneOfType([z.string,z.array]),text:z.string.def("\u4E0A\u4F20"),fileType:z.string.def(Ae.all),bizPath:z.string.def("temp"),returnUrl:z.bool.def(!0),maxCount:z.number.def(0),buttonVisible:z.bool.def(!0),multiple:z.bool.def(!0),mover:z.bool.def(!0),download:z.bool.def(!0),removeConfirm:z.bool.def(!1),beforeUpload:z.func,disabled:z.bool.def(!1)},emits:["change","update:value"],setup(t,{expose:e,emit:i}){const a=t,{createMessage:r,createConfirm:v}=pt(),{prefixCls:h}=gt("j-upload"),P=Gt(),S=fe({"X-Access-Token":Wt()}),s=M([]),m=M(!0),d=M(),O=g(()=>a.maxCount>0&&s.value.length>=a.maxCount),f=g(()=>a.fileType===Ae.image),_=g(()=>{const o=Object.assign({},a,N(P));return o.name="file",o.listType=f.value?"picture-card":"text",o.class=[o.class,{"upload-disabled":a.disabled}],o.data=Te({biz:a.bizPath},o.data),o.beforeUpload||(o.beforeUpload=E),f.value&&!o.accept&&(o.accept="image/*"),o});J(()=>a.value,o=>{Array.isArray(o)?a.returnUrl?L(o.join(",")):D(o):L(o)},{immediate:!0}),J(s,()=>Ht(()=>V()),{immediate:!0});function V(){if(!f.value)return;const o=d.value?d.value.getElementsByClassName(it):null;if(!(!o||o.length===0))for(const c of o)c.getAttribute("data-has-actions")==="true"||c.addEventListener("mouseover",B)}function B(o){const n=(()=>{for(const k of o.path){if(k.classList.contains(it))return k;if(k.classList.contains(`${h}-container`))return null}return null})();if(!n)return;const l=n.getElementsByClassName("ant-upload-list-item-actions");if(!l||l.length===0)return;const I=document.createElement("div");I.className="upload-actions-container",qt(Fn,{element:n,fileList:s,mover:a.mover,download:a.download,emitValue:b}).mount(I),l[0].appendChild(I),n.setAttribute("data-has-actions","true"),n.removeEventListener("mouseover",B)}function L(o){if(!o||o.length==0){s.value=[];return}let c=[];for(const n of o.split(",")){let l=ke(n);c.push({uid:C(),name:R(n),status:"done",url:l,response:{status:"history",message:n}})}s.value=c}function D(o){if(!o||o.length==0){s.value=[];return}let c=[];for(const n of o){let l=ke(n.filePath);c.push({uid:C(),name:n.fileName,url:l,status:"done",response:{status:"history",message:n.filePath}})}s.value=c}function E(o){return m.value=!0,f.value&&o.type.indexOf("image")<0?(r.warning("\u8BF7\u4E0A\u4F20\u56FE\u7247"),m.value=!1,!1):typeof a.beforeUpload=="function"?a.beforeUpload(o):!0}function j(){return a.removeConfirm?new Promise(o=>{v({title:"\u5220\u9664",content:`\u786E\u5B9A\u8981\u5220\u9664\u8FD9${f.value?"\u5F20\u56FE\u7247":"\u4E2A\u6587\u4EF6"}\u5417\uFF1F`,iconType:"warning",onOk:()=>o(!0),onCancel:()=>o(!1)})}):!0}function A(o){!o.file.status&&m.value===!1&&o.fileList.pop();let c=o.fileList;if(a.maxCount>0&&c.length>=a.maxCount)if(a.maxCount-c.length>=0)c=c.slice(-a.maxCount);else return;if(o.file.status==="done"?o.file.response.success&&(c=c.map(n=>{if(n.response){let l=n.response.message;n.url=ke(l)}return n})):o.file.status==="error"&&r.error(`${o.file.name} \u4E0A\u4F20\u5931\u8D25.`),s.value=c,o.file.status==="done"||o.file.status==="removed")if(a.returnUrl)$();else{let n=[];for(const l of c)if(l.status==="done"){let I={fileName:l.name,filePath:l.response.message,fileSize:l.size};n.push(I)}else return;b(n)}}function $(){let o=s.value,c="";(!o||o.length==0)&&(c="");let n=[];for(const l of o)if(l.status==="done")n.push(l.response.message);else return;n.length>0&&(c=n.join(",")),b(c)}function U(o){f.value?Rn({imageList:[o.url],maskClosable:!0}):window.open(o.url)}function b(o){i("change",o),i("update:value",o)}function C(){return"-"+parseInt(Math.random()*1e4+1,10)}function R(o){if(o.lastIndexOf("\\")>=0){let c=new RegExp("\\\\","g");o=o.replace(c,"/")}return o.substring(o.lastIndexOf("/")+1)}return e({addActionsListener:V}),(o,c)=>{const n=Ye("a-button"),l=Ye("a-upload");return pe(),ye("div",{ref_key:"containerRef",ref:d,class:Yt(`${N(h)}-container`)},[u(l,Zt({headers:S,multiple:t.multiple,action:N(Jt),fileList:s.value,disabled:t.disabled},_.value,{onRemove:j,onChange:A,onPreview:U}),{default:He(()=>[f.value?(pe(),ye(xe,{key:0},[O.value?Je("",!0):(pe(),ye("div",jn,[u(N(he),{icon:"ant-design:plus-outlined"}),ie("div",Un,qe(t.text),1)]))],64)):t.buttonVisible?(pe(),Xt(n,{key:1,disabled:O.value||t.disabled},{default:He(()=>[u(N(he),{icon:"ant-design:upload-outlined"}),ie("span",null,qe(t.text),1)]),_:1},8,["disabled"])):Je("",!0)]),_:1},16,["headers","multiple","action","fileList","disabled"])],2)}}});export{at as I,Ae as U,Bn as _,Rn as c};
