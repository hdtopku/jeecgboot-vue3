import{aY as e,o as l,h as o,cI as t,f3 as a,aB as n,f4 as p}from"./index.435ab247.js";import{rules as r}from"./validator.f9147ad2.js";function s(e,l){const o=p({one:{colProps:{xs:24,sm:24},itemProps:{labelCol:{xs:24,sm:2},wrapperCol:{xs:24,sm:22}}},tow:{colProps:{xs:24,sm:12},itemProps:{labelCol:{xs:24,sm:4},wrapperCol:{xs:24,sm:20}}},three:{colProps:{xs:24,sm:8},itemProps:{labelCol:{xs:24,sm:6},wrapperCol:{xs:24,sm:18}}}},"three");function t({field:e,model:l}){switch(e){case"relationType":case"tabOrderNum":return 3===l.tableType;case"treeParentIdField":case"treeIdField":case"treeFieldname":return"Y"===l.isTree;case"idSequence":return"SEQUENCE"===l.idType}return!0}return{formSchemas:[{label:"",field:"id",component:"Input",show:!1},{label:"",field:"tableVersion",component:"Input",show:!1},o({label:"表名",field:"tableName",component:"Input",required:!0,dynamicDisabled:({model:e})=>e.tableVersion&&1!=e.tableVersion,dynamicRules:({model:e,schema:l})=>r.duplicateCheckRule("onl_cgform_head","table_name",e,l,!0)}),o({label:"表描述",field:"tableTxt",component:"Input",required:!0}),o({label:"表类型",field:"tableType",component:"Select",defaultValue:1,componentProps:{options:[{label:"单表",value:1},{label:"主表",value:2},{label:"附表",value:3}],onChange:l.onTableTypeChange}}),{label:"",field:"relationType",component:"InputNumber",render:()=>"",colProps:{xs:0,sm:17},ifShow:t},o({label:"",field:"relationType",component:"RadioGroup",defaultValue:0,componentProps:{options:[{label:"一对多",value:0},{label:"一对一",value:1}]},colProps:{xs:24,sm:4},itemProps:{colon:!1,labelCol:{xs:0,sm:0},wrapperCol:{xs:24,sm:24}},ifShow:t}),o({label:"序号",field:"tabOrderNum",component:"InputNumber",componentProps:{style:{width:"100%"}},colProps:{xs:24,sm:3},itemProps:{labelCol:{xs:24,sm:7},wrapperCol:{xs:24,sm:17}},ifShow:t}),o({label:"表单分类",field:"formCategory",component:"JDictSelectTag",defaultValue:"temp",componentProps:{dictCode:"ol_form_biz_type"}}),o({label:"主键策略",field:"idType",component:"Select",defaultValue:"UUID",componentProps:{options:[{label:"ID_WORKER(分布式自增)",value:"UUID"}]}}),o({label:"序号名称",field:"idSequence",component:"Input",componentProps:{},ifShow:t}),o({label:"显示复选框",field:"isCheckbox",component:"Select",defaultValue:"Y",componentProps:{options:[{label:"是",value:"Y"},{label:"否",value:"N"}]}}),o({label:"主题模板",field:"themeTemplate",component:"Select",defaultValue:"normal",componentProps:{options:[{label:"默认主题",value:"normal"}]},dynamicDisabled:({model:e})=>1===e.tableType}),o({label:"表单风格",field:"formTemplate",component:"Select",defaultValue:"1",componentProps:{options:[{label:"一列",value:"1"},{label:"两列",value:"2"},{label:"三列",value:"3"},{label:"四列",value:"4"}],placeholder:"请选择PC表单风格"}}),o({label:"移动表单风格",field:"formTemplateMobile",component:"Select",defaultValue:"1",componentProps:{options:[{label:"AntDesign模板",value:"1"},{label:"Bootstrap模板",value:"2"}],placeholder:"请选择移动表单风格"},ifShow:!1}),o({label:"滚动条",field:"scroll",component:"Select",defaultValue:1,componentProps:{options:[{label:"有",value:1},{label:"无",value:0}]}}),o({label:"是否分页",field:"isPage",component:"Select",defaultValue:"Y",componentProps:{options:[{label:"是",value:"Y"},{label:"否",value:"N"}]}}),o({label:"是否树",field:"isTree",component:"Select",defaultValue:"N",componentProps:{options:[{label:"是",value:"Y"},{label:"否",value:"N"}],onChange:l.onIsTreeChange},dynamicRules:({model:e})=>[{validator:({},l)=>"Y"!==l||2!=e.tableType&&3!=e.tableType?Promise.resolve():Promise.reject("主表和附表不支持树类型！")}]}),o({label:" ",field:"extConfigJson",component:"Input",slot:"extConfigButton",itemProps:{colon:!1}}),o({label:"树表单父ID",field:"treeParentIdField",component:"Input",ifShow:t}),o({label:"是否有子节点字段",field:"treeIdField",component:"Input",show:!1}),o({label:"树开表单列",field:"treeFieldname",required:!0,component:"Input",ifShow:t}),o({label:"附表",field:"subTableStr",component:"Input",componentProps:{disabled:!0,placeholder:" ",allowClear:!1},ifShow:l.ifShowOfSubTableStr},"one")]}}function i(e,l){const o=p({left:{colProps:{xs:24,sm:7},itemProps:{labelCol:{xs:24,sm:11},wrapperCol:{xs:24,sm:13}},style:{width:"100%"}},right:{colProps:{xs:24,sm:17},itemProps:{labelCol:{xs:24,sm:3},wrapperCol:{xs:24,sm:20}},style:{width:"100%"}}},"left");return{formSchemas:[o({label:"集成设计表单",field:"isDesForm",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:"Y"},{label:"关闭",value:"N"}],buttonStyle:"solid",onChange:l.onIsDesformChange}},"left"),o({label:"表单编码",field:"desFormCode",component:"Input",componentProps:{style:"width: 80%"},dynamicDisabled:({model:e})=>"Y"!==e.isDesForm,dynamicRules:({model:e})=>[{required:"Y"===e.isDesForm,message:"请输入表单编码！"}]},"right"),o({label:"集成积木报表",field:"reportPrintShow",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid",onChange:l.onReportPrintShowChange}},"left"),o({label:"报表地址",field:"reportPrintUrl",component:"Input",componentProps:{style:"width: 80%"},dynamicDisabled:({model:e})=>!e.reportPrintShow,dynamicRules:({model:e})=>[{required:!!e.reportPrintShow,message:"请输入报表地址！"},{validator:({},e)=>/\/jmreport\/view\/{积木报表ID}/.test(e)?Promise.reject("请将{积木报表ID}替换为真实的积木报表ID！"):Promise.resolve()}]},"right"),o({label:"固定操作列",field:"tableFixedAction",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid"},defaultValue:0},"left"),o({label:"固定方式",field:"tableFixedActionType",component:"Select",componentProps:{options:[{label:"固定到右侧",value:"right"},{label:"固定到左侧",value:"left"}],style:"width: 80%"},defaultValue:"right",dynamicDisabled:({model:e})=>!e.tableFixedAction,dynamicRules:({model:e})=>[{required:!!e.tableFixedAction,message:"请选择固定方式！"}]},"right"),o({label:"启用联合查询",field:"joinQuery",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid",onChange:l.onJoinQueryChange}},"left"),o({label:"",field:"joinQuery",component:"InputNumber",render:()=>""},"right"),o({label:"弹窗默认全屏",field:"modelFullscreen",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid"}},"left"),o({label:"弹窗宽度",field:"modalMinWidth",component:"InputNumber",componentProps:{style:"width: 80%",placeholder:"弹窗最小宽度（单位：px）"}},"right"),o({label:"开启表单评论",field:"commentStatus",component:"RadioButtonGroup",componentProps:{options:[{label:"开启",value:1},{label:"关闭",value:0}],buttonStyle:"solid"}},"left"),o({label:"",field:"commentStatus",component:"InputNumber",render:()=>""},"right")]}}function m(e,r,s){const i=p({one:{colProps:{xs:24,sm:24},itemProps:{labelCol:{xs:24,sm:5},wrapperCol:{xs:24,sm:16}}},towOne:{colProps:{xs:24,sm:24},itemProps:{labelCol:{xs:24,sm:3},wrapperCol:{xs:24,sm:20}}},tow:{colProps:{xs:24,sm:12},itemProps:{labelCol:{xs:24,sm:6},wrapperCol:{xs:24,sm:16}}}},"one"),m=l((()=>s.value?"one":"tow"));return{formSchemas:l((()=>[i({label:"代码生成目录",field:"projectPath",render:({model:e,field:l})=>o(n.Search,{value:e[l],onChange:o=>{e[l]=o.target.value,r.onProjectPathChange(o)},onSearch:r.onProjectPathSearch},{enterButton:()=>o(t,{preIcon:"ant-design:folder-open"},{default:()=>"浏览",icon:()=>o(a)})}),component:"InputSearch",required:!0},s.value?"one":"towOne"),i({label:"页面风格",field:"jspMode",component:"Select",componentProps:{options:r.jspModeOptions.value}},m.value),i({label:"功能说明",field:"ftlDescription",component:"Input"},m.value),{label:"数据模型",field:"jformType",component:"Input",show:!1},i({label:"表名",field:"tableName_tmp",required:!0,dynamicDisabled:!0,component:"Input"},m.value),i({label:"实体类名",field:"entityName",required:!0,component:"Input",componentProps:{placeholder:"请输入实体类名(首字母大写)"}},m.value),i({label:"包名(小写)",field:"entityPackage",required:!0,component:"Input"},m.value),i({label:"代码分层样式",field:"packageStyle",component:"Select",componentProps:{disabled:!0,options:[{label:"业务分层",value:"service"},{label:"代码分层",value:"project"}]}},m.value),i({label:"页面代码",field:"vueStyle",required:!0,component:"RadioGroup",defaultValue:"vue3",componentProps:{options:[{label:"Vue3",value:"vue3"},{label:"Vue3 原生",value:"vue3Native"},{label:"Vue2",value:"vue"}]}},m.value),{label:"需要生成的代码",field:"codeTypes",component:"Input",show:!1}]))}}e();export{i as a,m as b,s as u};
