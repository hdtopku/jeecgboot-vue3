import{_ as A}from"./ChartGroupCard.vue_vue_type_script_setup_true_lang.c99973c3.js";import S from"./SaleTabCard.0deb0e77.js";import{useECharts as k}from"./useECharts.777d9a1d.js";import{j as v,C as d,a7 as V,a9 as F,aY as T,q as C,s as _,t as y,V as j,r as f,aW as I,z as $,y as R,v as a,R as z,B as H,Z as b,w as r}from"./index.c1d8dbc8.js";import"./Bar.7420675c.js";import"./data.e9fbbbc1.js";import"./echarts.02d88369.js";const N=v({name:"lineMulti",props:{chartData:{type:Array,default:()=>[],required:!0},option:{type:Object,default:()=>({})},type:{type:String,default:"line"},width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh - 78px)"}},emits:["click"],setup(t,{emit:l}){const o=d(null),{setOptions:s,getInstance:c}=k(o),e=V({tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#333"}}},legend:{top:30},grid:{top:60},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[]});F(()=>{t.chartData&&n()});function n(){var x,B;t.option&&Object.assign(e,T(t.option));let u=Array.from(new Set(t.chartData.map(p=>p.type))),h=Array.from(new Set(t.chartData.map(p=>p.name))),E=[];u.forEach(p=>{let D={name:p,type:t.type},w=t.chartData.filter(m=>p===m.type);D.data=w.map(m=>m.value),E.push(D)}),e.series=E,e.xAxis.data=h,s(e),(x=c())==null||x.off("click",i),(B=c())==null||B.on("click",i)}function i(u){l("click",u)}return{chartRef:o}}});function O(t,l,o,s,c,e){return _(),y("div",{ref:"chartRef",style:j({height:t.height,width:t.width})},null,4)}const L=C(N,[["render",O]]),M=v({name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0},icon:{type:String,default:!1}}});const q={key:0};function P(t,l,o,s,c,e){const n=f("a-icon");return _(),y("div",{class:H(["head-info",t.center&&"center"])},[I("span",null,$(t.title),1),I("p",null,[R($(t.content)+" ",1),a(n,{type:t.icon,style:{"font-size":"24px",color:"#2b99ff"}},null,8,["type"])]),t.bordered?(_(),y("em",q)):z("",!0)],2)}const g=C(M,[["render",P],["__scopeId","data-v-077283c4"]]),W=t=>b.get({url:"/sys/loginfo",params:t},{isTransformResponse:!1}),Y=t=>b.get({url:"/sys/visitInfo",params:t},{isTransformResponse:!1}),Z={class:"p-4"},G=v({__name:"IndexChart",setup(t){const l=d(!0);setTimeout(()=>{l.value=!1},500);const o=d({}),s=d([]);function c(){W(null).then(e=>{e.success&&(Object.keys(e.result).forEach(n=>{e.result[n]=e.result[n]+""}),o.value=e.result)}),Y(null).then(e=>{e.success&&(s.value=[],e.result.forEach(n=>{s.value.push({name:n.type,type:"ip",value:n.ip}),s.value.push({name:n.type,type:"visit",value:n.visit})}))})}return c(),(e,n)=>{const i=f("a-col"),u=f("a-row"),h=f("a-card");return _(),y("div",Z,[a(A,{class:"enter-y",loading:l.value,type:"chart"},null,8,["loading"]),a(S,{class:"!my-4 enter-y",loading:l.value},null,8,["loading"]),a(u,null,{default:r(()=>[a(i,{span:24},{default:r(()=>[a(h,{loading:l.value,bordered:!1,title:"\u6700\u8FD1\u4E00\u5468\u8BBF\u95EE\u91CF\u7EDF\u8BA1",style:{marginTop:"24px"}},{default:r(()=>[a(u,null,{default:r(()=>[a(i,{span:6},{default:r(()=>[a(g,{title:"\u4ECA\u65E5IP",content:o.value.todayIp,icon:"environment"},null,8,["content"])]),_:1}),a(i,{span:6},{default:r(()=>[a(g,{title:"\u4ECA\u65E5\u8BBF\u95EE",content:o.value.todayVisitCount,icon:"team"},null,8,["content"])]),_:1}),a(i,{span:6},{default:r(()=>[a(g,{title:"\u603B\u8BBF\u95EE\u91CF",content:o.value.totalVisitCount,icon:"rise"},null,8,["content"])]),_:1})]),_:1}),a(L,{chartData:s.value,height:"50vh",type:"line",option:{legend:{top:"bottom"}}},null,8,["chartData"])]),_:1},8,["loading"])]),_:1})]),_:1})])}}});const at=C(G,[["__scopeId","data-v-7791faf7"]]);export{at as default};
