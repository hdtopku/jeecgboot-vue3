var C=(t,n,c)=>new Promise((_,m)=>{var E=a=>{try{r(c.next(a))}catch(e){m(e)}},p=a=>{try{r(c.throw(a))}catch(e){m(e)}},r=a=>a.done?_(a.value):Promise.resolve(a.value).then(E,p);r((c=c.apply(t,n)).next())});import{q as k,l as P,t as l,aU as v,v as i,V as d,z as u,bF as g,b6 as M,aX as b,eg as S,G as w,d7 as x,o as T,y as s,aV as A,D as V,x as $,W as F,R as h,aw as N,dF as W,C as o}from"./index.48973554.js";import U from"./CurrentPermissionMode.4607e819.js";import{A as I}from"./index.e534e0bb.js";import{a as j}from"./index.4ec76882.js";import"./useContentHeight.a372c55d.js";import"./onMountedOrActivated.77b2868b.js";import"./useWindowSizeFn.baf157d7.js";import"./useContentViewHeight.9106942e.js";import"./usePageContext.3811348f.js";const q=P({components:{Alert:g,PageWrapper:j,CurrentPermissionMode:U,Divider:M,Authority:I},setup(){const{hasPermission:t}=b(),n=S(),c=w(),_=x(),m=T(()=>c.getProjectConfig.permissionMode===W.BACK);function E(p){return C(this,null,function*(){const r="fakeToken"+p;_.setToken(r),_.getUserInfoAction(),n.changePermissionCode()})}return{hasPermission:t,permissionStore:n,switchToken:E,isBackPremissionMode:m}}}),z=o(" \u5F53\u524D\u62E5\u6709\u7684code\u5217\u8868: "),G=o(" \u70B9\u51FB\u5207\u6362\u6309\u94AE\u6743\u9650(\u7528\u6237id\u4E3A2) "),K=o(" \u70B9\u51FB\u5207\u6362\u6309\u94AE\u6743\u9650(\u7528\u6237id\u4E3A1,\u9ED8\u8BA4) "),L=o("\u7EC4\u4EF6\u65B9\u5F0F\u5224\u65AD\u6743\u9650"),R=o(" \u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1 "),X=o(" \u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1 "),H=o(" \u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1 "),J=o("\u51FD\u6570\u65B9\u5F0F\u65B9\u5F0F\u5224\u65AD\u6743\u9650"),O=o(" \u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1 "),Q=o(" \u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1 "),Y=o(" \u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1 "),Z=o("\u6307\u4EE4\u65B9\u5F0F\u65B9\u5F0F\u5224\u65AD\u6743\u9650(\u8BE5\u65B9\u5F0F\u4E0D\u80FD\u52A8\u6001\u4FEE\u6539\u6743\u9650.)"),uu=o(" \u62E5\u6709code ['1000']\u6743\u9650\u53EF\u89C1 "),eu=o(" \u62E5\u6709code ['2000']\u6743\u9650\u53EF\u89C1 "),su=o(" \u62E5\u6709code ['1000','2000']\u89D2\u8272\u6743\u9650\u53EF\u89C1 ");function ou(t,n,c,_,m,E){const p=l("CurrentPermissionMode"),r=l("Divider"),a=l("Alert"),e=l("a-button"),f=l("Authority"),y=l("PageWrapper"),B=v("auth");return i(),d(y,{contentBackground:"",title:"\u6309\u94AE\u6743\u9650\u63A7\u5236",contentClass:"p-4"},{default:u(()=>[s(p),A("p",null,[z,A("a",null,V(t.permissionStore.getPermCodeList),1)]),s(r),s(a,{class:"mt-4",type:"info",message:"\u70B9\u51FB\u540E\u8BF7\u67E5\u770B\u6309\u94AE\u53D8\u5316(\u5FC5\u987B\u5904\u4E8E\u540E\u53F0\u6743\u9650\u6A21\u5F0F\u624D\u53EF\u6D4B\u8BD5\u6B64\u9875\u9762\u6240\u5C55\u793A\u7684\u529F\u80FD)","show-icon":""}),s(r),s(e,{type:"primary",class:"mr-2",onClick:n[0]||(n[0]=D=>t.switchToken(2)),disabled:!t.isBackPremissionMode},{default:u(()=>[G]),_:1},8,["disabled"]),s(e,{type:"primary",onClick:n[1]||(n[1]=D=>t.switchToken(1)),disabled:!t.isBackPremissionMode},{default:u(()=>[K]),_:1},8,["disabled"]),t.isBackPremissionMode?(i(),$(N,{key:0},[s(r,null,{default:u(()=>[L]),_:1}),s(f,{value:"1000"},{default:u(()=>[s(e,{type:"primary",class:"mx-4"},{default:u(()=>[R]),_:1})]),_:1}),s(f,{value:"2000"},{default:u(()=>[s(e,{color:"success",class:"mx-4"},{default:u(()=>[X]),_:1})]),_:1}),s(f,{value:["1000","2000"]},{default:u(()=>[s(e,{color:"error",class:"mx-4"},{default:u(()=>[H]),_:1})]),_:1}),s(r,null,{default:u(()=>[J]),_:1}),t.hasPermission("1000")?(i(),d(e,{key:0,type:"primary",class:"mx-4"},{default:u(()=>[O]),_:1})):F("",!0),t.hasPermission("2000")?(i(),d(e,{key:1,color:"success",class:"mx-4"},{default:u(()=>[Q]),_:1})):F("",!0),t.hasPermission(["1000","2000"])?(i(),d(e,{key:2,color:"error",class:"mx-4"},{default:u(()=>[Y]),_:1})):F("",!0),s(r,null,{default:u(()=>[Z]),_:1}),h((i(),d(e,{type:"primary",class:"mx-4"},{default:u(()=>[uu]),_:1})),[[B,"1000"]]),h((i(),d(e,{color:"success",class:"mx-4"},{default:u(()=>[eu]),_:1})),[[B,"2000"]]),h((i(),d(e,{color:"error",class:"mx-4"},{default:u(()=>[su]),_:1})),[[B,["1000","2000"]]])],64)):F("",!0)]),_:1})}var pu=k(q,[["render",ou],["__scopeId","data-v-dd3689dc"]]);export{pu as default};
