import{cb as it,cc as ot,C as O,a8 as de,_ as s,X as Se,cd as ke,bl as Ue,ce as lt,bo as B,bB as ut,bj as st,m as v,j as re,bq as _e,cf as Fe,cg as me,E as ne,aa as We,ch as ct,v as o,ax as Ze,ci as vt,cj as se,ck as oe,ag as Xe,cl as ft,cm as mt,cn as Ye,co as Ne,cp as dt,cq as gt,av as he,aJ as Be,az as He,aA as qe,bn as Je,d as pt,cr as De,cs as wt,aN as ht,l as Ct,aP as Pt,K as le,y as bt,ct as yt,cu as Ot}from"./index.c71909f1.js";var xt="[object Number]";function St(n){return typeof n=="number"||it(n)&&ot(n)==xt}function _t(n){var e=O(null),a=de(s({},n)),i=O([]),t=function(w){e.value===null&&(i.value=[],e.value=ke(function(){var h;i.value.forEach(function(x){h=s(s({},h),x)}),Ue(a,h),e.value=null})),i.value.push(w)};return Se(function(){e.value&&ke.cancel(e.value)}),[a,t]}function je(n,e,a,i){var t=e+a,l=(a-i)/2;if(a>i){if(e>0)return B({},n,l);if(e<0&&t<i)return B({},n,-l)}else if(e<0||t>i)return B({},n,e<0?l:-l);return{}}function It(n,e,a,i){var t=lt(),l=t.width,w=t.height,h=null;return n<=l&&e<=w?h={x:0,y:0}:(n>l||e>w)&&(h=s(s({},je("x",a,n,l)),je("y",i,e,w))),h}var ze=Symbol("previewGroupContext"),Ie={provide:function(e){ut(ze,e)},inject:function(){return st(ze,{isPreviewGroup:O(!1),previewUrls:v(function(){return new Map}),setPreviewUrls:function(){},current:O(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null,rootClassName:""})}},Mt=re({compatConfig:{MODE:3},name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:function(){return{}}}},setup:function(e,a){var i=a.slots,t=v(function(){var d={visible:void 0,onVisibleChange:function(){},getContainer:void 0,current:0};return _e(e.preview)==="object"?tt(e.preview,d):d}),l=de(new Map),w=O(),h=v(function(){return t.value.visible}),x=v(function(){return t.value.getContainer}),V=function(f,L){var y,k;(y=(k=t.value).onVisibleChange)===null||y===void 0||y.call(k,f,L)},C=Fe(!!h.value,{value:h,onChange:V}),P=me(C,2),j=P[0],p=P[1],_=O(null),Y=v(function(){return h.value!==void 0}),F=v(function(){return Array.from(l.keys())}),b=v(function(){return F.value[t.value.current]}),$=v(function(){return new Map(Array.from(l).filter(function(d){var f=me(d,2),L=f[1].canPreview;return!!L}).map(function(d){var f=me(d,2),L=f[0],y=f[1].url;return[L,y]}))}),R=function(f,L){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;l.set(f,{url:L,canPreview:y})},z=function(f){w.value=f},I=function(f){_.value=f},M=function(f,L){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,k=function(){l.delete(f)};return l.set(f,{url:L,canPreview:y}),k},A=function(f){f==null||f.stopPropagation(),p(!1),I(null)};return ne(b,function(d){z(d)},{immediate:!0,flush:"post"}),We(function(){j.value&&Y.value&&z(b.value)},{flush:"post"}),Ie.provide({isPreviewGroup:O(!0),previewUrls:$,setPreviewUrls:R,current:w,setCurrent:z,setShowPreview:p,setMousePosition:I,registerImage:M}),function(){var d=Ue({},(ct(t.value),t.value));return o(Ze,null,[i.default&&i.default(),o(Qe,s(s({},d),{},{"ria-hidden":!j.value,visible:j.value,prefixCls:e.previewPrefixCls,onClose:A,mousePosition:_.value,src:$.value.get(w.value),icons:e.icons,getContainer:x.value}),null)])}}});const Ke=Mt;var ee={x:0,y:0},Lt=s(s({},vt()),{},{src:String,alt:String,rootClassName:String,icons:{type:Object,default:function(){return{}}}}),$t=re({compatConfig:{MODE:3},name:"Preview",inheritAttrs:!1,props:Lt,emits:["close","afterClose"],setup:function(e,a){var i=a.emit,t=a.attrs,l=de(e.icons),w=l.rotateLeft,h=l.rotateRight,x=l.zoomIn,V=l.zoomOut,C=l.close,P=l.left,j=l.right,p=O(1),_=O(0),Y=_t(ee),F=me(Y,2),b=F[0],$=F[1],R=function(){return i("close")},z=O(),I=de({originX:0,originY:0,deltaX:0,deltaY:0}),M=O(!1),A=Ie.inject(),d=A.previewUrls,f=A.current,L=A.isPreviewGroup,y=A.setCurrent,k=v(function(){return d.value.size}),r=v(function(){return Array.from(d.value.keys())}),u=v(function(){return r.value.indexOf(f.value)}),N=v(function(){return L.value?d.value.get(f.value):e.src}),D=v(function(){return L.value&&k.value>1}),T=O({wheelDirection:0}),q=function(){p.value=1,_.value=0,$(ee),i("afterClose")},J=function(){p.value++,$(ee)},ce=function(){p.value>1&&p.value--,$(ee)},g=function(){_.value+=90},S=function(){_.value-=90},U=function(c){c.preventDefault(),c.stopPropagation(),u.value>0&&y(r.value[u.value-1])},W=function(c){c.preventDefault(),c.stopPropagation(),u.value<k.value-1&&y(r.value[u.value+1])},Z=se(B({},"".concat(e.prefixCls,"-moving"),M.value)),Ce="".concat(e.prefixCls,"-operations-operation"),ge="".concat(e.prefixCls,"-operations-icon"),Pe=[{icon:C,onClick:R,type:"close"},{icon:x,onClick:J,type:"zoomIn"},{icon:V,onClick:ce,type:"zoomOut",disabled:v(function(){return p.value===1})},{icon:h,onClick:g,type:"rotateRight"},{icon:w,onClick:S,type:"rotateLeft"}],ve=function(){if(e.visible&&M.value){var c=z.value.offsetWidth*p.value,G=z.value.offsetHeight*p.value,K=Ye(z.value),X=K.left,Q=K.top,H=_.value%180!==0;M.value=!1;var ae=It(H?G:c,H?c:G,X,Q);ae&&$(s({},ae))}},be=function(c){c.button===0&&(c.preventDefault(),c.stopPropagation(),I.deltaX=c.pageX-b.x,I.deltaY=c.pageY-b.y,I.originX=b.x,I.originY=b.y,M.value=!0)},pe=function(c){e.visible&&M.value&&$({x:c.pageX-I.deltaX,y:c.pageY-I.deltaY})},we=function(c){if(!!e.visible){c.preventDefault();var G=c.deltaY;T.value={wheelDirection:G}}},ye=function(c){!e.visible||!D.value||(c.preventDefault(),c.keyCode===Ne.LEFT?u.value>0&&y(r.value[u.value-1]):c.keyCode===Ne.RIGHT&&u.value<k.value-1&&y(r.value[u.value+1]))},Oe=function(){e.visible&&(p.value!==1&&(p.value=1),(b.x!==ee.x||b.y!==ee.y)&&$(ee))},fe=function(){};return Se(function(){ne([function(){return e.visible},M],function(){fe();var m,c,G=oe(window,"mouseup",ve,!1),K=oe(window,"mousemove",pe,!1),X=oe(window,"wheel",we,{passive:!1}),Q=oe(window,"keydown",ye,!1);try{window.top!==window.self&&(m=oe(window.top,"mouseup",ve,!1),c=oe(window.top,"mousemove",pe,!1))}catch(H){}fe=function(){G.remove(),K.remove(),X.remove(),Q.remove(),m&&m.remove(),c&&c.remove()}},{flush:"post",immediate:!0}),ne([T],function(){var m=T.value.wheelDirection;m>0?ce():m<0&&J()})}),Xe(function(){fe()}),function(){var m=e.visible,c=e.prefixCls,G=e.rootClassName;return o(mt,s(s({},t),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:c,onClose:R,afterClose:q,visible:m,wrapClassName:Z,rootClassName:G,getContainer:e.getContainer}),{default:function(){return[o("ul",{class:"".concat(e.prefixCls,"-operations")},[Pe.map(function(X){var Q=X.icon,H=X.onClick,ae=X.type,ie=X.disabled;return o("li",{class:se(Ce,B({},"".concat(e.prefixCls,"-operations-operation-disabled"),ie&&(ie==null?void 0:ie.value))),onClick:H,key:ae},[ft(Q,{class:ge})])})]),o("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(b.x,"px, ").concat(b.y,"px, 0)")}},[o("img",{onMousedown:be,onDblclick:Oe,ref:z,class:"".concat(e.prefixCls,"-img"),src:N.value,alt:e.alt,style:{transform:"scale3d(".concat(p.value,", ").concat(p.value,", 1) rotate(").concat(_.value,"deg)")}},null)]),D.value&&o("div",{class:se("".concat(e.prefixCls,"-switch-left"),B({},"".concat(e.prefixCls,"-switch-left-disabled"),u.value<=0)),onClick:U},[P]),D.value&&o("div",{class:se("".concat(e.prefixCls,"-switch-right"),B({},"".concat(e.prefixCls,"-switch-right-disabled"),u.value>=k.value-1)),onClick:W},[j])]}})}}});const Qe=$t;var Rt=["icons","maskClassName"],et=function(){return{src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:dt.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}},tt=function(e,a){var i=s({},e);return Object.keys(a).forEach(function(t){e[t]===void 0&&(i[t]=a[t])}),i},kt=0,nt=re({compatConfig:{MODE:3},name:"Image",inheritAttrs:!1,props:et(),emits:["click","error"],setup:function(e,a){var i=a.attrs,t=a.slots,l=a.emit,w=v(function(){return e.prefixCls}),h=v(function(){return"".concat(w.value,"-preview")}),x=v(function(){var g={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return _e(e.preview)==="object"?tt(e.preview,g):g}),V=v(function(){var g;return(g=x.value.src)!==null&&g!==void 0?g:e.src}),C=v(function(){return e.placeholder&&e.placeholder!==!0||t.placeholder}),P=v(function(){return x.value.visible}),j=v(function(){return x.value.getContainer}),p=v(function(){return P.value!==void 0}),_=function(S,U){var W,Z;(W=(Z=x.value).onVisibleChange)===null||W===void 0||W.call(Z,S,U)},Y=Fe(!!P.value,{value:P,onChange:_}),F=me(Y,2),b=F[0],$=F[1];ne(b,function(g,S){_(g,S)});var R=O(C.value?"loading":"normal");ne(function(){return e.src},function(){R.value=C.value?"loading":"normal"});var z=O(null),I=v(function(){return R.value==="error"}),M=Ie.inject(),A=M.isPreviewGroup,d=M.setCurrent,f=M.setShowPreview,L=M.setMousePosition,y=M.registerImage,k=O(kt++),r=v(function(){return e.preview&&!I.value}),u=function(){R.value="normal"},N=function(S){R.value="error",l("error",S)},D=function(S){if(!p.value){var U=Ye(S.target),W=U.left,Z=U.top;A.value?(d(k.value),L({x:W,y:Z})):z.value={x:W,y:Z}}A.value?f(!0):$(!0),l("click",S)},T=function(){$(!1),p.value||(z.value=null)},q=O(null);ne(function(){return q},function(){R.value==="loading"&&q.value.complete&&(q.value.naturalWidth||q.value.naturalHeight)&&u()});var J=function(){};Se(function(){ne([V,r],function(){if(J(),!A.value)return function(){};J=y(k.value,V.value,r.value),r.value||J()},{flush:"post",immediate:!0})}),Xe(function(){J()});var ce=function(S){return St(S)?S+"px":S};return function(){var g=e.prefixCls,S=e.wrapperClassName,U=e.fallback,W=e.src,Z=e.placeholder,Ce=e.wrapperStyle,ge=e.rootClassName,Pe=i.width,ve=i.height,be=i.crossorigin,pe=i.decoding,we=i.alt,ye=i.sizes,Oe=i.srcset,fe=i.usemap,m=i.class,c=i.style,G=x.value,K=G.icons,X=G.maskClassName,Q=gt(G,Rt),H=se(g,S,ge,B({},"".concat(g,"-error"),I.value)),ae=I.value&&U?U:V.value,ie={crossorigin:be,decoding:pe,alt:we,sizes:ye,srcset:Oe,usemap:fe,class:se("".concat(g,"-img"),B({},"".concat(g,"-img-placeholder"),Z===!0),m),style:s({height:ve},c)};return o(Ze,null,[o("div",{class:H,onClick:r.value?D:function(at){l("click",at)},style:s({width:ce(Pe),height:ce(ve)},Ce)},[o("img",s(s(s({},ie),I.value&&U?{src:U}:{onLoad:u,onError:N,src:W}),{},{ref:q}),null),R.value==="loading"&&o("div",{"aria-hidden":"true",class:"".concat(g,"-placeholder")},[Z||t.placeholder&&t.placeholder()]),t.previewMask&&r.value&&o("div",{class:["".concat(g,"-mask"),X]},[t.previewMask()])]),!A.value&&r.value&&o(Qe,s(s({},Q),{},{"aria-hidden":!b.value,visible:b.value,prefixCls:h.value,onClose:T,mousePosition:z.value,src:ae,alt:we,getContainer:j.value,icons:K,rootClassName:ge}),null)])}}});nt.PreviewGroup=Ke;const Nt=nt;var Dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const jt=Dt;function Ae(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(t){zt(n,t,a[t])})}return n}function zt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var Me=function(e,a){var i=Ae({},e,a.attrs);return o(he,Ae({},i,{icon:jt}),null)};Me.displayName="RotateLeftOutlined";Me.inheritAttrs=!1;const At=Me;var Et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const Gt=Et;function Ee(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(t){Vt(n,t,a[t])})}return n}function Vt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var Le=function(e,a){var i=Ee({},e,a.attrs);return o(he,Ee({},i,{icon:Gt}),null)};Le.displayName="RotateRightOutlined";Le.inheritAttrs=!1;const Tt=Le;var Ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const Ft=Ut;function Ge(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(t){Wt(n,t,a[t])})}return n}function Wt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var $e=function(e,a){var i=Ge({},e,a.attrs);return o(he,Ge({},i,{icon:Ft}),null)};$e.displayName="ZoomInOutlined";$e.inheritAttrs=!1;const Zt=$e;var Xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const Yt=Xt;function Ve(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(t){Bt(n,t,a[t])})}return n}function Bt(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}var Re=function(e,a){var i=Ve({},e,a.attrs);return o(he,Ve({},i,{icon:Yt}),null)};Re.displayName="ZoomOutOutlined";Re.inheritAttrs=!1;const Ht=Re;var rt={rotateLeft:o(At,null,null),rotateRight:o(Tt,null,null),zoomIn:o(Zt,null,null),zoomOut:o(Ht,null,null),close:o(Be,null,null),left:o(He,null,null),right:o(qe,null,null)},qt=re({compatConfig:{MODE:3},name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,a){var i=a.attrs,t=a.slots,l=Je("image",e),w=l.getPrefixCls,h=v(function(){return w("image-preview",e.previewPrefixCls)});return function(){return o(Ke,s(s({},s(s({},i),e)),{},{icons:rt,previewPrefixCls:h.value}),t)}}});const Jt=qt;var te=re({name:"AImage",inheritAttrs:!1,props:et(),setup:function(e,a){var i=a.slots,t=a.attrs,l=Je("image",e),w=l.prefixCls,h=l.rootPrefixCls,x=l.configProvider,V=v(function(){var C=e.preview;if(C===!1)return C;var P=_e(C)==="object"?C:{};return s(s({icons:rt},P),{},{transitionName:De(h.value,"zoom",P.transitionName),maskTransitionName:De(h.value,"fade",P.maskTransitionName)})});return function(){var C,P=((C=x.locale)===null||C===void 0?void 0:C.Image)||pt.Image,j=function(){return o("div",{class:"".concat(w.value,"-mask-info")},[o(wt,null,null),P==null?void 0:P.preview])},p=e.previewMask,_=p===void 0?i.previewMask||j:p;return o(Nt,s(s({},s(s(s({},t),e),{},{prefixCls:w.value})),{},{preview:V.value}),s(s({},i),{},{previewMask:typeof _=="function"?_:null}))}}});te.PreviewGroup=Jt;te.install=function(n){return n.component(te.name,te),n.component(te.PreviewGroup.name,te.PreviewGroup),n};const Te=te;const ln=re({name:"ImagePreview",components:{Image:Te,PreviewGroup:Te.PreviewGroup},props:{functional:ht.bool,imageList:{type:Array}},setup(n){const{prefixCls:e}=Ct("image-preview"),a=v(()=>{const{imageList:i}=n;return i?i.map(t=>Pt(t)?{src:t,placeholder:!1}:t):[]});return{prefixCls:e,getImageList:a}}});const Kt="/assets/resume.8f27866b.svg",Qt="/assets/p-rotate.cb8bbfc3.svg",en="/assets/scale.44abde22.svg",tn="/assets/unscale.c552f416.svg",nn="/assets/unrotate.ef6a2daf.svg";var ue=function(n){return n[n.LOADING=0]="LOADING",n[n.DONE=1]="DONE",n[n.FAIL=2]="FAIL",n}(ue||{});const rn={show:{type:Boolean,default:!1},imageList:{type:[Array],default:null},index:{type:Number,default:0},scaleStep:{type:Number},defaultWidth:{type:Number},maskClosable:{type:Boolean},rememberState:{type:Boolean}},E="img-preview",an=re({name:"ImagePreview",props:rn,emits:["img-load","img-error"],setup(n,{expose:e,emit:a}){const i=new Map,t=de({currentUrl:"",imgScale:1,imgRotate:0,imgTop:0,imgLeft:0,status:ue.LOADING,currentIndex:0,moveX:0,moveY:0,show:n.show}),l=O(null),w=O(null);function h(){V();const{index:r,imageList:u}=n;if(!u||!u.length)throw new Error("imageList is undefined");t.currentIndex=r,Y(u[r])}function x(){t.imgScale=1,t.imgRotate=0,t.imgTop=0,t.imgLeft=0}function V(){const r=le(l);!r||(r.onmousewheel=P,document.body.addEventListener("DOMMouseScroll",P),document.ondragstart=function(){return!1})}const C=v(()=>{var u;const r=(u=n==null?void 0:n.scaleStep)!=null?u:0;return(r!=null?r:0>0)?r/100:t.imgScale/10});function P(r){r=r||window.event,r.delta=r.wheelDelta||-r.detail,r.preventDefault(),r.delta>0&&j(C.value),r.delta<0&&j(-C.value)}function j(r){t.imgScale<=.2&&r<0||(t.imgScale+=r)}function p(r){t.imgRotate+=r}function _(){const r=le(w);!r||(r.onmousemove=null)}function Y(r){t.status=ue.LOADING;const u=new Image;u.src=r,u.onload=N=>{if(t.currentUrl!==r){const D=N.composedPath();if(n.rememberState){i.set(t.currentUrl,{scale:t.imgScale,top:t.imgTop,left:t.imgLeft,rotate:t.imgRotate});const T=i.get(r);T?(t.imgScale=T.scale,t.imgTop=T.top,t.imgRotate=T.rotate,t.imgLeft=T.left):(x(),n.defaultWidth&&(t.imgScale=n.defaultWidth/D[0].naturalWidth))}else n.defaultWidth&&(t.imgScale=n.defaultWidth/D[0].naturalWidth);D&&a("img-load",{index:t.currentIndex,dom:D[0],url:r})}t.currentUrl=r,t.status=ue.DONE},u.onerror=N=>{const D=N.composedPath();D&&a("img-error",{index:t.currentIndex,dom:D[0],url:r}),t.status=ue.FAIL}}function F(r){r&&r.stopPropagation(),b()}function b(){t.show=!1,document.body.removeEventListener("DOMMouseScroll",P),document.ondragstart=null}function $(){x()}e({resume:$,close:b,prev:R.bind(null,"left"),next:R.bind(null,"right"),setScale:r=>{r>0&&r<=10&&(t.imgScale=r)},setRotate:r=>{t.imgRotate=r}});function R(r){const{currentIndex:u}=t,{imageList:N}=n;r==="left"&&(t.currentIndex--,u<=0&&(t.currentIndex=N.length-1)),r==="right"&&(t.currentIndex++,u>=N.length-1&&(t.currentIndex=0)),Y(N[t.currentIndex])}function z(r){r=r||window.event,t.moveX=r.clientX,t.moveY=r.clientY;const u=le(w);u&&(u.onmousemove=I)}function I(r){r=r||window.event,r.preventDefault();const u=r.clientX-t.moveX,N=r.clientY-t.moveY;t.imgLeft+=u,t.imgTop+=N,t.moveX=r.clientX,t.moveY=r.clientY}const M=v(()=>{const{imgScale:r,imgRotate:u,imgTop:N,imgLeft:D}=t;return{transform:`scale(${r}) rotate(${u}deg)`,marginTop:`${N}px`,marginLeft:`${D}px`,maxWidth:n.defaultWidth?"unset":"100%"}}),A=v(()=>{const{imageList:r}=n;return r.length>1});We(()=>{n.show&&h(),n.imageList&&x()});const d=r=>{n.maskClosable&&r.target&&r.target.classList.contains(`${E}-content`)&&F(r)},f=()=>o("div",{class:`${E}__close`,onClick:F},[o(Be,{class:`${E}__close-icon`},null)]),L=()=>{if(!le(A))return null;const{currentIndex:r}=t,{imageList:u}=n;return o("div",{class:`${E}__index`},[r+1,bt(" / "),u.length])},y=()=>o("div",{class:`${E}__controller`},[o("div",{class:`${E}__controller-item`,onClick:()=>j(-C.value)},[o("img",{src:tn},null)]),o("div",{class:`${E}__controller-item`,onClick:()=>j(C.value)},[o("img",{src:en},null)]),o("div",{class:`${E}__controller-item`,onClick:$},[o("img",{src:Kt},null)]),o("div",{class:`${E}__controller-item`,onClick:()=>p(-90)},[o("img",{src:nn},null)]),o("div",{class:`${E}__controller-item`,onClick:()=>p(90)},[o("img",{src:Qt},null)])]),k=r=>le(A)?o("div",{class:[`${E}__arrow`,r],onClick:()=>R(r)},[r==="left"?o(He,null,null):o(qe,null,null)]):null;return()=>t.show&&o("div",{class:E,ref:l,onMouseup:_,onClick:d},[o("div",{class:`${E}-content`},[o("img",{style:le(M),class:[`${E}-image`,t.status===ue.DONE?"":"hidden"],ref:w,src:t.currentUrl,onMousedown:z},null),f(),L(),y(),k("left"),k("right")])])}});let xe=null;function un(n){var i;if(!yt)return;const e={},a=document.createElement("div");return Object.assign(e,{show:!0,index:0,scaleStep:100},n),xe=o(an,e),Ot(xe,a),document.body.appendChild(a),(i=xe.component)==null?void 0:i.exposed}export{Te as I,ln as _,un as c};
