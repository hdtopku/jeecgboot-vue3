var m=(r,i,o)=>new Promise((s,n)=>{var u=a=>{try{t(o.next(a))}catch(e){n(e)}},d=a=>{try{t(o.throw(a))}catch(e){n(e)}},t=a=>a.done?s(a.value):Promise.resolve(a.value).then(u,d);t((o=o.apply(r,i)).next())});import{B as h}from"./index.ae44de4e.js";import{j as y,aN as p,C as v,a7 as T,m as _,bH as k,H as f,M as w,s as M,Q as B,w as E,v as x,x as g}from"./index.4c230d5e.js";import{U as l,_ as C}from"./JUpload.vue_vue_type_style_index_0_lang.333fbb03.js";const U=y({__name:"JUploadModal",props:{value:p.oneOfType([p.string,p.array]),width:p.number.def(520)},emits:["change","update:value","register"],setup(r,{emit:i}){const o=v(),s=T({props:{}}),n=_(()=>{var e;return((e=s.props)==null?void 0:e.fileType)===l.image?"\u56FE\u7247\u4E0A\u4F20":"\u6587\u4EF6\u4E0A\u4F20"}),[u,{closeModal:d}]=k(e=>m(this,null,function*(){var c;s.props=f(e)||{},[l.image,"img","picture"].includes((c=s.props)==null?void 0:c.fileType)?s.props.fileType=l.image:s.props.fileType=l.file,w(()=>o.value.addActionsListener())}));function t(){d()}function a(e){i("change",e),i("update:value",e)}return(e,c)=>(M(),B(f(h),g({onRegister:f(u),title:n.value,width:r.width,onOk:t},e.$attrs),{default:E(()=>[x(C,g({ref_key:"uploadRef",ref:o,value:r.value},s.props,{onChange:a}),null,16,["value"])]),_:1},16,["onRegister","title","width"]))}});export{U as _};
