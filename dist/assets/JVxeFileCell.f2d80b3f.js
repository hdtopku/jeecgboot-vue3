import{q as e,l as a,eV as l,t as n,v as t,x as i,ax as o,bc as s,V as d,z as r,y as p,aW as c,D as u,W as m,R as g,S as f,C,B as h}from"./index.b2c24a42.js";import{U as k}from"./JUpload.152dd3a7.js";import"./JUploadModal.aa941b98.js";import{c as y,u as x,e as _}from"./useFileCell.61c19cc2.js";import"./api.e26748d3.js";import"./functional.d6fe070d.js";import"./index.12c6f6d1.js";import"./BasicModal.c95a44ff.js";import"./useWindowSizeFn.6c0c5931.js";const F=a({name:"JVxeFileCell",components:y,props:l(),setup:e=>x(e,k.file),enhanced:_}),j=c("span",{style:{"margin-left":"5px"}},"上传中…",-1),v={style:{"margin-left":"5px"}},w={style:{"margin-left":"5px"}},b=C(" 下载"),M=C(" 删除"),U=C(" 更多");var D=e(F,[["render",function(e,a,l,k,y,x){const _=n("LoadingOutlined"),F=n("a-tooltip"),D=n("Icon"),R=n("a-menu-item"),J=n("a-menu"),V=n("Dropdown"),W=n("a-button"),z=n("a-upload"),B=n("JUploadModal");return t(),i("div",null,[e.hasFile?(t(!0),i(o,{key:0},s([e.innerFile||{}],((a,l)=>(t(),i("div",{key:l,style:{position:"relative"}},["uploading"===a.status?(t(),d(F,{key:0,title:`上传中(${Math.floor(a.percent)}%)`},{default:r((()=>[p(_),j])),_:2},1032,["title"])):"done"===a.status?(t(),d(F,{key:1,title:a.name},{default:r((()=>[p(D,{icon:"ant-design:paper-clip"}),c("span",v,u(e.ellipsisFileName),1)])),_:2},1032,["title"])):(t(),d(F,{key:2,title:a.message||"上传失败"},{default:r((()=>[p(D,{icon:"ant-design:exclamation-circle",style:{color:"red"}}),c("span",w,u(e.ellipsisFileName),1)])),_:2},1032,["title"])),p(V,{trigger:["click"],placement:"bottomRight",style:{"margin-left":"10px"}},{overlay:r((()=>[p(J,null,{default:r((()=>[!1!==e.originColumn.allowDownload?(t(),d(R,{key:0,onClick:e.handleClickDownloadFile},{default:r((()=>[c("span",null,[p(D,{icon:"ant-design:download"}),b])])),_:1},8,["onClick"])):m("",!0),!1!==e.originColumn.allowRemove?(t(),d(R,{key:1,onClick:e.handleClickDeleteFile},{default:r((()=>[c("span",null,[p(D,{icon:"ant-design:delete"}),M])])),_:1},8,["onClick"])):m("",!0),p(R,{onClick:e.handleMoreOperation},{default:r((()=>[c("span",null,[p(D,{icon:"ant-design:bars"}),U])])),_:1},8,["onClick"])])),_:1})])),default:r((()=>[p(F,{title:"操作"},{default:r((()=>["uploading"!==a.status?(t(),d(D,{key:0,icon:"ant-design:setting",style:{cursor:"pointer"}})):m("",!0)])),_:2},1024)])),_:2},1024)])))),128)):m("",!0),g(p(z,h({name:"file",data:{isup:1},multiple:!1,action:e.uploadAction,headers:e.uploadHeaders,showUploadList:!1},e.cellProps,{onChange:e.handleChangeUpload}),{default:r((()=>[p(W,{preIcon:"ant-design:upload"},{default:r((()=>[C(u(e.originColumn.btnText||"点击上传"),1)])),_:1})])),_:1},16,["action","headers","onChange"]),[[f,!e.hasFile]]),p(B,{value:e.modalValue,onRegister:e.registerModel,onChange:e.onModalChange},null,8,["value","onRegister","onChange"])])}]]);export{D as default};
