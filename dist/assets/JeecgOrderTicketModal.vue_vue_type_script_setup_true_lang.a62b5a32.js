var B=Object.defineProperty;var f=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var p=(t,s,e)=>s in t?B(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,g=(t,s)=>{for(var e in s||(s={}))F.call(s,e)&&p(t,e,s[e]);if(f)for(var e of f(s))v.call(s,e)&&p(t,e,s[e]);return t};var d=(t,s,e)=>new Promise((n,l)=>{var m=o=>{try{c(e.next(o))}catch(i){l(i)}},u=o=>{try{c(e.throw(o))}catch(i){l(i)}},c=o=>o.done?n(o.value):Promise.resolve(o.value).then(m,u);c((e=e.apply(t,s)).next())});import{B as k}from"./index.fa33ec21.js";import{B as M}from"./BasicForm.10d2bac8.js";import"./componentMap.bd60345c.js";import{u as b}from"./useForm.92846014.js";import"./JAddInput.2d4443c3.js";import{j,bj as x,C as y,bH as I,K as a,m as R,s as C,Q as H,w as L,v as O,x as T}from"./index.9d4ffdff.js";import{i as U,j as P}from"./erplist.api.7420ab78.js";const W=j({__name:"JeecgOrderTicketModal",emits:["success","register"],setup(t,{emit:s}){const e=x("orderId"),n=y(!0),[l,{resetFields:m,setFieldsValue:u,validate:c}]=b({labelWidth:150,schemas:U,showActionButtonGroup:!1}),[o,{setModalProps:i,closeModal:h}]=I(r=>d(this,null,function*(){yield m(),i({confirmLoading:!1}),n.value=!!(r!=null&&r.isUpdate),a(n)&&(yield u(g({},r.record)))})),_=R(()=>a(n)?"\u7F16\u8F91":"\u65B0\u589E");function w(){return d(this,null,function*(){try{const r=yield c();i({confirmLoading:!0}),a(e)&&(r.orderId=a(e)),yield P(r,n.value),h(),s("success")}finally{i({confirmLoading:!1})}})}return(r,S)=>(C(),H(a(k),T(r.$attrs,{onRegister:a(o),title:_.value,onOk:w,width:500,minHeight:20,maxHeight:20}),{default:L(()=>[O(a(M),{onRegister:a(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{W as _};
