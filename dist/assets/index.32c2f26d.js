var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(t,s,o)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o,r=(e,t)=>{for(var s in t||(t={}))l.call(t,s)&&n(e,s,t[s]);if(o)for(var s of o(t))a.call(t,s)&&n(e,s,t[s]);return e},i=(e,o)=>t(e,s(o));import{s as c,l as u,n as p,o as d,q as f,t as g,v as y,x as b,ax as h,X as w,V as v,z as k,C,D as m,B as D,W as x,E as B,Y as O,bg as $,dI as P,aN as S,aW as T,y as F,dJ as _,b6 as j,F as V,by as L,c6 as H,L as A,ac as E,N as I,H as N,Q as M,a6 as Q,aQ as R,aV as W,bk as X,R as q,bc as z,bl as J,bm as Y,a8 as Z,ab as G,ak as K,bV as U,bX as ee,aa as te,Z as se}from"./index.26a57b91.js";const{t:oe}=c(),le={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:oe("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:oe("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},ae=r({class:{type:[String,Object,Array]},isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},visible:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},le);var ne=f(u({name:"BasicDrawerFooter",props:i(r({},le),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:t}){const{prefixCls:s}=p("basic-drawer-footer");return{handleOk:function(){t("ok")},prefixCls:s,handleClose:function(){t("close")},getStyle:d((()=>{const t=`${e.height}`;return{height:t,lineHeight:t}}))}}}),[["render",function(e,t,s,o,l,a){const n=g("a-button");return e.showFooter||e.$slots.footer?(y(),b("div",{key:0,class:B(e.prefixCls),style:O(e.getStyle)},[e.$slots.footer?w(e.$slots,"footer",{key:1}):(y(),b(h,{key:0},[w(e.$slots,"insertFooter"),e.showCancelBtn?(y(),v(n,D({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:k((()=>[C(m(e.cancelText),1)])),_:1},16,["onClick"])):x("",!0),w(e.$slots,"centerFooter"),e.showOkBtn?(y(),v(n,D({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:k((()=>[C(m(e.okText),1)])),_:1},16,["type","onClick","loading"])):x("",!0),w(e.$slots,"appendFooter")],64))],6)):x("",!0)}]]);const re=u({name:"BasicDrawerHeader",components:{BasicTitle:$,ArrowLeftOutlined:P},props:{isDetail:S.bool,showDetailBack:S.bool,title:S.string},emits:["close"],setup(e,{emit:t}){const{prefixCls:s}=p("basic-drawer-header");return{prefixCls:s,handleClose:function(){t("close")}}}}),ie={key:1};var ce=f(u({components:{Drawer:_,ScrollContainer:j,DrawerFooter:ne,DrawerHeader:f(re,[["render",function(e,t,s,o,l,a){const n=g("BasicTitle"),r=g("ArrowLeftOutlined");return e.isDetail?(y(),b("div",{key:1,class:B([e.prefixCls,`${e.prefixCls}--detail`])},[T("span",{class:B(`${e.prefixCls}__twrap`)},[e.showDetailBack?(y(),b("span",{key:0,onClick:t[0]||(t[0]=(...t)=>e.handleClose&&e.handleClose(...t))},[F(r,{class:B(`${e.prefixCls}__back`)},null,8,["class"])])):x("",!0),e.title?(y(),b("span",ie,m(e.title),1)):x("",!0)],2),T("span",{class:B(`${e.prefixCls}__toolbar`)},[w(e.$slots,"titleToolbar")],2)],2)):(y(),v(n,{key:0,class:B(e.prefixCls)},{default:k((()=>[w(e.$slots,"title"),C(" "+m(e.$slots.title?"":e.title),1)])),_:3},8,["class"]))}]])},inheritAttrs:!1,props:ae,emits:["visible-change","ok","close","register"],setup(e,{emit:t}){const s=V(!1),o=L(),l=V(null),{t:a}=c(),{prefixVar:n,prefixCls:u}=p("basic-drawer"),f={setDrawerProps:function(e){l.value=H(A(l)||{},e),Reflect.has(e,"visible")&&(s.value=!!e.visible)},emitVisible:void 0},g=Q();g&&t("register",f,g.uid);const y=d((()=>H(E(e),A(l)))),b=d((()=>{const e=i(r(r({placement:"right"},A(o)),A(y)),{visible:A(s)});e.title=void 0;let{isDetail:t,width:l,wrapClassName:a,getContainer:c}=e;if(t){l||(e.width="100%");const t=`${u}__detail`;a=e.class?e.class:a,e.class=a?`${a} ${t}`:t,c||(e.getContainer=`.${n}-layout-content`)}return e})),h=d((()=>r(r({},o),A(b)))),w=d((()=>{const{footerHeight:e,showFooter:t}=A(b);return t&&e?I(e)?`${e}px`:`${e.replace("px","")}px`:"0px"})),v=d((()=>({position:"relative",height:`calc(100% - ${A(w)})`}))),k=d((()=>{var e;return!!(null==(e=A(b))?void 0:e.loading)}));return N((()=>e.visible),((e,t)=>{e!==t&&(s.value=e)}),{deep:!0}),N((()=>s.value),(e=>{M((()=>{var s;t("visible-change",e),g&&(null==(s=f.emitVisible)||s.call(f,e,g.uid))}))})),{onClose:function(e){return o=this,l=null,a=function*(){const{closeFunc:o}=A(b);if(t("close",e),o&&R(o)){const e=yield o();s.value=!e}else s.value=!1},new Promise(((t,s)=>{var n=t=>{try{i(a.next(t))}catch(e){s(e)}},r=t=>{try{i(a.throw(t))}catch(e){s(e)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,r);i((a=a.apply(o,l)).next())}));var o,l,a},t:a,prefixCls:u,getMergeProps:y,getScrollContentStyle:v,getProps:b,getLoading:k,getBindValues:h,getFooterHeight:w,handleOk:function(){t("ok")}}}}),[["render",function(e,t,s,o,l,a){const n=g("DrawerHeader"),r=g("ScrollContainer"),i=g("DrawerFooter"),c=g("Drawer"),u=W("loading");return y(),v(c,D({class:e.prefixCls,onClose:e.onClose},e.getBindValues),X({default:k((()=>[q((y(),v(r,{style:O(e.getScrollContentStyle),"loading-tip":e.loadingText||e.t("common.loadingText")},{default:k((()=>[w(e.$slots,"default")])),_:3},8,["style","loading-tip"])),[[u,e.getLoading]]),F(i,D(e.getProps,{onClose:e.onClose,onOk:e.handleOk,height:e.getFooterHeight}),X({_:2},[z(Object.keys(e.$slots),(t=>({name:t,fn:k((s=>[w(e.$slots,t,J(Y(s||{})))]))})))]),1040,["onClose","onOk","height"])])),_:2},[e.$slots.title?{name:"title",fn:k((()=>[w(e.$slots,"title")])),key:"1"}:{name:"title",fn:k((()=>[F(n,{title:e.getMergeProps.title,isDetail:e.isDetail,showDetailBack:e.showDetailBack,onClose:e.onClose},{titleToolbar:k((()=>[w(e.$slots,"titleToolbar")])),_:3},8,["title","isDetail","showDetailBack","onClose"])])),key:"0"}]),1040,["class","onClose"])}]]);const ue=Z({}),pe=Z({});function de(){if(!Q())throw new Error("useDrawer() can only be used inside setup() or functional components!");const e=V(null),t=V(!1),s=V("");const o=()=>{const t=A(e);return t||ee("useDrawer instance is undefined!"),t};return[function(o,l){K((()=>{e.value=null,t.value=null,ue[A(s)]=null})),A(t)&&U()&&o===A(e)||(s.value=l,e.value=o,t.value=!0,o.emitVisible=(e,t)=>{pe[t]=e})},{setDrawerProps:e=>{var t;null==(t=o())||t.setDrawerProps(e)},getVisible:d((()=>pe[~~A(s)])),openDrawer:(e=!0,t,l=!0)=>{var a;if(null==(a=o())||a.setDrawerProps({visible:e}),!t)return;if(l)return ue[A(s)]=null,void(ue[A(s)]=E(t));G(E(ue[A(s)]),E(t))||(ue[A(s)]=E(t))},closeDrawer:()=>{var e;null==(e=o())||e.setDrawerProps({visible:!1})}}]}const fe=e=>{const t=V(null),s=Q(),o=V("");if(!Q())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const l=()=>{const e=A(t);if(e)return e;ee("useDrawerInner instance is undefined!")};return te((()=>{const t=ue[A(o)];t&&e&&R(e)&&M((()=>{e(t)}))})),[(e,l)=>{K((()=>{t.value=null})),o.value=l,t.value=e,null==s||s.emit("register",e,l)},{changeLoading:(e=!0)=>{var t;null==(t=l())||t.setDrawerProps({loading:e})},changeOkLoading:(e=!0)=>{var t;null==(t=l())||t.setDrawerProps({confirmLoading:e})},getVisible:d((()=>pe[~~A(o)])),closeDrawer:()=>{var e;null==(e=l())||e.setDrawerProps({visible:!1})},setDrawerProps:e=>{var t;null==(t=l())||t.setDrawerProps(e)}}]},ge=se(ce);export{ge as B,de as a,fe as u};
