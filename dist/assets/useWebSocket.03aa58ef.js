import{r as n,dh as t,L as e}from"./index.26a57b91.js";let o;const c=new Map;function s(c){let s=n()||"";if(o=t(c,{autoReconnect:{retries:10,delay:5e3},heartbeat:{message:"ping",interval:55e3},protocols:[s]}),o){o.open=a,o.close=r;const n=e(o.ws);null!=n&&(n.onerror=i,n.onmessage=f)}}function a(){}function r(n){}function i(n){}function f(n){try{const e=JSON.parse(n.data);for(const n of c.keys())try{n(e)}catch(t){}}catch(t){}}function u(n){c.has(n)||"function"==typeof n&&c.set(n,null)}function l(n){c.delete(n)}function p(){return o}export{s as connectWebSocket,l as offWebSocket,u as onWebSocket,p as useMyWebSocket};
