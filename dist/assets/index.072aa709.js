import e from"./CurrentPermissionMode.ab08b122.js";import{q as s,l as t,t as o,v as n,V as a,z as i,bG as r,aY as d,d7 as c,G as u,o as m,eQ as l,y as p,aW as f,dF as k,C as b}from"./index.b3c93d64.js";import{a as h}from"./index.4258d6df.js";import"./useContentHeight.7565ed37.js";import"./onMountedOrActivated.d3784e6c.js";import"./useWindowSizeFn.e6386ae5.js";import"./useContentViewHeight.d3266665.js";import"./usePageContext.f338fb2a.js";const C=t({components:{Alert:r,CurrentPermissionMode:e,PageWrapper:h},setup(){const{refreshMenu:e}=d(),s=c(),t=u(),o=m((()=>t.getProjectConfig.permissionMode===k.BACK));return{RoleEnum:l,refreshMenu:e,switchToken:function(t){return o=this,n=null,a=function*(){const o="fakeToken"+t;s.setToken(o),s.getUserInfoAction(),e()},new Promise(((e,s)=>{var t=e=>{try{r(a.next(e))}catch(t){s(t)}},i=e=>{try{r(a.throw(e))}catch(t){s(t)}},r=s=>s.done?e(s.value):Promise.resolve(s.value).then(t,i);r((a=a.apply(o,n)).next())}));var o,n,a},isBackPremissionMode:o}}}),P={class:"mt-4"},g=b(" 权限切换(请先切换权限模式为后台权限模式): "),v=b(" 获取用户id为1的菜单 "),M=b(" 获取用户id为2的菜单 ");var j=s(C,[["render",function(e,s,t,r,d,c){const u=o("CurrentPermissionMode"),m=o("Alert"),l=o("a-button"),k=o("a-button-group"),b=o("PageWrapper");return n(),a(b,{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:i((()=>[p(u),p(m,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),f("div",P,[g,p(k,null,{default:i((()=>[p(l,{onClick:s[0]||(s[0]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:i((()=>[v])),_:1},8,["disabled"]),p(l,{onClick:s[1]||(s[1]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:i((()=>[M])),_:1},8,["disabled"])])),_:1})])])),_:1})}],["__scopeId","data-v-3b6d2b64"]]);export{j as default};
