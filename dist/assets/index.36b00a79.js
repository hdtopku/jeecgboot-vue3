var b=Object.defineProperty,h=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var p=(o,t,e)=>t in o?b(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,l=(o,t)=>{for(var e in t||(t={}))x.call(t,e)&&p(o,e,t[e]);if(s)for(var e of s(t))w.call(t,e)&&p(o,e,t[e]);return o},m=(o,t)=>h(o,B(t));import{B as D}from"./BasicTable.5ee1302a.js";import"./helper.1b3fdfba.js";import"./TableImg.7ccb5f8d.js";import{g as F,D as S}from"./DataLogCompareModal.f7775078.js";import{l as c,bH as y,F as M,t as R,v as T,x as L,y as i,z as d,L as r,C as v,u as P}from"./index.b3d2a891.js";import"./index.2d23bddf.js";import{useListPage as k}from"./useListPage.c9ea079e.js";import"./BasicForm.2d2aa4ab.js";import"./uniqBy.4cec2220.js";import"./BasicModal.7efd78fc.js";import"./useWindowSizeFn.ab02708a.js";import"./useForm.96d1836c.js";import"./JAddInput.43004d14.js";import"./useFormItem.c06072f5.js";import"./api.1d3c1927.js";import"./props.eccfb3be.js";import"./index.7afb8201.js";import"./bem.8fd44f61.js";import"./props.9df65a00.js";import"./useContextMenu.2f0b587d.js";import"./index.bc22d773.js";import"./onMountedOrActivated.12413c39.js";import"./index.bcdb3c55.js";import"./htmlmixed.6d768be1.js";import"./vue.1e0c6574.js";/* empty css             */import"./depart.api.7ce3d710.js";import"./index.2ff6eac0.js";import"./useContentHeight.0b543e32.js";import"./useContentViewHeight.b97dff8b.js";import"./usePageContext.2dbf8e50.js";import"./RedoOutlined.b10d0ad6.js";import"./functional.4d8eb9e7.js";import"./download.2189cbe2.js";import"./base64Conver.030fa32c.js";import"./index.ea39cbd7.js";import"./index.792f7f1c.js";import"./useCountdown.a4eb9495.js";import"./JUpload.7bcd35c5.js";import"./index.96560ef2.js";import"./useTable.99eebf43.js";const V=[{title:"\u8868\u540D",dataIndex:"dataTable",width:150,align:"left"},{title:"\u6570\u636EID",dataIndex:"dataId",width:350},{title:"\u7248\u672C\u53F7",dataIndex:"dataVersion",width:100},{title:"\u6570\u636E\u5185\u5BB9",dataIndex:"dataContent"},{title:"\u521B\u5EFA\u4EBA",dataIndex:"createBy",sorter:!0,width:200}],A=[{field:"dataTable",label:"\u8868\u540D",component:"Input",colProps:{span:8}},{field:"dataId",label:"\u6570\u636EID",component:"Input",colProps:{span:8}}],N=v("\u6570\u636E\u6BD4\u8F83"),j=c({name:"monitor-datalog"}),Tt=c(m(l({},j),{setup(o){const[t,{openModal:e}]=y(),{createMessage:u}=P();M([]);const{prefixCls:z,tableContext:f}=k({designScope:"datalog-template",tableProps:{title:"\u6570\u636E\u65E5\u5FD7\u5217\u8868",api:F,columns:V,formConfig:{labelWidth:120,schemas:A},actionColumn:!1}}),[g,{reload:_},{rowSelection:C,selectedRowKeys:H,selectedRows:n}]=f;function E(){let a=n.value;if(console.info("sfsfsf",a),!a||a.length!=2)return u.warning("\u8BF7\u9009\u62E9\u4E24\u6761\u6570\u636E!"),!1;if(a[0].dataId!=a[1].dataId)return u.warning("\u8BF7\u9009\u62E9\u76F8\u540C\u7684\u6570\u636E\u5E93\u8868\u548C\u6570\u636EID\u8FDB\u884C\u6BD4\u8F83!"),!1;e(!0,{selectedRows:n,isUpdate:!0})}return(a,K)=>{const I=R("a-button");return T(),L("div",null,[i(r(D),{onRegister:r(g),rowSelection:r(C)},{tableTitle:d(()=>[i(I,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:E,style:{"margin-right":"5px"}},{default:d(()=>[N]),_:1})]),_:1},8,["onRegister","rowSelection"]),i(S,{onRegister:r(t),onSuccess:r(_)},null,8,["onRegister","onSuccess"])])}}}));export{Tt as default};
