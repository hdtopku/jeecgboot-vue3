import{f0 as e,F as a,H as t,t as l,v as s,V as n,z as r,x as o,bc as u,C as i,D as c,ax as d,al as p,a1 as h,u as f}from"./index.26a57b91.js";const{createMessage:v}=f();var g=e({name:"JOnlineSearchSelect",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},sql:{type:String,required:!0}},emits:["update:value"],setup(e,{emit:l}){let s=a(""),n=a([]);t((()=>e.value),(e=>{s.value=e||void 0}),{immediate:!0}),t((()=>e.sql),(()=>{u()}),{immediate:!0});const r=p(o,800);function o(a=""){let t={keyword:a},l="/online/cgreport/api/getReportDictList?sql="+e.sql;h.get({url:l,params:t},{isTransformResponse:!1}).then((e=>{e.success?e.result&&e.result.length>0?n.value=e.result:n.value=[]:v.warning(e.message)}))}function u(){n.value=[],o()}return{selectOptions:n,handleSearch:r,handleChange:function(e){l("update:value",e),e&&""!=e||u()},selected:s}}},[["render",function(e,a,t,p,h,f){const v=l("a-select-option"),g=l("a-select");return s(),n(g,{value:p.selected,placeholder:t.placeholder,"show-search":"","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null,onSearch:p.handleSearch,onChange:p.handleChange,allowClear:""},{default:r((()=>[(s(!0),o(d,null,u(p.selectOptions,(e=>(s(),n(v,{key:e.value},{default:r((()=>[i(c(e.text),1)])),_:2},1024)))),128))])),_:1},8,["value","placeholder","onSearch","onChange"])}]]);export{g as default};
