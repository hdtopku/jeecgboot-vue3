import{l as e,F as l,H as a,f0 as t,ci as i,t as n,v as d,V as u,z as o,aW as r,D as c,x as p,ax as s,y as m,bc as v,C as h,B as b,E as g,dp as y,dq as f}from"./index.b3c93d64.js";import"./BasicForm.79466d99.js";import"./helper.ec3e26f3.js";import{e as V,q as w,l as j,b as C,r as x,f as S,n as k,J as D,g as F,m as J}from"./JAddInput.c8a1b05b.js";import T from"./JOnlineSearchSelect.48decfcc.js";import"./uniqBy.30d2558a.js";import"./index.ee0a0c33.js";import"./BasicModal.2a8ad889.js";import"./useWindowSizeFn.e6386ae5.js";import"./useFormItem.d029403d.js";import"./functional.3bb51b91.js";import"./download.261c8978.js";import"./base64Conver.030fa32c.js";import"./index.d2e70b0d.js";import"./index.17ec2e33.js";import"./useCountdown.cb4ad478.js";import"./JUpload.6bcc6fce.js";import"./api.dced5d87.js";import"./index.ef2039b9.js";import"./props.a4f5d1ca.js";import"./index.c4683457.js";import"./bem.3d3e77ca.js";import"./props.c13d8268.js";import"./useContextMenu.de287960.js";import"./index.9bbe419b.js";import"./onMountedOrActivated.d3784e6c.js";import"./index.36d6c198.js";import"./htmlmixed.ba3cd961.js";import"./vue.8c416d71.js";/* empty css             */import"./depart.api.429e062c.js";var U=Object.defineProperty,Y=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,_=(e,l,a)=>l in e?U(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a;const q=e({name:"OnlineSearchFormItem",components:{JOnlineSearchSelect:T,JDictSelectTag:V,JTreeSelect:w,JCategorySelect:j,JSelectUser:C,JSelectUserByDept:x,JSelectDept:S,JPopup:k,JAreaLinkage:D,JAreaSelect:F,JSelectMultiple:J},props:{value:{type:String,default:""},item:{type:Object,default:()=>{},required:!0},dictOptions:{type:Object,default:()=>{},required:!1},onlineForm:{type:Object,default:()=>{},required:!1}},emits:["update:value","change"],setup(e,{emit:t}){const i="120px",n={style:{"max-width":i}};let d=l(""),u=l(""),o=l("");function r(){let l=e.item;return!!l&&("list"==l.view||"radio"==l.view||"switch"==l.view)}function c(e,l,a){let t={labelKey:l,rowKey:a},i=e.fieldExtendJson;if(i&&"string"==typeof i){let e=((e,l)=>{for(var a in l||(l={}))M.call(l,a)&&_(e,a,l[a]);if(Y)for(var a of Y(l))O.call(l,a)&&_(e,a,l[a]);return e})({},JSON.parse(i));e.text&&(t.labelKey=e.text),e.store&&(t.rowKey=e.store)}return t}return a((()=>e.value),(()=>{r()?d.value=e.value?e.value:void 0:d.value=e.value,e.value||(u.value="",o.value="")}),{deep:!0,immediate:!0}),a(d,(e=>{t("update:value",e)}),{immediate:!0}),a(u,(l=>{t("change",e.item.field+"_begin",l),t("update:value","1")})),a(o,(l=>{t("change",e.item.field+"_end",l),t("update:value","1")})),{getPopupFieldConfig:function(e){let{dictText:l,dictCode:a}=e;if(!l||0==l.length)return[];let t=l.split(","),i=a.split(","),n=[];for(let d=0;d<t.length;d++)n.push({target:t[d],source:i[d]});return n},userSelectProp:c(e.item,"realname","username"),depSelectProp:c(e.item,"departName","id"),handleSelectChange:function(e){e&&e.length>0?t("update:value",e.join(",")):t("update:value","")},setFieldsValue:function(l){let{dictText:a}=e.item,i=a.split(",")[0];t("change",i,l[i])},innerValue:d,beginValue:u,endValue:o,isEasySelect:r,getDictOptionKey:function(e){return e.dbField?e.dbField:e.field},getDictCode:function(){let l=e.item;return l.dictTable&&l.dictTable.length>0?l.dictTable+","+l.dictText+","+l.dictCode:l.dictCode},labelTextMaxWidth:i,labelCol:n,single_mode:"single",getSqlByDictCode:function(){let l=e.item,{dictTable:a,dictCode:t,dictText:i}=l,n=a.toLowerCase().split("where"),d="";return n.length>1&&(d=" where"+n[1]),"select "+t+" as 'value', "+i+" as 'text' from "+n[0]+d},handleCategoryTreeChange:function(e){t("update:value",e)}}}}),P=()=>{i((e=>({"0c8831e5":e.labelTextMaxWidth})))},B=q.setup;q.setup=B?(e,l)=>(P(),B(e,l)):P;const K=q,A=e=>(y("data-v-31eb536e"),e=e(),f(),e),E=["title"],I=A((()=>r("span",{class:"group-query-strig"},"~",-1))),W=A((()=>r("span",{class:"group-query-strig"},"~",-1))),z=A((()=>r("span",{class:"group-query-strig"},"~",-1)));var L=t(K,[["render",function(e,l,a,t,i,y){const f=n("a-date-picker"),V=n("JDictSelectTag"),w=n("a-select-option"),j=n("a-select"),C=n("JTreeSelect"),x=n("JCategorySelect"),S=n("JOnlineSearchSelect"),k=n("JSelectUser"),D=n("JSelectDept"),F=n("JPopup"),J=n("JAreaSelect"),T=n("JSelectMultiple"),U=n("a-input"),Y=n("a-form-item");return d(),u(Y,{labelCol:e.labelCol,class:g("jeecg-online-search")},{label:o((()=>[r("span",{title:e.item.label,class:"label-text"},c(e.item.label),9,E)])),default:o((()=>["date"==e.item.view?(d(),p(s,{key:0},[e.single_mode===e.item.mode?(d(),u(f,{key:0,style:{width:"100%"},showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[0]||(l[0]=l=>e.innerValue=l)},null,8,["placeholder","value"])):(d(),p(s,{key:1},[m(f,{showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"开始日期",value:e.beginValue,"onUpdate:value":l[1]||(l[1]=l=>e.beginValue=l),style:{width:"calc(50% - 15px)"}},null,8,["value"]),I,m(f,{showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"结束日期",value:e.endValue,"onUpdate:value":l[2]||(l[2]=l=>e.endValue=l),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64)):"datetime"==e.item.view?(d(),p(s,{key:1},[e.single_mode===e.item.mode?(d(),u(f,{key:0,style:{width:"100%"},showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[3]||(l[3]=l=>e.innerValue=l)},null,8,["placeholder","value"])):(d(),p(s,{key:1},[m(f,{showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"开始时间",value:e.beginValue,"onUpdate:value":l[4]||(l[4]=l=>e.beginValue=l),style:{width:"calc(50% - 15px)"}},null,8,["value"]),W,m(f,{showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"结束时间",value:e.endValue,"onUpdate:value":l[5]||(l[5]=l=>e.endValue=l),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64)):e.isEasySelect()?(d(),p(s,{key:2},["1"===e.item.config?(d(),u(V,{key:0,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[6]||(l[6]=l=>e.innerValue=l),dictCode:e.getDictCode()},null,8,["placeholder","value","dictCode"])):(d(),u(j,{key:1,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[7]||(l[7]=l=>e.innerValue=l)},{default:o((()=>[(d(!0),p(s,null,v(e.dictOptions[e.getDictOptionKey(e.item)],((e,l)=>(d(),u(w,{key:l,value:e.value},{default:o((()=>[h(c(e.text),1)])),_:2},1032,["value"])))),128))])),_:1},8,["placeholder","value"]))],64)):"sel_tree"===e.item.view?(d(),u(C,{key:3,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[8]||(l[8]=l=>e.innerValue=l),dict:e.item.dict,pidField:e.item.pidField,pidValue:e.item.pidValue,hasChildField:e.item.hasChildField,"load-triggle-change":""},null,8,["placeholder","value","dict","pidField","pidValue","hasChildField"])):"cat_tree"===e.item.view?(d(),u(x,{key:4,onChange:e.handleCategoryTreeChange,loadTriggleChange:!0,pcode:e.item.pcode,value:e.innerValue,"onUpdate:value":l[9]||(l[9]=l=>e.innerValue=l),placeholder:"请选择"+e.item.label},null,8,["onChange","pcode","value","placeholder"])):"sel_search"===e.item.view?(d(),p(s,{key:5},["1"===e.item.config?(d(),u(V,{key:0,value:e.innerValue,"onUpdate:value":l[10]||(l[10]=l=>e.innerValue=l),placeholder:"请选择"+e.item.label,dict:e.getDictCode()},null,8,["value","placeholder","dict"])):(d(),u(S,{key:1,value:e.innerValue,"onUpdate:value":l[11]||(l[11]=l=>e.innerValue=l),placeholder:"请选择"+e.item.label,sql:e.getSqlByDictCode()},null,8,["value","placeholder","sql"]))],64)):"sel_user"==e.item.view?(d(),u(k,b({key:6},e.userSelectProp,{value:e.innerValue,"onUpdate:value":l[12]||(l[12]=l=>e.innerValue=l),placeholder:"请选择"+e.item.label}),null,16,["value","placeholder"])):"sel_depart"==e.item.view?(d(),u(D,b({key:7,showButton:!1},e.depSelectProp,{value:e.innerValue,"onUpdate:value":l[13]||(l[13]=l=>e.innerValue=l),placeholder:"请选择"+e.item.label}),null,16,["value","placeholder"])):"popup"==e.item.view?(d(),u(F,{key:8,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[14]||(l[14]=l=>e.innerValue=l),code:e.item.dictTable,setFieldsValue:e.setFieldsValue,"field-config":e.getPopupFieldConfig(e.item),multi:!0},null,8,["placeholder","value","code","setFieldsValue","field-config"])):"pca"==e.item.view?(d(),u(J,{key:9,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[15]||(l[15]=l=>e.innerValue=l)},null,8,["placeholder","value"])):"checkbox"==e.item.view||"list_multi"==e.item.view?(d(),u(T,{key:10,dictCode:e.getDictCode(),placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[16]||(l[16]=l=>e.innerValue=l)},null,8,["dictCode","placeholder","value"])):(d(),p(s,{key:11},[e.single_mode===e.item.mode?(d(),u(U,{key:0,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[17]||(l[17]=l=>e.innerValue=l)},null,8,["placeholder","value"])):(d(),p(s,{key:1},[m(U,{placeholder:"开始值",value:e.beginValue,"onUpdate:value":l[18]||(l[18]=l=>e.beginValue=l),style:{width:"calc(50% - 15px)"}},null,8,["value"]),z,m(U,{placeholder:"结束值",value:e.endValue,"onUpdate:value":l[19]||(l[19]=l=>e.endValue=l),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64))])),_:1},8,["labelCol"])}],["__scopeId","data-v-31eb536e"]]);export{L as default};
