import{e$ as v,F as d,H as f,t as h,v as c,V as p,z as g,x as S,bb as w,C,D as q,aw as x,ak as y,a1 as k,u as O}from"./index.23784a6b.js";const{createMessage:B}=O(),D={name:"JOnlineSearchSelect",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},sql:{type:String,required:!0}},emits:["update:value"],setup(n,{emit:i}){let a=d(""),t=d([]);f(()=>n.value,e=>{e?a.value=e:a.value=void 0},{immediate:!0}),f(()=>n.sql,()=>{s()},{immediate:!0});const u=y(r,800);function r(e=""){let m={keyword:e},_="/online/cgreport/api/getReportDictList?sql="+n.sql;k.get({url:_,params:m},{isTransformResponse:!1}).then(l=>{l.success?l.result&&l.result.length>0?t.value=l.result:t.value=[]:B.warning(l.message)})}function o(e){i("update:value",e),(!e||e=="")&&s()}function s(){t.value=[],r()}return{selectOptions:t,handleSearch:u,handleChange:o,selected:a}}};function b(n,i,a,t,u,r){const o=h("a-select-option"),s=h("a-select");return c(),p(s,{value:t.selected,placeholder:a.placeholder,"show-search":"","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null,onSearch:t.handleSearch,onChange:t.handleChange,allowClear:""},{default:g(()=>[(c(!0),S(x,null,w(t.selectOptions,e=>(c(),p(o,{key:e.value},{default:g(()=>[C(q(e.text),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder","onSearch","onChange"])}var H=v(D,[["render",b]]);export{H as default};
