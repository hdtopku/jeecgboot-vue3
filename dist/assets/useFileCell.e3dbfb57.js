var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,t=(a,o,r)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[o]=r,u=(e,a)=>{for(var o in a||(a={}))n.call(a,o)&&t(e,o,a[o]);if(r)for(var o of r(a))l.call(a,o)&&t(e,o,a[o]);return e},i=(e,r)=>a(e,o(r));import{eZ as s,bI as p,o as d,I as m,bd as f,bz as c,e_ as v,e$ as b}from"./index.435ab247.js";import{c as O}from"./api.bc301b0f.js";import"./JUpload.e164672b.js";import{_ as j}from"./JUploadModal.3912f1fd.js";import"./index.e1e06dd6.js";function g(e,a,o){const r=s(e,u({token:!0,action:O},o)),{innerFile:n,handleChangeCommon:l,originColumn:t}=r,[m,{openModal:f}]=p(),c=d((()=>{let e=n.value;return e&&e.name?e.name.length>5?e.name.substr(0,5)+"â€¦":e.name:""})),v=d((()=>{if(n.value){if(n.value.url)return n.value.url;if(n.value.path)return n.value.path}return""})),b=d((()=>{let e=t.value.maxCount;if(t.value&&t.value.fieldExtendJson){let a=JSON.parse(t.value.fieldExtendJson);e=a.uploadnum?a.uploadnum:0}return null!=e?e:0}));return i(u({},r),{modalValue:v,maxCount:b,ellipsisFileName:c,registerModel:m,onModalChange:function(e){e&&(n.value.path=e,l(n.value))},handleMoreOperation:function(){f(!0,i(u({removeConfirm:!0,mover:!0,download:!0},t.value.props),{maxCount:b.value,fileType:a}))}})}const h={Icon:m,Dropdown:f,LoadingOutlined:c,JUploadModal:j},y={switches:{visible:!0},getValue:e=>v(e),setValue:e=>b(e)};export{h as c,y as e,g as u};
