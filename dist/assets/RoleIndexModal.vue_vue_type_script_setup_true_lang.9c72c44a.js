var v=Object.defineProperty;var g=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var w=(a,o,e)=>o in a?v(a,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[o]=e,_=(a,o)=>{for(var e in o||(o={}))B.call(o,e)&&w(a,e,o[e]);if(g)for(var e of g(o))C.call(o,e)&&w(a,e,o[e]);return a};var f=(a,o,e)=>new Promise((u,d)=>{var m=s=>{try{t(e.next(s))}catch(i){d(i)}},c=s=>{try{t(e.throw(s))}catch(i){d(i)}},t=s=>s.done?u(s.value):Promise.resolve(s.value).then(m,c);t((e=e.apply(a,o)).next())});import{B as x}from"./index.0d476352.js";import{B as F}from"./BasicForm.d162c3ca.js";import"./helper.8737e1c9.js";import{u as y}from"./useForm.8b0368e0.js";import"./JAddInput.842dcc4a.js";import{j as M,C as R,bH as I,K as n,s as b,Q as k,w as L,v as U,x as O}from"./index.366dce35.js";import{r as P}from"./role.data.71bba045.js";import{b as S,c as V}from"./role.api.285c7736.js";const Q=M({__name:"RoleIndexModal",emits:["register","success"],setup(a,{emit:o}){const e=R(!0),[u,{resetFields:d,setFieldsValue:m,validate:c}]=y({labelWidth:150,schemas:P,showActionButtonGroup:!1}),[t,{setModalProps:s,closeModal:i}]=I(l=>f(this,null,function*(){var p;yield d(),s({confirmLoading:!1}),m({roleCode:l.roleCode});let r=yield S({roleCode:l.roleCode});e.value=!!((p=r.result)!=null&&p.id),n(e)&&(yield m(_({},r.result)))}));function h(l){return f(this,null,function*(){try{let r=yield c();s({confirmLoading:!0}),yield V(r,e.value),i(),o("success",{isUpdate:e.value,values:r})}finally{s({confirmLoading:!1})}})}return(l,r)=>(b(),k(n(x),O(l.$attrs,{onRegister:n(t),title:"\u9996\u9875\u914D\u7F6E",onOk:h,width:"40%"}),{default:L(()=>[U(n(F),{onRegister:n(u)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}});export{Q as _};
