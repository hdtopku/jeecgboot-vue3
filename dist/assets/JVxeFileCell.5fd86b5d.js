import{q as e,l as a,eV as l,t as n,v as t,x as i,ax as o,bc as s,V as d,z as r,y as p,aW as u,D as c,W as m,R as g,S as f,C,B as h}from"./index.435ab247.js";import{U as k}from"./JUpload.e164672b.js";import"./JUploadModal.3912f1fd.js";import{c as y,u as b,e as x}from"./useFileCell.e3dbfb57.js";import"./api.bc301b0f.js";import"./functional.be5901d6.js";import"./index.e1e06dd6.js";import"./BasicModal.c66de981.js";import"./useWindowSizeFn.3d5b1a05.js";const _=a({name:"JVxeFileCell",components:y,props:l(),setup:e=>b(e,k.file),enhanced:x}),F=u("span",{style:{"margin-left":"5px"}},"上传中…",-1),j={style:{"margin-left":"5px"}},v={style:{"margin-left":"5px"}},w=C(" 下载"),M=C(" 删除"),U=C(" 更多");var D=e(_,[["render",function(e,a,l,k,y,b){const x=n("LoadingOutlined"),_=n("a-tooltip"),D=n("Icon"),R=n("a-menu-item"),J=n("a-menu"),V=n("Dropdown"),W=n("a-button"),z=n("a-upload"),B=n("JUploadModal");return t(),i("div",null,[e.hasFile?(t(!0),i(o,{key:0},s([e.innerFile||{}],((a,l)=>(t(),i("div",{key:l,style:{position:"relative"}},["uploading"===a.status?(t(),d(_,{key:0,title:`上传中(${Math.floor(a.percent)}%)`},{default:r((()=>[p(x),F])),_:2},1032,["title"])):"done"===a.status?(t(),d(_,{key:1,title:a.name},{default:r((()=>[p(D,{icon:"ant-design:paper-clip"}),u("span",j,c(e.ellipsisFileName),1)])),_:2},1032,["title"])):(t(),d(_,{key:2,title:a.message||"上传失败"},{default:r((()=>[p(D,{icon:"ant-design:exclamation-circle",style:{color:"red"}}),u("span",v,c(e.ellipsisFileName),1)])),_:2},1032,["title"])),p(V,{trigger:["click"],placement:"bottomRight",style:{"margin-left":"10px"}},{overlay:r((()=>[p(J,null,{default:r((()=>[!1!==e.originColumn.allowDownload?(t(),d(R,{key:0,onClick:e.handleClickDownloadFile},{default:r((()=>[u("span",null,[p(D,{icon:"ant-design:download"}),w])])),_:1},8,["onClick"])):m("",!0),!1!==e.originColumn.allowRemove?(t(),d(R,{key:1,onClick:e.handleClickDeleteFile},{default:r((()=>[u("span",null,[p(D,{icon:"ant-design:delete"}),M])])),_:1},8,["onClick"])):m("",!0),p(R,{onClick:e.handleMoreOperation},{default:r((()=>[u("span",null,[p(D,{icon:"ant-design:bars"}),U])])),_:1},8,["onClick"])])),_:1})])),default:r((()=>[p(_,{title:"操作"},{default:r((()=>["uploading"!==a.status?(t(),d(D,{key:0,icon:"ant-design:setting",style:{cursor:"pointer"}})):m("",!0)])),_:2},1024)])),_:2},1024)])))),128)):m("",!0),g(p(z,h({name:"file",data:{isup:1},multiple:!1,action:e.uploadAction,headers:e.uploadHeaders,showUploadList:!1},e.cellProps,{onChange:e.handleChangeUpload}),{default:r((()=>[p(W,{preIcon:"ant-design:upload"},{default:r((()=>[C(c(e.originColumn.btnText||"点击上传"),1)])),_:1})])),_:1},16,["action","headers","onChange"]),[[f,!e.hasFile]]),p(B,{value:e.modalValue,onRegister:e.registerModel,onChange:e.onModalChange},null,8,["value","onRegister","onChange"])])}]]);export{D as default};
