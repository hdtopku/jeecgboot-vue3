var B=Object.defineProperty;var d=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var g=(t,s,e)=>s in t?B(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,_=(t,s)=>{for(var e in s||(s={}))M.call(s,e)&&g(t,e,s[e]);if(d)for(var e of d(s))F.call(s,e)&&g(t,e,s[e]);return t};var p=(t,s,e)=>new Promise((c,l)=>{var m=a=>{try{i(e.next(a))}catch(n){l(n)}},u=a=>{try{i(e.throw(a))}catch(n){l(n)}},i=a=>a.done?c(a.value):Promise.resolve(a.value).then(m,u);i((e=e.apply(t,s)).next())});import{B as y}from"./BasicForm.01e7951d.js";import"./componentMap.f6de7bd6.js";import{u as R}from"./useForm.2c423418.js";import"./JAddInput.06e9dc7b.js";import{j as k,C as w,bH as x,K as r,s as C,Q as S,w as U,v as b,x as L}from"./index.c1328767.js";import{B as O}from"./index.b95a1268.js";import{f as P,s as V}from"./template.api.b53055de.js";const $=k({__name:"TemplateModal",emits:["success","register"],setup(t,{emit:s}){const e=w(""),c=w(!1),[l,{resetFields:m,setFieldsValue:u,validate:i,updateSchema:a}]=R({schemas:P,showActionButtonGroup:!1}),[n,{setModalProps:f,closeModal:h}]=x(o=>p(this,null,function*(){c.value=r(o.isUpdate),e.value=r(o.title),yield m(),yield u(_({},o.record))}));function v(){return p(this,null,function*(){try{const o=yield i();f({confirmLoading:!0}),yield V(o,c),h(),s("success")}finally{f({confirmLoading:!1})}})}return(o,j)=>(C(),S(r(O),L({onRegister:r(n),title:e.value,width:800},o.$attrs,{onOk:v}),{default:U(()=>[b(r(y),{onRegister:r(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{$ as _};
