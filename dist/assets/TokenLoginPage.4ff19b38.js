import{q as a,dN as e,dL as s,s as i,d7 as o,v as n,x as t,u as d,du as r}from"./index.b2c24a42.js";const c={name:"TokenLogin",setup(){const a=e();let n=s();const{createMessage:t,notification:r}=d(),{t:c}=i(),l=a.query;l||t.warning("参数无效");const g=l.loginToken;g||t.warning("token无效");o().ThirdLogin({token:g,thirdType:"email"}).then((a=>{var e;a&&a.userInfo?function(a){let e=l.info;if(e){let s=JSON.parse(e),i="/task/handle/"+s.taskId;n.replace({path:i,query:s}),r.success({message:c("sys.login.loginSuccessTitle"),description:`${c("sys.login.loginSuccessDesc")}: ${a.userInfo.realname}`,duration:3})}else r.error({message:"参数失效",description:"页面跳转参数丢失，请查看日志",duration:4})}(a):(e=a,r.error({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4}))}))}},l={class:"app-loading"},g=[r('<div class="app-loading-wrap" data-v-1a6ba6e2><img src="/resource/img/logo.png" class="app-loading-logo" alt="Logo" data-v-1a6ba6e2><div class="app-loading-dots" data-v-1a6ba6e2><span class="dot dot-spin" data-v-1a6ba6e2><i data-v-1a6ba6e2></i><i data-v-1a6ba6e2></i><i data-v-1a6ba6e2></i><i data-v-1a6ba6e2></i></span></div><div class="app-loading-title" data-v-1a6ba6e2>JeecgBoot 企业级低代码平台</div></div>',1)];var p=a(c,[["render",function(a,e,s,i,o,d){return n(),t("div",l,g)}],["__scopeId","data-v-1a6ba6e2"]]);export{p as default};
