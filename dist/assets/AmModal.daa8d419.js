var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,r=(e,t,o)=>new Promise(((a,l)=>{var r=e=>{try{s(o.next(e))}catch(t){l(t)}},i=e=>{try{s(o.throw(e))}catch(t){l(t)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,i);s((o=o.apply(e,t)).next())}));import{B as i}from"./index.934459b9.js";import{B as s}from"./BasicForm.5f094c03.js";import"./helper.7e5efd4b.js";import{u as n}from"./useForm.18cf269c.js";import"./JAddInput.a2bd8bfb.js";import{l as d,F as c,bH as u,L as p,o as m,v as f,V as b,z as v,y,B as h}from"./index.26a57b91.js";import{s as j}from"./Am.api.16b36edd.js";const g=[{title:"链接key",dataIndex:"code"},{title:"激活码状态(0-正常,-1-失效)",dataIndex:"valid"},{title:"验证状态(0-待使用,1-待验证,2-验证中,3-验证完成)",dataIndex:"status"},{title:"客户首次访问的时间",dataIndex:"visitTime"},{title:"客户开始验证的时间",dataIndex:"verifyTime"}],w=[{label:"链接key",field:"code",component:"Input"},{label:"激活码状态(0-正常,-1-失效)",field:"valid",component:"Input"}],x=[{label:"",field:"id",component:"Input",show:!1},{label:"备注",field:"remark",component:"InputTextArea"}],I=d({__name:"AmModal",emits:["register","success"],setup(e,{emit:d}){const g=c(!0),[w,{resetFields:I,setFieldsValue:O,validate:_}]=n({labelWidth:150,schemas:x,showActionButtonGroup:!1}),[B,{setModalProps:F,closeModal:P}]=u((e=>r(this,null,(function*(){yield I(),F({confirmLoading:!1,showCancelBtn:null==e?void 0:e.showFooter,showOkBtn:null==e?void 0:e.showFooter}),g.value=!!(null==e?void 0:e.isUpdate),p(g)&&(yield O(((e,r)=>{for(var i in r||(r={}))o.call(r,i)&&l(e,i,r[i]);if(t)for(var i of t(r))a.call(r,i)&&l(e,i,r[i]);return e})({},e.record)))})))),A=m((()=>p(g)?"编辑":"新增"));function k(e){return r(this,null,(function*(){try{let e=yield _();F({confirmLoading:!0}),yield j(e,g.value),P(),d("success",{isUpdate:g.value,values:e})}finally{F({confirmLoading:!1})}}))}return(e,t)=>(f(),b(p(i),h(e.$attrs,{onRegister:p(B),title:p(A),onOk:k,width:"96%"}),{default:v((()=>[y(p(s),{onRegister:p(w)},null,8,["onRegister"])])),_:1},16,["onRegister","title"]))}});var O=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{O as A,I as _,g as c,w as s};
