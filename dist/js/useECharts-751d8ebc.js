var C=Object.defineProperty;var k=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var O=(i,t,r)=>t in i?C(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r,w=(i,t)=>{for(var r in t||(t={}))b.call(t,r)&&O(i,r,t[r]);if(k)for(var r of k(t))h.call(t,r)&&O(i,r,t[r]);return i};import{l as x,d as y,e as z,i as H,O as R,v,h as S}from"./index-b34ff7bc.js";import{e as D,l as T,u as o,n as B,w as L}from"./vue-50733b77.js";import"./echarts-7f3ed10d.js";import"./jeecg-online-vendor-d3e1865b.js";import"./antd-vue-vendor-c5335947.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-058e2396.js";import"./vxe-table-vendor-838914b0.js";import"./codemirror-vendor-9b2dceac.js";import"./echarts-vendor-ba343549.js";function W(i,t="default"){const{getDarkMode:r}=x(),u=D(()=>t==="default"?r.value:t);let e=null,l=d;const a=T({});let c=()=>{};l=y(d,200);const g=D(()=>u.value!=="dark"?a.value:w({backgroundColor:"transparent"},a.value));function p(s=t){const n=o(i);if(!n||!o(n))return;e=z.init(n,s);const{removeEvent:f}=H({el:window,name:"resize",listener:l});c=f;const{widthRef:F,screenEnum:M}=R();(o(F)<=M.MD||n.offsetHeight===0)&&v(()=>{l()},30)}function m(s,n=!0){var f;if(a.value=s,((f=o(i))==null?void 0:f.offsetHeight)===0){v(()=>{m(o(g))},30);return}B(()=>{v(()=>{!e&&(p(u.value),!e)||(n&&(e==null||e.clear()),e==null||e.setOption(o(g)))},30)})}function d(){e==null||e.resize()}L(()=>u.value,s=>{e&&(e.dispose(),p(s),m(a.value))}),S(()=>{e&&(c(),e.dispose(),e=null)});function E(){return e||p(u.value),e}return{setOptions:m,resize:d,echarts:z,getInstance:E}}export{W as useECharts};
