var F=Object.defineProperty;var d=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var h=(t,o,e)=>o in t?F(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,w=(t,o)=>{for(var e in o||(o={}))_.call(o,e)&&h(t,e,o[e]);if(d)for(var e of d(o))v.call(o,e)&&h(t,e,o[e]);return t};var f=(t,o,e)=>new Promise((c,l)=>{var m=r=>{try{n(e.next(r))}catch(a){l(a)}},u=r=>{try{n(e.throw(r))}catch(a){l(a)}},n=r=>r.done?c(r.value):Promise.resolve(r.value).then(m,u);n((e=e.apply(t,o)).next())});import{B as k}from"./index-8cf3aabb.js";import{B as M}from"./BasicForm-83ba9c88.js";import"./componentMap-a6d21ad6.js";import{u as b}from"./useForm-fa63344e.js";import"./JAddInput-2cbbbde9.js";import{A as y}from"./index-fde9c72f.js";import{s as A}from"./Am.api-4a05091a.js";import{d as C,k as R,u as i,e as U,aV as x,ar as I,bi as L,f as O,aQ as V}from"./vue-c7e3516e.js";const E=[{label:"",field:"id",component:"Input",show:!1},{label:"\u5907\u6CE8",field:"remark",component:"InputTextArea"}],q=C({__name:"AmModal",emits:["register","success"],setup(t,{emit:o}){const e=R(!0),[c,{resetFields:l,setFieldsValue:m,validate:u}]=b({labelWidth:150,schemas:E,showActionButtonGroup:!1}),[n,{setModalProps:r,closeModal:a}]=y(s=>f(this,null,function*(){yield l(),r({confirmLoading:!1,showCancelBtn:s==null?void 0:s.showFooter,showOkBtn:s==null?void 0:s.showFooter}),e.value=!!(s!=null&&s.isUpdate),i(e)&&(yield m(w({},s.record)))})),g=U(()=>i(e)?"\u7F16\u8F91":"\u65B0\u589E");function B(s){return f(this,null,function*(){try{let p=yield u();r({confirmLoading:!0}),yield A(p,e.value),a(),o("success",{isUpdate:e.value,values:p})}finally{r({confirmLoading:!1})}})}return(s,p)=>(x(),I(i(k),V(s.$attrs,{onRegister:i(n),title:g.value,onOk:B,width:"96%"}),{default:L(()=>[O(i(M),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{q as _};
