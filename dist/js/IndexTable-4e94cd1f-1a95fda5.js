import{J as l}from"./index-b6e19f4a.js";import{L as b}from"./useTableSync-dc333087-878dafa4.js";import{U as f}from"./jeecg-online-vendor-88d7be55.js";import{d as g,k as h,U as y,a5 as v,a9 as x,ag as S}from"./vue-705b7309.js";import"./antd-vue-vendor-cce59da1.js";import"./tinymce-vendor-6e169cb2.js";import"./lodash-es-vendor-5fc8fca4.js";import"./codemirror-vendor-3f45d0f3.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-60c6a8c7.js";import"./cgform.data-cbdd88c3-20b026eb.js";const k=g({name:"IndexTable",components:{},props:{actionButton:{type:Boolean,default:!0,required:!1}},setup(){const e=h([{title:"索引名称",key:"indexName",width:330,type:l.input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"索引栏位",key:"indexField",width:330,type:l.selectMultiple,options:[],defaultValue:"",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"索引类型",key:"indexType",width:330,type:l.select,options:[{title:"normal",value:"normal"},{title:"unique",value:"unique"}],defaultValue:"normal",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]}]),o=b(e),{tableRef:i,loading:r,dataSource:n,tableHeight:u,tableProps:t,setDataSource:s,validateData:m}=o;function p(c){let d=[];c.value.tableRef.getTableData().forEach(a=>{a.dbFieldName&&d.push({title:a.dbFieldName,value:a.dbFieldName})}),e.value[1].options=d}return{tableRef:i,loading:r,dataSource:n,columns:e,tableHeight:u,tableProps:t,syncTable:p,setDataSource:s,validateData:m}}});function R(e,o,i,r,n,u){const t=y("JVxeTable");return v(),x(t,S({ref:"tableRef",rowNumber:"",rowSelection:"",dragSort:"",keyboardEdit:"",sortKey:"orderNum",maxHeight:e.tableHeight.normal,loading:e.loading,columns:e.columns,dataSource:e.dataSource,toolbar:e.actionButton},e.tableProps),null,16,["maxHeight","loading","columns","dataSource","toolbar"])}const C=f(k,[["render",R]]);export{C as default};
