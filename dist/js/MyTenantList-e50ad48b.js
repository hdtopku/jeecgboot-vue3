var O=Object.defineProperty,j=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var b=(o,e,t)=>e in o?O(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,y=(o,e)=>{for(var t in e||(e={}))B.call(e,t)&&b(o,t,e[t]);if(M)for(var t of M(e))E.call(e,t)&&b(o,t,e[t]);return o},k=(o,e)=>j(o,A(e));var c=(o,e,t)=>new Promise((f,l)=>{var g=n=>{try{s(t.next(n))}catch(m){l(m)}},_=n=>{try{s(t.throw(n))}catch(m){l(m)}},s=n=>n.done?f(n.value):Promise.resolve(n.value).then(g,_);s((t=t.apply(o,e)).next())});import V from"./BasicTable-e53fa5dc.js";import{Q as F}from"./componentMap-d4bccc5b.js";import"./useTable-abb474dc.js";import"./index-156cafb7.js";import{l as K,i as L}from"./tenant.api-9f2ccaf7.js";import{c as N,s as z}from"./tenant.data-9b6cb136.js";import{t as J,u as Q}from"./jeecg-online-vendor-231813f7.js";import{useListPage as $}from"./useListPage-37055c1f.js";import q from"./TenantInviteUserModal-0218cd34.js";import D from"./TenantUserList-398297fe.js";import{_ as G}from"./TenantPackList.vue_vue_type_script_setup_true_name_tenant-pack-modal_lang-d9ed3dfc.js";import{z as d,_ as H}from"./index-ebe32d90.js";import{d as S,o as W,V as X,a5 as Y,a6 as Z,f as a,a7 as u,u as r,E as w}from"./vue-5a09445c.js";import"./BasicTable.vue_vue_type_style_index_0_lang-80d59b16.js";import"./BasicForm-202637f7.js";import"./BasicForm.vue_vue_type_style_index_0_lang-b507e110.js";import"./antd-vue-vendor-e4fda4cf.js";import"./tinymce-vendor-e2919cb0.js";import"./lodash-es-vendor-3f622b6f.js";import"./BasicModal-4736e0c2.js";import"./useWindowSizeFn-090d6233.js";import"./vxe-table-vendor-c5aaa9d2.js";import"./codemirror-vendor-f458506d.js";import"./echarts-vendor-6c8e2159.js";import"./useForm-b308f6ee.js";import"./JAddInput-b2310633.js";import"./areaDataUtil-8b7c0164.js";import"./useFormItem-9ad9dd7f.js";import"./JSelectUser-71a05f8d.js";import"./props-070e4759.js";import"./JSelectBiz-8d24dfc4.js";import"./index-0644f043.js";import"./index-64029d3c.js";import"./bem-a05115ab.js";import"./props-1156b2b9.js";import"./useContextMenu-695a8028.js";import"./depart.api-125ba91d.js";import"./JSelectDept-1f595344.js";import"./JPopup-2fd87e0d.js";import"./cron-parser-vendor-f28c5d73.js";import"./JEllipsis.vue_vue_type_script_setup_true_lang-b03a3f81.js";import"./injectionKey-69710956.js";/* empty css              */import"./download-b10715e6.js";import"./base64Conver-fa2fe1af.js";import"./index-ca8ee4d9.js";import"./index-3e837de3.js";import"./useCountdown-1a556b94.js";import"./useFormItemSingle-2e069e0c.js";import"./JUpload.vue_vue_type_style_index_0_lang-5fe736b1.js";import"./index-a66c1701.js";import"./index-afd7fbfc.js";import"./renderUtils-9bf750c9.js";import"./validator-99b371bc.js";import"./user.api-54300816.js";import"./TenantPackMenuModal.vue_vue_type_script_setup_true_name_tenant-pack-menu-modal_lang-f7c5fbb2.js";import"./TenantPackUserModal-26cf0099.js";import"./TenantUserSelectModal-0784e04e.js";const tt=S({name:"my-tenant-list"}),pe=S(k(y({},tt),{setup(o){const{createMessage:e}=Q();d();const[t,{openModal:f}]=d(),[l,{openModal:g}]=d(),[_,{openModal:s}]=d();J();const{prefixCls:n,tableContext:m}=$({designScope:"tenant-template",tableProps:{title:"租户列表",api:K,columns:N,formConfig:{schemas:z},actionColumn:{width:150,fixed:"right"},rowSelection:{type:"radio"},beforeFetch:i=>Object.assign(i,{userTenantStatus:"1,3,4"})}}),[C,{reload:et},{rowSelection:R,selectedRowKeys:p,selectedRows:ot}]=m;function U(i){return[{label:"用户",onClick:I.bind(null,i.id)}]}function x(){f(!0,{})}function v(i){return c(this,null,function*(){i&&(yield L({ids:p.value.join(","),phone:i}))})}function I(i){return c(this,null,function*(){g(!0,{id:i})})}function T(){return c(this,null,function*(){if(r(p).length>1){e.warn("请选择一个");return}s(!0,{tenantId:r(p.value.join(",")),showPackAddAndEdit:!1})})}return W(()=>{H("我的租户")}),(i,rt)=>{const h=X("a-button");return Y(),Z("div",null,[a(r(V),{onRegister:r(C),rowSelection:r(R)},{tableTitle:u(()=>[a(h,{preIcon:"ant-design:user-add-outlined",type:"primary",onClick:x,style:{"margin-right":"5px"},disabled:r(p).length===0},{default:u(()=>[w("邀请用户加入")]),_:1},8,["disabled"]),a(h,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:T,style:{"margin-right":"5px"},disabled:r(p).length===0},{default:u(()=>[w("套餐")]),_:1},8,["disabled"])]),action:u(({record:P})=>[a(r(F),{actions:U(P)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"]),a(q,{onRegister:r(t),onInviteOk:v},null,8,["onRegister"]),a(D,{onRegister:r(l)},null,8,["onRegister"]),a(G,{onRegister:r(_)},null,8,["onRegister"])])}}}));export{pe as default};
