import{aj as o}from"./index-fde9c72f.js";import{u as f}from"./useTableSync-9b111e9e.js";import{bW as b}from"./jeecg-online-vendor-bf2efbcb.js";import"./pick-51214243.js";import"./_flatRest-34ab130c.js";import"./isArray-b183d537.js";import"./toString-8deea73b.js";import"./_arrayPush-ae8b790e.js";import{d as F,k as g,U as h,aV as y,ar as B,aQ as D}from"./vue-c7e3516e.js";import"./lodash-es-vendor-42c8d3d4.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./cgform.data-e49498ca.js";const $=F({name:"IndexTable",components:{},props:{actionButton:{type:Boolean,default:!0,required:!1}},setup(){const e=g([{title:"\u7D22\u5F15\u540D\u79F0",key:"indexName",width:330,type:o.input,defaultValue:"",placeholder:"\u8BF7\u8F93\u5165${title}",validateRules:[{required:!0,message:"${title}\u4E0D\u80FD\u4E3A\u7A7A"}]},{title:"\u7D22\u5F15\u680F\u4F4D",key:"indexField",width:330,type:o.selectMultiple,options:[],defaultValue:"",placeholder:"\u8BF7\u9009\u62E9${title}",validateRules:[{required:!0,message:"\u8BF7\u9009\u62E9${title}"}]},{title:"\u7D22\u5F15\u7C7B\u578B",key:"indexType",width:330,type:o.select,options:[{title:"normal",value:"normal"},{title:"unique",value:"unique"}],defaultValue:"normal",placeholder:"\u8BF7\u9009\u62E9${title}",validateRules:[{required:!0,message:"\u8BF7\u9009\u62E9${title}"}]}]),u=f(e),{tableRef:l,loading:r,dataSource:i,tableHeight:n,tableProps:t,setDataSource:p,validateData:d}=u;function m(c){let s=[];c.value.tableRef.getTableData().forEach(a=>{a.dbFieldName&&s.push({title:a.dbFieldName,value:a.dbFieldName})}),e.value[1].options=s}return{tableRef:l,loading:r,dataSource:i,columns:e,tableHeight:n,tableProps:t,syncTable:m,setDataSource:p,validateData:d}}});function v(e,u,l,r,i,n){const t=h("JVxeTable");return y(),B(t,D({ref:"tableRef",rowNumber:"",rowSelection:"",dragSort:"",keyboardEdit:"",sortKey:"orderNum",maxHeight:e.tableHeight.normal,loading:e.loading,columns:e.columns,dataSource:e.dataSource,toolbar:e.actionButton},e.tableProps),null,16,["maxHeight","loading","columns","dataSource","toolbar"])}var K=b($,[["render",v]]);export{K as default};
