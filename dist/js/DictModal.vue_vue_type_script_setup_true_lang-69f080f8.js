var F=Object.defineProperty,M=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(o,s,e)=>s in o?F(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,f=(o,s)=>{for(var e in s||(s={}))y.call(s,e)&&g(o,e,s[e]);if(d)for(var e of d(s))R.call(s,e)&&g(o,e,s[e]);return o},B=(o,s)=>M(o,k(s));var p=(o,s,e)=>new Promise((u,c)=>{var l=r=>{try{n(e.next(r))}catch(a){c(a)}},m=r=>{try{n(e.throw(r))}catch(a){c(a)}},n=r=>r.done?u(r.value):Promise.resolve(r.value).then(l,m);n((e=e.apply(o,s)).next())});import{B as U}from"./index-8cf3aabb.js";import{B as b}from"./BasicForm-83ba9c88.js";import"./componentMap-a6d21ad6.js";import{u as x}from"./useForm-fa63344e.js";import"./JAddInput-2cbbbde9.js";import{A as L}from"./index-fde9c72f.js";import{f as V}from"./dict.data-77738236.js";import{b as A}from"./dict.api-6374bb84.js";import{d as C,k as v,u as i,e as D,aV as I,ar as O,bi as P,f as S,aQ as E}from"./vue-c7e3516e.js";const W=C({__name:"DictModal",emits:["register","success"],setup(o,{emit:s}){const e=v(!0),u=v(""),[c,{resetFields:l,setFieldsValue:m,validate:n}]=x({schemas:V,showActionButtonGroup:!1}),[r,{setModalProps:a,closeModal:_}]=L(t=>p(this,null,function*(){yield l(),a({confirmLoading:!1,minHeight:80}),e.value=!!(t!=null&&t.isUpdate),i(e)&&(u.value=t.record.id,yield m(f({},t.record)))})),h=D(()=>i(e)?"\u7F16\u8F91\u5B57\u5178":"\u65B0\u589E\u5B57\u5178");function w(){return p(this,null,function*(){try{let t=yield n();a({confirmLoading:!0}),yield A(t,e.value),_(),s("success",{isUpdate:i(e),values:B(f({},t),{id:u.value})})}finally{a({confirmLoading:!1})}})}return(t,G)=>(I(),O(i(U),E(t.$attrs,{onRegister:i(r),title:h.value,width:"500px",onOk:w}),{default:P(()=>[S(i(b),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{W as _};
