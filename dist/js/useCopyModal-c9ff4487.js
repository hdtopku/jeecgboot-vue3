var C=Object.defineProperty,k=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var d=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a=(e,t)=>{for(var r in t||(t={}))x.call(t,r)&&d(e,r,t[r]);if(p)for(var r of p(t))P.call(t,r)&&d(e,r,t[r]);return e},c=(e,t)=>k(e,T(t));import{C as w}from"./clipboard-bc8df773.js";import{u as b}from"./jeecg-online-vendor-a84f26e2.js";import{u as B,G as h,w as M}from"./vue-5a09445c.js";import"./tinymce-vendor-e2919cb0.js";import"./antd-vue-vendor-04f0af1d.js";import"./vxe-table-vendor-c5aaa9d2.js";import"./lodash-es-vendor-70833b4a.js";const u="copy-this-text",f="data-clipboard-text";function I(){return{createCopyModal:g}}const{createMessage:y,createConfirm:O}=b();function g(e){var r,m,n,i,l;let t=O(c(a({},e),{iconType:(r=e.iconType)!=null?r:"info",width:(m=e.width)!=null?m:500,title:(n=e.title)!=null?n:"复制",maskClosable:(i=e.maskClosable)!=null?i:!0,okText:(l=e.okText)!=null?l:"复制",okButtonProps:c(a({},e.okButtonProps),{class:u,[f]:B(e.copyText)}),onOk(){return new Promise(o=>{const s=new w("."+u);s.on("success",()=>{s.destroy(),y.success("复制成功"),o()}),s.on("error",()=>{y.error("该浏览器不支持自动复制"),s.destroy(),o()})})}}));return h(e.copyText)&&M(e.copyText,o=>{t.update({okButtonProps:c(a({},e.okButtonProps),{class:u,[f]:o})})}),t}export{I as useCopyModal};
