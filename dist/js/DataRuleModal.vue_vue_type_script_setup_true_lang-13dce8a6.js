var w=Object.defineProperty;var d=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var f=(o,s,e)=>s in o?w(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,g=(o,s)=>{for(var e in s||(s={}))R.call(s,e)&&f(o,e,s[e]);if(d)for(var e of d(s))_.call(s,e)&&f(o,e,s[e]);return o};var p=(o,s,e)=>new Promise((i,m)=>{var c=r=>{try{u(e.next(r))}catch(a){m(a)}},l=r=>{try{u(e.throw(r))}catch(a){m(a)}},u=r=>r.done?i(r.value):Promise.resolve(r.value).then(c,l);u((e=e.apply(o,s)).next())});import{B as v}from"./index-a882524d.js";import{B as M}from"./BasicForm-030e7c21.js";import"./componentMap-90ab712d.js";import{u as k}from"./useForm-ae9e1cbd.js";import"./JAddInput-dff0b84f.js";import{A as y}from"./index-6916e394.js";import{e as C,s as I}from"./menu.data-b4b162d3.js";import{d as x,k as L,u as n,e as S,aV as U,ar as V,bi as b,f as A,aQ as O}from"./vue-c7e3516e.js";const z=x({__name:"DataRuleModal",props:{permissionId:String},emits:["success","register"],setup(o,{emit:s}){const e=o,i=L(!0),[m,{resetFields:c,setFieldsValue:l,validate:u}]=k({schemas:C,showActionButtonGroup:!1}),[r,{setModalProps:a,closeModal:B}]=y(t=>p(this,null,function*(){yield c(),a({confirmLoading:!1}),i.value=!!(t!=null&&t.isUpdate),n(i)&&(yield l(g({},t.record)))})),F=S(()=>n(i)?"\u7F16\u8F91\u89C4\u5219":"\u65B0\u589E\u89C4\u5219");function h(){return p(this,null,function*(){try{const t=yield u();t.permissionId=e.permissionId,a({confirmLoading:!0}),yield I(t,i.value),B(),s("success")}finally{a({confirmLoading:!1})}})}return(t,P)=>(U(),V(n(v),O(t.$attrs,{onRegister:n(r),title:F.value,onOk:h,width:"700px"}),{default:b(()=>[A(n(M),{onRegister:n(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{z as _};
