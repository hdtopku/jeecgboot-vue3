var R=Object.defineProperty;var g=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var h=(t,r,e)=>r in t?R(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,v=(t,r)=>{for(var e in r||(r={}))_.call(r,e)&&h(t,e,r[e]);if(g)for(var e of g(r))y.call(r,e)&&h(t,e,r[e]);return t};var d=(t,r,e)=>new Promise((i,c)=>{var m=s=>{try{l(e.next(s))}catch(n){c(n)}},u=s=>{try{l(e.throw(s))}catch(n){c(n)}},l=s=>s.done?i(s.value):Promise.resolve(s.value).then(m,u);l((e=e.apply(t,r)).next())});import{B as k}from"./BasicForm-83ba9c88.js";import"./componentMap-a6d21ad6.js";import{u as I}from"./useForm-fa63344e.js";import"./JAddInput-2cbbbde9.js";import{A as U}from"./index-fde9c72f.js";import{B as b}from"./index-8cf3aabb.js";import{h as x}from"./depart.user.api-fc1a836a.js";import{b as C}from"./depart.user.data-d5425979.js";import{d as O,c as S,k as B,e as V,u as a,aV as j,ar as A,bi as D,f as L,aQ as P}from"./vue-c7e3516e.js";const W=O({__name:"DepartRoleModal",props:{departId:{require:!0,type:String}},emits:["success","register"],setup(t,{emit:r}){const e=t;S("prefixCls");const i=B(!0),c=B({}),m=V(()=>i.value?"\u7F16\u8F91":"\u65B0\u589E"),[u,{resetFields:l,setFieldsValue:s,validate:n,updateSchema:q}]=I({schemas:C,showActionButtonGroup:!1}),[F,{setModalProps:f,closeModal:w}]=U(o=>d(this,null,function*(){yield l(),i.value=a(o==null?void 0:o.isUpdate);let p=a(o==null?void 0:o.record);typeof p=="object"&&(c.value=p,yield s(v({},p)))}));function M(){return d(this,null,function*(){try{f({confirmLoading:!0});let o=yield n();o.departId=a(e.departId),yield x(o,i.value),w(),r("success",{isUpdate:a(i),values:o})}finally{f({confirmLoading:!1})}})}return(o,p)=>(j(),A(a(b),P({title:m.value,width:800},o.$attrs,{onOk:M,onRegister:a(F)}),{default:D(()=>[L(a(k),{onRegister:a(u)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{W as _};
