import{s as p,h as f}from"./jeecg-online-vendor-88d7be55.js";import{u as a}from"./lock-db7267a5.js";import{l as k,b as l}from"./index-b6e19f4a.js";import{s as T,b as g,e as S,u as d}from"./vue-705b7309.js";import"./antd-vue-vendor-cce59da1.js";import"./tinymce-vendor-6e169cb2.js";import"./lodash-es-vendor-5fc8fca4.js";import"./codemirror-vendor-3f45d0f3.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-60c6a8c7.js";function U(){const{getLockTime:i}=k(),u=a(),t=p(),c=f();let r;function e(){window.clearTimeout(r)}function n(){if(!t.getToken){e();return}const o=c.getProjectConfig.lockTime;if(!o||o<1){e();return}e(),r=setTimeout(()=>{m()},o*60*1e3)}function m(){u.setLockInfo({isLock:!0,pwd:void 0})}T(o=>{t.getToken?n():e(),o(()=>{e()})}),g(()=>{e()});const s=l(n,2e3);return S(()=>d(i)?{onKeyup:s,onMousemove:s}:(e(),{}))}export{U as useLockPage};
