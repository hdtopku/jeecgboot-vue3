import{u as s}from"./vue-50733b77.js";import{ag as c}from"./index-b34ff7bc.js";import{ao as i}from"./jeecg-online-vendor-d3e1865b.js";import"./antd-vue-vendor-c5335947.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-058e2396.js";import"./codemirror-vendor-9b2dceac.js";import"./echarts-vendor-ba343549.js";import"./vxe-table-vendor-838914b0.js";let o;const r=new Map;function w(e){let n=i()||"";if(o=c(e,{autoReconnect:{retries:10,delay:5e3},heartbeat:{message:"ping",interval:55e3},protocols:[n]}),o){o.open=f,o.close=a;const t=s(o.ws);t!=null&&(t.onerror=u,t.onmessage=p)}}function f(){}function a(e){}function u(e){}function p(e){try{const n=JSON.parse(e.data);for(const t of r.keys())try{t(n)}catch(m){}}catch(n){}}function M(e){r.has(e)||typeof e=="function"&&r.set(e,null)}function O(e){r.delete(e)}function v(){return o}export{w as connectWebSocket,O as offWebSocket,M as onWebSocket,v as useMyWebSocket};
