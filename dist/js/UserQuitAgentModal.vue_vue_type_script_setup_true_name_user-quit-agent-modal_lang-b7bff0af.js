var H=Object.defineProperty,A=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var Y=(r,s,e)=>s in r?H(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e,g=(r,s)=>{for(var e in s||(s={}))R.call(s,e)&&Y(r,e,s[e]);if(_)for(var e of _(s))T.call(s,e)&&Y(r,e,s[e]);return r},h=(r,s)=>A(r,L(s));var d=(r,s,e)=>new Promise((c,l)=>{var p=o=>{try{a(e.next(o))}catch(i){l(i)}},M=o=>{try{a(e.throw(o))}catch(i){l(i)}},a=o=>o.done?c(o.value):Promise.resolve(o.value).then(p,M);a((e=e.apply(r,s)).next())});import{B as k}from"./index-378f1f74.js";import{B as N}from"./BasicForm-b17dbcb2.js";import"./componentMap-ac4d3a60.js";import{u as V}from"./useForm-ec2789c8.js";import"./JAddInput-079a6c33.js";import"./JSelectUser-b7290477.js";import"./JSelectDept-52bb52e5.js";import"./JPopup-4aed0a12.js";import{B as b}from"./index-b6e19f4a.js";import{b as v}from"./user.data-cdc9906f.js";import{h as x,u as C}from"./user.api-41a142ff.js";import{ad as n}from"./antd-vue-vendor-cce59da1.js";import{d as w,a5 as P,a9 as Q,a7 as S,f as j,u as f,ag as q}from"./vue-705b7309.js";const G=w({name:"user-quit-agent-modal"}),re=w(h(g({},G),{emits:["success","register"],setup(r,{emit:s}){const[e,{resetFields:c,setFieldsValue:l,validate:p,clearValidate:M}]=V({schemas:v,showActionButtonGroup:!1}),[a,{setModalProps:o,closeModal:i}]=b(t=>d(this,null,function*(){yield c(),o({confirmLoading:!1}),o({confirmLoading:!1});const m=yield x({userName:t.userName});t=m.result?m.result:t;let u=new Date;t.startTime||(t.startTime=n(u).format("YYYY-MM-DD HH:mm:ss")),t.endTime||(t.endTime=D(u)),yield l(g({},t))}));function B(){return d(this,null,function*(){try{const t=yield p();o({confirmLoading:!0}),yield C(t),i(),s("success")}finally{o({confirmLoading:!1})}})}function D(t){let m=t.getFullYear()+30,u=n(t).format("MM"),y=n(t).format("DD"),F=n(t).format("HH:mm:ss");return n(m+"-"+u+"-"+y+" "+F).format("YYYY-MM-DD HH:mm:ss")}return(t,m)=>(P(),Q(f(k),q(t.$attrs,{onRegister:f(a),width:800,title:"离职交接",onOk:B}),{default:S(()=>[j(f(N),{onRegister:f(e)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}}));export{re as _};
