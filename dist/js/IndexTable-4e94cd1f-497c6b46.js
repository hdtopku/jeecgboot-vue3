import{J as l}from"./index-f3247ba0.js";import{L as b}from"./useTableSync-dc333087-00cd6aa6.js";import{U as f}from"./jeecg-online-vendor-5792e8a1.js";import{d as g,k as h,U as y,a5 as v,a9 as x,ag as S}from"./vue-249e5fad.js";import"./antd-vue-vendor-31afcf32.js";import"./tinymce-vendor-676f8393.js";import"./lodash-es-vendor-c1987ca1.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-0b109a77.js";import"./cgform.data-cbdd88c3-1b993009.js";const k=g({name:"IndexTable",components:{},props:{actionButton:{type:Boolean,default:!0,required:!1}},setup(){const e=h([{title:"索引名称",key:"indexName",width:330,type:l.input,defaultValue:"",placeholder:"请输入${title}",validateRules:[{required:!0,message:"${title}不能为空"}]},{title:"索引栏位",key:"indexField",width:330,type:l.selectMultiple,options:[],defaultValue:"",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]},{title:"索引类型",key:"indexType",width:330,type:l.select,options:[{title:"normal",value:"normal"},{title:"unique",value:"unique"}],defaultValue:"normal",placeholder:"请选择${title}",validateRules:[{required:!0,message:"请选择${title}"}]}]),o=b(e),{tableRef:i,loading:r,dataSource:n,tableHeight:u,tableProps:t,setDataSource:s,validateData:m}=o;function p(c){let d=[];c.value.tableRef.getTableData().forEach(a=>{a.dbFieldName&&d.push({title:a.dbFieldName,value:a.dbFieldName})}),e.value[1].options=d}return{tableRef:i,loading:r,dataSource:n,columns:e,tableHeight:u,tableProps:t,syncTable:p,setDataSource:s,validateData:m}}});function R(e,o,i,r,n,u){const t=y("JVxeTable");return v(),x(t,S({ref:"tableRef",rowNumber:"",rowSelection:"",dragSort:"",keyboardEdit:"",sortKey:"orderNum",maxHeight:e.tableHeight.normal,loading:e.loading,columns:e.columns,dataSource:e.dataSource,toolbar:e.actionButton},e.tableProps),null,16,["maxHeight","loading","columns","dataSource","toolbar"])}const P=f(k,[["render",R]]);export{P as default};
