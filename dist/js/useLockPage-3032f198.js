import{c as p,u as a}from"./jeecg-online-vendor-bf2efbcb.js";import{u as f}from"./lock-5f9e454f.js";import{k,a as l}from"./index-fde9c72f.js";import{s as T,b as g,e as S,u as d}from"./vue-c7e3516e.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./lodash-es-vendor-42c8d3d4.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";function j(){const{getLockTime:s}=k(),u=f(),t=p(),c=a();let r;function o(){window.clearTimeout(r)}function n(){if(!t.getToken){o();return}const e=c.getProjectConfig.lockTime;if(!e||e<1){o();return}o(),r=setTimeout(()=>{m()},e*60*1e3)}function m(){u.setLockInfo({isLock:!0,pwd:void 0})}T(e=>{t.getToken?n():o(),e(()=>{o()})}),g(()=>{o()});const i=l(n,2e3);return S(()=>d(s)?{onKeyup:i,onMousemove:i}:(o(),{}))}export{j as useLockPage};
