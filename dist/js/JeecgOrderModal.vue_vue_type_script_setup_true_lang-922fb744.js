var B=Object.defineProperty;var f=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var d=(t,s,e)=>s in t?B(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,g=(t,s)=>{for(var e in s||(s={}))w.call(s,e)&&d(t,e,s[e]);if(f)for(var e of f(s))v.call(s,e)&&d(t,e,s[e]);return t};var u=(t,s,e)=>new Promise((c,m)=>{var l=o=>{try{i(e.next(o))}catch(n){m(n)}},p=o=>{try{i(e.throw(o))}catch(n){m(n)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(l,p);i((e=e.apply(t,s)).next())});import{B as M}from"./index-04fa66a8.js";import{B as k}from"./BasicForm-1b000152.js";import"./componentMap-a38e30ba.js";import{u as F}from"./useForm-885eeddc.js";import"./JAddInput-93656682.js";import"./JSelectUser-88891e09.js";import"./JSelectDept-62570e8c.js";import"./JPopup-0d64514d.js";import{B as y}from"./index-bd4a6237.js";import{k as R,l as L}from"./erplist.api-a0655331.js";import{d as O,k as U,u as a,e as b,a5 as x,a9 as C,a7 as P,f as S,ag as V}from"./vue-249e5fad.js";const H=O({__name:"JeecgOrderModal",emits:["success","register"],setup(t,{emit:s}){const e=U(!0),[c,{resetFields:m,setFieldsValue:l,validate:p}]=F({labelWidth:150,schemas:R,showActionButtonGroup:!1}),[i,{setModalProps:o,closeModal:n}]=y(r=>u(this,null,function*(){yield m(),o({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),a(e)&&(yield l(g({},r.record)))})),_=b(()=>a(e)?"编辑":"新增");function h(){return u(this,null,function*(){try{const r=yield p();o({confirmLoading:!0}),yield L(r,e.value),n(),s("success")}finally{o({confirmLoading:!1})}})}return(r,A)=>(x(),C(a(M),V(r.$attrs,{onRegister:a(i),title:_.value,onOk:h,width:700}),{default:P(()=>[S(a(k),{onRegister:a(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{H as _};
