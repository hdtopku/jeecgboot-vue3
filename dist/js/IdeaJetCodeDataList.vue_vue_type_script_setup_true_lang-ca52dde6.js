import{d as R,k as z,g as U,U as k,a5 as o,a9 as c,a7 as e,a6 as h,V as t,t as q,f as l,E as n,A as w,aa as C,ab as v,am as F}from"./vue-249e5fad.js";import{s as D,l as G}from"./IdeaJetCode.api-2b2a7373.js";import{_ as J}from"./CommonList.vue_vue_type_script_setup_true_lang-c85756cb.js";import{g as Y}from"./Am.api-b4202f78.js";import{D as P,E as W}from"./jeecg-online-vendor-216a3b98.js";import{d as X}from"./antd-vue-vendor-31afcf32.js";const Z={key:0},i={key:0},m={size:"small",class:"text-red-500"},aa={key:0,style:{"margin-left":"-10px"}},sa={class:"mb-1"},ea={key:0,class:"text-red-600"},na={key:0,class:"text-indigo-700"},pa=R({__name:"IdeaJetCodeDataList",emits:["handleEdit","handleAdd","queryList"],setup(oa,{expose:A,emit:g}){const b=P(W);let{username:B,realname:la}=b==null?void 0:b.userInfo;const $=z(),S=s=>{g("handleEdit",s)},E=s=>x(s==null?void 0:s.link)+x(s==null?void 0:s.thirdLink)+x(s==null?void 0:s.shortLink),x=s=>{if((s==null?void 0:s.indexOf("itunes.apple.com"))>0){let r=s==null?void 0:s.indexOf("&ud_t=");if(r>0){let y=Number.parseInt(s==null?void 0:s.substring(r+6))*1e3;return X(y).format("MM-DD HH:mm")}}return""},N=(s,r)=>{s.status=r,D(s,!0).then(()=>{g("queryList")})},H=s=>{D({id:s},!0).then(()=>{g("queryList")})},I=(s,r)=>{s.type=r,D(s,!0).then(()=>{g("queryList")})},{proxy:K}=U(),T=(s={})=>Y({count:1,type:6,linkId:s==null?void 0:s.id,link:s==null?void 0:s.link,username:B},r=>{K.tool.copy(r,r+"已复制")}),_=z("0"),M=(s={})=>{_.value=s==null?void 0:s.status,$.value.execQuery(G,s)},O=z(!1);return A({startQuery:M,changeAdvanced:()=>{O.value=!O.value},copyCode:T}),(s,r)=>{const y=k("a-typography-text"),d=k("a-button"),p=k("a-menu-item"),Q=k("a-menu"),f=k("a-tag");return o(),c(J,{ref_key:"CommonListRef",ref:$},{header:e(()=>[_.value==="1"?(o(),h("span",Z)):t("",!0),q(l(y,{mark:""},{default:e(()=>[n("按创建时间倒排")]),_:1},512),[[w,_.value==="0"]]),q(l(y,{mark:""},{default:e(()=>[n("按修改时间倒排 ")]),_:1},512),[[w,_.value==="100"||_.value==="-1"||_.value==="1"]])]),operate:e(({item:a})=>[l(Q,null,{default:e(()=>[(a==null?void 0:a.status)!==0?(o(),c(p,{key:0,onClick:u=>H(a.id)},{default:e(()=>[l(d,{type:"warning",ghost:"",size:"small"},{default:e(()=>[n("置顶")]),_:1})]),_:2},1032,["onClick"])):t("",!0),l(p,{onClick:u=>S(a)},{default:e(()=>[l(d,{type:"link",size:"small"},{default:e(()=>[n("编辑")]),_:1})]),_:2},1032,["onClick"]),((a==null?void 0:a.status)===0||(a==null?void 0:a.status)===1)&&a.type===0?(o(),c(p,{key:1,onClick:u=>N(a,-1)},{default:e(()=>[l(d,{type:"link",size:"small",danger:""},{default:e(()=>[n("删除")]),_:1})]),_:2},1032,["onClick"])):t("",!0),((a==null?void 0:a.status)===0||(a==null?void 0:a.status)===-1)&&a.type===0?(o(),c(p,{key:2,onClick:u=>N(a,1)},{default:e(()=>[l(d,{type:"link",size:"small"},{default:e(()=>[n("备用")]),_:1})]),_:2},1032,["onClick"])):t("",!0),(a==null?void 0:a.type)!==1&&(a==null?void 0:a.type)!==6?(o(),c(p,{key:3},{default:e(()=>[l(d,{onClick:u=>I(a,6),type:"link",size:"small"},{default:e(()=>[n("设为激活码")]),_:2},1032,["onClick"])]),_:2},1024)):t("",!0),(a==null?void 0:a.type)!==1&&(a==null?void 0:a.type)!==6?(o(),c(p,{key:4},{default:e(()=>[l(d,{onClick:u=>I(a,1),type:"link",size:"small"},{default:e(()=>[n("设为账号补新")]),_:2},1032,["onClick"])]),_:2},1024)):t("",!0)]),_:2},1024)]),shelter:e(({item:a})=>[(a==null?void 0:a.bindCount)>0?(o(),h("span",i,[n(" |"),C("span",m,v(a==null?void 0:a.bindCount)+"次",1)])):t("",!0)]),left:e(({item:a})=>{var u;return[C("div",null,[(a==null?void 0:a.type)===6?(o(),c(f,{key:0,color:"red"},{default:e(()=>[n("激活码提取")]),_:1})):t("",!0),(a==null?void 0:a.type)===1?(o(),c(f,{key:1,color:"blue"},{default:e(()=>[n("账号补新")]),_:1})):t("",!0)]),((u=a==null?void 0:a.link)==null?void 0:u.length)>0?(o(),h("div",aa,[l(d,{size:"small",type:"link",onClick:L=>T(a)},{default:e(()=>[n("复制短链")]),_:2},1032,["onClick"])])):t("",!0)]}),bottom:e(({item:a})=>{var u,L,V,j;return[C("div",{class:F((a==null?void 0:a.type)===6?"bg-pink-100 p-2":(a==null?void 0:a.type)===1?"bg-blue-100 p-2":"")},[C("div",sa,[l(f,null,{default:e(()=>[n("激活码")]),_:1}),((u=a==null?void 0:a.jetCode)==null?void 0:u.length)>0?(o(),c(y,{key:0,delete:(a==null?void 0:a.status)===-1,copyable:{text:a.jetCode}},{default:e(()=>[n(v(a.jetCode.substring(0,10)),1)]),_:2},1032,["delete","copyable"])):(o(),c(f,{key:1,color:"error"},{default:e(()=>[n("未填写")]),_:1}))]),((L=a==null?void 0:a.remark)==null?void 0:L.length)>0?(o(),h("div",ea,[l(f,{color:"red"},{default:e(()=>[n("备注")]),_:1}),n(" "+v(a.remark),1)])):t("",!0),C("div",null,[n(v((V=a==null?void 0:a.createTime)==null?void 0:V.substring(5,16))+" 创建 ",1),((j=E(a))==null?void 0:j.length)>0?(o(),h("span",na,"[激活]"+v(E(a)),1)):t("",!0)])],2)]}),_:1},512)}}});export{pa as _};
