var x=Object.defineProperty;var h=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var k=(o,t,e)=>t in o?x(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,b=(o,t)=>{for(var e in t||(t={}))L.call(t,e)&&k(o,e,t[e]);if(h)for(var e of h(t))v.call(t,e)&&k(o,e,t[e]);return o};var f=(o,t,e)=>new Promise((m,i)=>{var p=n=>{try{r(e.next(n))}catch(a){i(a)}},d=n=>{try{r(e.throw(n))}catch(a){i(a)}},r=n=>n.done?m(n.value):Promise.resolve(n.value).then(p,d);r((e=e.apply(o,t)).next())});import{d as _,l as w,e as B,u as l,a7 as M,ac as y,aa as F,f as O,af as S}from"./vue-ebecda47.js";import{B as U}from"./index-e91e8b28.js";import"./index-a2e0ccba.js";import{ap as c}from"./jeecg-online-vendor-cfb58502.js";import{M as T}from"./antd-vue-vendor-b75e8c06.js";import{u as C,B as E}from"./useForm-21b78d9f.js";import{E as P}from"./index-85cfc899.js";const q=[{title:"短链接码",dataIndex:"code"},{title:"链接",dataIndex:"link"},{title:"备注",dataIndex:"remark"},{title:"访问次数",dataIndex:"visitCount"},{title:"手机是否可以访问(0-可以,-1-不可以)",dataIndex:"mobile"},{title:"电脑是否可以访问(0-可以,-1-不可以)",dataIndex:"pc"},{title:"状态(0：正常，-1:失效)",dataIndex:"status"},{title:"链接类型:1-agiso订单",dataIndex:"linkType"}],J=[{label:"短链接码",field:"code",component:"Input"},{label:"链接",field:"link",component:"Input"}],j=[{label:"",field:"id",component:"Input",show:!1},{label:"短链接码",field:"code",component:"Input"},{label:"链接",field:"link",component:"Input"},{label:"备注",field:"remark",component:"Input"},{label:"访问次数",field:"visitCount",component:"InputNumber"},{label:"手机是否可以访问(0-可以,-1-不可以)",field:"mobile",component:"InputNumber"},{label:"电脑是否可以访问(0-可以,-1-不可以)",field:"pc",component:"InputNumber"},{label:"状态(0：正常，-1:失效)",field:"status",component:"Input"},{label:"链接类型:1-agiso订单",field:"linkType",component:"Input"}];const K="/pms/shortLink/exportXls",Q="/pms/shortLink/importExcel",Y=o=>c.get({url:"/pms/shortLink/list",params:o}),Z=(o,t)=>c.delete({url:"/pms/shortLink/delete",params:o},{joinParamsToUrl:!0}).then(()=>{t()}),A=(o,t)=>{T.confirm({title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>c.delete({url:"/pms/shortLink/deleteBatch",data:o},{joinParamsToUrl:!0}).then(()=>{t()})})},N=(o,t)=>{let e=t?"/pms/shortLink/edit":"/pms/shortLink/add";return c.post({url:e,params:o})},R=_({__name:"ShortLinkModal",emits:["register","success"],setup(o,{emit:t}){const e=w(!0),[m,{resetFields:i,setFieldsValue:p,validate:d}]=C({labelWidth:150,schemas:j,showActionButtonGroup:!1}),[r,{setModalProps:n,closeModal:a}]=P(s=>f(this,null,function*(){yield i(),n({confirmLoading:!1,showCancelBtn:s==null?void 0:s.showFooter,showOkBtn:s==null?void 0:s.showFooter}),e.value=!!(s!=null&&s.isUpdate),l(e)&&(yield p(b({},s.record)))})),I=B(()=>l(e)?"编辑":"新增");function g(s){return f(this,null,function*(){try{let u=yield d();n({confirmLoading:!0}),yield N(u,e.value),a(),t("success",{isUpdate:e.value,values:u})}finally{n({confirmLoading:!1})}})}return(s,u)=>(M(),y(l(U),S(s.$attrs,{onRegister:l(r),title:I.value,onOk:g,width:"60%"}),{default:F(()=>[O(l(E),{onRegister:l(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}}),ee=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{ee as S,R as _,Q as a,A as b,q as c,Z as d,K as g,Y as l,J as s};
