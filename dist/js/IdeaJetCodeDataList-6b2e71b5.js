import{d as R,l as z,V as h,a7 as o,ac as r,aa as e,a8 as C,W as t,v as V,B as j,f as l,E as n,ad as v,ae as g,ak as F,g as G}from"./vue-50733b77.js";import{s as $,l as J}from"./IdeaJetCode.api-914b4669.js";import U from"./CommonList-b4a333c3.js";import{g as W}from"./Am.api-715d6cb5.js";import{bb as Y,bc as P}from"./jeecg-online-vendor-d3e1865b.js";import{e as X}from"./antd-vue-vendor-c5335947.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-058e2396.js";import"./vxe-table-vendor-838914b0.js";const Z={key:0},i={key:0},m={size:"small",class:"text-red-500"},aa={key:0,style:{"margin-left":"-10px"}},sa={class:"mb-1"},ea={key:0,class:"text-red-600"},na={key:0,class:"text-indigo-700"},ha=R({__name:"IdeaJetCodeDataList",emits:["handleEdit","handleAdd","queryList"],setup(oa,{expose:q,emit:y}){const b=Y(P);let{username:w,realname:la}=b==null?void 0:b.userInfo;const D=z(),S=s=>{y("handleEdit",s)},ta=s=>{y("handleAdd",s)},N=s=>x(s==null?void 0:s.link)+x(s==null?void 0:s.thirdLink)+x(s==null?void 0:s.shortLink),x=s=>{if((s==null?void 0:s.indexOf("itunes.apple.com"))>0){let d=s==null?void 0:s.indexOf("&ud_t=");if(d>0){let f=Number.parseInt(s==null?void 0:s.substring(d+6))*1e3;return X(f).format("MM-DD HH:mm")}}return""},E=(s,d)=>{s.status=d,$(s,!0).then(()=>{y("queryList")})},H=s=>{$({id:s},!0).then(()=>{y("queryList")})},I=(s,d)=>{s.type=d,$(s,!0).then(()=>{y("queryList")})},{proxy:K}=G(),T=(s={})=>W({count:1,type:6,linkId:s==null?void 0:s.id,link:s==null?void 0:s.link,username:w},d=>{K.tool.copy(d,d+"已复制")}),_=z("0"),M=(s={})=>{_.value=s==null?void 0:s.status,D.value.execQuery(J,s)},A=z(!1);return q({startQuery:M,changeAdvanced:()=>{A.value=!A.value},copyCode:T}),(s,d)=>{const f=h("a-typography-text"),c=h("a-button"),p=h("a-menu-item"),Q=h("a-menu"),k=h("a-tag");return o(),r(U,{ref_key:"CommonListRef",ref:D},{header:e(()=>[_.value==="1"?(o(),C("span",Z)):t("",!0),V(l(f,{mark:""},{default:e(()=>[n("按创建时间倒排")]),_:1},512),[[j,_.value==="0"]]),V(l(f,{mark:""},{default:e(()=>[n("按修改时间倒排 ")]),_:1},512),[[j,_.value==="100"||_.value==="-1"||_.value==="1"]])]),operate:e(({item:a})=>[l(Q,null,{default:e(()=>[(a==null?void 0:a.status)!==0?(o(),r(p,{key:0,onClick:u=>H(a.id)},{default:e(()=>[l(c,{type:"warning",ghost:"",size:"small"},{default:e(()=>[n("置顶")]),_:1})]),_:2},1032,["onClick"])):t("",!0),l(p,{onClick:u=>S(a)},{default:e(()=>[l(c,{type:"link",size:"small"},{default:e(()=>[n("编辑")]),_:1})]),_:2},1032,["onClick"]),((a==null?void 0:a.status)===0||(a==null?void 0:a.status)===1)&&a.type===0?(o(),r(p,{key:1,onClick:u=>E(a,-1)},{default:e(()=>[l(c,{type:"link",size:"small",danger:""},{default:e(()=>[n("删除")]),_:1})]),_:2},1032,["onClick"])):t("",!0),((a==null?void 0:a.status)===0||(a==null?void 0:a.status)===-1)&&a.type===0?(o(),r(p,{key:2,onClick:u=>E(a,1)},{default:e(()=>[l(c,{type:"link",size:"small"},{default:e(()=>[n("备用")]),_:1})]),_:2},1032,["onClick"])):t("",!0),(a==null?void 0:a.type)!==1&&(a==null?void 0:a.type)!==6?(o(),r(p,{key:3},{default:e(()=>[l(c,{onClick:u=>I(a,6),type:"link",size:"small"},{default:e(()=>[n("设为激活码")]),_:2},1032,["onClick"])]),_:2},1024)):t("",!0),(a==null?void 0:a.type)!==1&&(a==null?void 0:a.type)!==6?(o(),r(p,{key:4},{default:e(()=>[l(c,{onClick:u=>I(a,1),type:"link",size:"small"},{default:e(()=>[n("设为账号补新")]),_:2},1032,["onClick"])]),_:2},1024)):t("",!0)]),_:2},1024)]),shelter:e(({item:a})=>[(a==null?void 0:a.bindCount)>0?(o(),C("span",i,[n(" |"),v("span",m,g(a==null?void 0:a.bindCount)+"次",1)])):t("",!0)]),left:e(({item:a})=>{var u;return[v("div",null,[(a==null?void 0:a.type)===6?(o(),r(k,{key:0,color:"red"},{default:e(()=>[n("激活码提取")]),_:1})):t("",!0),(a==null?void 0:a.type)===1?(o(),r(k,{key:1,color:"blue"},{default:e(()=>[n("账号补新")]),_:1})):t("",!0)]),((u=a==null?void 0:a.link)==null?void 0:u.length)>0?(o(),C("div",aa,[l(c,{size:"small",type:"link",onClick:L=>T(a)},{default:e(()=>[n("复制短链")]),_:2},1032,["onClick"])])):t("",!0)]}),bottom:e(({item:a})=>{var u,L,B,O;return[v("div",{class:F((a==null?void 0:a.type)===6?"bg-pink-100 p-2":(a==null?void 0:a.type)===1?"bg-blue-100 p-2":"")},[v("div",sa,[l(k,null,{default:e(()=>[n("激活码")]),_:1}),((u=a==null?void 0:a.jetCode)==null?void 0:u.length)>0?(o(),r(f,{key:0,delete:(a==null?void 0:a.status)===-1,copyable:{text:a.jetCode}},{default:e(()=>[n(g(a.jetCode.substring(0,10)),1)]),_:2},1032,["delete","copyable"])):(o(),r(k,{key:1,color:"error"},{default:e(()=>[n("未填写")]),_:1}))]),((L=a==null?void 0:a.remark)==null?void 0:L.length)>0?(o(),C("div",ea,[l(k,{color:"red"},{default:e(()=>[n("备注")]),_:1}),n(" "+g(a.remark),1)])):t("",!0),v("div",null,[n(g((B=a==null?void 0:a.createTime)==null?void 0:B.substring(5,16))+" 创建 ",1),((O=N(a))==null?void 0:O.length)>0?(o(),C("span",na,"[激活]"+g(N(a)),1)):t("",!0)])],2)]}),_:1},512)}}});export{ha as default};
