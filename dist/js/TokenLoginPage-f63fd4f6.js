import{a3 as g,a4 as _,a5 as m,a6 as v,ao as f}from"./vue-705b7309.js";import{q as k,s as b,u as h,C as y}from"./jeecg-online-vendor-e26fc0e5.js";import"./antd-vue-vendor-cce59da1.js";import"./tinymce-vendor-6e169cb2.js";import"./lodash-es-vendor-5fc8fca4.js";const S={name:"TokenLogin",setup(){const i=g();let n=_();const{createMessage:o,notification:s}=h(),{t}=k(),a=i.query;a||o.warning("参数无效");const r=a.loginToken;r||o.warning("token无效"),b().ThirdLogin({token:r,thirdType:"email"}).then(e=>{e&&e.userInfo?p(e):u(e)});function u(e){s.error({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4})}function p(e){let c=a.info;if(c){let d=JSON.parse(c),l="/task/handle/"+d.taskId;n.replace({path:l,query:d}),s.success({message:t("sys.login.loginSuccessTitle"),description:`${t("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else s.error({message:"参数失效",description:"页面跳转参数丢失，请查看日志",duration:4})}}},E="/resource/img/logo.png";const I={class:"app-loading"},T=f('<div class="app-loading-wrap" data-v-95b06157><img src="'+E+'" class="app-loading-logo" alt="Logo" data-v-95b06157><div class="app-loading-dots" data-v-95b06157><span class="dot dot-spin" data-v-95b06157><i data-v-95b06157></i><i data-v-95b06157></i><i data-v-95b06157></i><i data-v-95b06157></i></span></div><div class="app-loading-title" data-v-95b06157>JeecgBoot 企业级低代码平台</div></div>',1),$=[T];function q(i,n,o,s,t,a){return m(),v("div",I,$)}const M=y(S,[["render",q],["__scopeId","data-v-95b06157"]]);export{M as default};
