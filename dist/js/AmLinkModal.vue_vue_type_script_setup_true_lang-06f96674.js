var g=Object.defineProperty;var F=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var d=(s,o,e)=>o in s?g(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e,h=(s,o)=>{for(var e in o||(o={}))w.call(o,e)&&d(s,e,o[e]);if(F)for(var e of F(o))k.call(o,e)&&d(s,e,o[e]);return s};var f=(s,o,e)=>new Promise((a,i)=>{var p=t=>{try{r(e.next(t))}catch(l){i(l)}},c=t=>{try{r(e.throw(t))}catch(l){i(l)}},r=t=>t.done?a(t.value):Promise.resolve(t.value).then(p,c);r((e=e.apply(s,o)).next())});import{B as A}from"./index-8cf3aabb.js";import{B as C}from"./BasicForm-83ba9c88.js";import"./componentMap-a6d21ad6.js";import{u as b}from"./useForm-fa63344e.js";import"./JAddInput-2cbbbde9.js";import{A as D}from"./index-fde9c72f.js";import{s as _}from"./AmLink.api-a2456d0c.js";import{d as v,k as x,u as n,e as I,aV as P,ar as y,bi as L,f as M,aQ as T}from"./vue-c7e3516e.js";const R=[{label:"",field:"id",component:"Input",show:!1},{label:"\u6FC0\u6D3B\u94FE",field:"link",component:"InputTextArea",componentProps:{placeholder:"\u77ED\u94FE\u3001\u6216https://itunes.apple.com..."}},{label:"\u9884\u5B58",field:"email",component:"InputTextArea",componentProps:{placeholder:"\u53EF\u590D\u5236\uFF0C\u5982\u90AE\u7BB1\u3001\u77ED\u94FE\u3001\u6FC0\u6D3B\u94FE\u7B49"}},{label:"\u957F\u94FE\u63A5",field:"longLink",component:"InputTextArea",componentProps:{placeholder:"https://email.myunidays.uk..."}},{label:"\u5907\u6CE8",field:"remark",component:"InputTextArea",componentProps:{placeholder:"\u91CD\u8981\u7684\u4FE1\u606F"}},{label:"\u9884\u5B58",field:"thirdLink",component:"InputTextArea",componentProps:{placeholder:"\u53EF\u590D\u5236\uFF0C\u5982\u90AE\u7BB1\u3001\u77ED\u94FE\u3001\u6FC0\u6D3B\u94FE\u7B49"}}],j=v({__name:"AmLinkModal",emits:["register","success"],setup(s,{emit:o}){const e=x(!0),[a,{resetFields:i,setFieldsValue:p,validate:c}]=b({labelWidth:150,schemas:R,showActionButtonGroup:!1}),[r,{setModalProps:t,closeModal:l}]=D(u=>f(this,null,function*(){yield i(),t({confirmLoading:!1,showCancelBtn:u==null?void 0:u.showFooter,showOkBtn:u==null?void 0:u.showFooter}),e.value=!!(u!=null&&u.isUpdate),n(e)&&(yield p(h({},u.record)))})),B=I(()=>n(e)?"\u7F16\u8F91":"\u65B0\u589E");function E(u){return f(this,null,function*(){try{let m=yield c();t({confirmLoading:!0}),yield _(m,e.value),l(),o("success",{isUpdate:e.value,values:m})}finally{t({confirmLoading:!1})}})}return(u,m)=>(P(),y(n(A),T(u.$attrs,{onRegister:n(r),title:B.value,onOk:E,width:"96%"}),{default:L(()=>[M(n(C),{onRegister:n(a)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{j as _};
