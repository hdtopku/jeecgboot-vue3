var O=Object.defineProperty,P=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var h=(e,o,t)=>o in e?O(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,y=(e,o)=>{for(var t in o||(o={}))E.call(o,t)&&h(e,t,o[t]);if(b)for(var t of b(o))L.call(o,t)&&h(e,t,o[t]);return e},x=(e,o)=>P(e,q(o));var k=(e,o,t)=>new Promise((d,l)=>{var g=r=>{try{m(t.next(r))}catch(p){l(p)}},_=r=>{try{m(t.throw(r))}catch(p){l(p)}},m=r=>r.done?d(r.value):Promise.resolve(r.value).then(g,_);m((t=t.apply(e,o)).next())});import{d as Q,l as U,V as c,a7 as v,ac as R,aa as i,f as s,u as a,E as M,W as z,af as A,J as D}from"./vue-50733b77.js";import{B as F}from"./index-f7d688aa.js";import"./index-f191817e.js";import{r as H}from"./user.data-b2f5a286.js";import{j as J,p as W}from"./user.api-c252cb60.js";import{q as $,_ as G}from"./jeecg-online-vendor-d3e1865b.js";import{useListPage as X}from"./useListPage-4f9607d2.js";import{M as Y}from"./antd-vue-vendor-c5335947.js";import{E as Z}from"./index-b34ff7bc.js";import{Q as oo}from"./componentMap-5c02cfaf.js";import to from"./BasicTable-ca5b2c76.js";import"./BasicModal-064024e0.js";import"./useWindowSizeFn-34cbae37.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-058e2396.js";import"./vxe-table-vendor-838914b0.js";import"./codemirror-vendor-9b2dceac.js";import"./echarts-vendor-ba343549.js";import"./index-fa22fec6.js";import"./validator-0e75b328.js";import"./renderUtils-74a3a0ef.js";import"./index-95220aa0.js";import"./index-7e7a94e9.js";import"./useForm-14ceb529.js";import"./JAddInput-9c2385b5.js";import"./areaDataUtil-5dfcdadb.js";import"./useFormItem-915d7f1b.js";import"./JSelectUser-99e618da.js";import"./props-2079d80b.js";import"./JSelectBiz-f98b6288.js";import"./index-7963a080.js";import"./bem-e62027cc.js";import"./props-12d3a914.js";import"./useContextMenu-e6153f12.js";import"./depart.api-1967d2cb.js";import"./JSelectDept-0fd43050.js";import"./JPopup-8bd4163b.js";import"./JEllipsis-66e02300.js";import"./download-49b89a1a.js";import"./base64Conver-fa2fe1af.js";import"./index-54db12ae.js";import"./index-f3acc26c.js";import"./useCountdown-9338ec9a.js";import"./useFormItemSingle-37938520.js";import"./cron-parser-vendor-19ac00ef.js";import"./JUpload-c8630cc9.js";import"./index-665aeeac.js";import"./index-1ac4dcff.js";import"./injectionKey-69710956.js";const eo=Q({name:"user-quit-modal"}),ro=Q(x(y({},eo),{emits:["success","register"],setup(e,{emit:o}){const{createConfirm:t}=$(),d=U([]),[l]=Z(()=>{d.value=[]}),{prefixCls:g,tableContext:_}=X({tableProps:{api:J,columns:H,rowKey:"id",canResize:!1,useSearchForm:!1,actionColumn:{width:120}}}),[m,{reload:r},{rowSelection:p,selectedRowKeys:w,selectedRows:T}]=_;function C(n){return k(this,null,function*(){yield W({userIds:n.id,usernames:n.username},r),o("success")})}function B(){Y.confirm({title:"取消离职",content:"取消离职交接人也会清空",okText:"确认",cancelText:"取消",onOk:()=>{let n=T.value,f=[];for(const u of n)f.push(u.username);C({id:D(a(w)).join(","),username:f.join(",")})}})}function I(n){return[{label:"取消离职",icon:"ant-design:redo-outlined",popConfirm:{title:"是否取消离职,取消离职交接人也会清空",confirm:C.bind(null,n)}}]}return(n,f)=>{const u=c("Icon"),V=c("a-menu-item"),K=c("a-menu"),S=c("a-button"),j=c("a-dropdown");return v(),R(a(F),A(n.$attrs,{onRegister:a(l),title:"离职人员信息",showOkBtn:!1,width:"1000px",destroyOnClose:""}),{default:i(()=>[s(a(to),{onRegister:a(m),rowSelection:a(p)},{tableTitle:i(()=>[a(w).length>0?(v(),R(j,{key:0},{overlay:i(()=>[s(K,null,{default:i(()=>[s(V,{key:"1",onClick:B},{default:i(()=>[s(u,{icon:"ant-design:redo-outlined"}),M(" 批量取消 ")]),_:1})]),_:1})]),default:i(()=>[s(S,null,{default:i(()=>[M("批量操作 "),s(u,{icon:"ant-design:down-outlined"})]),_:1})]),_:1})):z("",!0)]),action:i(({record:N})=>[s(a(oo),{actions:I(N)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"])]),_:1},16,["onRegister"])}}}));const tt=G(ro,[["__scopeId","data-v-7bfaefd9"]]);export{tt as default};
