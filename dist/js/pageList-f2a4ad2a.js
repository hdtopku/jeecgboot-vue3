var I=Object.defineProperty,L=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var b=(o,a,t)=>a in o?I(o,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[a]=t,F=(o,a)=>{for(var t in a||(a={}))G.call(a,t)&&b(o,t,a[t]);if(M)for(var t of M(a))K.call(a,t)&&b(o,t,a[t]);return o},E=(o,a)=>L(o,$(a));var c=(o,a,t)=>new Promise((h,d)=>{var m=r=>{try{i(t.next(r))}catch(l){d(l)}},n=r=>{try{i(t.throw(r))}catch(l){d(l)}},i=r=>r.done?h(r.value):Promise.resolve(r.value).then(m,n);i((t=t.apply(o,a)).next())});import j from"./CardList-a7d575d7.js";import{s as q,_ as H}from"./PageModal.vue_vue_type_script_setup_true_lang-20fc4d6e.js";import J from"./PasswordModal-1303f7a0.js";import{_ as Q}from"./DragPageModal.vue_vue_type_style_index_0_lang-19750d30.js";import"./index-8cf3aabb.js";import{r as W}from"./jeecg-online-vendor-bf2efbcb.js";import{l as X,d as k,c as Y,s as Z}from"./page.api-265971d0.js";import{E as B}from"./index-fde9c72f.js";import{d as A,k as ee,r as te,U as f,aV as ae,as as oe,f as s,bi as u,E as g,at as v,u as _,F as ne}from"./vue-c7e3516e.js";import"./BasicForm-83ba9c88.js";import"./BasicForm.vue_vue_type_style_index_0_lang-aeaafe88.js";import"./componentMap-a6d21ad6.js";import"./useFormItem-4a12ff45.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./lodash-es-vendor-42c8d3d4.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./JUpload.vue_vue_type_style_index_0_lang-3f4c90f3.js";import"./BasicModal-ff8f2086.js";import"./useWindowSizeFn-e5cad7ae.js";import"./download-c8889ed9.js";import"./base64Conver-4e359726.js";import"./index-ee020524.js";import"./index-53e807bd.js";import"./useCountdown-473e4dcc.js";import"./JAddInput-2cbbbde9.js";import"./areaDataUtil-b2642a1f.js";import"./useSelectBiz-c744cf20.js";import"./props-8e8dbf4f.js";import"./index-d4783a30.js";import"./bem-deccd0b6.js";import"./props-c3781b9d.js";import"./useContextMenu-c0be0b5c.js";import"./useTreeBiz-faf9875a.js";import"./index-63ed9c18.js";import"./depart.api-25dc3d39.js";import"./index-ed4be6fa.js";import"./useForm-fa63344e.js";const se=A({name:"drag-page"}),Je=A(E(F({},se),{setup(o){const[a,{openModal:t}]=B(),[h,{openModal:d}]=B(),m=ee();let n=e=>{};const i=te({type:"1",izTemplate:"0"});function r(e){n=e}function l(e){n(),e&&w(e)}function T(){t(!0,{isUpdate:!1})}function z(e){e.protectionCode&&e.protectionCode.length>0?m.value.showModal("edit",e):t(!0,{record:e,isUpdate:!0})}function P(e,p){return c(this,null,function*(){e=="edit"?t(!0,{record:p,isUpdate:!0}):e=="delete"&&(yield k({id:p.id},n))})}function R(e){return c(this,null,function*(){e.protectionCode&&e.protectionCode.length>0?(m.value.showModal("delete",e),m.value.extraMsg="\u9762\u677F\u88AB\u4FDD\u62A4\u4E2D,\u5220\u9664\u524D\u8BF7\u5148\u8F93\u5165\u4FDD\u62A4\u7801"):yield k({id:e.id},n)})}function w(e){d(!0,{record:e,isUpdate:!0})}function S(e){W.push({name:"drag-page-view-@id",params:{id:e}})}function U(e){return c(this,null,function*(){yield Y({id:e},n)})}function V(e,p){return c(this,null,function*(){yield Z({id:e,izTemplate:p},!0),n()})}function x(e){e!=="3"?(i.type=e,i.izTemplate="0"):(i.type="",i.izTemplate="1"),n({pageNo:1})}function N(){n()}return(e,p)=>{const y=f("a-button"),C=f("Icon"),D=f("a-tab-pane"),O=f("a-tabs");return ae(),oe(ne,null,[s(j,{searchFormSchema:_(q),params:i,api:_(X),onGetMethod:r,onDelete:R,onView:S,onDesign:w,onEdit:z,onCopy:U,onTemplate:V},{header:u(()=>[s(y,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:T},{default:u(()=>[g("\u65B0\u589E")]),_:1})]),cardTitle:u(()=>[s(O,{defaultActiveKey:"1",onChange:x,size:"small"},{default:u(()=>[s(D,{key:"1"},{tab:u(()=>[v("span",null,[s(C,{icon:"ant-design:bar-chart-outlined",size:20}),g(" \u4EEA\u8868\u76D8\u8BBE\u8BA1 ")])]),_:1}),s(D,{key:"3"},{tab:u(()=>[v("span",null,[s(C,{icon:"ant-design:star-outlined",size:20}),g(" \u6A21\u677F ")])]),_:1})]),_:1})]),_:1},8,["searchFormSchema","params","api"]),s(H,{onRegister:_(a),onSuccess:l},null,8,["onRegister"]),s(J,{ref_key:"passwordRef",ref:m,onSuccess:P},null,512),s(Q,{onRegister:_(h),onSuccess:N,isLowApp:!1},null,8,["onRegister"])],64)}}}));export{Je as default};
