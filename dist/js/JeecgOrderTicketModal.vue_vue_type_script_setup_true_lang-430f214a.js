var k=Object.defineProperty;var u=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var f=(o,t,e)=>t in o?k(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,g=(o,t)=>{for(var e in t||(t={}))w.call(t,e)&&f(o,e,t[e]);if(u)for(var e of u(t))v.call(t,e)&&f(o,e,t[e]);return o};var p=(o,t,e)=>new Promise((n,m)=>{var l=r=>{try{c(e.next(r))}catch(a){m(a)}},d=r=>{try{c(e.throw(r))}catch(a){m(a)}},c=r=>r.done?n(r.value):Promise.resolve(r.value).then(l,d);c((e=e.apply(o,t)).next())});import{B as F}from"./index-5effa088.js";import{B as M}from"./BasicForm-862341ae.js";import"./componentMap-3d0064b3.js";import{u as y}from"./useForm-3526c2e4.js";import"./JAddInput-7a10c45b.js";import"./JSelectUser-0b713614.js";import"./JSelectDept-a5c54ddb.js";import"./JPopup-cd3c8a0f.js";import{B as I}from"./index-0f5326ee.js";import"./cron-parser-vendor-278b5be3.js";import"./JEllipsis.vue_vue_type_script_setup_true_lang-d40bf8e2.js";import{i as R,j as x}from"./erplist.api-5e27e37a.js";import{d as L,c as O,k as T,u as i,e as U,a5 as b,a9 as j,a7 as C,f as H,ag as P}from"./vue-5a09445c.js";const Y=L({__name:"JeecgOrderTicketModal",emits:["success","register"],setup(o,{emit:t}){const e=O("orderId"),n=T(!0),[m,{resetFields:l,setFieldsValue:d,validate:c}]=y({labelWidth:150,schemas:R,showActionButtonGroup:!1}),[r,{setModalProps:a,closeModal:h}]=I(s=>p(this,null,function*(){yield l(),a({confirmLoading:!1}),n.value=!!(s!=null&&s.isUpdate),i(n)&&(yield d(g({},s.record)))})),_=U(()=>i(n)?"编辑":"新增");function B(){return p(this,null,function*(){try{const s=yield c();a({confirmLoading:!0}),i(e)&&(s.orderId=i(e)),yield x(s,n.value),h(),t("success")}finally{a({confirmLoading:!1})}})}return(s,S)=>(b(),j(i(F),P(s.$attrs,{onRegister:i(r),title:_.value,onOk:B,width:500,minHeight:20,maxHeight:20}),{default:C(()=>[H(i(M),{onRegister:i(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Y as _};
