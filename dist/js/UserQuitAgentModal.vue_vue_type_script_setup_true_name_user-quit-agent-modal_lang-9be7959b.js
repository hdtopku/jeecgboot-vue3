var F=Object.defineProperty,H=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var Y=(r,t,e)=>t in r?F(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,p=(r,t)=>{for(var e in t||(t={}))R.call(t,e)&&Y(r,e,t[e]);if(_)for(var e of _(t))T.call(t,e)&&Y(r,e,t[e]);return r},w=(r,t)=>H(r,L(t));var d=(r,t,e)=>new Promise((f,l)=>{var g=o=>{try{a(e.next(o))}catch(i){l(i)}},M=o=>{try{a(e.throw(o))}catch(i){l(i)}},a=o=>o.done?f(o.value):Promise.resolve(o.value).then(g,M);a((e=e.apply(r,t)).next())});import{B as V}from"./index-a882524d.js";import{B as b}from"./BasicForm-030e7c21.js";import"./componentMap-90ab712d.js";import{u as k}from"./useForm-ae9e1cbd.js";import"./JAddInput-dff0b84f.js";import{A as C}from"./index-6916e394.js";import{c as N}from"./user.data-3ad1a75b.js";import{i as Q,j}from"./user.api-ea86029c.js";import{ab as n}from"./antd-vue-vendor-1561c1ba.js";import{d as B,aV as v,ar as x,bi as P,f as S,u as c,aQ as q}from"./vue-c7e3516e.js";const E=B({name:"user-quit-agent-modal"}),ee=B(w(p({},E),{emits:["success","register"],setup(r,{emit:t}){const[e,{resetFields:f,setFieldsValue:l,validate:g,clearValidate:M}]=k({schemas:N,showActionButtonGroup:!1}),[a,{setModalProps:o,closeModal:i}]=C(s=>d(this,null,function*(){yield f(),o({confirmLoading:!1}),o({confirmLoading:!1});const m=yield Q({userName:s.userName});s=m.result?m.result:s;let u=new Date;s.startTime||(s.startTime=n(u).format("YYYY-MM-DD HH:mm:ss")),s.endTime||(s.endTime=A(u)),yield l(p({},s))}));function h(){return d(this,null,function*(){try{const s=yield g();o({confirmLoading:!0}),yield j(s),i(),t("success")}finally{o({confirmLoading:!1})}})}function A(s){let m=s.getFullYear()+30,u=n(s).format("MM"),D=n(s).format("DD"),y=n(s).format("HH:mm:ss");return n(m+"-"+u+"-"+D+" "+y).format("YYYY-MM-DD HH:mm:ss")}return(s,m)=>(v(),x(c(V),q(s.$attrs,{onRegister:c(a),width:800,title:"\u79BB\u804C\u4EA4\u63A5",onOk:h}),{default:P(()=>[S(c(b),{onRegister:c(e)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}}));export{ee as _};
