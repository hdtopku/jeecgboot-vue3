import{n as P}from"./vue-ebecda47.js";import{g as O}from"./tinymce-vendor-7c917b36.js";import"./jeecg-online-vendor-cfb58502.js";import"./antd-vue-vendor-b75e8c06.js";import"./lodash-es-vendor-cd7703c8.js";import"./vxe-table-vendor-4aae63bf.js";var j={exports:{}},H=j.exports;(function(m,y){(function(s,t){m.exports=t()})(window,function(){return function(d){var s={};function t(i){if(s[i])return s[i].exports;var c=s[i]={i,l:!1,exports:{}};return d[i].call(c.exports,c,c.exports,t),c.l=!0,c.exports}return t.m=d,t.c=s,t.d=function(i,c,a){t.o(i,c)||Object.defineProperty(i,c,{enumerable:!0,get:a})},t.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,c){if(c&1&&(i=t(i)),c&8||c&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),c&2&&typeof i!="string")for(var u in i)t.d(a,u,function(o){return i[o]}.bind(null,u));return a},t.n=function(i){var c=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(c,"a",c),c},t.o=function(i,c){return Object.prototype.hasOwnProperty.call(i,c)},t.p="",t(t.s=0)}({"./src/index.js":function(d,s,t){"use strict";t.r(s);var i=t("./src/sass/index.scss"),c=t.n(i),a=t("./src/js/init.js"),u=a.default.init;typeof window!="undefined"&&(window.printJS=u),s.default=u},"./src/js/browser.js":function(d,s,t){"use strict";t.r(s);var i={isFirefox:function(){return typeof InstallTrigger!="undefined"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!a.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};s.default=i},"./src/js/functions.js":function(d,s,t){"use strict";t.r(s),t.d(s,"addWrapper",function(){return u}),t.d(s,"capitalizePrint",function(){return o}),t.d(s,"collectStyles",function(){return l}),t.d(s,"addHeader",function(){return n}),t.d(s,"cleanUp",function(){return h}),t.d(s,"isRawHTML",function(){return b});var i=t("./src/js/modal.js"),c=t("./src/js/browser.js");function a(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(p){return typeof p}:a=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},a(e)}function u(e,f){var p="font-family:"+f.font+" !important; font-size: "+f.font_size+" !important; width:100%;";return'<div style="'+p+'">'+e+"</div>"}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e,f){for(var p=document.defaultView||window,g="",E=p.getComputedStyle(e,""),v=0;v<E.length;v++)(f.targetStyles.indexOf("*")!==-1||f.targetStyle.indexOf(E[v])!==-1||r(f.targetStyles,E[v]))&&E.getPropertyValue(E[v])&&(g+=E[v]+":"+E.getPropertyValue(E[v])+";");return g+="max-width: "+f.maxWidth+"px !important; font-size: "+f.font_size+" !important;",g}function r(e,f){for(var p=0;p<e.length;p++)if(a(f)==="object"&&f.indexOf(e[p])!==-1)return!0;return!1}function n(e,f){var p=document.createElement("div");if(b(f.header))p.innerHTML=f.header;else{var g=document.createElement("h1"),E=document.createTextNode(f.header);g.appendChild(E),g.setAttribute("style",f.headerStyle),p.appendChild(g)}e.insertBefore(p,e.childNodes[0])}function h(e){e.showModal&&i.default.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var f="mouseover";(c.default.isChrome()||c.default.isFirefox())&&(f="focus");var p=function g(){window.removeEventListener(f,g),e.onPrintDialogClose();var E=document.getElementById(e.frameId);E&&E.remove()};window.addEventListener(f,p)}function b(e){var f=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return f.test(e)}},"./src/js/html.js":function(d,s,t){"use strict";t.r(s);var i=t("./src/js/functions.js"),c=t("./src/js/print.js");function a(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(n){return typeof n}:a=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(l)}s.default={print:function(r,n){var h=o(r.printable)?r.printable:document.getElementById(r.printable);if(!h){window.console.error("Invalid HTML element id: "+r.printable);return}r.printableElement=u(h,r),r.header&&Object(i.addHeader)(r.printableElement,r),c.default.send(r,n)}};function u(l,r){for(var n=l.cloneNode(),h=Array.prototype.slice.call(l.childNodes),b=0;b<h.length;b++)if(r.ignoreElements.indexOf(h[b].id)===-1){var e=u(h[b],r);n.appendChild(e)}switch(r.scanStyles&&l.nodeType===1&&n.setAttribute("style",Object(i.collectStyles)(l,r)),l.tagName){case"SELECT":n.value=l.value;break;case"CANVAS":n.getContext("2d").drawImage(l,0,0);break}return n}function o(l){return a(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(d,s,t){"use strict";t.r(s);var i=t("./src/js/functions.js"),c=t("./src/js/print.js"),a=t("./src/js/browser.js");s.default={print:function(o,l){o.printable.constructor!==Array&&(o.printable=[o.printable]),o.printableElement=document.createElement("div"),o.printable.forEach(function(r){var n=document.createElement("img");if(n.setAttribute("style",o.imageStyle),n.src=r,a.default.isFirefox()){var h=n.src;n.src=h}var b=document.createElement("div");b.appendChild(n),o.printableElement.appendChild(b)}),o.header&&Object(i.addHeader)(o.printableElement,o),c.default.send(o,l)}}},"./src/js/init.js":function(d,s,t){"use strict";t.r(s);var i=t("./src/js/browser.js"),c=t("./src/js/modal.js"),a=t("./src/js/pdf.js"),u=t("./src/js/html.js"),o=t("./src/js/raw-html.js"),l=t("./src/js/image.js"),r=t("./src/js/json.js");function n(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(f){return typeof f}:n=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},n(b)}var h=["pdf","html","image","json","raw-html"];s.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(M){throw M},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},f=arguments[0];if(f===void 0)throw new Error("printJS expects at least 1 attribute.");switch(n(f)){case"string":e.printable=encodeURI(f),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":e.printable=f.printable,e.fallbackPrintable=typeof f.fallbackPrintable!="undefined"?f.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable;for(var p in e)p==="printable"||p==="fallbackPrintable"||(e[p]=typeof f[p]!="undefined"?f[p]:e[p]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+n(f))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||typeof e.type!="string"||h.indexOf(e.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&c.default.show(e),e.onLoadingStart&&e.onLoadingStart();var g=document.getElementById(e.frameId);g&&g.parentNode.removeChild(g);var E=document.createElement("iframe");switch(i.default.isFirefox()?E.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):E.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),E.setAttribute("id",e.frameId),e.type!=="pdf"&&(E.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(w){E.srcdoc+='<link rel="stylesheet" href="'+w+'">'})),E.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(i.default.isIE())try{var v=window.open(e.fallbackPrintable,"_blank");v.focus(),e.onIncompatibleBrowser()}catch(w){e.onError(w)}finally{e.showModal&&c.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else a.default.print(e,E);break;case"image":l.default.print(e,E);break;case"html":u.default.print(e,E);break;case"raw-html":o.default.print(e,E);break;case"json":r.default.print(e,E);break}}}},"./src/js/json.js":function(d,s,t){"use strict";t.r(s);var i=t("./src/js/functions.js"),c=t("./src/js/print.js");function a(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(r){return typeof r}:a=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a(o)}s.default={print:function(l,r){if(a(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(n){return{field:a(n)==="object"?n.field:n,displayName:a(n)==="object"?n.displayName:n,columnSize:a(n)==="object"&&n.columnSize?n.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(i.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=u(l),c.default.send(l,r)}};function u(o){var l=o.printable,r=o.properties,n='<table style="border-collapse: collapse; width: 100%;">';o.repeatTableHeader&&(n+="<thead>"),n+="<tr>";for(var h=0;h<r.length;h++)n+='<th style="width:'+r[h].columnSize+";"+o.gridHeaderStyle+'">'+Object(i.capitalizePrint)(r[h].displayName)+"</th>";n+="</tr>",o.repeatTableHeader&&(n+="</thead>"),n+="<tbody>";for(var b=0;b<l.length;b++){n+="<tr>";for(var e=0;e<r.length;e++){var f=l[b],p=r[e].field.split(".");if(p.length>1)for(var g=0;g<p.length;g++)f=f[p[g]];else f=f[r[e].field];n+='<td style="width:'+r[e].columnSize+o.gridStyle+'">'+f+"</td>"}n+="</tr>"}return n+="</tbody></table>",n}},"./src/js/modal.js":function(d,s,t){"use strict";t.r(s);var i={show:function(a){var u="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",o=document.createElement("div");o.setAttribute("style",u),o.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var r=document.createElement("div");r.setAttribute("class","printClose"),r.setAttribute("id","printClose"),l.appendChild(r);var n=document.createElement("span");n.setAttribute("class","printSpinner"),l.appendChild(n);var h=document.createTextNode(a.modalMessage);l.appendChild(h),o.appendChild(l),document.getElementsByTagName("body")[0].appendChild(o),document.getElementById("printClose").addEventListener("click",function(){i.close()})},close:function(){var a=document.getElementById("printJS-Modal");a&&a.parentNode.removeChild(a)}};s.default=i},"./src/js/pdf.js":function(d,s,t){"use strict";t.r(s);var i=t("./src/js/print.js"),c=t("./src/js/functions.js");s.default={print:function(o,l){if(o.base64){var r=Uint8Array.from(atob(o.printable),function(h){return h.charCodeAt(0)});a(o,l,r);return}o.printable=/^(blob|http|\/\/)/i.test(o.printable)?o.printable:window.location.origin+(o.printable.charAt(0)!=="/"?"/"+o.printable:o.printable);var n=new window.XMLHttpRequest;n.responseType="arraybuffer",n.addEventListener("error",function(){Object(c.cleanUp)(o),o.onError(n.statusText,n)}),n.addEventListener("load",function(){if([200,201].indexOf(n.status)===-1){Object(c.cleanUp)(o),o.onError(n.statusText,n);return}a(o,l,n.response)}),n.open("GET",o.printable,!0),n.send()}};function a(u,o,l){var r=new window.Blob([l],{type:"application/pdf"});r=window.URL.createObjectURL(r),o.setAttribute("src",r),i.default.send(u,o)}},"./src/js/print.js":function(d,s,t){"use strict";t.r(s);var i=t("./src/js/browser.js"),c=t("./src/js/functions.js"),a={send:function(n,h){document.getElementsByTagName("body")[0].appendChild(h);var b=document.getElementById(n.frameId);b.onload=function(){if(n.type==="pdf"){i.default.isFirefox()?setTimeout(function(){return u(b,n)},1e3):u(b,n);return}var e=b.contentWindow||b.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(n.printableElement),n.type!=="pdf"&&n.style){var f=document.createElement("style");f.innerHTML=n.style,e.head.appendChild(f)}var p=e.getElementsByTagName("img");p.length>0?o(Array.from(p)).then(function(){return u(b,n)}):u(b,n)}}};function u(r,n){try{if(r.focus(),i.default.isEdge()||i.default.isIE())try{r.contentWindow.document.execCommand("print",!1,null)}catch(h){r.contentWindow.print()}else r.contentWindow.print()}catch(h){n.onError(h)}finally{i.default.isFirefox()&&(r.style.visibility="hidden",r.style.left="-1px"),Object(c.cleanUp)(n)}}function o(r){var n=r.map(function(h){if(h.src&&h.src!==window.location.href)return l(h)});return Promise.all(n)}function l(r){return new Promise(function(n){var h=function b(){!r||typeof r.naturalWidth=="undefined"||r.naturalWidth===0||!r.complete?setTimeout(b,500):n()};h()})}s.default=a},"./src/js/raw-html.js":function(d,s,t){"use strict";t.r(s);var i=t("./src/js/print.js");s.default={print:function(a,u){a.printableElement=document.createElement("div"),a.printableElement.setAttribute("style","width:100%"),a.printableElement.innerHTML=a.printable,i.default.send(a,u)}}},"./src/sass/index.scss":function(d,s,t){},0:function(d,s,t){d.exports=t("./src/index.js")}}).default})})(j,j.exports);var C=j.exports;const T=O(C);class x{constructor(y){this.standards={strict:"strict",loose:"loose",html5:"html5"},this.counter=0,this.settings={standard:this.standards.html5,extraHead:"",extraCss:"",popTitle:"",endCallback:null,el:""},Object.assign(this.settings,y),this.init()}init(){this.counter++,this.settings.id=`printArea_${this.counter}`;let y=document.getElementById(this.settings.id);y&&y.parentNode.removeChild(y);let d=this.getPrintWindow();this.write(d.doc),this.settings.endCallback()}print(y){let d=y;d.focus(),d.print()}write(y,d){y.open(),y.write(`${this.docType()}<html>${this.getHead()}${this.getBody()}</html>`),y.close()}docType(){if(this.settings.standard===this.standards.html5)return"<!DOCTYPE html>";var y=this.settings.standard===this.standards.loose?" Transitional":"",d=this.settings.standard===this.standards.loose?"loose":"strict";return`<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01${y}//EN" "http://www.w3.org/TR/html4/${d}.dtd">`}getHead(){let y="",d="",s="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,function(t){y+=t}),[].forEach.call(document.querySelectorAll("link"),function(t,i){t.href.indexOf(".css")>=0&&(d+='<link type="text/css" rel="stylesheet" href="'+t.href+'" >')});for(let t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].cssRules||document.styleSheets[t].rules){let i=document.styleSheets[t].cssRules||document.styleSheets[t].rules;for(let c=0;c<i.length;c++)try{s+=i[c].cssText}catch(a){}}return this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,function(t){d+=`<link type="text/css" rel="stylesheet" href="${t}">`}),`<head><title>${this.settings.popTitle}</title>${y}${d}<style type="text/css">${s}</style></head>`}getBody(){return"<body>"+this.getFormData(document.querySelector(this.settings.el)).outerHTML+"</body>"}getFormData(y){let d=this,s=y.cloneNode(!0),t=s.querySelectorAll("*");[].forEach.call(t,function(u){let o=u.getAttribute("ignore-print");o=o==null?u.getAttribute("ignoreprint"):o,o!=null&&o.toString()==="true"&&(u.outerHTML="")});let i=s.querySelectorAll("input,select,textarea");[].forEach.call(i,function(u,o){let l=u.getAttribute("type"),r=i[o];l==null&&(l=u.tagName==="SELECT"?"select":u.tagName==="TEXTAREA"?"textarea":""),l==="radio"||l==="checkbox"?u.checked&&r.setAttribute("checked",u.checked):l==="select"?[].forEach.call(r.querySelectorAll("option"),function(n,h){n.selected&&n.setAttribute("selected",!0)}):l==="textarea"?r.innerHTML=u.value:(r.value=u.value,r.setAttribute("value",u.value))});var c=y.querySelectorAll("canvas"),a=s.querySelectorAll("canvas");return[].forEach.call(a,function(u,o){d.isECharts(u)&&(u.parentElement.style.width&&(u.parentElement.style.width="100%",u.parentElement.style.height="auto"),u.parentElement.parentElement.style.width&&(u.parentElement.parentElement.style.width="100%",u.parentElement.parentElement.style.height="auto"));var l=c[o].toDataURL();u.outerHTML='<img src="'+l+'" style="width:100%;"/>'}),s}isECharts(y){let d="_echarts_instance_",s=y.parentElement;return s.getAttribute(d)!=null?!0:s.parentElement?s.parentElement.getAttribute(d)!=null:!1}getPrintWindow(){var y=this.Iframe();return{win:y.contentWindow||y,doc:y.doc}}Iframe(){let y=this.settings.id,d;var s=this;try{d=document.createElement("iframe"),document.body.appendChild(d),d.style.border="0px",d.style.position="absolute",d.style.width="0px",d.style.height="0px",d.style.right="0px",d.style.top="0px",d.setAttribute("id",y),d.setAttribute("src",new Date().getTime()),d.doc=null,d.onload=function(){var t=d.contentWindow||d;s.print(t)},d.doc=d.contentDocument?d.contentDocument:d.contentWindow?d.contentWindow.document:d.document}catch(t){throw new Error(t+". iframes may not be supported in this browser.")}if(d.doc==null)throw new Error("Cannot find document.");return d}}function N(m){if((m==null?void 0:m.type)==="html")A(m.printable);else return T(m)}function A(m){m?L(m):window.print()}let S=!0;function L(m){typeof m=="string"&&!m.startsWith("#")&&(m="#"+m),P(()=>{S&&(S=!1,new x({el:m,endCallback(){S=!0}}))})}export{N as printJS,A as printNb};
