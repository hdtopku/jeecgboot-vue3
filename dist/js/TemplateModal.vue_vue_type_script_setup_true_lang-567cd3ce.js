var v=Object.defineProperty;var g=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var h=(r,s,e)=>s in r?v(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e,w=(r,s)=>{for(var e in s||(s={}))M.call(s,e)&&h(r,e,s[e]);if(g)for(var e of g(s))k.call(s,e)&&h(r,e,s[e]);return r};var u=(r,s,e)=>new Promise((m,l)=>{var c=t=>{try{n(e.next(t))}catch(a){l(a)}},p=t=>{try{n(e.throw(t))}catch(a){l(a)}},n=t=>t.done?m(t.value):Promise.resolve(t.value).then(c,p);n((e=e.apply(r,s)).next())});import{B as y}from"./BasicForm-ac34d48e.js";import"./componentMap-ba94d61e.js";import{u as R}from"./useForm-a39fb19e.js";import"./JAddInput-ff8a2196.js";import"./JSelectUser-d28baf37.js";import"./JSelectDept-6a5d3f49.js";import"./JPopup-03bf28d5.js";import{B as C}from"./index-23d562e3.js";import"./cron-parser-vendor-c9873295.js";import{B as L}from"./index-0d8c6dee.js";import"./JEllipsis.vue_vue_type_script_setup_true_lang-eaa23dad.js";import{f as O,s as P}from"./template.api-83813b76.js";import{d as S,k as B,u as i,a5 as U,a9 as b,a7 as x,f as V,ag as A}from"./vue-5a09445c.js";const X=S({__name:"TemplateModal",emits:["success","register"],setup(r,{emit:s}){const e=B(""),m=B(!1),[l,{resetFields:c,setFieldsValue:p,validate:n,updateSchema:t,setProps:a}]=R({schemas:O,showActionButtonGroup:!1}),[_,{setModalProps:f,closeModal:F}]=C(o=>u(this,null,function*(){f({confirmLoading:!1,showCancelBtn:!!(o!=null&&o.showFooter),showOkBtn:!!(o!=null&&o.showFooter)}),m.value=i(o.isUpdate),e.value=i(o.title),yield c(),yield p(w({},o.record)),a({disabled:!(o!=null&&o.showFooter)})}));function d(){return u(this,null,function*(){try{const o=yield n();f({confirmLoading:!0}),yield P(o,m),F(),s("success")}finally{f({confirmLoading:!1})}})}return(o,G)=>(U(),b(i(L),A({onRegister:i(_),title:e.value,width:800},o.$attrs,{onOk:d}),{default:x(()=>[V(i(y),{onRegister:i(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{X as _};
