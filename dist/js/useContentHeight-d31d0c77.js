var z=(F,R,s)=>new Promise((k,g)=>{var M=r=>{try{u(s.next(r))}catch(p){g(p)}},E=r=>{try{u(s.throw(r))}catch(p){g(p)}},u=r=>r.done?k(r.value):Promise.resolve(r.value).then(M,E);u((s=s.apply(F,R)).next())});import{o as G,s as I}from"./index-6916e394.js";import{useWindowSizeFn as V}from"./useWindowSizeFn-581ed1a8.js";import{u as W}from"./useContentViewHeight-f04d35e4.js";import{i as X,ae as Z}from"./jeecg-online-vendor-12004772.js";import{k as A,n as N,w as _,u as f,G as $}from"./vue-c7e3516e.js";import"./lodash-es-vendor-42c8d3d4.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./usePageContext-cf15412d.js";function tt(F,R,s,k,g=0,M=A(0)){const E=A(null),{footerHeightRef:u}=W();let r={useLayoutFooter:!0};const p=e=>{r=e};function D(){N(()=>{B()})}function h(e,x="all"){var c,l,H,b;function m(t){return Number(t.replace(/[^\d]/g,""))}let n=0;const a="0px";if(e){const t=getComputedStyle(e),i=m((c=t==null?void 0:t.marginTop)!=null?c:a),o=m((l=t==null?void 0:t.marginBottom)!=null?l:a),d=m((H=t==null?void 0:t.paddingTop)!=null?H:a),P=m((b=t==null?void 0:t.paddingBottom)!=null?b:a);x==="all"?(n+=i,n+=o,n+=d,n+=P):x==="top"?(n+=i,n+=d):(n+=o,n+=P)}return n}function T(e){return e==null?null:e instanceof HTMLDivElement?e:e.$el}function B(){return z(this,null,function*(){var b;if(!F.value)return;yield N();const e=T(f(R));if(!e)return;const{bottomIncludeBody:x}=I(e);let m=0;s.forEach(t=>{var i,o;m+=(o=(i=T(f(t)))==null?void 0:i.offsetHeight)!=null?o:0});let n=(b=h(e))!=null?b:0;k.forEach(t=>{n+=h(T(f(t)))});let a=0;function c(t,i){if(t&&i){const o=t.parentElement;o&&(X(i)?o.classList.contains(i)?a+=h(o,"bottom"):(a+=h(o,"bottom"),c(o,i)):Z(i)&&i>0&&(a+=h(o,"bottom"),c(o,--i)))}}$(g)?c(e,f(g)):c(e,g);let l=x-f(u)-f(M)-m-n-a;const H=()=>{var t;(t=r.elements)==null||t.forEach(i=>{var o,d;l+=(d=(o=T(f(i)))==null?void 0:o.offsetHeight)!=null?d:0})};r.useLayoutFooter&&f(u)>0,H(),E.value=l})}return G(()=>{N(()=>{B()})}),V(()=>{B()},50,{immediate:!0}),_(()=>[u.value],()=>{B()},{flush:"post",immediate:!0}),{redoHeight:D,setCompensation:p,contentHeight:E}}export{tt as useContentHeight};
