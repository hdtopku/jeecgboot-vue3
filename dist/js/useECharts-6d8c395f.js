var C=Object.defineProperty;var k=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var w=(i,t,r)=>t in i?C(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r,z=(i,t)=>{for(var r in t||(t={}))b.call(t,r)&&w(i,r,t[r]);if(k)for(var r of k(t))h.call(t,r)&&w(i,r,t[r]);return i};import{l as x,d as y,h as H,e as D,r as c,i as R,s as S}from"./index-ea73cedc.js";import"./echarts-a505716e.js";import{e as O,k as T,w as B,u as o,n as L}from"./vue-705b7309.js";import"./jeecg-online-vendor-e26fc0e5.js";import"./antd-vue-vendor-cce59da1.js";import"./tinymce-vendor-6e169cb2.js";import"./lodash-es-vendor-5fc8fca4.js";import"./codemirror-vendor-3f45d0f3.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-cc7eb3b4.js";function W(i,t="default"){const{getDarkMode:r}=x(),u=O(()=>t==="default"?r.value:t);let e=null,l=d;const a=T({});let v=()=>{};l=y(d,200);const g=O(()=>u.value!=="dark"?a.value:z({backgroundColor:"transparent"},a.value));function p(s=t){const n=o(i);if(!n||!o(n))return;e=D.init(n,s);const{removeEvent:f}=R({el:window,name:"resize",listener:l});v=f;const{widthRef:F,screenEnum:M}=S();(o(F)<=M.MD||n.offsetHeight===0)&&c(()=>{l()},30)}function m(s,n=!0){var f;if(a.value=s,((f=o(i))==null?void 0:f.offsetHeight)===0){c(()=>{m(o(g))},30);return}L(()=>{c(()=>{!e&&(p(u.value),!e)||(n&&(e==null||e.clear()),e==null||e.setOption(o(g)))},30)})}function d(){e==null||e.resize()}B(()=>u.value,s=>{e&&(e.dispose(),p(s),m(a.value))}),H(()=>{e&&(v(),e.dispose(),e=null)});function E(){return e||p(u.value),e}return{setOptions:m,resize:d,echarts:D,getInstance:E}}export{W as useECharts};
