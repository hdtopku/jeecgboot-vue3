var A=Object.defineProperty,x=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var g=(e,t,o)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,b=(e,t)=>{for(var o in t||(t={}))R.call(t,o)&&g(e,o,t[o]);if(f)for(var o of f(t))P.call(t,o)&&g(e,o,t[o]);return e},B=(e,t)=>x(e,v(t));import H from"./BasicTable-29c6504d.js";import{T as N}from"./componentMap-a6d21ad6.js";import"./BasicTable.vue_vue_type_style_index_0_lang-b7d11241.js";import"./useTable-7e303edd.js";import S from"./DetailModal-9ff720a1.js";import{g as k,e as F,s as h,a as Y,r as L}from"./mynews.api-a2cd7cb6.js";import{render as u}from"./renderUtils-76d1e990.js";import{d as U,u as V}from"./jeecg-online-vendor-bf2efbcb.js";import"./index-8cf3aabb.js";import{useListPage as G}from"./useListPage-5049b37a.js";import{u as O}from"./useSysMessage-bb4caff0.js";import{E as j}from"./index-fde9c72f.js";import{d as M,k as D,o as q,U as z,aV as J,as as K,f as s,bi as p,E as Q,u as l}from"./vue-c7e3516e.js";import"./lodash-es-vendor-42c8d3d4.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./BasicForm-83ba9c88.js";import"./BasicForm.vue_vue_type_style_index_0_lang-aeaafe88.js";import"./BasicModal-ff8f2086.js";import"./useWindowSizeFn-e5cad7ae.js";import"./useFormItem-4a12ff45.js";import"./JUpload.vue_vue_type_style_index_0_lang-3f4c90f3.js";import"./download-c8889ed9.js";import"./base64Conver-4e359726.js";import"./index-ee020524.js";import"./index-53e807bd.js";import"./useCountdown-473e4dcc.js";import"./JAddInput-2cbbbde9.js";import"./areaDataUtil-b2642a1f.js";import"./useSelectBiz-c744cf20.js";import"./props-8e8dbf4f.js";import"./index-d4783a30.js";import"./bem-deccd0b6.js";import"./props-c3781b9d.js";import"./useContextMenu-c0be0b5c.js";import"./useTreeBiz-faf9875a.js";import"./index-63ed9c18.js";import"./depart.api-25dc3d39.js";import"./index-ed4be6fa.js";import"./useForm-fa63344e.js";import"./injectionKey-5da932b3.js";const W=[{title:"\u6807\u9898",dataIndex:"titile",width:100,align:"left"},{title:"\u6D88\u606F\u7C7B\u578B",dataIndex:"msgCategory",width:80,customRender:({text:e})=>u.renderDictNative(e,[{label:"\u901A\u77E5\u516C\u544A",value:"1",color:"blue"},{label:"\u7CFB\u7EDF\u6D88\u606F",value:"2"}],!0)},{title:"\u53D1\u5E03\u4EBA",dataIndex:"sender",width:80},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"sendTime",width:80},{title:"\u4F18\u5148\u7EA7",dataIndex:"priority",width:80,customRender:({text:e})=>{const t=e=="L"?"blue":e=="M"?"yellow":"red";return u.renderTag(u.renderDict(e,"priority"),t)}},{title:"\u9605\u8BFB\u72B6\u6001",dataIndex:"readFlag",width:80,customRender:({text:e})=>u.renderDictNative(e,[{label:"\u672A\u8BFB",value:"0",color:"red"},{label:"\u5DF2\u8BFB",value:"1"}],!0)}],X=[{field:"titile",label:"\u6807\u9898",component:"Input",colProps:{span:8}},{field:"sender",label:"\u53D1\u5E03\u4EBA",component:"Input",colProps:{span:8}}],Z=M({name:"monitor-mynews"}),ze=M(B(b({},Z),{setup(e){U(),D([]),D({});const t={logType:"1"},[o,{openModal:d}]=j(),c=V(),{goPage:_}=O(),{prefixCls:$,tableContext:C}=G({designScope:"mynews-list",tableProps:{title:"\u6211\u7684\u6D88\u606F",api:k,columns:W,formConfig:{schemas:X,fieldMapToTime:[["fieldTime",["createTime_begin","createTime_end"],"YYYY-MM-DD HH:mm:ss"]]}}}),[E,{reload:m}]=C;function I(r){return[{label:"\u67E5\u770B",onClick:T.bind(null,r)}]}function T(r){let i=r.anntId;F({anntId:i}).then(n=>{m(),h({anntId:i})}),_(r,()=>{d(!0,{record:r,isUpdate:!0})})}function w(){L({},m)}q(()=>{y()});function y(){let r=c.getMessageHrefParams;if(r){let i=r.id;i&&F({anntId:i}).then(()=>{m(),h({anntId:i})});let a=r.detailId;a&&Y(a).then(n=>{d(!0,{record:n,isUpdate:!0}),c.setMessageHrefParams("")})}}return(r,i)=>{const a=z("a-button");return J(),K("div",null,[s(l(H),{onRegister:l(E),searchInfo:t},{tableTitle:p(()=>[s(a,{type:"primary",onClick:w},{default:p(()=>[Q("\u5168\u90E8\u6807\u6CE8\u5DF2\u8BFB")]),_:1})]),action:p(({record:n})=>[s(l(N),{actions:I(n)},null,8,["actions"])]),_:1},8,["onRegister"]),s(S,{onRegister:l(o)},null,8,["onRegister"])])}}}));export{ze as default};
