var v=Object.defineProperty;var u=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var g=(o,s,e)=>s in o?v(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,B=(o,s)=>{for(var e in s||(s={}))y.call(s,e)&&g(o,e,s[e]);if(u)for(var e of u(s))M.call(s,e)&&g(o,e,s[e]);return o};var p=(o,s,e)=>new Promise((l,m)=>{var c=t=>{try{i(e.next(t))}catch(a){m(a)}},d=t=>{try{i(e.throw(t))}catch(a){m(a)}},i=t=>t.done?l(t.value):Promise.resolve(t.value).then(c,d);i((e=e.apply(o,s)).next())});import{B as F}from"./index-0d8c6dee.js";import{B as k}from"./BasicForm-ac34d48e.js";import"./componentMap-ba94d61e.js";import{u as R}from"./useForm-a39fb19e.js";import"./JAddInput-ff8a2196.js";import"./JSelectUser-d28baf37.js";import"./JSelectDept-6a5d3f49.js";import"./JPopup-03bf28d5.js";import{B as b}from"./index-23d562e3.js";import"./cron-parser-vendor-c9873295.js";import"./JEllipsis.vue_vue_type_script_setup_true_lang-eaa23dad.js";import{f as x}from"./tenant.data-e4bc33e6.js";import{g as L,s as S}from"./tenant.api-14b3bbb6.js";import{d as T,k as U,u as n,e as C,a5 as D,a9 as I,a7 as O,f as P,ag as V}from"./vue-5a09445c.js";const Z=T({__name:"TenantModal",emits:["register","success"],setup(o,{emit:s}){const e=U(!0),[l,{resetFields:m,setFieldsValue:c,validate:d,updateSchema:i}]=R({schemas:x,showActionButtonGroup:!1}),[t,{setModalProps:a,closeModal:_}]=b(r=>p(this,null,function*(){yield m(),a({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),n(e)?(i({field:"id",dynamicDisabled:!0}),r.record=yield L({id:r.record.id}),yield c(B({},r.record))):i({field:"id",dynamicDisabled:!1})})),h=C(()=>n(e)?"编辑租户":"新增租户");function w(r){return p(this,null,function*(){try{let f=yield d();a({confirmLoading:!0}),yield S(f,e.value),_(),s("success")}finally{a({confirmLoading:!1})}})}return(r,f)=>(D(),I(n(F),V(r.$attrs,{onRegister:n(t),title:h.value,onOk:w,width:"700px"}),{default:O(()=>[P(n(k),{onRegister:n(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Z as _};
