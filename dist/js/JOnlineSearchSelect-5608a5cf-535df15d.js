import{V as S,b as w,u as q}from"./jeecg-online-vendor-9cc54e36.js";import{k as p,w as d,V as h,a5 as i,a9 as m,a7 as f,a6 as C,F as k,a8 as y,E as x,ab as B}from"./vue-5a09445c.js";import{d as D}from"./index-26fb0584.js";import"./antd-vue-vendor-04f0af1d.js";import"./tinymce-vendor-e2919cb0.js";import"./vxe-table-vendor-c5aaa9d2.js";import"./lodash-es-vendor-70833b4a.js";import"./codemirror-vendor-f458506d.js";import"./echarts-vendor-6c8e2159.js";const{createMessage:F}=q(),b={name:"JOnlineSearchSelect",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},sql:{type:String,required:!0}},emits:["update:value"],setup(o,{emit:u}){let t=p(""),a=p([]);d(()=>o.value,e=>{e?t.value=e:t.value=void 0},{immediate:!0}),d(()=>o.sql,()=>{s()},{immediate:!0});const c=D(n,800);function n(e=""){let g={keyword:e},v="/online/cgreport/api/getReportDictList?sql="+o.sql;w.get({url:v,params:g},{isTransformResponse:!1}).then(r=>{r.success?r.result&&r.result.length>0?a.value=r.result:a.value=[]:F.warning(r.message)})}function l(e){u("update:value",e),(!e||e=="")&&s()}function s(){a.value=[],n()}return{selectOptions:a,handleSearch:c,handleChange:l,selected:t}}};function O(o,u,t,a,c,n){const l=h("a-select-option"),s=h("a-select");return i(),m(s,{value:a.selected,placeholder:t.placeholder,"show-search":"","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null,onSearch:a.handleSearch,onChange:a.handleChange,allowClear:""},{default:f(()=>[(i(!0),C(k,null,y(a.selectOptions,e=>(i(),m(l,{key:e.value},{default:f(()=>[x(B(e.text),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder","onSearch","onChange"])}const N=S(b,[["render",O]]);export{N as default};
