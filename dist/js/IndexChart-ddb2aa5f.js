import{d as I,l as f,r as V,s as T,a7 as m,a8 as h,aq as B,a5 as Y,a6 as Z,V as _,ak as j,ad as D,ae as k,E as H,f as a,W as L,aa as r}from"./vue-ebecda47.js";import N from"./ChartGroupCard-b88c9960.js";import O from"./SaleTabCard-534d927a.js";import{useECharts as R}from"./useECharts-db530a54.js";import"./lodash-es-vendor-cd7703c8.js";import{d as z}from"./antd-vue-vendor-b75e8c06.js";import{_ as x,ap as A}from"./jeecg-online-vendor-cfb58502.js";import"./index-85cfc899.js";import"./tinymce-vendor-7c917b36.js";import"./codemirror-vendor-9b2dceac.js";import"./echarts-vendor-ba343549.js";import"./vxe-table-vendor-4aae63bf.js";import"./Bar-1a161e81.js";import"./data-83d7c1d7.js";import"./echarts-41b2b1fd.js";const M=I({name:"LineMulti",props:{chartData:{type:Array,default:()=>[],required:!0},option:{type:Object,default:()=>({})},type:{type:String,default:"line"},width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh - 78px)"}},emits:["click"],setup(t,{emit:s}){const o=f(null),{setOptions:l,getInstance:c}=R(o),e=V({tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#333"}}},legend:{top:30},grid:{top:60},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[]});T(()=>{t.chartData&&n()});function n(){var S,$;t.option&&Object.assign(e,z(t.option));let p=Array.from(new Set(t.chartData.map(u=>u.type))),d=Array.from(new Set(t.chartData.map(u=>u.name))),C=[];p.forEach(u=>{let w={name:u,type:t.type},y=[];d.forEach(E=>{let g=t.chartData.filter(b=>u===b.type&&b.name==E);g&&g.length>0?y.push(g[0].value):y.push(null)}),w.data=y,C.push(w)}),e.series=C,e.xAxis.data=d,l(e),(S=c())==null||S.off("click",i),($=c())==null||$.on("click",i)}function i(p){s("click",p)}return{chartRef:o}}});function q(t,s,o,l,c,e){return m(),h("div",{ref:"chartRef",style:B({height:t.height,width:t.width})},null,4)}const P=x(M,[["render",q]]),W=I({name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0},icon:{type:String,default:!1}}});const F={key:0};function G(t,s,o,l,c,e){const n=_("a-icon");return m(),h("div",{class:j(["head-info",t.center&&"center"])},[D("span",null,k(t.title),1),D("p",null,[H(k(t.content)+" ",1),a(n,{type:t.icon,style:{"font-size":"24px",color:"#2b99ff"}},null,8,["type"])]),t.bordered?(m(),h("em",F)):L("",!0)],2)}const v=x(W,[["render",G],["__scopeId","data-v-077283c4"]]);const J=t=>A.get({url:"/sys/loginfo",params:t},{isTransformResponse:!1}),K=t=>A.get({url:"/sys/visitInfo",params:t},{isTransformResponse:!1});const Q={class:"p-4"},U=I({__name:"IndexChart",setup(t){const s=f(!0);setTimeout(()=>{s.value=!1},500);const o=f({}),l=f([]);function c(){J(null).then(e=>{e.success&&(Object.keys(e.result).forEach(n=>{e.result[n]=e.result[n]+""}),o.value=e.result)}),K(null).then(e=>{e.success&&(l.value=[],e.result.forEach(n=>{l.value.push({name:n.type,type:"ip",value:n.ip}),l.value.push({name:n.type,type:"visit",value:n.visit})}))})}return c(),(e,n)=>{const i=_("a-col"),p=_("a-row"),d=_("a-card");return m(),h("div",Q,[a(N,{class:"enter-y",loading:s.value,type:"chart"},null,8,["loading"]),a(O,{class:"!my-4 enter-y",loading:s.value},null,8,["loading"]),a(p,null,{default:r(()=>[a(i,{span:24},{default:r(()=>[a(d,{loading:s.value,bordered:!1,title:"最近一周访问量统计",style:{marginTop:"24px"}},{default:r(()=>[a(p,null,{default:r(()=>[a(i,{span:6},{default:r(()=>[a(v,{title:"今日IP",content:o.value.todayIp,icon:"environment"},null,8,["content"])]),_:1}),a(i,{span:6},{default:r(()=>[a(v,{title:"今日访问",content:o.value.todayVisitCount,icon:"team"},null,8,["content"])]),_:1}),a(i,{span:6},{default:r(()=>[a(v,{title:"总访问量",content:o.value.totalVisitCount,icon:"rise"},null,8,["content"])]),_:1})]),_:1}),a(P,{chartData:l.value,height:"50vh",type:"line",option:{legend:{top:"bottom"}}},null,8,["chartData"])]),_:1},8,["loading"])]),_:1})]),_:1})])}}});const _t=x(U,[["__scopeId","data-v-7791faf7"]]);export{_t as default};
