var r=(d,p,n)=>new Promise((f,i)=>{var c=e=>{try{o(n.next(e))}catch(s){i(s)}},u=e=>{try{o(n.throw(e))}catch(s){i(s)}},o=e=>e.done?f(e.value):Promise.resolve(e.value).then(c,u);o((n=n.apply(d,p)).next())});import{B as I}from"./index-8cf3aabb.js";import{u as k,c as S}from"./tenant.data-c14b7f8b.js";import{i as M,l as g}from"./tenant.api-de8dd33d.js";import{useListPage as F}from"./useListPage-5049b37a.js";import R from"./BasicTable-29c6504d.js";import{T as V}from"./componentMap-a6d21ad6.js";import"./BasicTable.vue_vue_type_style_index_0_lang-b7d11241.js";import"./useTable-7e303edd.js";import{A as L}from"./index-fde9c72f.js";import{d as P,k as A,u as a,U as N,aV as b,ar as _,bi as l,f as h,E as O,V as U,aQ as j}from"./vue-c7e3516e.js";const E="\u6210\u5458",ee=P({__name:"TenantUserModal",emits:["register","success"],setup(d,{emit:p}){const n=A(0),{prefixCls:f,tableContext:i}=F({designScope:"tenant-template",tableProps:{api:M,columns:k,immediate:!1,formConfig:{schemas:S,labelCol:{span:8},actionColOptions:{xs:24,sm:8,md:8,lg:8,xl:8,xxl:8}},beforeFetch:t=>Object.assign(t,{userTenantId:a(n)})}}),[c,{reload:u},{rowSelection:o,selectedRowKeys:e}]=i,[s,{setModalProps:K,closeModal:C}]=L(t=>r(this,null,function*(){n.value=t.id,m()}));function B(t){return r(this,null,function*(){C()})}function x(t){return[{label:"\u8BF7\u79BB",onClick:T.bind(null,t.id)}]}function m(){(e.value=[])&&u()}function T(t){return r(this,null,function*(){yield g({userIds:t,tenantId:a(n)},m)})}function y(){return r(this,null,function*(){yield g({userIds:e.value.join(","),tenantId:a(n)},m)})}return(t,Q)=>{const v=N("a-button");return b(),_(a(I),j(t.$attrs,{onRegister:a(s),title:E,onOk:B,width:"800px"}),{default:l(()=>[h(a(R),{onRegister:a(c),rowSelection:a(o)},{tableTitle:l(()=>[a(e).length>0?(b(),_(v,{key:0,preIcon:"ant-design:delete-outlined",type:"primary",onClick:y,style:{"margin-right":"5px"}},{default:l(()=>[O("\u6279\u91CF\u8BF7\u79BB")]),_:1})):U("",!0)]),action:l(({record:w})=>[h(a(V),{actions:x(w)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"])]),_:1},16,["onRegister"])}}});export{ee as _};
