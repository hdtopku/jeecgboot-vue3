var F=Object.defineProperty;var f=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var g=(t,o,e)=>o in t?F(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,y=(t,o)=>{for(var e in o||(o={}))P.call(o,e)&&g(t,e,o[e]);if(f)for(var e of f(o))w.call(o,e)&&g(t,e,o[e]);return t};var d=(t,o,e)=>new Promise((c,l)=>{var m=s=>{try{n(e.next(s))}catch(a){l(a)}},p=s=>{try{n(e.throw(s))}catch(a){l(a)}},n=s=>s.done?c(s.value):Promise.resolve(s.value).then(m,p);n((e=e.apply(t,o)).next())});import{B as A}from"./index-8cf3aabb.js";import{B as E}from"./BasicForm-83ba9c88.js";import"./componentMap-a6d21ad6.js";import{u as _}from"./useForm-fa63344e.js";import"./JAddInput-2cbbbde9.js";import{A as x}from"./index-fde9c72f.js";import{ad as u}from"./jeecg-online-vendor-bf2efbcb.js";import{a9 as I}from"./antd-vue-vendor-1561c1ba.js";import{d as b,k as C,u as i,e as D,aV as M,ar as U,bi as k,f as v,aQ as T}from"./vue-c7e3516e.js";const J=[{title:"\u804C\u52A1\u540D\u79F0",dataIndex:"name",align:"left"}],K=[{field:"name",label:"\u804C\u52A1\u540D\u79F0",component:"Input",colProps:{span:8}}],L=[{label:"\u4E3B\u952E",field:"id",component:"Input",show:!1},{field:"name",label:"\u804C\u52A1\u540D\u79F0",component:"Input",required:!0}],W="/sys/position/exportXls",Y="/sys/position/importExcel",Z=t=>u.get({url:"/sys/position/list",params:t}),R=(t,o)=>{let e=o?"/sys/position/edit":"/sys/position/add";return u.post({url:e,params:t})},O=t=>u.get({url:"/sys/position/queryById",params:t}),ee=(t,o)=>u.delete({url:"/sys/position/delete",data:t},{joinParamsToUrl:!0}).then(()=>{o()}),te=(t,o)=>{I.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u6570\u636E",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:()=>u.delete({url:"/sys/position/deleteBatch",data:t},{joinParamsToUrl:!0}).then(()=>{o()})})},oe=b({__name:"PositionModal",emits:["success","register"],setup(t,{emit:o}){const e=C(!0),[c,{resetFields:l,setFieldsValue:m,validate:p}]=_({schemas:L,showActionButtonGroup:!1}),[n,{setModalProps:s,closeModal:a}]=x(r=>d(this,null,function*(){yield l(),s({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),i(e)&&(r.record=yield O({id:r.record.id}),yield m(y({},r.record)))})),h=D(()=>i(e)?"\u7F16\u8F91\u804C\u52A1":"\u65B0\u589E\u804C\u52A1");function B(){return d(this,null,function*(){try{const r=yield p();s({confirmLoading:!0}),yield R(r,e.value),a(),o("success")}finally{s({confirmLoading:!1})}})}return(r,S)=>(M(),U(i(A),T(r.$attrs,{onRegister:i(n),title:h.value,onOk:B,width:700}),{default:k(()=>[v(i(E),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{oe as _,W as a,Y as b,J as c,ee as d,te as e,Z as g,K as s};
