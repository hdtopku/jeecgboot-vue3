import{af as s}from"./index-6916e394.js";import{ac as c}from"./jeecg-online-vendor-12004772.js";import{u as i}from"./vue-c7e3516e.js";import"./lodash-es-vendor-42c8d3d4.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";let o;const r=new Map;function M(e){let n=c()||"";if(o=s(e,{autoReconnect:{retries:10,delay:5e3},heartbeat:{message:"ping",interval:55e3},protocols:[n]}),o){o.open=f,o.close=a;const t=i(o.ws);t!=null&&(t.onerror=p,t.onmessage=u)}}function f(){}function a(e){}function p(e){}function u(e){try{const n=JSON.parse(e.data);for(const t of r.keys())try{t(n)}catch(m){}}catch(n){}}function O(e){r.has(e)||typeof e=="function"&&r.set(e,null)}function v(e){r.delete(e)}function x(){return o}export{M as connectWebSocket,v as offWebSocket,O as onWebSocket,x as useMyWebSocket};
