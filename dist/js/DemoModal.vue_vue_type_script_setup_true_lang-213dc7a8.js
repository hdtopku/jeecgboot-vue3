var I=Object.defineProperty;var h=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var b=(e,t,o)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,g=(e,t)=>{for(var o in t||(t={}))x.call(t,o)&&b(e,o,t[o]);if(h)for(var o of h(t))P.call(t,o)&&b(e,o,t[o]);return e};var f=(e,t,o)=>new Promise((n,m)=>{var p=l=>{try{c(o.next(l))}catch(r){m(r)}},i=l=>{try{c(o.throw(l))}catch(r){m(r)}},c=l=>l.done?n(l.value):Promise.resolve(l.value).then(p,i);c((o=o.apply(e,t)).next())});import{B}from"./index-52485b3e.js";import{B as T}from"./BasicForm-12308286.js";import"./componentMap-16bb9f01.js";import{u as M}from"./useForm-50206d26.js";import"./JAddInput-5b0ff6af.js";import"./JSelectUser-330432be.js";import"./JSelectDept-9f1e1608.js";import"./JPopup-e4c0b990.js";import{B as k}from"./index-f3247ba0.js";import{render as j}from"./renderUtils-26f9e798.js";import{b as d}from"./jeecg-online-vendor-5792e8a1.js";import{M as v}from"./antd-vue-vendor-31afcf32.js";import{d as z,k as F,u as s,e as Y,a5 as U,a9 as R,a7 as C,f as L,ag as S}from"./vue-249e5fad.js";const te=[{title:"姓名",dataIndex:"name",width:170,align:"left",resizable:!0,sorter:{multiple:1}},{title:"关键词",dataIndex:"keyWord",width:130,resizable:!0},{title:"打卡时间",dataIndex:"punchTime",width:140,resizable:!0},{title:"工资",dataIndex:"salaryMoney",width:140,resizable:!0,sorter:{multiple:2}},{title:"奖金",dataIndex:"bonusMoney",width:140,resizable:!0},{title:"性别",dataIndex:"sex",sorter:{multiple:3},customRender:({record:e})=>j.renderDict(e.sex,"sex"),width:120,resizable:!0},{title:"生日",dataIndex:"birthday",width:120,resizable:!0},{title:"邮箱",dataIndex:"email",width:120,resizable:!0},{title:"个人简介",dataIndex:"content",width:120,resizable:!0}],oe=[{field:"name",label:"姓名",component:"Input",colProps:{span:8}},{field:"birthday",label:"生日",component:"RangePicker",componentProps:{valueType:"Date"},colProps:{span:8}},{field:"age",label:"年龄",component:"Input",slot:"age",colProps:{span:8}},{field:"sex",label:"性别",colProps:{span:8},component:"JDictSelectTag",componentProps:{dictCode:"sex",placeholder:"请选择性别"}}],V=[{field:"id",label:"id",component:"Input",show:!1},{field:"createBy",label:"createBy",component:"Input",show:!1},{field:"createTime",label:"createTime",component:"Input",show:!1},{field:"name",label:"名字",component:"Input",required:!0,componentProps:{placeholder:"请输入名字"}},{field:"keyWord",label:"关键词",component:"Input",componentProps:{placeholder:"请输入关键词"}},{field:"punchTime",label:"打卡时间",component:"DatePicker",componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"请选择打卡时间"}},{field:"salaryMoney",label:"工资",component:"Input",componentProps:{placeholder:"请输入工资"}},{field:"sex",label:"性别",component:"JDictSelectTag",defaultValue:"1",componentProps:{type:"radio",dictCode:"sex",placeholder:"请选择性别"}},{field:"age",label:"年龄",component:"InputNumber",defaultValue:1,componentProps:{placeholder:"请输入年龄"}},{field:"birthday",label:"生日",component:"DatePicker",defaultValue:"",componentProps:{valueFormat:"YYYY-MM-DD",placeholder:"请选择生日"}},{field:"email",label:"邮箱",component:"Input",rules:[{required:!1,type:"email",message:"邮箱格式不正确",trigger:"blur"}],componentProps:{placeholder:"请输入邮箱"}},{field:"content",label:"个人简介 - To introduce myself",component:"InputTextArea",labelLength:4,componentProps:{placeholder:"请输入个人简介"}},{field:"updateCount",label:"乐观锁",show:!1,component:"Input"}],ae="/test/jeecgDemo/exportXls",le="/test/jeecgDemo/importExcel",re=e=>d.get({url:"/test/jeecgDemo/list",params:e}),_=(e,t)=>{let o=t?"/test/jeecgDemo/edit":"/test/jeecgDemo/add";return d.post({url:o,params:e})},O=e=>d.get({url:"/test/jeecgDemo/queryById",params:e}),ne=(e,t)=>d.delete({url:"/test/jeecgDemo/delete",data:e},{joinParamsToUrl:!0}).then(()=>{t()}),se=(e,t)=>{v.confirm({title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>d.delete({url:"/test/jeecgDemo/deleteBatch",data:e},{joinParamsToUrl:!0}).then(()=>{t()})})},ie=z({__name:"DemoModal",props:{isDisabled:{type:Boolean,default:!1}},emits:["register","success"],setup(e,{emit:t}){const o=e,n=F(!0),[m,{resetFields:p,setFieldsValue:i,validate:c}]=M({schemas:V,showActionButtonGroup:!1}),[l,{setModalProps:r,closeModal:D}]=k(a=>f(this,null,function*(){yield p(),r({confirmLoading:!1,showOkBtn:!o.isDisabled}),n.value=!!(a!=null&&a.isUpdate),a.createBy&&(yield i({createBy:a.createBy})),a.createTime&&(yield i({createTime:a.createTime})),s(n)&&(a.record=yield O({id:a.record.id}),yield i(g({},a.record)))})),y=Y(()=>s(n)?"编辑":"新增");function w(a){return f(this,null,function*(){try{let u=yield c();r({confirmLoading:!0}),yield _(u,n.value),D(),t("success",u)}finally{r({confirmLoading:!1})}})}return(a,u)=>(U(),R(s(B),S(a.$attrs,{onRegister:s(l),title:y.value,onOk:w,width:"40%"}),{default:C(()=>[L(s(T),{onRegister:s(m),disabled:e.isDisabled},null,8,["onRegister","disabled"])]),_:1},16,["onRegister","title"]))}});export{ie as _,ae as a,re as b,te as c,ne as d,se as e,le as g,oe as s};
