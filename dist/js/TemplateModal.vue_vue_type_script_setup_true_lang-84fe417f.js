var v=Object.defineProperty;var h=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var w=(r,o,e)=>o in r?v(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,g=(r,o)=>{for(var e in o||(o={}))M.call(o,e)&&w(r,e,o[e]);if(h)for(var e of h(o))k.call(o,e)&&w(r,e,o[e]);return r};var u=(r,o,e)=>new Promise((l,c)=>{var m=t=>{try{n(e.next(t))}catch(a){c(a)}},f=t=>{try{n(e.throw(t))}catch(a){c(a)}},n=t=>t.done?l(t.value):Promise.resolve(t.value).then(m,f);n((e=e.apply(r,o)).next())});import{B as y}from"./BasicForm-83ba9c88.js";import"./componentMap-a6d21ad6.js";import{u as R}from"./useForm-fa63344e.js";import"./JAddInput-2cbbbde9.js";import{A as b}from"./index-fde9c72f.js";import{B as C}from"./index-8cf3aabb.js";import{f as L,s as O}from"./template.api-772ab1de.js";import{d as P,k as B,u as i,aV as S,ar as U,bi as V,f as x,aQ as A}from"./vue-c7e3516e.js";const E=P({__name:"TemplateModal",emits:["success","register"],setup(r,{emit:o}){const e=B(""),l=B(!1),[c,{resetFields:m,setFieldsValue:f,validate:n,updateSchema:t,setProps:a}]=R({schemas:L,showActionButtonGroup:!1}),[_,{setModalProps:p,closeModal:F}]=b(s=>u(this,null,function*(){p({confirmLoading:!1,showCancelBtn:!!(s!=null&&s.showFooter),showOkBtn:!!(s!=null&&s.showFooter)}),l.value=i(s.isUpdate),e.value=i(s.title),yield m(),yield f(g({},s.record)),a({disabled:!(s!=null&&s.showFooter)})}));function d(){return u(this,null,function*(){try{const s=yield n();p({confirmLoading:!0}),yield O(s,l),F(),o("success")}finally{p({confirmLoading:!1})}})}return(s,G)=>(S(),U(i(C),A({onRegister:i(_),title:e.value,width:800},s.$attrs,{onOk:d}),{default:V(()=>[x(i(y),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{E as _};
