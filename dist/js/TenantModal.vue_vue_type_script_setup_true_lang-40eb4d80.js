var v=Object.defineProperty;var u=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var g=(o,s,e)=>s in o?v(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,B=(o,s)=>{for(var e in s||(s={}))y.call(s,e)&&g(o,e,s[e]);if(u)for(var e of u(s))M.call(s,e)&&g(o,e,s[e]);return o};var p=(o,s,e)=>new Promise((l,m)=>{var c=t=>{try{i(e.next(t))}catch(r){m(r)}},d=t=>{try{i(e.throw(t))}catch(r){m(r)}},i=t=>t.done?l(t.value):Promise.resolve(t.value).then(c,d);i((e=e.apply(o,s)).next())});import{B as F}from"./index-f37bcd39.js";import{B as k}from"./BasicForm-42a88936.js";import"./componentMap-a2b4e2ec.js";import{u as R}from"./useForm-7c569caf.js";import"./JAddInput-4f9ad8b8.js";import"./JSelectUser-f4588114.js";import"./JSelectDept-c904502a.js";import"./JPopup-aa0581de.js";import{B as b}from"./index-cbf1027d.js";import"./cron-parser-vendor-35165bff.js";import{f as x}from"./tenant.data-18c436d1.js";import{g as L,s as S}from"./tenant.api-5ff57113.js";import{d as T,k as U,u as n,e as C,a5 as D,a9 as I,a7 as O,f as P,ag as V}from"./vue-bcbaddf9.js";const Y=T({__name:"TenantModal",emits:["register","success"],setup(o,{emit:s}){const e=U(!0),[l,{resetFields:m,setFieldsValue:c,validate:d,updateSchema:i}]=R({schemas:x,showActionButtonGroup:!1}),[t,{setModalProps:r,closeModal:_}]=b(a=>p(this,null,function*(){yield m(),r({confirmLoading:!1}),e.value=!!(a!=null&&a.isUpdate),n(e)?(i({field:"id",dynamicDisabled:!0}),a.record=yield L({id:a.record.id}),yield c(B({},a.record))):i({field:"id",dynamicDisabled:!1})})),h=C(()=>n(e)?"编辑租户":"新增租户");function w(a){return p(this,null,function*(){try{let f=yield d();r({confirmLoading:!0}),yield S(f,e.value),_(),s("success")}finally{r({confirmLoading:!1})}})}return(a,f)=>(D(),I(n(F),V(a.$attrs,{onRegister:n(t),title:h.value,onOk:w,width:"700px"}),{default:O(()=>[P(n(k),{onRegister:n(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Y as _};
