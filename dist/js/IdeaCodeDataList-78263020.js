import{d as L,l as N,e as G,V as d,a7 as t,a8 as b,ad as u,f as r,aa as s,E as n,as as P,ae as o,ac as f,W as p,u as S,ak as V,F as z,ab as X,g as Y}from"./vue-86253b15.js";import Z from"./CommonList-aaa63f3f.js";import{g as i,s as m,a as ee}from"./IdeaCode.api-bbf4d25b.js";import{cz as F,cN as $,cO as D}from"./antd-vue-vendor-371529c2.js";import"./jeecg-online-vendor-bc5d810e.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-04a44d0a.js";import"./vxe-table-vendor-6a8d95c4.js";const ae={class:"text-center mb-2"},se={key:2},ne={key:3},re={class:"w-24"},oe=["onClick"],ve=L({__name:"IdeaCodeDataList",setup(ue,{expose:U}){var T;L({components:{MinusCircleOutlined:F,ClockCircleOutlined:$,SyncOutlined:D}});const _=N(1);_.value=JSON.parse((T=localStorage.getItem("ideaButtonType"))!=null?T:"1");let O=Y();const q=G(()=>{var a;switch(localStorage.setItem("ideaButtonType",JSON.stringify(_.value)),(a=O==null?void 0:O.proxy)==null||a.bus.emit("changeCodeType",_.value),_.value){case 1:return"error";case 6:return"warning";case 8:return"success";default:return"primary"}}),k=N(!1),A=a=>a.type===6?"e.taojingling.cn/jjh/"+a.code:a.type===8?"e.taojingling.cn/jzh/"+a.code:"e.taojingling.cn/jcj/"+a.code,E=a=>{if(a.valid===-1)return a.status===-1?"default":"error";switch(Number.parseInt(a.status)){case 1:return"processing";case 0:return"error"}},J=N("0"),x=N(),w=a=>{var l,y,I;return(a==null?void 0:a.ip)==null?"位置信息采集中...":`${a.operator}-`+(((l=a==null?void 0:a.country)==null?void 0:l.indexOf("中国"))>-1||((I=(y=a==null?void 0:a.country)==null?void 0:y.toUpperCase())==null?void 0:I.indexOf("CHINA"))>-1?"":a==null?void 0:a.country)+a.province+a.city+a.county},B=a=>a.model+" | "+a.system+" | "+a.browser,Q=(a,l)=>{a.valid=l,m(a,!0).then(()=>{})},R=a=>{a.type=_.value,ee(a,l=>{x.value.queryFinish(l)},()=>{x.value.queryFinish()})};return U({startQuery:(a={})=>{J.value=a==null?void 0:a.status,x.value.execQuery(i,a)},changeAdvanced:()=>{k.value=!k.value}}),(a,l)=>{const y=d("a-radio-button"),I=d("a-radio-group"),v=d("a-tag"),j=d("a-typography-text"),H=d("a-popover"),K=d("a-button"),M=d("a-menu-item"),W=d("a-menu");return t(),b(z,null,[u("div",ae,[r(I,{value:_.value,"onUpdate:value":l[0]||(l[0]=e=>_.value=e),"button-style":"solid"},{default:s(()=>[r(y,{value:6},{default:s(()=>[n("jh激活码激活")]),_:1}),r(y,{value:1},{default:s(()=>[n("cj插件激活")]),_:1}),r(y,{value:8},{default:s(()=>[n("zh账号激活")]),_:1})]),_:1},8,["value"])]),r(Z,{ref_key:"CommonListRef",ref:x,onConfirmCopy:R,"button-color":q.value},P({top:s(({item:e})=>{var g,c,h;return[e.type===6?(t(),f(v,{key:0,color:"warning"},{default:s(()=>[n("激活码激活")]),_:1})):p("",!0),e.type===1?(t(),f(v,{key:1,color:"#f50"},{default:s(()=>[n("插件激活")]),_:1})):p("",!0),r(v,{color:E(e)},{icon:s(()=>[e.valid===-1?(t(),f(S(F),{key:0})):p("",!0),e.valid===0&&e.status===-1?(t(),f(S($),{key:1})):p("",!0),e.valid===0&&e.status===1?(t(),f(S(D),{key:2,spin:!0})):p("",!0)]),default:s(()=>[n(" "+o(e==null?void 0:e.statusName),1)]),_:2},1032,["color"]),((g=e==null?void 0:e.sysIps)==null?void 0:g.length)>0?(t(),b("div",se,[n(" 位置："+o(w(e==null?void 0:e.sysIps[0]))+" ",1),k.value?(t(),f(j,{key:0,copyable:""},{default:s(()=>{var C;return[n(o((C=e==null?void 0:e.sysIps[0])==null?void 0:C.ip),1)]}),_:2},1024)):p("",!0)])):p("",!0),((c=e==null?void 0:e.sysIps)==null?void 0:c.length)>0?(t(),b("div",ne," 系统："+o(B(e==null?void 0:e.sysIps[0])),1)):p("",!0),u("div",null,[u("span",null,[n(" 打开："),u("span",{class:V(e.valid===-1||e.status===-1?"line-through text-red-300":"text-red-500")},o((h=e==null?void 0:e.openTime)==null?void 0:h.substring(5)),3)])])]}),left:s(({item:e,index:g})=>[u("div",re,[u("div",null,[r(H,{placement:"right"},{content:s(()=>[(t(!0),b(z,null,X(e==null?void 0:e.sysIps,(c,h)=>(t(),b("div",{key:h},[r(j,{copyable:""},{default:s(()=>[u("div",null,[n(o(w(c))+" | ",1),r(j,{copyable:""},{default:s(()=>{var C;return[n(o((C=e==null?void 0:e.sysIps[0])==null?void 0:C.ip),1)]}),_:2},1024)]),u("span",null,o(B(c)),1)]),_:2},1024)]))),128))]),default:s(()=>{var c;return[u("a",{href:"javascript:;",onClick:h=>a.showSysIpInfo(e)},o((c=e==null?void 0:e.sysIps)==null?void 0:c.length)+"个设备",9,oe)]}),_:2},1024)]),r(j,{copyable:{text:A(e)}},{default:s(()=>[u("span",{class:V(["",(e==null?void 0:e.valid)===-1?"text-gray-500 line-through":"text-purple-900 font-medium"])},o(e==null?void 0:e.code),3)]),_:2},1032,["copyable"])])]),operate:s(({item:e,index:g})=>[r(W,null,{default:s(()=>[r(M,null,{default:s(()=>[r(K,{type:"link",size:"small",danger:"",onClick:c=>Q(e,-1)},{default:s(()=>[n(" 销毁链接 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),header:s(()=>[]),_:2},[k.value?{name:"bottom",fn:s(({item:e,index:g})=>[u("div",null,[r(v,null,{default:s(()=>[n(o(e==null?void 0:e.createBy)+"创建",1)]),_:2},1024),n(o(e==null?void 0:e.createTime.substring(5)),1)]),u("div",null,[r(v,null,{default:s(()=>[n(o(e==null?void 0:e.updateBy)+"更新",1)]),_:2},1024),n(o(e==null?void 0:e.updateTime.substring(5)),1)])]),key:"0"}:void 0]),1032,["button-color"])],64)}}});export{ve as default};
