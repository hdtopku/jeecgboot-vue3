var _=Object.defineProperty;var g=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var h=(t,o,e)=>o in t?_(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,v=(t,o)=>{for(var e in o||(o={}))y.call(o,e)&&h(t,e,o[e]);if(g)for(var e of g(o))F.call(o,e)&&h(t,e,o[e]);return t};var d=(t,o,e)=>new Promise((i,p)=>{var m=s=>{try{l(e.next(s))}catch(n){p(n)}},u=s=>{try{l(e.throw(s))}catch(n){p(n)}},l=s=>s.done?i(s.value):Promise.resolve(s.value).then(m,u);l((e=e.apply(t,o)).next())});import{B as k}from"./BasicForm-af127472.js";import"./componentMap-49086925.js";import{u as I}from"./useForm-027be146.js";import"./JAddInput-f981b8f0.js";import"./JSelectUser-2142310a.js";import"./JSelectDept-89a20b68.js";import"./JPopup-c3fe6e18.js";import{B as U}from"./index-ea73cedc.js";import{B as x}from"./index-9c776ac3.js";import{h as C}from"./depart.user.api-98b5d533.js";import{b as O}from"./depart.user.data-9ab9e98c.js";import{d as S,c as b,k as B,e as j,u as a,a5 as D,a9 as L,a7 as P,f as V,ag as q}from"./vue-705b7309.js";const Z=S({__name:"DepartRoleModal",props:{departId:{require:!0,type:String}},emits:["success","register"],setup(t,{emit:o}){const e=t;b("prefixCls");const i=B(!0),p=B({}),m=j(()=>i.value?"编辑":"新增"),[u,{resetFields:l,setFieldsValue:s,validate:n,updateSchema:A}]=I({schemas:O,showActionButtonGroup:!1}),[w,{setModalProps:f,closeModal:M}]=U(r=>d(this,null,function*(){yield l(),i.value=a(r==null?void 0:r.isUpdate);let c=a(r==null?void 0:r.record);typeof c=="object"&&(p.value=c,yield s(v({},c)))}));function R(){return d(this,null,function*(){try{f({confirmLoading:!0});let r=yield n();r.departId=a(e.departId),yield C(r,i.value),M(),o("success",{isUpdate:a(i),values:r})}finally{f({confirmLoading:!1})}})}return(r,c)=>(D(),L(a(x),q({title:m.value,width:800},r.$attrs,{onOk:R,onRegister:a(w)}),{default:P(()=>[V(a(k),{onRegister:a(u)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{Z as _};
