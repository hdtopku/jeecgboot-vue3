var v=Object.defineProperty;var g=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var h=(r,s,e)=>s in r?v(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e,w=(r,s)=>{for(var e in s||(s={}))M.call(s,e)&&h(r,e,s[e]);if(g)for(var e of g(s))k.call(s,e)&&h(r,e,s[e]);return r};var u=(r,s,e)=>new Promise((m,l)=>{var c=t=>{try{n(e.next(t))}catch(a){l(a)}},p=t=>{try{n(e.throw(t))}catch(a){l(a)}},n=t=>t.done?m(t.value):Promise.resolve(t.value).then(c,p);n((e=e.apply(r,s)).next())});import{B as y}from"./BasicForm-e402ba31.js";import"./componentMap-a7b11ac1.js";import{u as R}from"./useForm-b140653f.js";import"./JAddInput-448c30de.js";import"./JSelectUser-6445886b.js";import"./JSelectDept-a510196a.js";import"./JPopup-17610371.js";import{B as C}from"./index-679980cc.js";import{B as L}from"./index-d3bb5676.js";import{f as O,s as P}from"./template.api-7bf0fe36.js";import{d as S,k as B,u as i,a5 as U,a9 as b,a7 as x,f as V,ag as A}from"./vue-249e5fad.js";const Q=S({__name:"TemplateModal",emits:["success","register"],setup(r,{emit:s}){const e=B(""),m=B(!1),[l,{resetFields:c,setFieldsValue:p,validate:n,updateSchema:t,setProps:a}]=R({schemas:O,showActionButtonGroup:!1}),[_,{setModalProps:f,closeModal:F}]=C(o=>u(this,null,function*(){f({confirmLoading:!1,showCancelBtn:!!(o!=null&&o.showFooter),showOkBtn:!!(o!=null&&o.showFooter)}),m.value=i(o.isUpdate),e.value=i(o.title),yield c(),yield p(w({},o.record)),a({disabled:!(o!=null&&o.showFooter)})}));function d(){return u(this,null,function*(){try{const o=yield n();f({confirmLoading:!0}),yield P(o,m),F(),s("success")}finally{f({confirmLoading:!1})}})}return(o,G)=>(U(),b(i(L),A({onRegister:i(_),title:e.value,width:800},o.$attrs,{onOk:d}),{default:x(()=>[V(i(y),{onRegister:i(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Q as _};
