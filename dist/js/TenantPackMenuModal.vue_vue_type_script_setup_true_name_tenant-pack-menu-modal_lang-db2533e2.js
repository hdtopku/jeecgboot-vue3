var I=Object.defineProperty,M=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var d=(t,s,e)=>s in t?I(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,k=(t,s)=>{for(var e in s||(s={}))R.call(s,e)&&d(t,e,s[e]);if(h)for(var e of h(s))T.call(s,e)&&d(t,e,s[e]);return t},_=(t,s)=>M(t,C(s));var w=(t,s,e)=>new Promise((p,a)=>{var l=r=>{try{m(e.next(r))}catch(c){a(c)}},u=r=>{try{m(e.throw(r))}catch(c){a(c)}},m=r=>r.done?p(r.value):Promise.resolve(r.value).then(l,u);m((e=e.apply(t,s)).next())});import{B as b}from"./index-9ca8f863.js";import{B as x}from"./BasicForm-e7d3537f.js";import"./componentMap-42aebfee.js";import{u as L}from"./useForm-b8bb8b05.js";import"./JAddInput-6e8b52df.js";import"./JSelectUser-9d666511.js";import"./JSelectDept-113b0470.js";import"./JPopup-746d3c0b.js";import{B as O}from"./index-26fb0584.js";import"./cron-parser-vendor-b0ab0fe2.js";import"./JEllipsis.vue_vue_type_script_setup_true_lang-8153fc9b.js";import{b as S}from"./tenant.data-0a5976e6.js";import{a as U,e as V}from"./tenant.api-6b99289f.js";import{d as B,k as g,u as i,e as A,a5 as G,a9 as N,a7 as $,f as j,ag as q}from"./vue-5a09445c.js";const z=B({name:"tenant-pack-menu-modal"}),ie=B(_(k({},z),{emits:["register","success"],setup(t,{emit:s}){const e=g(!1),[p,{resetFields:a,setFieldsValue:l,validate:u,setProps:m}]=L({schemas:S,showActionButtonGroup:!1}),r=g(),c=g(),[F,{setModalProps:f,closeModal:v}]=O(o=>w(this,null,function*(){yield a(),e.value=!!(o!=null&&o.isUpdate),o.tenantId&&(r.value=o.tenantId),c.value=o.packType,i(e)&&(yield l(k({},o.record))),f({confirmLoading:!1,showCancelBtn:!!(o!=null&&o.showFooter),showOkBtn:!!(o!=null&&o.showFooter)}),m({disabled:!(o!=null&&o.showFooter)})})),y=A(()=>i(e)?"编辑租户产品包":"新增租户产品包");function P(o){return w(this,null,function*(){const n=yield u();f({confirmLoading:!0}),n.packType=i(c),n.packType==="custom"?n.tenantId=i(r):n.tenantId=0,i(e)?yield V(n):yield U(n),s("success"),f({confirmLoading:!1}),v()})}return(o,n)=>(G(),N(i(b),q(o.$attrs,{onRegister:i(F),title:y.value,onOk:P,width:"800px",destroyOnClose:""}),{default:$(()=>[j(i(x),{onRegister:i(p)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}}));export{ie as _};
