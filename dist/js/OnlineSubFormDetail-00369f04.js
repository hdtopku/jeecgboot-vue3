import{bW as b,ad as _,l as D}from"./jeecg-online-vendor-12004772.js";import{B as F}from"./BasicForm-030e7c21.js";import"./componentMap-90ab712d.js";import"./antd-vue-vendor-1561c1ba.js";import"./JAddInput-dff0b84f.js";import{aN as S}from"./index-6916e394.js";import{h as y,g as B}from"./useExtendComponent-840bfd85.js";import w from"./DetailForm-6384d532.js";import"./index-a882524d.js";import"./JUpload.vue_vue_type_style_index_0_lang-5851070a.js";import"./JUploadModal.vue_vue_type_script_setup_true_lang-88479361.js";import"./pick-51214243.js";import"./_flatRest-34ab130c.js";import"./isArray-b183d537.js";import"./toString-8deea73b.js";import"./_arrayPush-ae8b790e.js";import"./BasicTable.vue_vue_type_style_index_0_lang-3c8b8bcc.js";import"./useTable-7c8820b4.js";import"./LinkTableListPiece-ee383d81.js";import"./OnlineSelectCascade-96168c23.js";import{k as f,w as d,U as I,aV as $,ar as P}from"./vue-c7e3516e.js";import"./tinymce-vendor-40778af9.js";import"./lodash-es-vendor-42c8d3d4.js";import"./BasicForm.vue_vue_type_style_index_0_lang-8cb333b2.js";import"./BasicModal-b901e352.js";import"./useWindowSizeFn-581ed1a8.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./useFormItem-cc50e63d.js";import"./download-fc124faf.js";import"./base64Conver-4e359726.js";import"./index-d83c9bcd.js";import"./index-6d615beb.js";import"./useCountdown-61c82faf.js";import"./index-fcc2460e.js";import"./areaDataUtil-13d415af.js";import"./useSelectBiz-f95680cd.js";import"./props-18305405.js";import"./index-3ce15f67.js";import"./bem-2be191b9.js";import"./props-c3781b9d.js";import"./useContextMenu-1b1215cd.js";import"./useTreeBiz-cda2af6e.js";import"./index-c5567c31.js";import"./depart.api-de6ffddd.js";import"./useForm-ae9e1cbd.js";import"./user.api-ea86029c.js";import"./_commonjsHelpers-938fab4e.js";import"./customExpression-e22f3cce.js";import"./BasicTable-04058a09.js";import"./injectionKey-5da932b3.js";import"./useListPage-8d85dabf.js";import"./JModalTip-2822aa1b.js";var k=(t,i,r)=>new Promise((o,m)=>{var l=e=>{try{p(r.next(e))}catch(s){m(s)}},a=e=>{try{p(r.throw(e))}catch(s){m(s)}},p=e=>e.done?o(e.value):Promise.resolve(e.value).then(l,a);p((r=r.apply(t,i)).next())});const x="/online/cgform/api/subform",E={name:"OnlineSubFormDetail",components:{BasicForm:F,Loading:S,DetailForm:w},props:{properties:{type:Object,required:!0},mainId:{type:String,default:""},table:{type:String,default:""},formTemplate:{type:Number,default:1}},emits:["formChange"],setup(t){const i=f(!1),{createMessage:r}=D(),o=f(""),m=f({}),{detailFormSchemas:l,createFormSchemas:a,formSpan:p}=y(t);d(()=>t.table,()=>{o.value=t.table},{immediate:!0}),d(()=>t.properties,()=>{i.value=!1,a(t.properties),i.value=!0},{deep:!0,immediate:!0}),d(()=>t.mainId,()=>{setTimeout(()=>{e()},100)},{immediate:!0});function e(){return k(this,null,function*(){yield B(i),m.value={};const{table:n,mainId:u}=t;if(!n||!u)return;let c=(yield s(n,u))||{};m.value=c})}function s(n,u){let c=`${x}/${n}/${u}`;return new Promise((g,v)=>{_.get({url:c},{isTransformResponse:!1}).then(h=>{h.success?g(h.result):v()})}).catch(()=>{r.warning("\u5B50\u8868\u83B7\u53D6\u6570\u636E\u5931\u8D25:"+n)})}return{detailFormSchemas:l,subFormData:m,formSpan:p}}};function N(t,i,r,o,m,l){const a=I("detail-form");return $(),P(a,{schemas:o.detailFormSchemas,data:o.subFormData,span:o.formSpan},null,8,["schemas","data","span"])}var Rt=b(E,[["render",N]]);export{Rt as default};
