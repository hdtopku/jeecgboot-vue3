var k=Object.defineProperty,P=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var u=(o,t,e)=>t in o?k(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,_=(o,t)=>{for(var e in t||(t={}))B.call(t,e)&&u(o,e,t[e]);if(c)for(var e of c(t))D.call(t,e)&&u(o,e,t[e]);return o},g=(o,t)=>P(o,R(t));import L from"./BasicTable-1161a1ed.js";import"./componentMap-9abc9664.js";import"./useTable-8db918c8.js";import{b as S}from"./jeecg-online-vendor-00671d17.js";import{useListPage as V}from"./useListPage-d13feb83.js";import{d as y,k as f,V as n,a5 as h,a9 as Y,a7 as s,f as i,a6 as M,aa as a,ab as b,W as N,u as x}from"./vue-bcbaddf9.js";import"./BasicTable.vue_vue_type_style_index_0_lang-475d8bfa.js";import"./index-92811877.js";import"./antd-vue-vendor-a78909e6.js";import"./tinymce-vendor-676f8393.js";import"./lodash-es-vendor-9b741fb8.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-9edfd3ae.js";import"./BasicForm-002087c7.js";import"./BasicForm.vue_vue_type_style_index_0_lang-49e8445e.js";import"./index-32f277d2.js";import"./BasicModal-1cadc5ea.js";import"./useWindowSizeFn-4237c8d5.js";import"./useForm-e1f12926.js";import"./JAddInput-6b7ccad8.js";import"./areaDataUtil-661e31ab.js";import"./useFormItem-abe9ede2.js";import"./JSelectUser-acf556b2.js";import"./props-d8943ba3.js";import"./JSelectBiz-293c9f98.js";import"./index-135dbfab.js";import"./codemirror-vendor-611c4582.js";import"./index-c0e274b6.js";import"./bem-83fa3f8d.js";import"./props-c7c3390f.js";import"./useContextMenu-14663a38.js";import"./depart.api-caf6fd8d.js";import"./JSelectDept-6809f298.js";import"./JPopup-65fb74cb.js";import"./cron-parser-vendor-f7d0e790.js";import"./injectionKey-69710956.js";import"./JUpload.vue_vue_type_style_index_0_lang-f1676f4d.js";import"./download-c96f5ea0.js";import"./base64Conver-fa2fe1af.js";import"./index-111c68e1.js";import"./index-8674e57c.js";import"./useCountdown-9fb9a8c7.js";import"./index-d77affd4.js";const W=o=>S.get({url:"/sys/log/list",params:o}),m=[{title:"日志内容",dataIndex:"logContent",width:100,align:"left"},{title:"操作人ID",dataIndex:"userid",width:80},{title:"操作人",dataIndex:"username",width:80},{title:"IP",dataIndex:"ip",width:80},{title:"耗时(毫秒)",dataIndex:"costTime",width:80},{title:"创建时间",dataIndex:"createTime",sorter:!0,width:80},{title:"日志类型",dataIndex:"logType_dictText",width:60}],A=[...m,{title:"操作类型",dataIndex:"operateType_dictText",width:40}],K=[{field:"keyWord",label:"搜索日志",component:"Input",colProps:{span:8}},{field:"fieldTime",component:"RangePicker",label:"创建时间",componentProps:{valueType:"Date"},colProps:{span:8}}],q={key:0},z={style:{"margin-bottom":"5px"}},E={style:{"vertical-align":"middle"}},F={style:{"vertical-align":"middle"}},H=y({name:"monitor-log"}),Wt=y(g(_({},H),{setup(o){f([]);const t=f(m),e={logType:"1"},{prefixCls:j,tableContext:T}=V({designScope:"user-list",tableProps:{title:"日志列表",api:W,expandRowByClick:!0,showActionColumn:!1,rowSelection:{columnWidth:20},formConfig:{schemas:K,fieldMapToTime:[["fieldTime",["createTime_begin","createTime_end"],"YYYY-MM-DD"]]}}}),[C,{reload:v}]=T;function w(r){e.logType=r,r=="1"?t.value=m:t.value=A,v()}return(r,G)=>{const l=n("a-tab-pane"),I=n("a-tabs"),p=n("a-badge");return h(),Y(x(L),{onRegister:x(C),searchInfo:e,columns:t.value},{tableTitle:s(()=>[i(I,{defaultActiveKey:"1",onChange:w,size:"small"},{default:s(()=>[i(l,{tab:"登录日志",key:"1"}),i(l,{tab:"操作日志",key:"2"})]),_:1})]),expandedRowRender:s(({record:d})=>[e.logType==2?(h(),M("div",q,[a("div",z,[i(p,{status:"success",style:{"vertical-align":"middle"}}),a("span",E,"请求方法:"+b(d.method),1)]),a("div",null,[i(p,{status:"processing",style:{"vertical-align":"middle"}}),a("span",F,"请求参数:"+b(d.requestParam),1)])])):N("",!0)]),_:1},8,["onRegister","columns"])}}}));export{Wt as default};
