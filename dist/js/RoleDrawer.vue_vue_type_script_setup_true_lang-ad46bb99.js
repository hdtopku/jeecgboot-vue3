var v=Object.defineProperty;var d=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var g=(s,r,e)=>r in s?v(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e,w=(s,r)=>{for(var e in r||(r={}))D.call(r,e)&&g(s,e,r[e]);if(d)for(var e of d(r))F.call(r,e)&&g(s,e,r[e]);return s};var f=(s,r,e)=>new Promise((a,c)=>{var l=t=>{try{n(e.next(t))}catch(m){c(m)}},p=t=>{try{n(e.throw(t))}catch(m){c(m)}},n=t=>t.done?a(t.value):Promise.resolve(t.value).then(l,p);n((e=e.apply(s,r)).next())});import{B as R}from"./BasicForm-1b000152.js";import"./componentMap-a38e30ba.js";import{u as y}from"./useForm-885eeddc.js";import"./JAddInput-93656682.js";import"./JSelectUser-88891e09.js";import"./JSelectDept-62570e8c.js";import"./JPopup-0d64514d.js";import"./index-bd4a6237.js";import"./index-04fa66a8.js";import{u as k,B as b}from"./index-d51e5009.js";import{a as x}from"./role.data-39dc48dc.js";import{s as C}from"./role.api-9047e4bc.js";import{d as L,M as O,k as P,e as U,u as i,a5 as A,a9 as S,a7 as V,f as G,ag as I}from"./vue-249e5fad.js";const Z=L({__name:"RoleDrawer",emits:["success","register"],setup(s,{emit:r}){const e=O(),a=P(!0),[c,{setProps:l,resetFields:p,setFieldsValue:n,validate:t}]=y({labelWidth:90,schemas:x,showActionButtonGroup:!1}),[m,{setDrawerProps:u,closeDrawer:h}]=k(o=>f(this,null,function*(){p(),a.value=!!(o!=null&&o.isUpdate),u({confirmLoading:!1}),i(a)&&n(w({},o.record)),l({disabled:!e.showFooter})})),_=U(()=>i(a)?"编辑角色":"新增角色");function B(){return f(this,null,function*(){try{const o=yield t();u({confirmLoading:!0}),yield C(o,a.value),h(),r("success")}finally{u({confirmLoading:!1})}})}return(o,M)=>(A(),S(i(b),I(o.$attrs,{onRegister:i(m),title:_.value,width:"500px",onOk:B,destroyOnClose:""}),{default:V(()=>[G(i(R),{onRegister:i(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Z as _};
