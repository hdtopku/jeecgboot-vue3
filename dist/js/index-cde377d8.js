var b=Object.defineProperty,h=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var s=(o,t,e)=>t in o?b(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,m=(o,t)=>{for(var e in t||(t={}))w.call(t,e)&&s(o,e,t[e]);if(p)for(var e of p(t))x.call(t,e)&&s(o,e,t[e]);return o},l=(o,t)=>h(o,B(t));import D from"./BasicTable-29c6504d.js";import"./componentMap-a6d21ad6.js";import"./BasicTable.vue_vue_type_style_index_0_lang-b7d11241.js";import"./useTable-7e303edd.js";import{g as F,D as S}from"./DataLogCompareModal-b89bed2e.js";import{l as M}from"./jeecg-online-vendor-bf2efbcb.js";import"./index-8cf3aabb.js";import{useListPage as R}from"./useListPage-5049b37a.js";import{E as T}from"./index-fde9c72f.js";import{d as c,k as y,U as k,aV as L,as as P,f as i,bi as d,E as V,u as r}from"./vue-c7e3516e.js";import"./lodash-es-vendor-42c8d3d4.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./BasicForm-83ba9c88.js";import"./BasicForm.vue_vue_type_style_index_0_lang-aeaafe88.js";import"./BasicModal-ff8f2086.js";import"./useWindowSizeFn-e5cad7ae.js";import"./useFormItem-4a12ff45.js";import"./JUpload.vue_vue_type_style_index_0_lang-3f4c90f3.js";import"./download-c8889ed9.js";import"./base64Conver-4e359726.js";import"./index-ee020524.js";import"./index-53e807bd.js";import"./useCountdown-473e4dcc.js";import"./JAddInput-2cbbbde9.js";import"./areaDataUtil-b2642a1f.js";import"./useSelectBiz-c744cf20.js";import"./props-8e8dbf4f.js";import"./index-d4783a30.js";import"./bem-deccd0b6.js";import"./props-c3781b9d.js";import"./useContextMenu-c0be0b5c.js";import"./useTreeBiz-faf9875a.js";import"./index-63ed9c18.js";import"./depart.api-25dc3d39.js";import"./index-ed4be6fa.js";import"./useForm-fa63344e.js";import"./injectionKey-5da932b3.js";const v=[{title:"\u8868\u540D",dataIndex:"dataTable",width:150,align:"left"},{title:"\u6570\u636EID",dataIndex:"dataId",width:350},{title:"\u7248\u672C\u53F7",dataIndex:"dataVersion",width:100},{title:"\u6570\u636E\u5185\u5BB9",dataIndex:"dataContent"},{title:"\u521B\u5EFA\u4EBA",dataIndex:"createBy",sorter:!0,width:200}],A=[{field:"dataTable",label:"\u8868\u540D",component:"Input",colProps:{span:8}},{field:"dataId",label:"\u6570\u636EID",component:"Input",colProps:{span:8}}],N=c({name:"monitor-datalog"}),yt=c(l(m({},N),{setup(o){const[t,{openModal:e}]=T(),{createMessage:u}=M();y([]);const{prefixCls:U,tableContext:f}=R({designScope:"datalog-template",tableProps:{title:"\u6570\u636E\u65E5\u5FD7\u5217\u8868",api:F,columns:v,formConfig:{labelWidth:120,schemas:A},actionColumn:!1}}),[g,{reload:E},{rowSelection:C,selectedRowKeys:j,selectedRows:n}]=f;function I(){let a=n.value;if(!a||a.length!=2)return u.warning("\u8BF7\u9009\u62E9\u4E24\u6761\u6570\u636E!"),!1;if(a[0].dataId!=a[1].dataId)return u.warning("\u8BF7\u9009\u62E9\u76F8\u540C\u7684\u6570\u636E\u5E93\u8868\u548C\u6570\u636EID\u8FDB\u884C\u6BD4\u8F83!"),!1;e(!0,{selectedRows:n,isUpdate:!0})}return(a,K)=>{const _=k("a-button");return L(),P("div",null,[i(r(D),{onRegister:r(g),rowSelection:r(C)},{tableTitle:d(()=>[i(_,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:I,style:{"margin-right":"5px"}},{default:d(()=>[V("\u6570\u636E\u6BD4\u8F83")]),_:1})]),_:1},8,["onRegister","rowSelection"]),i(S,{onRegister:r(t),onSuccess:r(E)},null,8,["onRegister","onSuccess"])])}}}));export{yt as default};
