var P=Object.defineProperty;var f=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var g=(t,o,e)=>o in t?P(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,y=(t,o)=>{for(var e in o||(o={}))w.call(o,e)&&g(t,e,o[e]);if(f)for(var e of f(o))_.call(o,e)&&g(t,e,o[e]);return t};var d=(t,o,e)=>new Promise((m,c)=>{var p=s=>{try{n(e.next(s))}catch(a){c(a)}},u=s=>{try{n(e.throw(s))}catch(a){c(a)}},n=s=>s.done?m(s.value):Promise.resolve(s.value).then(p,u);n((e=e.apply(t,o)).next())});import{B as x}from"./index-e6fa57a7.js";import{B as I}from"./BasicForm-d2f85144.js";import"./componentMap-5472db28.js";import{u as M}from"./useForm-4ff544a2.js";import"./JAddInput-849f5317.js";import"./JSelectUser-5e4ff943.js";import"./JSelectDept-b79e209e.js";import"./JPopup-e5cfe47e.js";import{B as b}from"./index-ef062639.js";import"./cron-parser-vendor-72dafcb0.js";import{b as l}from"./jeecg-online-vendor-4c7dd9e8.js";import{M as U}from"./antd-vue-vendor-a78909e6.js";import{d as k,k as v,u as i,e as F,a5 as T,a9 as L,a7 as R,f as O,ag as S}from"./vue-bcbaddf9.js";const Z=[{title:"职务名称",dataIndex:"name",align:"left"}],ee=[{field:"name",label:"职务名称",component:"Input",colProps:{span:8}}],j=[{label:"主键",field:"id",component:"Input",show:!1},{field:"name",label:"职务名称",component:"Input",required:!0}],te="/sys/position/exportXls",oe="/sys/position/importExcel",se=t=>l.get({url:"/sys/position/list",params:t}),q=(t,o)=>{let e=o?"/sys/position/edit":"/sys/position/add";return l.post({url:e,params:t})},C=t=>l.get({url:"/sys/position/queryById",params:t}),re=(t,o)=>l.delete({url:"/sys/position/delete",data:t},{joinParamsToUrl:!0}).then(()=>{o()}),ie=(t,o)=>{U.confirm({title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>l.delete({url:"/sys/position/deleteBatch",data:t},{joinParamsToUrl:!0}).then(()=>{o()})})},ne=k({__name:"PositionModal",emits:["success","register"],setup(t,{emit:o}){const e=v(!0),[m,{resetFields:c,setFieldsValue:p,validate:u}]=M({schemas:j,showActionButtonGroup:!1}),[n,{setModalProps:s,closeModal:a}]=b(r=>d(this,null,function*(){yield c(),s({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),i(e)&&(r.record=yield C({id:r.record.id}),yield p(y({},r.record)))})),h=F(()=>i(e)?"编辑职务":"新增职务");function B(){return d(this,null,function*(){try{const r=yield u();s({confirmLoading:!0}),yield q(r,e.value),a(),o("success")}finally{s({confirmLoading:!1})}})}return(r,E)=>(T(),L(i(x),S(r.$attrs,{onRegister:i(n),title:h.value,onOk:B,width:700}),{default:R(()=>[O(i(I),{onRegister:i(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{ne as _,te as a,oe as b,Z as c,re as d,ie as e,se as g,ee as s};
