import{d as F,k as w,V as _,a5 as p,a9 as h,al as Q,a7 as e,aa as o,f as r,E as n,ab as u,v as b,A as x,a6 as I,W as v,u as L,am as V,F as R,a8 as U}from"./vue-5a09445c.js";import{_ as q}from"./CommonList.vue_vue_type_script_setup_true_lang-3767fc51.js";import{g as H,s as K}from"./IdeaCrack.api-bddbb3d2.js";import{bq as W,br as G,bs as J}from"./antd-vue-vendor-04f0af1d.js";const M={key:0},P={key:1},X={class:"w-24"},Y=["onClick"],es=F({__name:"IdeaCrackDataList",setup(Z,{expose:O}){const C=w(!1),j=a=>"e.taojingling.cn/jb/"+a,D=a=>{if(a.valid===-1)return a.status===-1?"default":"error";switch(Number.parseInt(a.status)){case 1:return"processing";case 0:return"error"}},t=w("0"),N=w(),B=a=>{var f,l,c;return(a==null?void 0:a.ip)==null?"位置信息采集中...":`${a.operator}-`+(((f=a==null?void 0:a.country)==null?void 0:f.indexOf("中国"))>-1||((c=(l=a==null?void 0:a.country)==null?void 0:l.toUpperCase())==null?void 0:c.indexOf("CHINA"))>-1?"":a==null?void 0:a.country)+a.province+a.city+a.county},S=a=>a.model+" | "+a.system+" | "+a.browser,T=(a,f)=>{a.valid=f,K(a,!0).then(()=>{})};return O({startQuery:(a={})=>{t.value=a==null?void 0:a.status,N.value.execQuery(H,a)},changeAdvanced:()=>{C.value=!C.value}}),(a,f)=>{const l=_("a-typography-text"),c=_("a-tag"),$=_("a-popover"),A=_("a-button"),z=_("a-menu-item"),E=_("a-menu");return p(),h(q,{ref_key:"CommonListRef",ref:N},Q({header:e(()=>[b(r(l,{mark:""},{default:e(()=>[n("关黑屋，激活码会失效")]),_:1},512),[[x,t.value==="-100"]]),b(r(l,{mark:""},{default:e(()=>[n("重点观察，激活码不会失效")]),_:1},512),[[x,t.value==="-90"]]),b(r(l,{mark:""},{default:e(()=>[n("激活码会失效")]),_:1},512),[[x,t.value==="-10"]]),b(r(l,{mark:""},{default:e(()=>[n("按提取次数倒排")]),_:1},512),[[x,t.value==="90"]]),b(r(l,{mark:""},{default:e(()=>[n(" 按更新时间倒排 ")]),_:1},512),[[x,t.value!=="-100"&&t.value!=="-90"&&t.value!=="-10"&&t.value!=="90"]])]),top:e(({item:s})=>{var y,d,g;return[((y=s==null?void 0:s.sysIps)==null?void 0:y.length)>0?(p(),I("div",M,[n(u(B(s==null?void 0:s.sysIps[0]))+" ",1),C.value?(p(),h(l,{key:0,copyable:""},{default:e(()=>{var k;return[n(u((k=s==null?void 0:s.sysIps[0])==null?void 0:k.ip),1)]}),_:2},1024)):v("",!0)])):v("",!0),((d=s==null?void 0:s.sysIps)==null?void 0:d.length)>0?(p(),I("div",P,u(S(s==null?void 0:s.sysIps[0])),1)):v("",!0),o("div",null,[r(c,{color:D(s)},{icon:e(()=>[s.valid===-1?(p(),h(L(W),{key:0})):v("",!0),s.valid===0&&s.status===-1?(p(),h(L(G),{key:1})):v("",!0),s.valid===0&&s.status===1?(p(),h(L(J),{key:2,spin:!0})):v("",!0)]),default:e(()=>[n(" "+u(s==null?void 0:s.statusName),1)]),_:2},1032,["color"]),o("span",{class:V(s.valid===-1||s.status===-1?"line-through text-red-300":"text-red-500")},u((g=s==null?void 0:s.openTime)==null?void 0:g.substring(5)),3)])]}),left:e(({item:s,index:y})=>[o("div",X,[o("div",null,[r($,{placement:"right"},{content:e(()=>[(p(!0),I(R,null,U(s==null?void 0:s.sysIps,(d,g)=>(p(),I("div",{key:g},[r(l,{copyable:""},{default:e(()=>[o("div",null,[n(u(B(d))+" | ",1),r(l,{copyable:""},{default:e(()=>{var k;return[n(u((k=s==null?void 0:s.sysIps[0])==null?void 0:k.ip),1)]}),_:2},1024)]),o("span",null,u(S(d)),1)]),_:2},1024)]))),128))]),default:e(()=>{var d;return[o("a",{href:"javascript:;",onClick:g=>a.showSysIpInfo(s)},u((d=s==null?void 0:s.sysIps)==null?void 0:d.length)+"个设备",9,Y)]}),_:2},1024)]),r(l,{copyable:{text:j(s==null?void 0:s.code)}},{default:e(()=>[o("span",{class:V(["",(s==null?void 0:s.valid)===-1?"text-gray-500 line-through":"text-purple-900 font-medium"])},u(s==null?void 0:s.code),3)]),_:2},1032,["copyable"])])]),operate:e(({item:s,index:y})=>[r(E,null,{default:e(()=>[r(z,null,{default:e(()=>[r(A,{type:"link",size:"small",danger:"",onClick:d=>T(s,-1)},{default:e(()=>[n(" 销毁链接 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},[C.value?{name:"bottom",fn:e(({item:s,index:y})=>[o("div",null,[r(c,null,{default:e(()=>[n(u(s==null?void 0:s.createBy)+"创建",1)]),_:2},1024),n(u(s==null?void 0:s.createTime.substring(5)),1)]),o("div",null,[r(c,null,{default:e(()=>[n(u(s==null?void 0:s.updateBy)+"更新",1)]),_:2},1024),n(u(s==null?void 0:s.updateTime.substring(5)),1)])]),key:"0"}:void 0]),1536)}}});export{es as _};
