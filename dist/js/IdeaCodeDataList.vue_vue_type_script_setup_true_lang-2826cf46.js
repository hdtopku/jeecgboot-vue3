import{_ as H}from"./CommonList.vue_vue_type_script_setup_true_lang-c55119cb.js";import{g as K,s as W,a as G}from"./IdeaCode.api-df4fe73a.js";import{a2 as M,a3 as P,a4 as X}from"./antd-vue-vendor-a78909e6.js";import{d as Y,k as N,g as Z,e as i,V as d,a5 as t,a6 as b,aa as o,f as r,a7 as s,E as n,al as m,ab as u,a9 as f,W as p,u as w,am as O,F as V,a8 as ee}from"./vue-bcbaddf9.js";const ae={class:"text-center mb-2"},se={key:2},ne={key:3},re={class:"w-24"},ue=["onClick"],pe=Y({__name:"IdeaCodeDataList",setup(oe,{expose:z}){var L;const _=N(1);_.value=JSON.parse((L=localStorage.getItem("ideaButtonType"))!=null?L:"1");let S=Z();const F=i(()=>{var a;switch(localStorage.setItem("ideaButtonType",JSON.stringify(_.value)),(a=S==null?void 0:S.proxy)==null||a.bus.emit("changeCodeType",_.value),_.value){case 1:return"error";case 6:return"warning";case 8:return"success";default:return"primary"}}),k=N(!1),$=a=>a.type===6?"e.taojingling.cn/jjh/"+a.code:a.type===8?"e.taojingling.cn/jzh/"+a.code:"e.taojingling.cn/jcj/"+a.code,D=a=>{if(a.valid===-1)return a.status===-1?"default":"error";switch(Number.parseInt(a.status)){case 1:return"processing";case 0:return"error"}},U=N("0"),x=N(),B=a=>{var l,y,I;return(a==null?void 0:a.ip)==null?"位置信息采集中...":`${a.operator}-`+(((l=a==null?void 0:a.country)==null?void 0:l.indexOf("中国"))>-1||((I=(y=a==null?void 0:a.country)==null?void 0:y.toUpperCase())==null?void 0:I.indexOf("CHINA"))>-1?"":a==null?void 0:a.country)+a.province+a.city+a.county},T=a=>a.model+" | "+a.system+" | "+a.browser,q=(a,l)=>{a.valid=l,W(a,!0).then(()=>{})},A=a=>{a.type=_.value,G(a,l=>{x.value.queryFinish(l)},()=>{x.value.queryFinish()})};return z({startQuery:(a={})=>{U.value=a==null?void 0:a.status,x.value.execQuery(K,a)},changeAdvanced:()=>{k.value=!k.value}}),(a,l)=>{const y=d("a-radio-button"),I=d("a-radio-group"),v=d("a-tag"),j=d("a-typography-text"),E=d("a-popover"),J=d("a-button"),Q=d("a-menu-item"),R=d("a-menu");return t(),b(V,null,[o("div",ae,[r(I,{value:_.value,"onUpdate:value":l[0]||(l[0]=e=>_.value=e),"button-style":"solid"},{default:s(()=>[r(y,{value:6},{default:s(()=>[n("jh激活码激活")]),_:1}),r(y,{value:1},{default:s(()=>[n("cj插件激活")]),_:1}),r(y,{value:8},{default:s(()=>[n("zh账号激活")]),_:1})]),_:1},8,["value"])]),r(H,{ref_key:"CommonListRef",ref:x,onConfirmCopy:A,"button-color":F.value},m({top:s(({item:e})=>{var g,c,h;return[e.type===6?(t(),f(v,{key:0,color:"warning"},{default:s(()=>[n("激活码激活")]),_:1})):p("",!0),e.type===1?(t(),f(v,{key:1,color:"#f50"},{default:s(()=>[n("插件激活")]),_:1})):p("",!0),r(v,{color:D(e)},{icon:s(()=>[e.valid===-1?(t(),f(w(M),{key:0})):p("",!0),e.valid===0&&e.status===-1?(t(),f(w(P),{key:1})):p("",!0),e.valid===0&&e.status===1?(t(),f(w(X),{key:2,spin:!0})):p("",!0)]),default:s(()=>[n(" "+u(e==null?void 0:e.statusName),1)]),_:2},1032,["color"]),((g=e==null?void 0:e.sysIps)==null?void 0:g.length)>0?(t(),b("div",se,[n(" 位置："+u(B(e==null?void 0:e.sysIps[0]))+" ",1),k.value?(t(),f(j,{key:0,copyable:""},{default:s(()=>{var C;return[n(u((C=e==null?void 0:e.sysIps[0])==null?void 0:C.ip),1)]}),_:2},1024)):p("",!0)])):p("",!0),((c=e==null?void 0:e.sysIps)==null?void 0:c.length)>0?(t(),b("div",ne," 系统："+u(T(e==null?void 0:e.sysIps[0])),1)):p("",!0),o("div",null,[o("span",null,[n(" 打开："),o("span",{class:O(e.valid===-1||e.status===-1?"line-through text-red-300":"text-red-500")},u((h=e==null?void 0:e.openTime)==null?void 0:h.substring(5)),3)])])]}),left:s(({item:e,index:g})=>[o("div",re,[o("div",null,[r(E,{placement:"right"},{content:s(()=>[(t(!0),b(V,null,ee(e==null?void 0:e.sysIps,(c,h)=>(t(),b("div",{key:h},[r(j,{copyable:""},{default:s(()=>[o("div",null,[n(u(B(c))+" | ",1),r(j,{copyable:""},{default:s(()=>{var C;return[n(u((C=e==null?void 0:e.sysIps[0])==null?void 0:C.ip),1)]}),_:2},1024)]),o("span",null,u(T(c)),1)]),_:2},1024)]))),128))]),default:s(()=>{var c;return[o("a",{href:"javascript:;",onClick:h=>a.showSysIpInfo(e)},u((c=e==null?void 0:e.sysIps)==null?void 0:c.length)+"个设备",9,ue)]}),_:2},1024)]),r(j,{copyable:{text:$(e)}},{default:s(()=>[o("span",{class:O(["",(e==null?void 0:e.valid)===-1?"text-gray-500 line-through":"text-purple-900 font-medium"])},u(e==null?void 0:e.code),3)]),_:2},1032,["copyable"])])]),operate:s(({item:e,index:g})=>[r(R,null,{default:s(()=>[r(Q,null,{default:s(()=>[r(J,{type:"link",size:"small",danger:"",onClick:c=>q(e,-1)},{default:s(()=>[n(" 销毁链接 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),header:s(()=>[]),_:2},[k.value?{name:"bottom",fn:s(({item:e,index:g})=>[o("div",null,[r(v,null,{default:s(()=>[n(u(e==null?void 0:e.createBy)+"创建",1)]),_:2},1024),n(u(e==null?void 0:e.createTime.substring(5)),1)]),o("div",null,[r(v,null,{default:s(()=>[n(u(e==null?void 0:e.updateBy)+"更新",1)]),_:2},1024),n(u(e==null?void 0:e.updateTime.substring(5)),1)])]),key:"0"}:void 0]),1032,["button-color"])],64)}}});export{pe as _};
