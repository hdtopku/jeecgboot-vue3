var F=(_,D,s)=>new Promise((U,g)=>{var T=d=>{try{y(s.next(d))}catch(c){g(c)}},M=d=>{try{y(s.throw(d))}catch(c){g(c)}},y=d=>d.done?U(d.value):Promise.resolve(d.value).then(T,M);y((s=s.apply(_,D)).next())});import{d as ge,k as f,e as ve,r as I,w as ye,u as l,V as r,a5 as S,a6 as $,ac as be,f as e,a7 as t,F as he,W as B,aa as R,E as u,ab as z,a9 as xe,am as Ce,J as we,ap as ke,aq as Ie}from"./vue-bcbaddf9.js";import Se from"./BasicTable-fcd1c2f6.js";import{Q as Re}from"./componentMap-5472db28.js";import{u as De}from"./useTable-40b7bea5.js";import"./index-e6fa57a7.js";import{g as A,a as Ue,_ as Te,b as Me,c as je,s as Ke,d as qe,e as Fe}from"./DemoModal.vue_vue_type_script_setup_true_lang-596267a4.js";import{x as $e}from"./JImportModal-2210a65a.js";import{t as O}from"./JAddInput-849f5317.js";import{j as Be,D as Ee}from"./jeecg-online-vendor-4c7dd9e8.js";import{af as Ne,z as Q,n as Ve}from"./index-ef062639.js";import"./BasicTable.vue_vue_type_style_index_0_lang-e32afa38.js";import"./BasicForm-d2f85144.js";import"./BasicForm.vue_vue_type_style_index_0_lang-c596a48f.js";import"./antd-vue-vendor-a78909e6.js";import"./tinymce-vendor-676f8393.js";import"./lodash-es-vendor-9b741fb8.js";import"./BasicModal-b9dfb9c9.js";import"./useWindowSizeFn-4316be19.js";import"./vxe-table-vendor-9edfd3ae.js";import"./echarts-vendor-6c8e2159.js";import"./useForm-4ff544a2.js";import"./JSelectUser-5e4ff943.js";import"./props-5ad34154.js";import"./JSelectBiz-b438819c.js";import"./useFormItem-bc62ffd6.js";import"./JSelectDept-b79e209e.js";import"./index-dcbe7ec1.js";import"./bem-8d031494.js";import"./props-c7c3390f.js";import"./useContextMenu-7fba3ffd.js";import"./JPopup-e5cfe47e.js";import"./cron-parser-vendor-72dafcb0.js";import"./injectionKey-69710956.js";import"./JUpload.vue_vue_type_style_index_0_lang-fcb7ac94.js";import"./download-7d5126c9.js";import"./base64Conver-fa2fe1af.js";import"./index-d222df61.js";import"./index-650df531.js";import"./useCountdown-ccba1d82.js";import"./areaDataUtil-661e31ab.js";import"./index-a3940ca4.js";import"./codemirror-vendor-611c4582.js";import"./depart.api-3486a13f.js";import"./index-f8b5188e.js";import"./renderUtils-54680796.js";const Y=_=>(ke("data-v-ef347cb7"),_=_(),Ie(),_),ze=["onKeyup"],Ae=Y(()=>R("span",null,"~",-1)),Oe={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},Qe=Y(()=>R("span",null,"~",-1)),Ye=ge({__name:"index",setup(_){const D=Ne(),s=f([]),[U,{openModal:g}]=Q(),[T,{openModal:M}]=Q(),{handleExportXls:y,handleImportXls:d}=Be(),c=f(),j=f(),w=f(!1),[J,{reload:v,setProps:E}]=De({title:"单表示例",api:Me,columns:je,formConfig:{schemas:Ke,fieldMapToTime:[["birthday",["birthday_begin","birthday_end"],"YYYY-MM-DD"]],fieldMapToNumber:[["age",["age_begin","age_end"]]],autoAdvancedCol:2,actionColOptions:{style:{textAlign:"left"}}},defSort:{column:"createTime,sex",order:"desc"},striped:!0,useSearchForm:!0,showTableSetting:!0,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,tableSetting:{fullScreen:!0},canResize:!1,rowKey:"id",actionColumn:{width:180,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),P={type:"checkbox",columnWidth:40,selectedRowKeys:s,onChange:G};function L(){M(!0)}const W=ve(()=>{let a={};return s.value&&s.value.length>0&&(a.selections=s.value.join(",")),Ve(a)});function X(a){return[{label:"编辑",onClick:Z.bind(null,a)},{label:"详情",onClick:ee.bind(null,a)},{label:"删除",popConfirm:{title:"是否确认删除",confirm:te.bind(null,a)}}]}function G(a){s.value=a}function H(){w.value=!1,g(!0,{isUpdate:!1})}function Z(a){w.value=!1,g(!0,{record:a,isUpdate:!0})}function ee(a){w.value=!0,g(!0,{record:a,isUpdate:!0})}function te(a){return F(this,null,function*(){yield qe({id:a.id},v)})}function oe(){return F(this,null,function*(){yield Fe({ids:s.value},v)})}function N(a,o){a[o]=[l(c),l(j)]}function ae(){D("/comp/jeecg/basic")}f();const ne=I({xs:{span:24},sm:{span:7}}),le=I({xs:{span:24},sm:{span:16}}),b=f(!1),m=f(!1),i=I({name:"",age_begin:"",age_end:"",sex:"",id:""});ye(m,()=>{E({useSearchForm:!l(m)})});function K(){E({searchInfo:we(i)}),v()}function ie(){Object.assign(i,{name:"",age_begin:"",age_end:"",sex:"",id:""}),v()}const se=I({name:{title:"名称",view:"text",type:"string",order:1},sex:{title:"性别",view:"list",type:"string",dictCode:"sex",order:2}});function re(a){Object.keys(a).map(o=>{i[o]=a[o]}),K()}return(a,o)=>{const h=r("a-input"),k=r("a-form-item"),x=r("a-col"),p=r("a-button"),q=r("Icon"),ue=r("a-row"),pe=r("a-form"),de=r("a-upload"),ce=r("super-query"),me=r("a-menu-item"),fe=r("a-menu"),_e=r("a-dropdown");return S(),$("div",null,[m.value?(S(),$("div",{key:0,class:"jeecg-basic-table-form-container",onKeyup:be(K,["enter"])},[e(pe,{ref:"formRef",model:i,"label-col":ne,"wrapper-col":le},{default:t(()=>[e(ue,{gutter:24},{default:t(()=>[e(x,{lg:8},{default:t(()=>[e(k,{label:"用户名"},{default:t(()=>[e(h,{placeholder:"请输入名称模糊查询",value:i.name,"onUpdate:value":o[0]||(o[0]=n=>i.name=n)},null,8,["value"])]),_:1})]),_:1}),e(x,{lg:8},{default:t(()=>[e(k,{label:"年龄"},{default:t(()=>[e(h,{placeholder:"最小年龄",type:"ge",value:i.age_begin,"onUpdate:value":o[1]||(o[1]=n=>i.age_begin=n),style:{width:"calc(50% - 15px)"}},null,8,["value"]),Ae,e(h,{placeholder:"最大年龄",type:"le",value:i.age_end,"onUpdate:value":o[2]||(o[2]=n=>i.age_end=n),style:{width:"calc(50% - 15px)"}},null,8,["value"])]),_:1})]),_:1}),b.value?(S(),$(he,{key:0},[e(x,{lg:8},{default:t(()=>[e(k,{label:"性别"},{default:t(()=>[e(O,{value:i.sex,"onUpdate:value":o[3]||(o[3]=n=>i.sex=n),placeholder:"请选择性别",dictCode:"sex"},null,8,["value"])]),_:1})]),_:1}),e(x,{lg:8},{default:t(()=>[e(k,{label:"选择用户"},{default:t(()=>[e(O,{value:i.id,"onUpdate:value":o[4]||(o[4]=n=>i.id=n),placeholder:"请选择用户",dictCode:"demo,name,id"},null,8,["value"])]),_:1})]),_:1})],64)):B("",!0),R("span",Oe,[e(x,{lg:6},{default:t(()=>[e(p,{type:"primary",preIcon:"ant-design:search-outlined",onClick:K},{default:t(()=>[u("查询")]),_:1}),e(p,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:ie,style:{"margin-left":"8px"}},{default:t(()=>[u("重置")]),_:1}),R("a",{onClick:o[5]||(o[5]=n=>b.value=!b.value),style:{"margin-left":"8px"}},[u(z(b.value?"收起":"展开")+" ",1),e(q,{icon:b.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1},8,["model","label-col","wrapper-col"])],40,ze)):B("",!0),e(l(Se),{onRegister:l(J),rowSelection:P,class:Ce({"p-4":m.value})},{"form-age":t(({model:n,field:V})=>[e(h,{placeholder:"最小年龄",type:"ge",value:c.value,"onUpdate:value":o[6]||(o[6]=C=>c.value=C),style:{width:"calc(50% - 15px)"},onChange:C=>N(n,V)},null,8,["value","onChange"]),Qe,e(h,{placeholder:"最大年龄",type:"le",value:j.value,"onUpdate:value":o[7]||(o[7]=C=>j.value=C),style:{width:"calc(50% - 15px)"},onChange:C=>N(n,V)},null,8,["value","onChange"])]),tableTitle:t(()=>[e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:H},{default:t(()=>[u("新增")]),_:1}),e(de,{name:"file",showUploadList:!1,customRequest:n=>l(d)(n,l(A),l(v))},{default:t(()=>[e(p,{preIcon:"ant-design:import-outlined",type:"primary"},{default:t(()=>[u("导入")]),_:1})]),_:1},8,["customRequest"]),e(p,{preIcon:"ant-design:export-outlined",type:"primary",onClick:o[8]||(o[8]=n=>l(y)("单表示例",l(Ue),W.value))},{default:t(()=>[u("导出")]),_:1}),e(p,{preIcon:"ant-design:filter",type:"primary",onClick:o[9]||(o[9]=()=>{})},{default:t(()=>[u("高级查询")]),_:1}),e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:ae},{default:t(()=>[u("打开Tab页")]),_:1}),e(p,{preIcon:"ant-design:retweet-outlined",type:"primary",onClick:o[10]||(o[10]=n=>m.value=!m.value)},{default:t(()=>[u(z(m.value?"表单配置查询":"自定义查询"),1)]),_:1}),e(p,{preIcon:"ant-design:import-outlined",type:"primary",onClick:L},{default:t(()=>[u("弹窗导入")]),_:1}),e(ce,{config:se,onSearch:re},null,8,["config"]),s.value.length>0?(S(),xe(_e,{key:0},{overlay:t(()=>[e(fe,null,{default:t(()=>[e(me,{key:"1",onClick:oe},{default:t(()=>[e(q,{icon:"ant-design:delete-outlined"}),u(" 删除 ")]),_:1})]),_:1})]),default:t(()=>[e(p,null,{default:t(()=>[u("批量操作 "),e(q,{style:{fontsize:"12px"},icon:"ant-design:down-outlined"})]),_:1})]),_:1})):B("",!0)]),action:t(({record:n})=>[e(l(Re),{actions:X(n)},null,8,["actions"])]),_:1},8,["onRegister","class"]),e(Te,{onRegister:l(U),onSuccess:l(v),isDisabled:w.value},null,8,["onRegister","onSuccess","isDisabled"]),e($e,{onRegister:l(T),url:l(A),online:""},null,8,["onRegister","url"])])}}});const Et=Ee(Ye,[["__scopeId","data-v-ef347cb7"]]);export{Et as default};
