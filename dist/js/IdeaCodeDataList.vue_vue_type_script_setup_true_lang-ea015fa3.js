import{_ as G}from"./CommonList.vue_vue_type_script_setup_true_lang-efa28f6b.js";import{g as H,s as K,a as M}from"./IdeaCode.api-767cc8fc.js";import{k as P}from"./antd-vue-vendor-cce59da1.js";import{G as W,S as X}from"./jeecg-online-vendor-88d7be55.js";import{d as Y,k as S,g as Z,e as i,U as d,a5 as t,a6 as k,aa as u,f as r,a7 as s,E as n,al as m,ab as o,a9 as f,V as p,u as w,am as O,F as V,a8 as ee}from"./vue-705b7309.js";const ae={class:"text-center mb-2"},se={key:2},ne={key:3},re={class:"w-24"},oe=["onClick"],_e=Y({__name:"IdeaCodeDataList",setup(ue,{expose:z}){var L;const _=S(1);_.value=JSON.parse((L=localStorage.getItem("ideaButtonType"))!=null?L:"1");let N=Z();const F=i(()=>{var a;switch(localStorage.setItem("ideaButtonType",JSON.stringify(_.value)),(a=N==null?void 0:N.proxy)==null||a.bus.emit("changeCodeType",_.value),_.value){case 1:return"error";case 6:return"warning";case 8:return"success";default:return"primary"}}),b=S(!1),U=a=>a.type===6?"e.taojingling.cn/jjh/"+a.code:a.type===8?"e.taojingling.cn/jzh/"+a.code:"e.taojingling.cn/jcj/"+a.code,$=a=>{if(a.valid===-1)return a.status===-1?"default":"error";switch(Number.parseInt(a.status)){case 1:return"processing";case 0:return"error"}},D=S("0"),x=S(),B=a=>{var l,y,I;return(a==null?void 0:a.ip)==null?"位置信息采集中...":`${a.operator}-`+(((l=a==null?void 0:a.country)==null?void 0:l.indexOf("中国"))>-1||((I=(y=a==null?void 0:a.country)==null?void 0:y.toUpperCase())==null?void 0:I.indexOf("CHINA"))>-1?"":a==null?void 0:a.country)+a.province+a.city+a.county},T=a=>a.model+" | "+a.system+" | "+a.browser,q=(a,l)=>{a.valid=l,K(a,!0).then(()=>{})},A=a=>{a.type=_.value,M(a,l=>{x.value.queryFinish(l)},()=>{x.value.queryFinish()})};return z({startQuery:(a={})=>{D.value=a==null?void 0:a.status,x.value.execQuery(H,a)},changeAdvanced:()=>{b.value=!b.value}}),(a,l)=>{const y=d("a-radio-button"),I=d("a-radio-group"),v=d("a-tag"),j=d("a-typography-text"),E=d("a-popover"),J=d("a-button"),Q=d("a-menu-item"),R=d("a-menu");return t(),k(V,null,[u("div",ae,[r(I,{value:_.value,"onUpdate:value":l[0]||(l[0]=e=>_.value=e),"button-style":"solid"},{default:s(()=>[r(y,{value:6},{default:s(()=>[n("jh激活码激活")]),_:1}),r(y,{value:1},{default:s(()=>[n("cj插件激活")]),_:1}),r(y,{value:8},{default:s(()=>[n("zh账号激活")]),_:1})]),_:1},8,["value"])]),r(G,{ref_key:"CommonListRef",ref:x,onConfirmCopy:A,"button-color":F.value},m({top:s(({item:e})=>{var g,c,h;return[e.type===6?(t(),f(v,{key:0,color:"warning"},{default:s(()=>[n("激活码激活")]),_:1})):p("",!0),e.type===1?(t(),f(v,{key:1,color:"#f50"},{default:s(()=>[n("插件激活")]),_:1})):p("",!0),r(v,{color:$(e)},{icon:s(()=>[e.valid===-1?(t(),f(w(W),{key:0})):p("",!0),e.valid===0&&e.status===-1?(t(),f(w(P),{key:1})):p("",!0),e.valid===0&&e.status===1?(t(),f(w(X),{key:2,spin:!0})):p("",!0)]),default:s(()=>[n(" "+o(e==null?void 0:e.statusName),1)]),_:2},1032,["color"]),((g=e==null?void 0:e.sysIps)==null?void 0:g.length)>0?(t(),k("div",se,[n(" 位置："+o(B(e==null?void 0:e.sysIps[0]))+" ",1),b.value?(t(),f(j,{key:0,copyable:""},{default:s(()=>{var C;return[n(o((C=e==null?void 0:e.sysIps[0])==null?void 0:C.ip),1)]}),_:2},1024)):p("",!0)])):p("",!0),((c=e==null?void 0:e.sysIps)==null?void 0:c.length)>0?(t(),k("div",ne," 系统："+o(T(e==null?void 0:e.sysIps[0])),1)):p("",!0),u("div",null,[u("span",null,[n(" 打开："),u("span",{class:O(e.valid===-1||e.status===-1?"line-through text-red-300":"text-red-500")},o((h=e==null?void 0:e.openTime)==null?void 0:h.substring(5)),3)])])]}),left:s(({item:e,index:g})=>[u("div",re,[u("div",null,[r(E,{placement:"right"},{content:s(()=>[(t(!0),k(V,null,ee(e==null?void 0:e.sysIps,(c,h)=>(t(),k("div",{key:h},[r(j,{copyable:""},{default:s(()=>[u("div",null,[n(o(B(c))+" | ",1),r(j,{copyable:""},{default:s(()=>{var C;return[n(o((C=e==null?void 0:e.sysIps[0])==null?void 0:C.ip),1)]}),_:2},1024)]),u("span",null,o(T(c)),1)]),_:2},1024)]))),128))]),default:s(()=>{var c;return[u("a",{href:"javascript:;",onClick:h=>a.showSysIpInfo(e)},o((c=e==null?void 0:e.sysIps)==null?void 0:c.length)+"个设备",9,oe)]}),_:2},1024)]),r(j,{copyable:{text:U(e)}},{default:s(()=>[u("span",{class:O(["",(e==null?void 0:e.valid)===-1?"text-gray-500 line-through":"text-purple-900 font-medium"])},o(e==null?void 0:e.code),3)]),_:2},1032,["copyable"])])]),operate:s(({item:e,index:g})=>[r(R,null,{default:s(()=>[r(Q,null,{default:s(()=>[r(J,{type:"link",size:"small",danger:"",onClick:c=>q(e,-1)},{default:s(()=>[n(" 销毁链接 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),header:s(()=>[]),_:2},[b.value?{name:"bottom",fn:s(({item:e,index:g})=>[u("div",null,[r(v,null,{default:s(()=>[n(o(e==null?void 0:e.createBy)+"创建",1)]),_:2},1024),n(o(e==null?void 0:e.createTime.substring(5)),1)]),u("div",null,[r(v,null,{default:s(()=>[n(o(e==null?void 0:e.updateBy)+"更新",1)]),_:2},1024),n(o(e==null?void 0:e.updateTime.substring(5)),1)])]),key:"0"}:void 0]),1032,["button-color"])],64)}}});export{_e as _};
