var M=(_,D,i)=>new Promise((I,g)=>{var S=d=>{try{y(i.next(d))}catch(c){g(c)}},A=d=>{try{y(i.throw(d))}catch(c){g(c)}},y=d=>d.done?I(d.value):Promise.resolve(d.value).then(S,A);y((i=i.apply(_,D)).next())});import{d as ge,k as f,e as ve,r as E,w as ye,u as l,U as s,aV as B,as as K,bz as be,f as e,bi as t,F as Ce,V as j,at as k,E as r,ag as q,ar as he,ad as xe,J as Fe,aX as we,aW as Ee}from"./vue-c7e3516e.js";import Be from"./BasicTable-04058a09.js";import{T as ke}from"./componentMap-90ab712d.js";import"./BasicTable.vue_vue_type_style_index_0_lang-3c8b8bcc.js";import{u as De}from"./useTable-7c8820b4.js";import"./index-a882524d.js";import{g as Ie,c as Se,s as Ae,a as N,b as Te,_ as Re,d as Ue,e as Me}from"./DemoModal.vue_vue_type_script_setup_true_lang-d81712a3.js";import{J as Ke}from"./JImportModal-32bae579.js";import{e as z}from"./JAddInput-dff0b84f.js";import{aK as je,_ as Je}from"./jeecg-online-vendor-12004772.js";import{as as Ve,E as O,m as $e}from"./index-6916e394.js";import"./lodash-es-vendor-42c8d3d4.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./BasicForm-030e7c21.js";import"./BasicForm.vue_vue_type_style_index_0_lang-8cb333b2.js";import"./BasicModal-b901e352.js";import"./useWindowSizeFn-581ed1a8.js";import"./useFormItem-cc50e63d.js";import"./JUpload.vue_vue_type_style_index_0_lang-5851070a.js";import"./download-fc124faf.js";import"./base64Conver-4e359726.js";import"./index-d83c9bcd.js";import"./index-6d615beb.js";import"./useCountdown-61c82faf.js";import"./areaDataUtil-13d415af.js";import"./useSelectBiz-f95680cd.js";import"./props-18305405.js";import"./index-3ce15f67.js";import"./bem-2be191b9.js";import"./props-c3781b9d.js";import"./useContextMenu-1b1215cd.js";import"./useTreeBiz-cda2af6e.js";import"./index-c5567c31.js";import"./depart.api-de6ffddd.js";import"./index-fcc2460e.js";import"./useForm-ae9e1cbd.js";import"./injectionKey-5da932b3.js";import"./renderUtils-d120321f.js";const Y=_=>(we("data-v-ef347cb7"),_=_(),Ee(),_),qe=["onKeyup"],Ne=Y(()=>k("span",null,"~",-1)),ze={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},Oe=Y(()=>k("span",null,"~",-1)),Ye=ge({__name:"index",setup(_){const D=Ve(),i=f([]),[I,{openModal:g}]=O(),[S,{openModal:A}]=O(),{handleExportXls:y,handleImportXls:d}=je(),c=f(),T=f(),F=f(!1),[P,{reload:v,setProps:J}]=De({title:"\u5355\u8868\u793A\u4F8B",api:Ie,columns:Se,formConfig:{schemas:Ae,fieldMapToTime:[["birthday",["birthday_begin","birthday_end"],"YYYY-MM-DD"]],fieldMapToNumber:[["age",["age_begin","age_end"]]],autoAdvancedCol:2,actionColOptions:{style:{textAlign:"left"}}},defSort:{column:"createTime,sex",order:"desc"},striped:!0,useSearchForm:!0,showTableSetting:!0,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,tableSetting:{fullScreen:!0},canResize:!1,rowKey:"id",actionColumn:{width:180,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),Q={type:"checkbox",columnWidth:40,selectedRowKeys:i,onChange:G};function X(){A(!0)}const L=ve(()=>{let a={};return i.value&&i.value.length>0&&(a.selections=i.value.join(",")),$e(a)});function W(a){return[{label:"\u7F16\u8F91",onClick:Z.bind(null,a)},{label:"\u8BE6\u60C5",onClick:ee.bind(null,a)},{label:"\u5220\u9664",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",confirm:te.bind(null,a)}}]}function G(a){i.value=a}function H(){F.value=!1,g(!0,{isUpdate:!1})}function Z(a){F.value=!1,g(!0,{record:a,isUpdate:!0})}function ee(a){F.value=!0,g(!0,{record:a,isUpdate:!0})}function te(a){return M(this,null,function*(){yield Ue({id:a.id},v)})}function oe(){return M(this,null,function*(){yield Me({ids:i.value},v)})}function V(a,o){a[o]=[l(c),l(T)]}function ae(){D("/comp/jeecg/basic")}f();const ne=E({xs:{span:24},sm:{span:7}}),le=E({xs:{span:24},sm:{span:16}}),b=f(!1),m=f(!1),u=E({name:"",age_begin:"",age_end:"",sex:"",id:""});ye(m,()=>{J({useSearchForm:!l(m)})});function R(){J({searchInfo:Fe(u)}),v()}function ue(){Object.assign(u,{name:"",age_begin:"",age_end:"",sex:"",id:""}),v()}const ie=E({name:{title:"\u540D\u79F0",view:"text",type:"string",order:1},sex:{title:"\u6027\u522B",view:"list",type:"string",dictCode:"sex",order:2}});function se(a){Object.keys(a).map(o=>{u[o]=a[o]}),R()}return(a,o)=>{const C=s("a-input"),w=s("a-form-item"),h=s("a-col"),p=s("a-button"),U=s("Icon"),re=s("a-row"),pe=s("a-form"),de=s("a-upload"),ce=s("super-query"),me=s("a-menu-item"),fe=s("a-menu"),_e=s("a-dropdown");return B(),K("div",null,[m.value?(B(),K("div",{key:0,class:"jeecg-basic-table-form-container",onKeyup:be(R,["enter"])},[e(pe,{ref:"formRef",model:u,"label-col":ne,"wrapper-col":le},{default:t(()=>[e(re,{gutter:24},{default:t(()=>[e(h,{lg:8},{default:t(()=>[e(w,{label:"\u7528\u6237\u540D"},{default:t(()=>[e(C,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0\u6A21\u7CCA\u67E5\u8BE2",value:u.name,"onUpdate:value":o[0]||(o[0]=n=>u.name=n)},null,8,["value"])]),_:1})]),_:1}),e(h,{lg:8},{default:t(()=>[e(w,{label:"\u5E74\u9F84"},{default:t(()=>[e(C,{placeholder:"\u6700\u5C0F\u5E74\u9F84",type:"ge",value:u.age_begin,"onUpdate:value":o[1]||(o[1]=n=>u.age_begin=n),style:{width:"calc(50% - 15px)"}},null,8,["value"]),Ne,e(C,{placeholder:"\u6700\u5927\u5E74\u9F84",type:"le",value:u.age_end,"onUpdate:value":o[2]||(o[2]=n=>u.age_end=n),style:{width:"calc(50% - 15px)"}},null,8,["value"])]),_:1})]),_:1}),b.value?(B(),K(Ce,{key:0},[e(h,{lg:8},{default:t(()=>[e(w,{label:"\u6027\u522B"},{default:t(()=>[e(z,{value:u.sex,"onUpdate:value":o[3]||(o[3]=n=>u.sex=n),placeholder:"\u8BF7\u9009\u62E9\u6027\u522B",dictCode:"sex"},null,8,["value"])]),_:1})]),_:1}),e(h,{lg:8},{default:t(()=>[e(w,{label:"\u9009\u62E9\u7528\u6237"},{default:t(()=>[e(z,{value:u.id,"onUpdate:value":o[4]||(o[4]=n=>u.id=n),placeholder:"\u8BF7\u9009\u62E9\u7528\u6237",dictCode:"demo,name,id"},null,8,["value"])]),_:1})]),_:1})],64)):j("",!0),k("span",ze,[e(h,{lg:6},{default:t(()=>[e(p,{type:"primary",preIcon:"ant-design:search-outlined",onClick:R},{default:t(()=>[r("\u67E5\u8BE2")]),_:1}),e(p,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:ue,style:{"margin-left":"8px"}},{default:t(()=>[r("\u91CD\u7F6E")]),_:1}),k("a",{onClick:o[5]||(o[5]=n=>b.value=!b.value),style:{"margin-left":"8px"}},[r(q(b.value?"\u6536\u8D77":"\u5C55\u5F00")+" ",1),e(U,{icon:b.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1},8,["model","label-col","wrapper-col"])],40,qe)):j("",!0),e(l(Be),{onRegister:l(P),rowSelection:Q,class:xe({"p-4":m.value})},{"form-age":t(({model:n,field:$})=>[e(C,{placeholder:"\u6700\u5C0F\u5E74\u9F84",type:"ge",value:c.value,"onUpdate:value":o[6]||(o[6]=x=>c.value=x),style:{width:"calc(50% - 15px)"},onChange:x=>V(n,$)},null,8,["value","onChange"]),Oe,e(C,{placeholder:"\u6700\u5927\u5E74\u9F84",type:"le",value:T.value,"onUpdate:value":o[7]||(o[7]=x=>T.value=x),style:{width:"calc(50% - 15px)"},onChange:x=>V(n,$)},null,8,["value","onChange"])]),tableTitle:t(()=>[e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:H},{default:t(()=>[r("\u65B0\u589E")]),_:1}),e(de,{name:"file",showUploadList:!1,customRequest:n=>l(d)(n,l(N),l(v))},{default:t(()=>[e(p,{preIcon:"ant-design:import-outlined",type:"primary"},{default:t(()=>[r("\u5BFC\u5165")]),_:1})]),_:1},8,["customRequest"]),e(p,{preIcon:"ant-design:export-outlined",type:"primary",onClick:o[8]||(o[8]=n=>l(y)("\u5355\u8868\u793A\u4F8B",l(Te),L.value))},{default:t(()=>[r("\u5BFC\u51FA")]),_:1}),e(p,{preIcon:"ant-design:filter",type:"primary",onClick:o[9]||(o[9]=()=>{})},{default:t(()=>[r("\u9AD8\u7EA7\u67E5\u8BE2")]),_:1}),e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:ae},{default:t(()=>[r("\u6253\u5F00Tab\u9875")]),_:1}),e(p,{preIcon:"ant-design:retweet-outlined",type:"primary",onClick:o[10]||(o[10]=n=>m.value=!m.value)},{default:t(()=>[r(q(m.value?"\u8868\u5355\u914D\u7F6E\u67E5\u8BE2":"\u81EA\u5B9A\u4E49\u67E5\u8BE2"),1)]),_:1}),e(p,{preIcon:"ant-design:import-outlined",type:"primary",onClick:X},{default:t(()=>[r("\u5F39\u7A97\u5BFC\u5165")]),_:1}),e(ce,{config:ie,onSearch:se},null,8,["config"]),i.value.length>0?(B(),he(_e,{key:0},{overlay:t(()=>[e(fe,null,{default:t(()=>[e(me,{key:"1",onClick:oe},{default:t(()=>[e(U,{icon:"ant-design:delete-outlined"}),r(" \u5220\u9664 ")]),_:1})]),_:1})]),default:t(()=>[e(p,null,{default:t(()=>[r("\u6279\u91CF\u64CD\u4F5C "),e(U,{style:{fontsize:"12px"},icon:"ant-design:down-outlined"})]),_:1})]),_:1})):j("",!0)]),action:t(({record:n})=>[e(l(ke),{actions:W(n)},null,8,["actions"])]),_:1},8,["onRegister","class"]),e(Re,{onRegister:l(I),onSuccess:l(v),isDisabled:F.value},null,8,["onRegister","onSuccess","isDisabled"]),e(Ke,{onRegister:l(S),url:l(N),online:""},null,8,["onRegister","url"])])}}});const Kt=Je(Ye,[["__scopeId","data-v-ef347cb7"]]);export{Kt as default};
