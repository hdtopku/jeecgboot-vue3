var F=Object.defineProperty;var f=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var p=(t,s,e)=>s in t?F(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,g=(t,s)=>{for(var e in s||(s={}))k.call(s,e)&&p(t,e,s[e]);if(f)for(var e of f(s))w.call(s,e)&&p(t,e,s[e]);return t};var d=(t,s,e)=>new Promise((n,m)=>{var l=o=>{try{c(e.next(o))}catch(i){m(i)}},u=o=>{try{c(e.throw(o))}catch(i){m(i)}},c=o=>o.done?n(o.value):Promise.resolve(o.value).then(l,u);c((e=e.apply(t,s)).next())});import{B as v}from"./index-a882524d.js";import{B as M}from"./BasicForm-030e7c21.js";import"./componentMap-90ab712d.js";import{u as y}from"./useForm-ae9e1cbd.js";import"./JAddInput-dff0b84f.js";import{A as I}from"./index-6916e394.js";import{i as R,j as b}from"./erplist.api-e3df30f5.js";import{d as x,c as L,k as O,u as a,e as T,aV as U,ar as V,bi as j,f as A,aQ as C}from"./vue-c7e3516e.js";const q=x({__name:"JeecgOrderTicketModal",emits:["success","register"],setup(t,{emit:s}){const e=L("orderId"),n=O(!0),[m,{resetFields:l,setFieldsValue:u,validate:c}]=y({labelWidth:150,schemas:R,showActionButtonGroup:!1}),[o,{setModalProps:i,closeModal:h}]=I(r=>d(this,null,function*(){yield l(),i({confirmLoading:!1}),n.value=!!(r!=null&&r.isUpdate),a(n)&&(yield u(g({},r.record)))})),_=T(()=>a(n)?"\u7F16\u8F91":"\u65B0\u589E");function B(){return d(this,null,function*(){try{const r=yield c();i({confirmLoading:!0}),a(e)&&(r.orderId=a(e)),yield b(r,n.value),h(),s("success")}finally{i({confirmLoading:!1})}})}return(r,H)=>(U(),V(a(v),C(r.$attrs,{onRegister:a(o),title:_.value,onOk:B,width:500,minHeight:20,maxHeight:20}),{default:j(()=>[A(a(M),{onRegister:a(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{q as _};
