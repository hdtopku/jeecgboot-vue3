var O=Object.defineProperty,P=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var h=(e,o,t)=>o in e?O(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,y=(e,o)=>{for(var t in o||(o={}))L.call(o,t)&&h(e,t,o[t]);if(b)for(var t of b(o))U.call(o,t)&&h(e,t,o[t]);return e},x=(e,o)=>P(e,E(o));var k=(e,o,t)=>new Promise((d,l)=>{var g=r=>{try{m(t.next(r))}catch(p){l(p)}},_=r=>{try{m(t.throw(r))}catch(p){l(p)}},m=r=>r.done?d(r.value):Promise.resolve(r.value).then(g,_);m((t=t.apply(e,o)).next())});import{d as Q,l as q,V as c,a7 as v,ac as R,aa as i,f as s,u as a,E as M,W as z,af as A,J as D}from"./vue-ebecda47.js";import{B as F}from"./index-e91e8b28.js";import"./index-993283cc.js";import{r as H}from"./user.data-f8f5590c.js";import{j as J,p as W}from"./user.api-729c8827.js";import{C as $,_ as G}from"./jeecg-online-vendor-cfb58502.js";import{useListPage as X}from"./useListPage-52971497.js";import{M as Y}from"./antd-vue-vendor-b75e8c06.js";import{E as Z}from"./index-85cfc899.js";import{Q as oo}from"./componentMap-c36c4b8d.js";import to from"./BasicTable-46b6c894.js";import"./BasicModal-7e6e7ae9.js";import"./useWindowSizeFn-50bd5ea0.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-cd7703c8.js";import"./vxe-table-vendor-4aae63bf.js";import"./codemirror-vendor-9b2dceac.js";import"./echarts-vendor-ba343549.js";import"./index-be9b0972.js";import"./validator-fb5fa821.js";import"./renderUtils-e0ecd00e.js";import"./index-1c3e0ea1.js";import"./index-a2e0ccba.js";import"./useForm-21b78d9f.js";import"./JAddInput-64f6e84f.js";import"./areaDataUtil-4a5c6609.js";import"./useFormItem-ba20c4de.js";import"./JSelectUser-94adcf4d.js";import"./props-c57324f9.js";import"./JSelectBiz-4fc2f082.js";import"./index-097af6f9.js";import"./bem-311698ef.js";import"./props-13a58630.js";import"./useContextMenu-eb481e60.js";import"./depart.api-1888bf18.js";import"./JSelectDept-394df716.js";import"./JPopup-f9a8bda3.js";import"./JEllipsis-410bb5e8.js";import"./download-c9e5f3f7.js";import"./base64Conver-fa2fe1af.js";import"./index-96e99de8.js";import"./index-118a05d7.js";import"./useCountdown-00a25cd7.js";import"./useFormItemSingle-36e25e6f.js";import"./cron-parser-vendor-afad4b1e.js";import"./JUpload-ffe34816.js";import"./index-ae3841ab.js";import"./index-ab54dd3c.js";import"./injectionKey-69710956.js";const eo=Q({name:"user-quit-modal"}),ro=Q(x(y({},eo),{emits:["success","register"],setup(e,{emit:o}){const{createConfirm:t}=$(),d=q([]),[l]=Z(()=>{d.value=[]}),{prefixCls:g,tableContext:_}=X({tableProps:{api:J,columns:H,rowKey:"id",canResize:!1,useSearchForm:!1,actionColumn:{width:120}}}),[m,{reload:r},{rowSelection:p,selectedRowKeys:w,selectedRows:T}]=_;function C(n){return k(this,null,function*(){yield W({userIds:n.id,usernames:n.username},r),o("success")})}function B(){Y.confirm({title:"取消离职",content:"取消离职交接人也会清空",okText:"确认",cancelText:"取消",onOk:()=>{let n=T.value,f=[];for(const u of n)f.push(u.username);C({id:D(a(w)).join(","),username:f.join(",")})}})}function I(n){return[{label:"取消离职",icon:"ant-design:redo-outlined",popConfirm:{title:"是否取消离职,取消离职交接人也会清空",confirm:C.bind(null,n)}}]}return(n,f)=>{const u=c("Icon"),V=c("a-menu-item"),K=c("a-menu"),S=c("a-button"),j=c("a-dropdown");return v(),R(a(F),A(n.$attrs,{onRegister:a(l),title:"离职人员信息",showOkBtn:!1,width:"1000px",destroyOnClose:""}),{default:i(()=>[s(a(to),{onRegister:a(m),rowSelection:a(p)},{tableTitle:i(()=>[a(w).length>0?(v(),R(j,{key:0},{overlay:i(()=>[s(K,null,{default:i(()=>[s(V,{key:"1",onClick:B},{default:i(()=>[s(u,{icon:"ant-design:redo-outlined"}),M(" 批量取消 ")]),_:1})]),_:1})]),default:i(()=>[s(S,null,{default:i(()=>[M("批量操作 "),s(u,{icon:"ant-design:down-outlined"})]),_:1})]),_:1})):z("",!0)]),action:i(({record:N})=>[s(a(oo),{actions:I(N)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"])]),_:1},16,["onRegister"])}}}));const tt=G(ro,[["__scopeId","data-v-7bfaefd9"]]);export{tt as default};
