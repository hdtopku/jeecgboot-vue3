import{a3 as g,a4 as _,a5 as m,a6 as v,ao as f}from"./vue-bcbaddf9.js";import{q as k,t as b,u as h,D as y}from"./jeecg-online-vendor-07a23e44.js";import"./antd-vue-vendor-a78909e6.js";import"./tinymce-vendor-676f8393.js";import"./vxe-table-vendor-9edfd3ae.js";import"./lodash-es-vendor-9b741fb8.js";const S={name:"TokenLogin",setup(){const i=g();let n=_();const{createMessage:a,notification:s}=h(),{t:o}=k(),t=i.query;t||a.warning("参数无效");const r=t.loginToken;r||a.warning("token无效"),b().ThirdLogin({token:r,thirdType:"email"}).then(e=>{e&&e.userInfo?p(e):u(e)});function u(e){s.error({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4})}function p(e){let c=t.info;if(c){let d=JSON.parse(c),l="/task/handle/"+d.taskId;n.replace({path:l,query:d}),s.success({message:o("sys.login.loginSuccessTitle"),description:`${o("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else s.error({message:"参数失效",description:"页面跳转参数丢失，请查看日志",duration:4})}}},E="/resource/img/logo.png";const I={class:"app-loading"},T=f('<div class="app-loading-wrap" data-v-95b06157><img src="'+E+'" class="app-loading-logo" alt="Logo" data-v-95b06157><div class="app-loading-dots" data-v-95b06157><span class="dot dot-spin" data-v-95b06157><i data-v-95b06157></i><i data-v-95b06157></i><i data-v-95b06157></i><i data-v-95b06157></i></span></div><div class="app-loading-title" data-v-95b06157>JeecgBoot 企业级低代码平台</div></div>',1),$=[T];function q(i,n,a,s,o,t){return m(),v("div",I,$)}const M=y(S,[["render",q],["__scopeId","data-v-95b06157"]]);export{M as default};
