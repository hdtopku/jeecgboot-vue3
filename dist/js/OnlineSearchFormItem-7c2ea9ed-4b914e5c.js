import{d as L,k as _,w as C,ar as W,U as n,a5 as i,a9 as o,a7 as S,aa as k,ab as B,a6 as s,F as m,f as y,a8 as z,E as H,ag as E,am as G,ap as Q,aq as $}from"./vue-249e5fad.js";import{U as R}from"./jeecg-online-vendor-ef755ff7.js";import"./index-12df1add.js";import"./componentMap-954cd91c.js";import"./BasicForm.vue_vue_type_style_index_0_lang-cef173f8.js";import"./antd-vue-vendor-31afcf32.js";import"./index-1c1dc92f.js";import{t as X,_ as Z,u as ee,i as le,r as ae,s as te,p as ie}from"./JAddInput-0d73042c.js";import{n as oe}from"./JSelectUser-ef2d6619.js";import{o as re}from"./JSelectDept-3b235dbd.js";import{d as ne}from"./JPopup-10c26cf4.js";import ue from"./JOnlineSearchSelect-5608a5cf-6f5dec1b.js";import"./tinymce-vendor-676f8393.js";import"./lodash-es-vendor-c1987ca1.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-0b109a77.js";import"./useFormItem-7623fae7.js";import"./JUpload.vue_vue_type_style_index_0_lang-30d4d8b5.js";import"./BasicModal-e6e1e190.js";import"./useWindowSizeFn-8e659aab.js";import"./download-219035f9.js";import"./base64Conver-fa2fe1af.js";import"./index-4d91db79.js";import"./index-2f5742f5.js";import"./useCountdown-da2dd22b.js";import"./index-860d67ba.js";import"./areaDataUtil-ce3f5a88.js";import"./props-e09496a2.js";import"./JSelectBiz-a8f462b6.js";import"./index-228eef18.js";import"./codemirror-vendor-7570b8a9.js";import"./index-6c18513e.js";import"./bem-fb1a73a6.js";import"./props-7b44416e.js";import"./useContextMenu-82899327.js";import"./depart.api-0ee34edf.js";var de=Object.defineProperty,I=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,K=(e,l,r)=>l in e?de(e,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[l]=r,se=(e,l)=>{for(var r in l||(l={}))pe.call(l,r)&&K(e,r,l[r]);if(I)for(var r of I(l))ce.call(l,r)&&K(e,r,l[r]);return e};const M=L({name:"OnlineSearchFormItem",components:{JOnlineSearchSelect:ue,JDictSelectTag:X,JTreeSelect:Z,JCategorySelect:ee,JSelectUser:oe,JSelectUserByDept:le,JSelectDept:re,JPopup:ne,JAreaLinkage:ae,JAreaSelect:te,JSelectMultiple:ie},props:{value:{type:String,default:""},item:{type:Object,default:()=>{},required:!0},dictOptions:{type:Object,default:()=>{},required:!1},onlineForm:{type:Object,default:()=>{},required:!1}},emits:["update:value","change"],setup(e,{emit:l}){const r="120px",q={style:{"max-width":r}},j="single";let V=_(""),u=_(""),g=_("");C(()=>e.value,()=>{b()?V.value=e.value?e.value:void 0:V.value=e.value,e.value||(u.value="",g.value="")},{deep:!0,immediate:!0}),C(V,t=>{l("update:value",t)},{immediate:!0}),C(u,t=>{l("change",e.item.field+"_begin",t),l("update:value","1")}),C(g,t=>{l("change",e.item.field+"_end",t),l("update:value","1")});function D(t){return t.dbField?t.dbField:t.field}function b(){let t=e.item;return t?t.view=="list"||t.view=="radio"||t.view=="switch":!1}function T(){let t=e.item;return t.dictTable&&t.dictTable.length>0?t.dictTable+","+t.dictText+","+t.dictCode:t.dictCode}function U(){let t=e.item,{dictTable:a,dictCode:d,dictText:v}=t,c=a.toLowerCase().split("where"),h="";return c.length>1&&(h=" where"+c[1]),"select "+d+" as 'value', "+v+" as 'text' from "+c[0]+h}function x(t){let{dictText:a,dictCode:d}=t;if(!a||a.length==0)return[];let v=a.split(","),c=d.split(","),h=[];for(let p=0;p<v.length;p++)h.push({target:v[p],source:c[p]});return h}function F(t){let{dictText:a}=e.item,d=a.split(",")[0];l("change",d,t[d])}function Y(t){l("update:value",t)}function w(t,a,d){let v={labelKey:a,rowKey:d},c=t.fieldExtendJson;if(c&&typeof c=="string"){let h=JSON.parse(c),p=se({},h);p.text&&(v.labelKey=p.text),p.store&&(v.rowKey=p.store)}return v}let J=w(e.item,"realname","username"),O=w(e.item,"departName","id");function f(t){t&&t.length>0?l("update:value",t.join(",")):l("update:value","")}return{getPopupFieldConfig:x,userSelectProp:J,depSelectProp:O,handleSelectChange:f,setFieldsValue:F,innerValue:V,beginValue:u,endValue:g,isEasySelect:b,getDictOptionKey:D,getDictCode:T,labelTextMaxWidth:r,labelCol:q,single_mode:j,getSqlByDictCode:U,handleCategoryTreeChange:Y}}}),N=()=>{W(e=>({"6fec9251":e.labelTextMaxWidth}))},A=M.setup;M.setup=A?(e,l)=>(N(),A(e,l)):N;const me=M,P=e=>(Q("data-v-783e1802"),e=e(),$(),e),ve=["title"],he=P(()=>k("span",{class:"group-query-strig"},"~",-1)),ge=P(()=>k("span",{class:"group-query-strig"},"~",-1)),ye=P(()=>k("span",{class:"group-query-strig"},"~",-1));function Ve(e,l,r,q,j,V){const u=n("a-date-picker"),g=n("JDictSelectTag"),D=n("a-select-option"),b=n("a-select"),T=n("JTreeSelect"),U=n("JCategorySelect"),x=n("JOnlineSearchSelect"),F=n("JSelectUser"),Y=n("JSelectDept"),w=n("JPopup"),J=n("JAreaSelect"),O=n("JSelectMultiple"),f=n("a-input"),t=n("a-form-item");return i(),o(t,{labelCol:e.labelCol,class:G("jeecg-online-search")},{label:S(()=>[k("span",{title:e.item.label,class:"label-text"},B(e.item.label),9,ve)]),default:S(()=>[e.item.view=="date"?(i(),s(m,{key:0},[e.single_mode===e.item.mode?(i(),o(u,{key:0,style:{width:"100%"},showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[0]||(l[0]=a=>e.innerValue=a)},null,8,["placeholder","value"])):(i(),s(m,{key:1},[y(u,{showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"开始日期",value:e.beginValue,"onUpdate:value":l[1]||(l[1]=a=>e.beginValue=a),style:{width:"calc(50% - 15px)"}},null,8,["value"]),he,y(u,{showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"结束日期",value:e.endValue,"onUpdate:value":l[2]||(l[2]=a=>e.endValue=a),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64)):e.item.view=="datetime"?(i(),s(m,{key:1},[e.single_mode===e.item.mode?(i(),o(u,{key:0,style:{width:"100%"},showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[3]||(l[3]=a=>e.innerValue=a)},null,8,["placeholder","value"])):(i(),s(m,{key:1},[y(u,{showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"开始时间",value:e.beginValue,"onUpdate:value":l[4]||(l[4]=a=>e.beginValue=a),style:{width:"calc(50% - 15px)"}},null,8,["value"]),ge,y(u,{showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"结束时间",value:e.endValue,"onUpdate:value":l[5]||(l[5]=a=>e.endValue=a),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64)):e.isEasySelect()?(i(),s(m,{key:2},[e.item.config==="1"?(i(),o(g,{key:0,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[6]||(l[6]=a=>e.innerValue=a),dictCode:e.getDictCode()},null,8,["placeholder","value","dictCode"])):(i(),o(b,{key:1,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[7]||(l[7]=a=>e.innerValue=a)},{default:S(()=>[(i(!0),s(m,null,z(e.dictOptions[e.getDictOptionKey(e.item)],(a,d)=>(i(),o(D,{key:d,value:a.value},{default:S(()=>[H(B(a.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["placeholder","value"]))],64)):e.item.view==="sel_tree"?(i(),o(T,{key:3,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[8]||(l[8]=a=>e.innerValue=a),dict:e.item.dict,pidField:e.item.pidField,pidValue:e.item.pidValue,hasChildField:e.item.hasChildField,"load-triggle-change":""},null,8,["placeholder","value","dict","pidField","pidValue","hasChildField"])):e.item.view==="cat_tree"?(i(),o(U,{key:4,onChange:e.handleCategoryTreeChange,loadTriggleChange:!0,pcode:e.item.pcode,value:e.innerValue,"onUpdate:value":l[9]||(l[9]=a=>e.innerValue=a),placeholder:"请选择"+e.item.label},null,8,["onChange","pcode","value","placeholder"])):e.item.view==="sel_search"?(i(),s(m,{key:5},[e.item.config==="1"?(i(),o(g,{key:0,value:e.innerValue,"onUpdate:value":l[10]||(l[10]=a=>e.innerValue=a),placeholder:"请选择"+e.item.label,dict:e.getDictCode()},null,8,["value","placeholder","dict"])):(i(),o(x,{key:1,value:e.innerValue,"onUpdate:value":l[11]||(l[11]=a=>e.innerValue=a),placeholder:"请选择"+e.item.label,sql:e.getSqlByDictCode()},null,8,["value","placeholder","sql"]))],64)):e.item.view=="sel_user"?(i(),o(F,E({key:6},e.userSelectProp,{value:e.innerValue,"onUpdate:value":l[12]||(l[12]=a=>e.innerValue=a),placeholder:"请选择"+e.item.label}),null,16,["value","placeholder"])):e.item.view=="sel_depart"?(i(),o(Y,E({key:7,showButton:!1},e.depSelectProp,{value:e.innerValue,"onUpdate:value":l[13]||(l[13]=a=>e.innerValue=a),placeholder:"请选择"+e.item.label}),null,16,["value","placeholder"])):e.item.view=="popup"?(i(),o(w,{key:8,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[14]||(l[14]=a=>e.innerValue=a),code:e.item.dictTable,setFieldsValue:e.setFieldsValue,"field-config":e.getPopupFieldConfig(e.item),multi:!0},null,8,["placeholder","value","code","setFieldsValue","field-config"])):e.item.view=="pca"?(i(),o(J,{key:9,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[15]||(l[15]=a=>e.innerValue=a)},null,8,["placeholder","value"])):e.item.view=="checkbox"||e.item.view=="list_multi"?(i(),o(O,{key:10,dictCode:e.getDictCode(),placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[16]||(l[16]=a=>e.innerValue=a)},null,8,["dictCode","placeholder","value"])):(i(),s(m,{key:11},[e.single_mode===e.item.mode?(i(),o(f,{key:0,placeholder:"请选择"+e.item.label,value:e.innerValue,"onUpdate:value":l[17]||(l[17]=a=>e.innerValue=a)},null,8,["placeholder","value"])):(i(),s(m,{key:1},[y(f,{placeholder:"开始值",value:e.beginValue,"onUpdate:value":l[18]||(l[18]=a=>e.beginValue=a),style:{width:"calc(50% - 15px)"}},null,8,["value"]),ye,y(f,{placeholder:"结束值",value:e.endValue,"onUpdate:value":l[19]||(l[19]=a=>e.endValue=a),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64))]),_:1},8,["labelCol"])}const ll=R(me,[["render",Ve],["__scopeId","data-v-783e1802"]]);export{ll as default};
