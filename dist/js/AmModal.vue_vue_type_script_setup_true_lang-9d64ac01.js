var _=Object.defineProperty;var d=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var h=(t,o,e)=>o in t?_(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,g=(t,o)=>{for(var e in o||(o={}))v.call(o,e)&&h(t,e,o[e]);if(d)for(var e of d(o))F.call(o,e)&&h(t,e,o[e]);return t};var f=(t,o,e)=>new Promise((m,l)=>{var c=r=>{try{n(e.next(r))}catch(a){l(a)}},p=r=>{try{n(e.throw(r))}catch(a){l(a)}},n=r=>r.done?m(r.value):Promise.resolve(r.value).then(c,p);n((e=e.apply(t,o)).next())});import{B as k}from"./index-9c776ac3.js";import{B as M}from"./BasicForm-af127472.js";import"./componentMap-49086925.js";import{u as b}from"./useForm-027be146.js";import"./JAddInput-f981b8f0.js";import"./JSelectUser-2142310a.js";import"./JSelectDept-89a20b68.js";import"./JPopup-c3fe6e18.js";import{B as y}from"./index-ea73cedc.js";import{s as R}from"./Am.api-230c1e5f.js";import{d as U,k as x,u as i,e as A,a5 as C,a9 as I,a7 as L,f as O,ag as P}from"./vue-705b7309.js";const S=[{label:"",field:"id",component:"Input",show:!1},{label:"备注",field:"remark",component:"InputTextArea"}],J=U({__name:"AmModal",emits:["register","success"],setup(t,{emit:o}){const e=x(!0),[m,{resetFields:l,setFieldsValue:c,validate:p}]=b({labelWidth:150,schemas:S,showActionButtonGroup:!1}),[n,{setModalProps:r,closeModal:a}]=y(s=>f(this,null,function*(){yield l(),r({confirmLoading:!1,showCancelBtn:s==null?void 0:s.showFooter,showOkBtn:s==null?void 0:s.showFooter}),e.value=!!(s!=null&&s.isUpdate),i(e)&&(yield c(g({},s.record)))})),w=A(()=>i(e)?"编辑":"新增");function B(s){return f(this,null,function*(){try{let u=yield p();r({confirmLoading:!0}),yield R(u,e.value),a(),o("success",{isUpdate:e.value,values:u})}finally{r({confirmLoading:!1})}})}return(s,u)=>(C(),I(i(k),P(s.$attrs,{onRegister:i(n),title:w.value,onOk:B,width:"96%"}),{default:L(()=>[O(i(M),{onRegister:i(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{J as _};
