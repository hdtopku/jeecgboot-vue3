import{d as S}from"./index-85cfc899.js";import{C as w,ap as C,bB as q}from"./jeecg-online-vendor-cfb58502.js";import{l as p,w as d,V as h,a7 as i,ac as m,aa as f,a8 as y,F as k,ab as B,E as x,ae as D}from"./vue-ebecda47.js";import"./antd-vue-vendor-b75e8c06.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-cd7703c8.js";import"./codemirror-vendor-9b2dceac.js";import"./echarts-vendor-ba343549.js";import"./vxe-table-vendor-4aae63bf.js";const{createMessage:F}=w(),b={name:"JOnlineSearchSelect",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},sql:{type:String,required:!0}},emits:["update:value"],setup(o,{emit:u}){let t=p(""),a=p([]);d(()=>o.value,e=>{e?t.value=e:t.value=void 0},{immediate:!0}),d(()=>o.sql,()=>{s()},{immediate:!0});const c=S(n,800);function n(e=""){let g={keyword:e},v="/online/cgreport/api/getReportDictList?sql="+o.sql;C.get({url:v,params:g},{isTransformResponse:!1}).then(r=>{r.success?r.result&&r.result.length>0?a.value=r.result:a.value=[]:F.warning(r.message)})}function l(e){u("update:value",e),(!e||e=="")&&s()}function s(){a.value=[],n()}return{selectOptions:a,handleSearch:c,handleChange:l,selected:t}}};function O(o,u,t,a,c,n){const l=h("a-select-option"),s=h("a-select");return i(),m(s,{value:a.selected,placeholder:t.placeholder,"show-search":"","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null,onSearch:a.handleSearch,onChange:a.handleChange,allowClear:""},{default:f(()=>[(i(!0),y(k,null,B(a.selectOptions,e=>(i(),m(l,{key:e.value},{default:f(()=>[x(D(e.text),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder","onSearch","onChange"])}const N=q(b,[["render",O]]);export{N as default};
