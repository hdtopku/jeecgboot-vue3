var k=Object.defineProperty,P=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var u=(o,t,e)=>t in o?k(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,_=(o,t)=>{for(var e in t||(t={}))B.call(t,e)&&u(o,e,t[e]);if(c)for(var e of c(t))D.call(t,e)&&u(o,e,t[e]);return o},g=(o,t)=>P(o,R(t));import L from"./BasicTable-054f9cc2.js";import"./componentMap-a2b4e2ec.js";import"./useTable-34e12272.js";import{b as S}from"./jeecg-online-vendor-d469fb0e.js";import{useListPage as V}from"./useListPage-9ce9938c.js";import{d as y,k as f,V as n,a5 as h,a9 as Y,a7 as s,f as i,a6 as M,aa as a,ab as b,W as N,u as x}from"./vue-bcbaddf9.js";import"./BasicTable.vue_vue_type_style_index_0_lang-b539156f.js";import"./index-cbf1027d.js";import"./antd-vue-vendor-a78909e6.js";import"./tinymce-vendor-676f8393.js";import"./lodash-es-vendor-9b741fb8.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-9edfd3ae.js";import"./BasicForm-42a88936.js";import"./BasicForm.vue_vue_type_style_index_0_lang-117da7ff.js";import"./index-f37bcd39.js";import"./BasicModal-221f3c24.js";import"./useWindowSizeFn-fb04b605.js";import"./useForm-7c569caf.js";import"./JAddInput-4f9ad8b8.js";import"./areaDataUtil-661e31ab.js";import"./useFormItem-08229308.js";import"./JSelectUser-f4588114.js";import"./props-e0fdcea3.js";import"./JSelectBiz-5ae6be46.js";import"./index-65143f13.js";import"./codemirror-vendor-611c4582.js";import"./index-9e79e1fd.js";import"./bem-e4f9963c.js";import"./props-c7c3390f.js";import"./useContextMenu-2f3e9bb2.js";import"./depart.api-6e5a91ce.js";import"./JSelectDept-c904502a.js";import"./JPopup-aa0581de.js";import"./cron-parser-vendor-35165bff.js";import"./injectionKey-69710956.js";import"./JUpload.vue_vue_type_style_index_0_lang-127eab88.js";import"./download-aa7e26a6.js";import"./base64Conver-fa2fe1af.js";import"./index-42a48f3e.js";import"./index-e6f9e85d.js";import"./useCountdown-11780d2e.js";import"./index-ad5e7bf7.js";const W=o=>S.get({url:"/sys/log/list",params:o}),m=[{title:"日志内容",dataIndex:"logContent",width:100,align:"left"},{title:"操作人ID",dataIndex:"userid",width:80},{title:"操作人",dataIndex:"username",width:80},{title:"IP",dataIndex:"ip",width:80},{title:"耗时(毫秒)",dataIndex:"costTime",width:80},{title:"创建时间",dataIndex:"createTime",sorter:!0,width:80},{title:"日志类型",dataIndex:"logType_dictText",width:60}],A=[...m,{title:"操作类型",dataIndex:"operateType_dictText",width:40}],K=[{field:"keyWord",label:"搜索日志",component:"Input",colProps:{span:8}},{field:"fieldTime",component:"RangePicker",label:"创建时间",componentProps:{valueType:"Date"},colProps:{span:8}}],q={key:0},z={style:{"margin-bottom":"5px"}},E={style:{"vertical-align":"middle"}},F={style:{"vertical-align":"middle"}},H=y({name:"monitor-log"}),Wt=y(g(_({},H),{setup(o){f([]);const t=f(m),e={logType:"1"},{prefixCls:j,tableContext:T}=V({designScope:"user-list",tableProps:{title:"日志列表",api:W,expandRowByClick:!0,showActionColumn:!1,rowSelection:{columnWidth:20},formConfig:{schemas:K,fieldMapToTime:[["fieldTime",["createTime_begin","createTime_end"],"YYYY-MM-DD"]]}}}),[C,{reload:v}]=T;function w(r){e.logType=r,r=="1"?t.value=m:t.value=A,v()}return(r,G)=>{const l=n("a-tab-pane"),I=n("a-tabs"),p=n("a-badge");return h(),Y(x(L),{onRegister:x(C),searchInfo:e,columns:t.value},{tableTitle:s(()=>[i(I,{defaultActiveKey:"1",onChange:w,size:"small"},{default:s(()=>[i(l,{tab:"登录日志",key:"1"}),i(l,{tab:"操作日志",key:"2"})]),_:1})]),expandedRowRender:s(({record:d})=>[e.logType==2?(h(),M("div",q,[a("div",z,[i(p,{status:"success",style:{"vertical-align":"middle"}}),a("span",E,"请求方法:"+b(d.method),1)]),a("div",null,[i(p,{status:"processing",style:{"vertical-align":"middle"}}),a("span",F,"请求参数:"+b(d.requestParam),1)])])):N("",!0)]),_:1},8,["onRegister","columns"])}}}));export{Wt as default};
