var v=Object.defineProperty;var u=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var g=(a,s,e)=>s in a?v(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,B=(a,s)=>{for(var e in s||(s={}))y.call(s,e)&&g(a,e,s[e]);if(u)for(var e of u(s))M.call(s,e)&&g(a,e,s[e]);return a};var f=(a,s,e)=>new Promise((l,m)=>{var c=o=>{try{i(e.next(o))}catch(r){m(r)}},d=o=>{try{i(e.throw(o))}catch(r){m(r)}},i=o=>o.done?l(o.value):Promise.resolve(o.value).then(c,d);i((e=e.apply(a,s)).next())});import{B as F}from"./index-04fa66a8.js";import{B as k}from"./BasicForm-1b000152.js";import"./componentMap-a38e30ba.js";import{u as R}from"./useForm-885eeddc.js";import"./JAddInput-93656682.js";import"./JSelectUser-88891e09.js";import"./JSelectDept-62570e8c.js";import"./JPopup-0d64514d.js";import{B as b}from"./index-bd4a6237.js";import{f as x}from"./tenant.data-cebc951a.js";import{g as L,s as S}from"./tenant.api-08ea9ca9.js";import{d as T,k as U,u as n,e as C,a5 as D,a9 as I,a7 as O,f as P,ag as V}from"./vue-249e5fad.js";const X=T({__name:"TenantModal",emits:["register","success"],setup(a,{emit:s}){const e=U(!0),[l,{resetFields:m,setFieldsValue:c,validate:d,updateSchema:i}]=R({schemas:x,showActionButtonGroup:!1}),[o,{setModalProps:r,closeModal:_}]=b(t=>f(this,null,function*(){yield m(),r({confirmLoading:!1}),e.value=!!(t!=null&&t.isUpdate),n(e)?(i({field:"id",dynamicDisabled:!0}),t.record=yield L({id:t.record.id}),yield c(B({},t.record))):i({field:"id",dynamicDisabled:!1})})),h=C(()=>n(e)?"编辑租户":"新增租户");function w(t){return f(this,null,function*(){try{let p=yield d();r({confirmLoading:!0}),yield S(p,e.value),_(),s("success")}finally{r({confirmLoading:!1})}})}return(t,p)=>(D(),I(n(F),V(t.$attrs,{onRegister:n(o),title:h.value,onOk:w,width:"700px"}),{default:O(()=>[P(n(k),{onRegister:n(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{X as _};
