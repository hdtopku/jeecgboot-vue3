var w=(k,i,o)=>new Promise((d,F)=>{var E=s=>{try{C(o.next(s))}catch(v){F(v)}},B=s=>{try{C(o.throw(s))}catch(v){F(v)}},C=s=>s.done?d(s.value):Promise.resolve(s.value).then(E,B);C((o=o.apply(k,i)).next())});import{l as G}from"./jeecg-online-vendor-bf2efbcb.js";import{aj as n,q as L,al as O}from"./index-fde9c72f.js";import{ck as X,ab as Z}from"./antd-vue-vendor-1561c1ba.js";import{r}from"./lodash-es-vendor-42c8d3d4.js";import{d as W,k as h,U as D,aV as z,as as K,f as a,bi as t,E as c,at as g,ag as Q,u as ee,F as ue}from"./vue-c7e3516e.js";const te={style:{padding:"20px"}},le=["onClick"],ae=g("a",null,"\u5220\u9664",-1),de=W({__name:"JVxeDemo1",setup(k){const{createMessage:i}=G(),o=h(),d=h(!1),F=h(!1),E=h([{title:"ID",key:"id",type:n.hidden},{title:"\u4E0D\u53EF\u7F16\u8F91",key:"noEdit",type:n.normal,width:180,defaultValue:"noEdit-new"},{title:"\u5355\u884C\u6587\u672C",key:"input",type:n.input,width:180,defaultValue:"",placeholder:"\u8BF7\u8F93\u5165${title}",validateRules:[{required:!0,message:"\u8BF7\u8F93\u5165${title}"},{pattern:/^[a-z|A-Z][a-z|A-Z\d_-]*$/,message:"\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934\uFF0C\u53EF\u5305\u542B\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u3001\u6A2A\u6760"},{unique:!0,message:"${title}\u4E0D\u80FD\u91CD\u590D"},{handler({cellValue:u,row:l,column:e},_,f){u==="abc"?_(!1,"${title}\u4E0D\u80FD\u662Fabc"):_(!0)},message:"${title}\u9ED8\u8BA4\u63D0\u793A"}]},{title:"\u591A\u884C\u6587\u672C",key:"textarea",type:n.textarea,width:200},{title:"\u6570\u5B57",key:"number",type:n.inputNumber,width:80,defaultValue:32,statistics:["sum","average"]},{title:"\u4E0B\u62C9\u6846",key:"select",type:n.select,width:180,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],allowSearch:!0,placeholder:"\u8BF7\u9009\u62E9"},{title:"\u4E0B\u62C9\u6846_\u5B57\u5178",key:"select_dict",type:n.select,width:180,options:[],dictCode:"sex",placeholder:"\u8BF7\u9009\u62E9"},{title:"\u4E0B\u62C9\u6846_\u591A\u9009",key:"select_multiple",type:n.selectMultiple,width:205,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}],defaultValue:["int","boolean"],placeholder:"\u591A\u9009"},{title:"\u4E0B\u62C9\u6846_\u641C\u7D22",key:"select_search",type:n.selectSearch,width:180,options:[{title:"String",value:"string"},{title:"Integer",value:"int"},{title:"Double",value:"double"},{title:"Boolean",value:"boolean"}]},{title:"\u65E5\u671F\u65F6\u95F4",key:"datetime",type:n.datetime,width:200,defaultValue:"2019-04-30 14:52:22",placeholder:"\u8BF7\u9009\u62E9"},{title:"\u65F6\u95F4",key:"time",type:n.time,width:200,defaultValue:"14:52:22",placeholder:"\u8BF7\u9009\u62E9"},{title:"\u590D\u9009\u6846",key:"checkbox",type:n.checkbox,width:100,customValue:["Y","N"],defaultChecked:!1},{title:"\u64CD\u4F5C",key:"action",type:n.slot,fixed:"right",minWidth:100,align:"center",slotName:"myAction"}]),B=h([]);function C(u,l,e=!1){e&&(d.value=!0);let _=()=>{let p=r(1e3,9999999999999);return Z(new Date(p)).format("YYYY-MM-DD HH:mm:ss")},f=(u-1)*l,b=["string","int","double","boolean"],y=Date.now(),m=[];for(let p=0;p<l;p++)m.push({id:L(),noEdit:`noEdit-${f+p+1}`,input:`text-${f+p+1}`,textarea:`textarea-${f+p+1}`,number:r(0,233),select:b[r(0,3)],select_dict:r(1,2).toString(),select_multiple:(()=>{let U=r(1,4),T=[];for(let V=0;V<U;V++)O(T,b[r(0,3)]);return T.join(",")})(),select_search:b[r(0,3)],datetime:_(),checkbox:["Y","N"][r(0,1)]});B.value=m;let A=Date.now()-y;e&&A<l&&setTimeout(()=>d.value=!1,l-A)}C(0,20,!0);function s(u){i.success("\u8BF7\u5728\u63A7\u5236\u53F0\u67E5\u770B\u8F93\u51FA")}function v(u){return w(this,null,function*(){var e;const l=yield(e=o.value)==null?void 0:e.removeRows(u.row);l&&l.rows.length>0&&i.success("\u5220\u9664\u6210\u529F")})}function S(u){}function R(){o.value.validateTable().then(u=>{u?i.error("\u9A8C\u8BC1\u672A\u901A\u8FC7\uFF0C\u8BF7\u5728\u63A7\u5236\u53F0\u67E5\u770B\u8BE6\u7EC6"):i.success("\u9A8C\u8BC1\u901A\u8FC7")})}function $(){o.value.getTableData(),i.success("\u83B7\u53D6\u503C\u6210\u529F\uFF0C\u8BF7\u770B\u63A7\u5236\u53F0\u8F93\u51FA")}function N(){C(1,1e3,!0)}function j(){const l=o.value.getXTable().getTableData().fullData[0];o.value.removeRows(l)}function I(){o.value.getXTable().removeCheckboxRow()}function M(){i.info("\u8BF7\u770B\u63A7\u5236\u53F0")}function Y(){o.value.clearSelection()}function J(){d.value=!d.value}function H(){F.value=!F.value}function q(u){return new Promise(l=>{u.map(e=>e.id),setTimeout(()=>l(!0),1500)})}function P(u){return w(this,null,function*(){const l=i.loading("\u5220\u9664\u4E2D\u2026",0);try{(yield q(u.deleteRows))?(yield o.value.removeSelection(),i.success("\u5220\u9664\u6210\u529F\uFF01")):i.warn("\u5220\u9664\u5931\u8D25\uFF01")}finally{l()}})}return(u,l)=>{const e=D("a-button"),_=D("a-space"),f=D("a-tooltip"),b=D("a-divider"),y=D("JVxeTable");return z(),K(ue,null,[a(_,null,{default:t(()=>[a(e,{onClick:J},{default:t(()=>[c("\u5207\u6362\u52A0\u8F7D")]),_:1}),a(e,{onClick:H},{default:t(()=>[c("\u5207\u6362\u7981\u7528")]),_:1})]),_:1}),a(y,{ref_key:"tableRef",ref:o,stripe:"",toolbar:"",rowNumber:"",rowSelection:"",rowExpand:"",resizable:"",asyncRemove:"",clickSelectRow:"",maxHeight:480,checkboxConfig:{range:!0},disabledRows:{input:["text--16","text--18"]},loading:d.value,disabled:F.value,columns:E.value,dataSource:B.value,onRemoved:P,onValueChange:S},{toolbarSuffix:t(()=>[a(e,{onClick:R},{default:t(()=>[c("\u8868\u5355\u9A8C\u8BC1")]),_:1}),a(f,{placement:"top",title:"\u83B7\u53D6\u503C\uFF0C\u5FFD\u7565\u8868\u5355\u9A8C\u8BC1",autoAdjustOverflow:!0},{default:t(()=>[a(e,{onClick:$},{default:t(()=>[c("\u83B7\u53D6\u6570\u636E")]),_:1})]),_:1}),a(f,{placement:"top",title:"\u6A21\u62DF\u52A0\u8F7D1000\u6761\u6570\u636E",autoAdjustOverflow:!0},{default:t(()=>[a(e,{onClick:N},{default:t(()=>[c("\u8BBE\u7F6E\u503C")]),_:1})]),_:1}),a(e,{onClick:M},{default:t(()=>[c("\u83B7\u53D6\u9009\u4E2D\u6570\u636E")]),_:1}),a(e,{onClick:Y},{default:t(()=>[c("\u6E05\u7A7A\u9009\u4E2D")]),_:1}),a(e,{onClick:j},{default:t(()=>[c("\u5220\u9664\u7B2C\u4E00\u884C\u6570\u636E")]),_:1}),a(e,{onClick:I},{default:t(()=>[c("\u5220\u9664\u9009\u4E2D\u6570\u636E")]),_:1})]),expandContent:t(m=>[g("div",te,[g("span",null,"Hello! My name is: "+Q(m.row.input)+"!",1)])]),myAction:t(m=>[g("a",{onClick:x=>s(m)},"\u67E5\u770B",8,le),a(b,{type:"vertical"}),a(ee(X),{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:x=>v(m)},{default:t(()=>[ae]),_:2},1032,["onConfirm"])]),_:1},8,["loading","disabled","columns","dataSource"])],64)}}});export{de as _};
