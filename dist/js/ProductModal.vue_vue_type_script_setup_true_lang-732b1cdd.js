var I=Object.defineProperty;var d=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var b=(s,o,e)=>o in s?I(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e,F=(s,o)=>{for(var e in o||(o={}))w.call(o,e)&&b(s,e,o[e]);if(d)for(var e of d(o))B.call(o,e)&&b(s,e,o[e]);return s};var f=(s,o,e)=>new Promise((l,a)=>{var c=u=>{try{r(e.next(u))}catch(i){a(i)}},m=u=>{try{r(e.throw(u))}catch(i){a(i)}},r=u=>u.done?l(u.value):Promise.resolve(u.value).then(c,m);r((e=e.apply(s,o)).next())});import{B as g}from"./index-a882524d.js";import{B as E}from"./BasicForm-030e7c21.js";import"./componentMap-90ab712d.js";import{u as _}from"./useForm-ae9e1cbd.js";import"./JAddInput-dff0b84f.js";import{A as v}from"./index-6916e394.js";import{s as k}from"./Product.api-fb40d5ae.js";import{d as x,k as M,u as n,e as D,aV as y,ar as N,bi as R,f as U,aQ as L}from"./vue-c7e3516e.js";const q=[{title:"\b\u5546\u54C1\u540D\u79F0",dataIndex:"name"},{title:"\b\u5546\u54C1\u4EF7\u683C",dataIndex:"price"},{title:"\b\u5546\u54C1\u8FDB\u4EF7",dataIndex:"cost"},{title:"\u5907\u6CE8",dataIndex:"remark"},{title:"\b\u5546\u54C1\u56FE\u7247",dataIndex:"pic"}],z=[{label:"\b\u5546\u54C1\u540D\u79F0",field:"name",component:"Input"},{label:"\b\u5546\u54C1\u4EF7\u683C",field:"price",component:"InputNumber"}],O=[{label:"",field:"id",component:"Input",show:!1},{label:"\b\u5546\u54C1\u540D\u79F0",field:"name",component:"Input"},{label:"\b\u5546\u54C1\u4EF7\u683C",field:"price",component:"InputNumber"},{label:"\b\u5546\u54C1\u8FDB\u4EF7",field:"cost",component:"InputNumber"},{label:"\u5907\u6CE8",field:"remark",component:"Input"},{label:"\b\u5546\u54C1\u56FE\u7247",field:"pic",component:"Input"}],H=x({__name:"ProductModal",emits:["register","success"],setup(s,{emit:o}){const e=M(!0),[l,{resetFields:a,setFieldsValue:c,validate:m}]=_({labelWidth:150,schemas:O,showActionButtonGroup:!1}),[r,{setModalProps:u,closeModal:i}]=v(t=>f(this,null,function*(){yield a(),u({confirmLoading:!1,showCancelBtn:t==null?void 0:t.showFooter,showOkBtn:t==null?void 0:t.showFooter}),e.value=!!(t!=null&&t.isUpdate),n(e)&&(yield c(F({},t.record)))})),C=D(()=>n(e)?"\u7F16\u8F91":"\u65B0\u589E");function h(t){return f(this,null,function*(){try{let p=yield m();u({confirmLoading:!0}),yield k(p,e.value),i(),o("success",{isUpdate:e.value,values:p})}finally{u({confirmLoading:!1})}})}return(t,p)=>(y(),N(n(g),L(t.$attrs,{onRegister:n(r),title:C.value,onOk:h,width:"80%"}),{default:R(()=>[U(n(E),{onRegister:n(l)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{H as _,q as c,z as s};
