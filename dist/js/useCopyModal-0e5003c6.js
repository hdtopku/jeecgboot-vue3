var C=Object.defineProperty,k=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var d=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a=(e,t)=>{for(var r in t||(t={}))x.call(t,r)&&d(e,r,t[r]);if(p)for(var r of p(t))P.call(t,r)&&d(e,r,t[r]);return e},c=(e,t)=>k(e,T(t));import{u as w,G as b,w as B}from"./vue-50733b77.js";import{C as h}from"./clipboard-c4a9cc7b.js";import{q as M}from"./jeecg-online-vendor-d3e1865b.js";import"./tinymce-vendor-7c917b36.js";import"./antd-vue-vendor-c5335947.js";import"./lodash-es-vendor-058e2396.js";import"./vxe-table-vendor-838914b0.js";const u="copy-this-text",f="data-clipboard-text";function G(){return{createCopyModal:g}}const{createMessage:y,createConfirm:O}=M();function g(e){var r,m,n,i,l;let t=O(c(a({},e),{iconType:(r=e.iconType)!=null?r:"info",width:(m=e.width)!=null?m:500,title:(n=e.title)!=null?n:"复制",maskClosable:(i=e.maskClosable)!=null?i:!0,okText:(l=e.okText)!=null?l:"复制",okButtonProps:c(a({},e.okButtonProps),{class:u,[f]:w(e.copyText)}),onOk(){return new Promise(o=>{const s=new h("."+u);s.on("success",()=>{s.destroy(),y.success("复制成功"),o()}),s.on("error",()=>{y.error("该浏览器不支持自动复制"),s.destroy(),o()})})}}));return b(e.copyText)&&B(e.copyText,o=>{t.update({okButtonProps:c(a({},e.okButtonProps),{class:u,[f]:o})})}),t}export{G as useCopyModal};
