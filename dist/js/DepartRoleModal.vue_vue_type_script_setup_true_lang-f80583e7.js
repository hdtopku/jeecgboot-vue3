var _=Object.defineProperty;var g=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var h=(t,o,e)=>o in t?_(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,v=(t,o)=>{for(var e in o||(o={}))y.call(o,e)&&h(t,e,o[e]);if(g)for(var e of g(o))F.call(o,e)&&h(t,e,o[e]);return t};var d=(t,o,e)=>new Promise((i,n)=>{var m=s=>{try{p(e.next(s))}catch(l){n(l)}},u=s=>{try{p(e.throw(s))}catch(l){n(l)}},p=s=>s.done?i(s.value):Promise.resolve(s.value).then(m,u);p((e=e.apply(t,o)).next())});import{B as k}from"./BasicForm-cb329d14.js";import"./componentMap-b7e1d2b2.js";import{u as I}from"./useForm-fd714c19.js";import"./JAddInput-63b4f847.js";import"./JSelectUser-43dfc55e.js";import"./JSelectDept-3f191bfb.js";import"./JPopup-99598936.js";import{B as U}from"./index-4b015b65.js";import"./cron-parser-vendor-658b8fec.js";import{B as x}from"./index-9d0047d3.js";import{h as C}from"./depart.user.api-04f5b351.js";import{b as O}from"./depart.user.data-c3439e8e.js";import{d as S,c as b,k as B,e as j,u as a,a5 as D,a9 as L,a7 as P,f as V,ag as q}from"./vue-bcbaddf9.js";const ee=S({__name:"DepartRoleModal",props:{departId:{require:!0,type:String}},emits:["success","register"],setup(t,{emit:o}){const e=t;b("prefixCls");const i=B(!0),n=B({}),m=j(()=>i.value?"编辑":"新增"),[u,{resetFields:p,setFieldsValue:s,validate:l,updateSchema:A}]=I({schemas:O,showActionButtonGroup:!1}),[w,{setModalProps:f,closeModal:M}]=U(r=>d(this,null,function*(){yield p(),i.value=a(r==null?void 0:r.isUpdate);let c=a(r==null?void 0:r.record);typeof c=="object"&&(n.value=c,yield s(v({},c)))}));function R(){return d(this,null,function*(){try{f({confirmLoading:!0});let r=yield l();r.departId=a(e.departId),yield C(r,i.value),M(),o("success",{isUpdate:a(i),values:r})}finally{f({confirmLoading:!1})}})}return(r,c)=>(D(),L(a(x),q({title:m.value,width:800},r.$attrs,{onOk:R,onRegister:a(w)}),{default:P(()=>[V(a(k),{onRegister:a(u)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{ee as _};
