import{t as L}from"./index-bd4a6237.js";import{C as S}from"./jeecg-online-vendor-7e3ae2e6.js";import{d as g,U as B,a5 as e,a9 as r,a7 as f,aa as a,ab as p,R as k,e as D,a6 as h,E as C,f as x,am as A,k as w,r as T,s as V,an as E,F as I,a8 as z,al as F,V as c,u as N}from"./vue-249e5fad.js";import{B as $}from"./Bar-480f04d8.js";import{useECharts as G}from"./useECharts-374d2e89.js";import{c as O,aH as R}from"./antd-vue-vendor-31afcf32.js";import{b as j,c as P}from"./data-49176b6b.js";const q={class:"chart-card-header"},H={class:"meta"},M={class:"chart-card-title"},U={class:"chart-card-action"},J={class:"total"},K={class:"chart-card-content"},Q={class:"content-fix"},W={class:"chart-card-footer"},X={class:"field"},Y=g({__name:"ChartCard",props:{title:{type:String,default:""},total:{type:[Number,String],default:""},loading:{type:Boolean,default:!1}},setup(t){return(s,o)=>{const l=B("a-card");return e(),r(l,{loading:t.loading,"body-style":{padding:"20px 24px 8px"},bordered:!1},{default:f(()=>[a("div",q,[a("div",H,[a("span",M,p(t.title),1),a("span",U,[k(s.$slots,"action",{},void 0,!0)])]),a("div",J,[a("span",null,p(t.total),1)])]),a("div",K,[a("div",Q,[k(s.$slots,"default",{},void 0,!0)])]),a("div",W,[a("div",X,[k(s.$slots,"footer",{},void 0,!0)])])]),_:3},8,["loading"])}}});const Z=S(Y,[["__scopeId","data-v-ed423c1e"]]),tt=g({name:"Trend",props:{term:{type:String,default:"",required:!0},percentage:{type:Number,default:null},type:{type:Boolean,default:null},target:{type:Number,default:0},value:{type:Number,default:0},fixed:{type:Number,default:2}},setup(t){const s=D(()=>(t.type===null?t.value>=t.target:t.type)?"up":"down"),o=D(()=>(t.percentage===null?Math.abs(t.value-t.target)*100/t.target:t.percentage).toFixed(t.fixed));return{trend:s,rate:o}}});const et={class:"chart-trend"};function at(t,s,o,l,u,_){const i=B("Icon");return e(),h("div",et,[C(p(t.term)+" ",1),a("span",null,p(t.rate)+"%",1),a("span",{class:A(["trend-icon",t.trend])},[x(i,{icon:"ant-design:caret-"+t.trend+"-outlined"},null,8,["icon"])],2)])}const v=S(tt,[["render",at],["__scopeId","data-v-620ec0b8"]]),ot=g({name:"line",props:{chartData:{type:Array,default:()=>[]},option:{type:Object,default:()=>({})},width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh - 78px)"}},setup(t){const s=w(null),{setOptions:o,echarts:l}=G(s),u=T({tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#333"}}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"line",showSymbol:!1,smooth:!0,areaStyle:{},data:[]}]});V(()=>{t.chartData&&_()});function _(){t.option&&Object.assign(u,O(t.option));let i=t.chartData.map(m=>m.value),y=t.chartData.map(m=>m.name);u.series[0].data=i,u.xAxis.data=y,o(u)}return{chartRef:s}}});function nt(t,s,o,l,u,_){return e(),h("div",{ref:"chartRef",style:E({height:t.height,width:t.width})},null,4)}const b=S(ot,[["render",nt]]),rt={class:"md:flex"},st={key:0},lt={key:1},ct={key:0},yt=g({__name:"ChartGroupCard",props:{loading:{type:Boolean},type:{type:String,default:"chart"}},setup(t){const s=t,o=w({xAxis:{show:!1,boundaryGap:!1},yAxis:{show:!1,boundaryGap:!1,max:220}}),l=w([{name:"1月",value:50},{name:"2月",value:100},{name:"3月",value:150},{name:"4月",value:40},{name:"5月",value:110},{name:"6月",value:120}]),u=D(()=>s.type==="dbc"?j:P);function _(i,y){return y===0?`￥${i}`:y===3?`${i}%`:i}return(i,y)=>{const m=B("a-tooltip");return e(),h("div",rt,[(e(!0),h(I,null,z(u.value,(d,n)=>(e(),r(Z,{key:d.title,loading:t.loading,title:d.title,total:_(d.total,n),class:A(["md:w-1/4 w-full !md:mt-0 !mt-4",[n+1<4&&"!md:mr-4"]])},F({action:f(()=>[x(m,{title:"指标说明"},{default:f(()=>[x(N(L),{icon:d.icon,size:20},null,8,["icon"])]),_:2},1024)]),default:f(()=>[t.type==="chart"?(e(),h("div",st,[n===0?(e(),r(v,{key:0,term:"周同比",percentage:12})):c("",!0),n===0?(e(),r(v,{key:1,term:"日同比",percentage:11,type:!1})):c("",!0),n===1?(e(),r(b,{key:2,option:o.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),n===2?(e(),r($,{key:3,option:o.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),n===3?(e(),r(N(R),{key:4,percent:78,"show-info":!1})):c("",!0)])):(e(),h("div",lt,[n===0?(e(),r(b,{key:0,option:o.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),n===1?(e(),r(b,{key:1,option:o.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),n===2?(e(),r($,{key:2,option:o.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0),n===3?(e(),r($,{key:3,option:o.value,chartData:l.value,height:"50px"},null,8,["option","chartData"])):c("",!0)]))]),_:2},[t.type==="chart"?{name:"footer",fn:f(()=>[i.inde!==3?(e(),h("span",ct,[C(p(d.footer),1),a("span",null,p(d.value),1)])):c("",!0),n===3?(e(),r(v,{key:1,term:"周同比",percentage:12})):c("",!0),n===3?(e(),r(v,{key:2,term:"日同比",percentage:11,type:!1})):c("",!0)]),key:"0"}:{name:"footer",fn:f(()=>[a("span",null,[C(p(d.footer),1),a("span",null,p(d.value),1)])]),key:"1"}]),1032,["loading","title","total","class"]))),128))])}}});export{yt as _};
