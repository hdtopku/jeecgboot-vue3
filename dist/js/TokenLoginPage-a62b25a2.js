import{bE as g,bF as _,aV as m,as as v,ay as f}from"./vue-c7e3516e.js";import{k as F,c as E,l as b,_ as k}from"./jeecg-online-vendor-bf2efbcb.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./lodash-es-vendor-42c8d3d4.js";const B={name:"TokenLogin",setup(){const u=g();let i=_();const{createMessage:a,notification:s}=b(),{t:o}=F(),t=u.query;t||a.warning("\u53C2\u6570\u65E0\u6548");const n=t.loginToken;n||a.warning("token\u65E0\u6548"),E().ThirdLogin({token:n,thirdType:"email"}).then(e=>{e&&e.userInfo?l(e):d(e)});function d(e){s.error({message:"\u767B\u5F55\u5931\u8D25",description:((e.response||{}).data||{}).message||e.message||"\u8BF7\u6C42\u51FA\u73B0\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",duration:4})}function l(e){let r=t.info;if(r){let c=JSON.parse(r),p="/task/handle/"+c.taskId;i.replace({path:p,query:c}),s.success({message:o("sys.login.loginSuccessTitle"),description:`${o("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else s.error({message:"\u53C2\u6570\u5931\u6548",description:"\u9875\u9762\u8DF3\u8F6C\u53C2\u6570\u4E22\u5931\uFF0C\u8BF7\u67E5\u770B\u65E5\u5FD7",duration:4})}}},h="/resource/img/logo.png";const y={class:"app-loading"},S=f('<div class="app-loading-wrap" data-v-95b06157><img src="'+h+'" class="app-loading-logo" alt="Logo" data-v-95b06157><div class="app-loading-dots" data-v-95b06157><span class="dot dot-spin" data-v-95b06157><i data-v-95b06157></i><i data-v-95b06157></i><i data-v-95b06157></i><i data-v-95b06157></i></span></div><div class="app-loading-title" data-v-95b06157>JeecgBoot \u4F01\u4E1A\u7EA7\u4F4E\u4EE3\u7801\u5E73\u53F0</div></div>',1),C=[S];function D(u,i,a,s,o,t){return m(),v("div",y,C)}const w=k(B,[["render",D],["__scopeId","data-v-95b06157"]]);export{w as default};
