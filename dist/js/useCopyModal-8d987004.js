var C=Object.defineProperty,k=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var d=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a=(e,t)=>{for(var r in t||(t={}))x.call(t,r)&&d(e,r,t[r]);if(p)for(var r of p(t))P.call(t,r)&&d(e,r,t[r]);return e},c=(e,t)=>k(e,T(t));import{C as w}from"./clipboard-75d80c39.js";import{u as b}from"./jeecg-online-vendor-e26fc0e5.js";import{u as B,G as h,w as M}from"./vue-705b7309.js";import"./tinymce-vendor-6e169cb2.js";import"./antd-vue-vendor-cce59da1.js";import"./lodash-es-vendor-5fc8fca4.js";const u="copy-this-text",f="data-clipboard-text";function G(){return{createCopyModal:g}}const{createMessage:y,createConfirm:O}=b();function g(e){var r,n,l,m,i;let t=O(c(a({},e),{iconType:(r=e.iconType)!=null?r:"info",width:(n=e.width)!=null?n:500,title:(l=e.title)!=null?l:"复制",maskClosable:(m=e.maskClosable)!=null?m:!0,okText:(i=e.okText)!=null?i:"复制",okButtonProps:c(a({},e.okButtonProps),{class:u,[f]:B(e.copyText)}),onOk(){return new Promise(o=>{const s=new w("."+u);s.on("success",()=>{s.destroy(),y.success("复制成功"),o()}),s.on("error",()=>{y.error("该浏览器不支持自动复制"),s.destroy(),o()})})}}));return h(e.copyText)&&M(e.copyText,o=>{t.update({okButtonProps:c(a({},e.okButtonProps),{class:u,[f]:o})})}),t}export{G as useCopyModal};
