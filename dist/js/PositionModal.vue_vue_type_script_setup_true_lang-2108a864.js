var P=Object.defineProperty;var f=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var g=(t,o,e)=>o in t?P(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,y=(t,o)=>{for(var e in o||(o={}))w.call(o,e)&&g(t,e,o[e]);if(f)for(var e of f(o))_.call(o,e)&&g(t,e,o[e]);return t};var d=(t,o,e)=>new Promise((m,c)=>{var p=s=>{try{n(e.next(s))}catch(a){c(a)}},u=s=>{try{n(e.throw(s))}catch(a){c(a)}},n=s=>s.done?m(s.value):Promise.resolve(s.value).then(p,u);n((e=e.apply(t,o)).next())});import{B as x}from"./index-1c1dc92f.js";import{B as I}from"./BasicForm-16b0dbe3.js";import"./componentMap-954cd91c.js";import{u as M}from"./useForm-a6f4b45a.js";import"./JAddInput-0d73042c.js";import"./JSelectUser-ef2d6619.js";import"./JSelectDept-3b235dbd.js";import"./JPopup-10c26cf4.js";import{B as b}from"./index-12df1add.js";import{b as l}from"./jeecg-online-vendor-ef755ff7.js";import{M as U}from"./antd-vue-vendor-31afcf32.js";import{d as k,k as v,u as i,e as F,a5 as T,a9 as L,a7 as R,f as O,ag as S}from"./vue-249e5fad.js";const Y=[{title:"职务名称",dataIndex:"name",align:"left"}],Z=[{field:"name",label:"职务名称",component:"Input",colProps:{span:8}}],j=[{label:"主键",field:"id",component:"Input",show:!1},{field:"name",label:"职务名称",component:"Input",required:!0}],ee="/sys/position/exportXls",te="/sys/position/importExcel",oe=t=>l.get({url:"/sys/position/list",params:t}),q=(t,o)=>{let e=o?"/sys/position/edit":"/sys/position/add";return l.post({url:e,params:t})},C=t=>l.get({url:"/sys/position/queryById",params:t}),se=(t,o)=>l.delete({url:"/sys/position/delete",data:t},{joinParamsToUrl:!0}).then(()=>{o()}),re=(t,o)=>{U.confirm({title:"确认删除",content:"是否删除选中数据",okText:"确认",cancelText:"取消",onOk:()=>l.delete({url:"/sys/position/deleteBatch",data:t},{joinParamsToUrl:!0}).then(()=>{o()})})},ie=k({__name:"PositionModal",emits:["success","register"],setup(t,{emit:o}){const e=v(!0),[m,{resetFields:c,setFieldsValue:p,validate:u}]=M({schemas:j,showActionButtonGroup:!1}),[n,{setModalProps:s,closeModal:a}]=b(r=>d(this,null,function*(){yield c(),s({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),i(e)&&(r.record=yield C({id:r.record.id}),yield p(y({},r.record)))})),h=F(()=>i(e)?"编辑职务":"新增职务");function B(){return d(this,null,function*(){try{const r=yield u();s({confirmLoading:!0}),yield q(r,e.value),a(),o("success")}finally{s({confirmLoading:!1})}})}return(r,E)=>(T(),L(i(x),S(r.$attrs,{onRegister:i(n),title:h.value,onOk:B,width:700}),{default:R(()=>[O(i(I),{onRegister:i(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{ie as _,ee as a,te as b,Y as c,se as d,re as e,oe as g,Z as s};
