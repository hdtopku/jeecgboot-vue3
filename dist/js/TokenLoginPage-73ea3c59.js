import{a3 as g,a4 as _,a5 as A,a6 as B,ay as m,a7 as f,a8 as v}from"./vue-86253b15.js";import{u as k,q as h,o as y,_ as S}from"./jeecg-online-vendor-bc5d810e.js";import"./antd-vue-vendor-371529c2.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-04a44d0a.js";import"./vxe-table-vendor-6a8d95c4.js";const I={name:"TokenLogin",setup(){const c=g();let d=_();const{createMessage:o,notification:a}=h(),{t}=y(),s=c.query;s||o.warning("参数无效");const r=s.loginToken;r||o.warning("token无效"),k().ThirdLogin({token:r,thirdType:"email",goHome:!1}).then(e=>{e&&e.userInfo?l(e):u(e)});function u(e){a.error({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4})}function l(e){let p=s.info;if(p){let i=JSON.parse(p),n="";i.isLowApp===1?n="/myapps/personalOffice/myTodo":n="/task/handle/"+i.taskId,d.replace({path:n,query:i}),a.success({message:t("sys.login.loginSuccessTitle"),description:`${t("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else a.error({message:"参数失效",description:"页面跳转参数丢失，请查看日志",duration:4})}}},T="/resource/img/logo.png";const E={class:"app-loading"},L=m('<div class="app-loading-wrap" data-v-0d7a6c75><img src="'+T+'" class="app-loading-logo" alt="Logo" data-v-0d7a6c75><div class="app-loading-dots" data-v-0d7a6c75><span class="dot dot-spin" data-v-0d7a6c75><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i></span></div><div class="app-loading-title" data-v-0d7a6c75>JeecgBoot 企业级低代码平台</div></div>',1),$=[L];function q(c,d,o,a,t,s){return f(),v("div",E,$)}const R=S(I,[["render",q],["__scopeId","data-v-0d7a6c75"]]);export{R as default};
