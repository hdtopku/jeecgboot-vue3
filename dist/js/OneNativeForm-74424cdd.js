var S=(q,x,C)=>new Promise((u,g)=>{var _=p=>{try{b(C.next(p))}catch(s){g(s)}},j=p=>{try{b(C.throw(p))}catch(s){g(s)}},b=p=>p.done?u(p.value):Promise.resolve(p.value).then(_,j);b((C=C.apply(q,x)).next())});import{a as R,b as V,u as B,C as L}from"./jeecg-online-vendor-7e3ae2e6.js";import{aa as Q}from"./index-bd4a6237.js";import{t as M,J as Z,a as G,b as K,c as X,u as h,i as c,d as ee,e as le,s as ae,r as ue,f as oe,p as re,g as pe,h as se,_ as te,j as ne,Q as de,k as ie}from"./JAddInput-93656682.js";import{_ as ve}from"./JUpload.vue_vue_type_style_index_0_lang-5d4a8546.js";import{d as fe}from"./JPopup-0d64514d.js";import{o as me}from"./JSelectDept-62570e8c.js";import{n as Ce}from"./JSelectUser-88891e09.js";import{a5 as be,aI as we}from"./antd-vue-vendor-31afcf32.js";import{d as ge,r as F,k as z,U as f,a5 as ze,a9 as _e,a7 as o,f as e,ag as i,u as n,q as xe}from"./vue-249e5fad.js";import"./tinymce-vendor-676f8393.js";import"./lodash-es-vendor-c1987ca1.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-0b109a77.js";import"./areaDataUtil-ce3f5a88.js";import"./useFormItem-f6fd46b4.js";import"./index-04fa66a8.js";import"./BasicModal-f351dd71.js";import"./useWindowSizeFn-d412f40a.js";import"./props-d5b22a57.js";import"./JSelectBiz-dc86b82d.js";import"./index-1ba0e439.js";import"./codemirror-vendor-7570b8a9.js";import"./index-4d38590a.js";import"./bem-541db94a.js";import"./props-7b44416e.js";import"./useContextMenu-81d046f5.js";import"./depart.api-23a4c432.js";const je=ge({__name:"OneNativeForm",emits:["register","ok"],setup(q,{expose:x,emit:C}){const u=F({name:"",miMa:"",ywzz:"",xiala:"",danxuan:"",duoxuan:"",riqi:"",shijian:"",wenjian:"",tupian:"",dhwb:"",xlss:"",popup:"",flzds:"",yhxz:"",fwb:"",shq:"",ldzje:"",ldzjs:"",zddtjxl:"",yongHu:"",zhiWu:"",jueSe:"",zdys:"",jssq:"",zdbxl:"",zdmrz:"",jsonParam:"",bmxz:"",yuanjia:"",nyrsfm:""}),{createMessage:g}=B(),_=z(),j=be.useForm,b=F({duplicateCheck:"/sys/duplicate/check",add:"/test/jeecgDemo/oneNative/add",edit:"/test/jeecgDemo/oneNative/edit"}),p=z({xs:{span:24},sm:{span:5}}),s=z({xs:{span:24},sm:{span:16}}),y=z(!1),U={name:[{required:!1,message:"请输入文本!"}],miMa:[{required:!1,message:"请输入密码!"}],ywzz:[{required:!1},{pattern:"^[a-z|A-Z]{2,10}$",message:"不符合校验规则!"}],xiala:[{required:!1,message:"请选择下拉组件!"}],danxuan:[{required:!1,message:"请选择单选组件!"}],duoxuan:[{required:!1,message:"请选择多选组件!"}],riqi:[{required:!1,message:"请选择日期!"}],shijian:[{required:!1,message:"请选择时间!"}],wenjian:[{required:!1,message:"请上传文件!"}],tupian:[{required:!1,message:"请上传图片!"}],dhwb:[{required:!1,message:"请填写多行文本!"}],xlss:[{required:!1,message:"请选择字典下拉搜索!"}],popup:[{required:!1,message:"请选择popup弹窗!"}],flzds:[{required:!1,message:"请选择分类字典树!"}],yhxz:[{required:!1,message:"请选择用户!"}],fwb:[{required:!1,message:"请填写富文本!"}],shq:[{required:!1,message:"请选择省市级!"}],ldzje:[{required:!1,message:"请输入JInputPop!"}],ldzjs:[{required:!1,message:"请选择下拉输入框!"}],zddtjxl:[{required:!1,message:"请选择多选输入框!"}],yongHu:[{required:!1,message:"请选择用户!"}],zhiWu:[{required:!1,message:"请选择职务!"}],jueSe:[{required:!1,message:"请选择角色!"}],zdys:[{required:!1,message:"请选择自定义树!"}],jssq:[{required:!1,message:"请选择三级联动!"}],zdbxl:[{required:!1,message:"请选择JTreeDict!"}],zdmrz:[{required:!1,message:"请输入JCodeEditor!"}],jsonParam:[{required:!1,message:"请输入参数!"}],bmxz:[{required:!1,message:"请选择部门!"}],yuanjia:[{required:!1,message:"请输入数值!"}],nyrsfm:[{required:!1,message:"请选择年月日时分秒!"}]},{resetFields:P,validate:Y,validateInfos:d}=j(u,U,{immediate:!1}),D=z([{label:"男",value:"1"},{label:"女",value:"2"}]);function I(){k({})}function k(v){xe(()=>{P(),Object.assign(u,v)})}function T(){return S(this,null,function*(){yield Y(),y.value=!0;let v="",l="",w=u;w.id?(v+=b.edit,l="put"):(v+=b.add,l="post");for(let r in u)u[r]instanceof Array&&R(_.value.getProps,r)==="string"&&(u[r]=u[r].join(","));V.request({url:v,params:w,method:l},{isTransformResponse:!1}).then(r=>{r.success?(g.success(r.message),C("ok")):g.warning(r.message)}).finally(()=>{y.value=!1})})}function H(v){Object.keys(v).map(l=>{u[l]=v[l]})}function m(v,l){u[v]=l}return x({add:I,edit:k,submitForm:T}),(v,l)=>{const w=f("a-input"),r=f("a-form-item"),t=f("a-col"),N=f("a-input-password"),J=f("a-date-picker"),O=f("a-textarea"),W=f("a-input-number"),$=f("a-row"),A=f("a-form"),E=f("a-spin");return ze(),_e(E,{spinning:y.value},{default:o(()=>[e(A,{class:"antd-modal-form",ref_key:"formRef",ref:_,model:u,rules:U},{default:o(()=>[e($,null,{default:o(()=>[e(t,{span:24},{default:o(()=>[e(r,i({label:"文本",labelCol:p.value,wrapperCol:s.value},n(d).name),{default:o(()=>[e(w,{value:u.name,"onUpdate:value":l[0]||(l[0]=a=>u.name=a),placeholder:"请输入文本"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"密码",labelCol:p.value,wrapperCol:s.value},n(d).miMa),{default:o(()=>[e(N,{value:u.miMa,"onUpdate:value":l[1]||(l[1]=a=>u.miMa=a),placeholder:"请输入密码"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"字典下拉",labelCol:p.value,wrapperCol:s.value},n(d).xiala),{default:o(()=>[e(M,{type:"select",value:u.xiala,"onUpdate:value":l[2]||(l[2]=a=>u.xiala=a),dictCode:"sex",placeholder:"请选择字典下拉"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"字典单选",labelCol:p.value,wrapperCol:s.value},n(d).danxuan),{default:o(()=>[e(M,{type:"radio",value:u.danxuan,"onUpdate:value":l[3]||(l[3]=a=>u.danxuan=a),dictCode:"sex",placeholder:"请选择字典单选"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"字典多选",labelCol:p.value,wrapperCol:s.value},n(d).duoxuan),{default:o(()=>[e(Z,{value:u.duoxuan,"onUpdate:value":l[4]||(l[4]=a=>u.duoxuan=a),dictCode:"urgent_level",placeholder:"请选择字典多选"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"开关",labelCol:p.value,wrapperCol:s.value},n(d).kaiguan),{default:o(()=>[e(G,{value:u.kaiguan,"onUpdate:value":l[5]||(l[5]=a=>u.kaiguan=a),options:["1","0"]},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"日期",labelCol:p.value,wrapperCol:s.value},n(d).riqi),{default:o(()=>[e(J,{placeholder:"请选择日期",format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",value:u.riqi,"onUpdate:value":l[6]||(l[6]=a=>u.riqi=a),style:{width:"100%"}},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"年月日时分秒",labelCol:p.value,wrapperCol:s.value},n(d).nyrsfm),{default:o(()=>[e(J,{"show-time":"",value:u.nyrsfm,"onUpdate:value":l[7]||(l[7]=a=>u.nyrsfm=a),style:{width:"100%"},valueFormat:"YYYY-MM-DD HH:mm:ss"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"时间",labelCol:p.value,wrapperCol:s.value},n(d).shijian),{default:o(()=>[e(n(we),{placeholder:"请选择时间",value:u.shijian,"onUpdate:value":l[8]||(l[8]=a=>u.shijian=a),style:{width:"100%"}},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"文件",labelCol:p.value,wrapperCol:s.value},n(d).wenjian),{default:o(()=>[e(ve,{value:u.wenjian,"onUpdate:value":l[9]||(l[9]=a=>u.wenjian=a)},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"图片",labelCol:p.value,wrapperCol:s.value},n(d).tupian),{default:o(()=>[e(K,{fileMax:2,value:u.tupian,"onUpdate:value":l[10]||(l[10]=a=>u.tupian=a)},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"多行文本框",labelCol:p.value,wrapperCol:s.value},n(d).dhwb),{default:o(()=>[e(O,{value:u.dhwb,"onUpdate:value":l[11]||(l[11]=a=>u.dhwb=a),rows:"4",placeholder:"请输入多行文本框"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"字典表下拉搜索框",labelCol:p.value,wrapperCol:s.value},n(d).xlss),{default:o(()=>[e(X,{value:u.xlss,"onUpdate:value":l[12]||(l[12]=a=>u.xlss=a),dict:"sys_user,realname,username"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"popup弹窗",labelCol:p.value,wrapperCol:s.value},n(d).popup),{default:o(()=>[e(fe,{value:u.popup,"onUpdate:value":l[13]||(l[13]=a=>u.popup=a),fieldConfig:[{source:"name",target:"popup"},{source:"id",target:"popback"}],code:"report_user",multi:!0,setFieldsValue:H},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"popback",labelCol:p.value,wrapperCol:s.value},n(d).popback),{default:o(()=>[e(w,{value:u.popback,"onUpdate:value":l[14]||(l[14]=a=>u.popback=a)},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"分类字典树",labelCol:p.value,wrapperCol:s.value},n(d).flzds),{default:o(()=>[e(h,{onChange:l[15]||(l[15]=a=>m("flzds",a)),value:u.flzds,"onUpdate:value":l[16]||(l[16]=a=>u.flzds=a),pcode:"B02",placeholder:"请选择分类字典树"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"部门选择",labelCol:p.value,wrapperCol:s.value},n(d).bmxz),{default:o(()=>[e(me,{value:u.bmxz,"onUpdate:value":l[17]||(l[17]=a=>u.bmxz=a),multi:!0,type:"array"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"用户选择",labelCol:p.value,wrapperCol:s.value},n(d).yhxz),{default:o(()=>[e(c,{value:u.yhxz,"onUpdate:value":l[18]||(l[18]=a=>u.yhxz=a),multi:!0},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"富文本",labelCol:p.value,wrapperCol:s.value},n(d).fwb),{default:o(()=>[e(ee,{value:u.fwb,"onUpdate:value":l[19]||(l[19]=a=>u.fwb=a)},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"markdown",labelCol:p.value,wrapperCol:s.value},n(d).markdownString),{default:o(()=>[e(le,{value:u.markdownString,"onUpdate:value":l[20]||(l[20]=a=>u.markdownString=a)},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"省市区JAreaSelect",labelCol:p.value,wrapperCol:s.value},n(d).shq),{default:o(()=>[e(ae,{value:u.shq,"onUpdate:value":l[21]||(l[21]=a=>u.shq=a),placeholder:"请输入省市区"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"省市区JAreaLinkage",labelCol:p.value,wrapperCol:s.value},n(d).jssq),{default:o(()=>[e(ue,{value:u.jssq,"onUpdate:value":l[22]||(l[22]=a=>u.jssq=a),placeholder:"请输入省市区"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"JInputPop",labelCol:p.value,wrapperCol:s.value},n(d).ldzje),{default:o(()=>[e(Q,{value:u.ldzje,"onUpdate:value":l[23]||(l[23]=a=>u.ldzje=a),placeholder:"请输入JInputPop",onChange:l[24]||(l[24]=a=>m("ldzje",a))},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"JSelectInput",labelCol:p.value,wrapperCol:s.value},n(d).ldzjs),{default:o(()=>[e(oe,{value:u.ldzjs,"onUpdate:value":l[25]||(l[25]=a=>u.ldzjs=a),placeholder:"请选择JSelectInput",options:D.value,onChange:l[26]||(l[26]=a=>m("ldzjs",a))},null,8,["value","options"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"下拉多选",labelCol:p.value,wrapperCol:s.value},n(d).zddtjxl),{default:o(()=>[e(re,{value:u.zddtjxl,"onUpdate:value":l[27]||(l[27]=a=>u.zddtjxl=a),placeholder:"请选择下拉多选",dictCode:"sex"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"用户",labelCol:p.value,wrapperCol:s.value},n(d).yongHu),{default:o(()=>[e(Ce,{value:u.yongHu,"onUpdate:value":l[28]||(l[28]=a=>u.yongHu=a),placeholder:"请选择用户"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"职务",labelCol:p.value,wrapperCol:s.value},n(d).zhiWu),{default:o(()=>[e(pe,{value:u.zhiWu,"onUpdate:value":l[29]||(l[29]=a=>u.zhiWu=a),placeholder:"请选择职务",onChange:l[30]||(l[30]=a=>m("zhiWu",a))},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"角色",labelCol:p.value,wrapperCol:s.value},n(d).jueSe),{default:o(()=>[e(se,{value:u.jueSe,"onUpdate:value":l[31]||(l[31]=a=>u.jueSe=a),placeholder:"请选择角色",onChange:l[32]||(l[32]=a=>m("jueSe",a))},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"自定义树",labelCol:p.value,wrapperCol:s.value},n(d).zdys),{default:o(()=>[e(te,{ref:"treeSelect",placeholder:"请选择自定义树",value:u.zdys,"onUpdate:value":l[33]||(l[33]=a=>u.zdys=a),dict:"sys_category,name,id",pidValue:"0",loadTriggleChange:""},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"数值",labelCol:p.value,wrapperCol:s.value},n(d).yuanjia),{default:o(()=>[e(W,{value:u.yuanjia,"onUpdate:value":l[34]||(l[34]=a=>u.yuanjia=a),placeholder:"请输入double类型",style:{width:"100%"}},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"输入2到10位的字母",labelCol:p.value,wrapperCol:s.value},n(d).ywzz),{default:o(()=>[e(w,{value:u.ywzz,"onUpdate:value":l[35]||(l[35]=a=>u.ywzz=a),placeholder:"请输入2到10位的字母"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"JTreeDict",labelCol:p.value,wrapperCol:s.value},n(d).zdbxl),{default:o(()=>[e(ne,{value:u.zdbxl,"onUpdate:value":l[36]||(l[36]=a=>u.zdbxl=a),placeholder:"请选择JTreeDict",onChange:l[37]||(l[37]=a=>m("zdbxl",a))},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"JCodeEditor",labelCol:p.value,wrapperCol:s.value},n(d).zdmrz),{default:o(()=>[e(de,{value:u.zdmrz,"onUpdate:value":l[38]||(l[38]=a=>u.zdmrz=a),placeholder:"请输入JCodeEditor",onChange:l[39]||(l[39]=a=>m("zdmrz",a))},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1}),e(t,{span:24},{default:o(()=>[e(r,i({label:"参数",labelCol:p.value,wrapperCol:s.value},n(d).jsonParam),{default:o(()=>[e(ie,{value:u.jsonParam,"onUpdate:value":l[40]||(l[40]=a=>u.jsonParam=a),placeholder:"参数"},null,8,["value"])]),_:1},16,["labelCol","wrapperCol"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])}}});const Xe=L(je,[["__scopeId","data-v-19e06482"]]);export{Xe as default};
