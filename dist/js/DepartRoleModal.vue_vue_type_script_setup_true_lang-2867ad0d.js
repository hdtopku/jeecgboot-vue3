var _=Object.defineProperty;var g=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var h=(t,o,e)=>o in t?_(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,v=(t,o)=>{for(var e in o||(o={}))y.call(o,e)&&h(t,e,o[e]);if(g)for(var e of g(o))F.call(o,e)&&h(t,e,o[e]);return t};var d=(t,o,e)=>new Promise((i,n)=>{var c=s=>{try{p(e.next(s))}catch(l){n(l)}},u=s=>{try{p(e.throw(s))}catch(l){n(l)}},p=s=>s.done?i(s.value):Promise.resolve(s.value).then(c,u);p((e=e.apply(t,o)).next())});import{B as k}from"./BasicForm-ac34d48e.js";import"./componentMap-ba94d61e.js";import{u as I}from"./useForm-a39fb19e.js";import"./JAddInput-ff8a2196.js";import"./JSelectUser-d28baf37.js";import"./JSelectDept-6a5d3f49.js";import"./JPopup-03bf28d5.js";import{B as U}from"./index-23d562e3.js";import"./cron-parser-vendor-c9873295.js";import{B as x}from"./index-0d8c6dee.js";import"./JEllipsis.vue_vue_type_script_setup_true_lang-eaa23dad.js";import{h as C}from"./depart.user.api-36c55c88.js";import{b as O}from"./depart.user.data-3fe7a458.js";import{d as S,c as b,k as B,e as j,u as a,a5 as D,a9 as L,a7 as P,f as V,ag as q}from"./vue-5a09445c.js";const oe=S({__name:"DepartRoleModal",props:{departId:{require:!0,type:String}},emits:["success","register"],setup(t,{emit:o}){const e=t;b("prefixCls");const i=B(!0),n=B({}),c=j(()=>i.value?"编辑":"新增"),[u,{resetFields:p,setFieldsValue:s,validate:l,updateSchema:A}]=I({schemas:O,showActionButtonGroup:!1}),[w,{setModalProps:f,closeModal:M}]=U(r=>d(this,null,function*(){yield p(),i.value=a(r==null?void 0:r.isUpdate);let m=a(r==null?void 0:r.record);typeof m=="object"&&(n.value=m,yield s(v({},m)))}));function R(){return d(this,null,function*(){try{f({confirmLoading:!0});let r=yield l();r.departId=a(e.departId),yield C(r,i.value),M(),o("success",{isUpdate:a(i),values:r})}finally{f({confirmLoading:!1})}})}return(r,m)=>(D(),L(a(x),q({title:c.value,width:800},r.$attrs,{onOk:R,onRegister:a(w)}),{default:P(()=>[V(a(k),{onRegister:a(u)},null,8,["onRegister"])]),_:1},16,["title","onRegister"]))}});export{oe as _};
