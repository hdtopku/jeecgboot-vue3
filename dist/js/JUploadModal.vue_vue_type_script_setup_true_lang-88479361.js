var m=(t,i,s)=>new Promise((o,p)=>{var u=a=>{try{r(s.next(a))}catch(e){p(e)}},d=a=>{try{r(s.throw(a))}catch(e){p(e)}},r=a=>a.done?o(a.value):Promise.resolve(a.value).then(u,d);r((s=s.apply(t,i)).next())});import{B as h}from"./index-a882524d.js";import"./jeecg-online-vendor-12004772.js";import{U as n,_ as y}from"./JUpload.vue_vue_type_style_index_0_lang-5851070a.js";import{p as l,A as T}from"./index-6916e394.js";import{d as _,k as v,r as k,e as w,u as f,n as B,aV as E,ar as M,bi as A,f as F,aQ as g}from"./vue-c7e3516e.js";const b=_({__name:"JUploadModal",props:{value:l.oneOfType([l.string,l.array]),width:l.number.def(520)},emits:["change","update:value","register"],setup(t,{emit:i}){const s=v(),o=k({props:{}}),p=w(()=>{var e;return((e=o.props)==null?void 0:e.fileType)===n.image?"\u56FE\u7247\u4E0A\u4F20":"\u6587\u4EF6\u4E0A\u4F20"}),[u,{closeModal:d}]=T(e=>m(this,null,function*(){var c;o.props=f(e)||{},[n.image,"img","picture"].includes((c=o.props)==null?void 0:c.fileType)?o.props.fileType=n.image:o.props.fileType=n.file,B(()=>s.value.addActionsListener())}));function r(){d()}function a(e){i("change",e),i("update:value",e)}return(e,c)=>(E(),M(f(h),g({onRegister:f(u),title:p.value,width:t.width,onOk:r},e.$attrs),{default:A(()=>[F(y,g({ref_key:"uploadRef",ref:s,value:t.value},o.props,{onChange:a}),null,16,["value"])]),_:1},16,["onRegister","title","width"]))}});export{b as _};
