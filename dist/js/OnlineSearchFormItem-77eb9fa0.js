import{d as L,k as O,w as S,bt as z,U as u,aV as i,ar as o,bi as C,at as w,ag as I,as as p,F as m,f as h,a_ as Q,E as X,aQ as N,ad as G,aX as H,aW as R}from"./vue-c7e3516e.js";import"./BasicForm.vue_vue_type_style_index_0_lang-aeaafe88.js";import"./componentMap-a6d21ad6.js";import"./antd-vue-vendor-1561c1ba.js";import{bW as Z}from"./jeecg-online-vendor-bf2efbcb.js";import{e as _,q as x,l as ee,b as le,r as te,f as ae,n as ie,J as oe,g as ne,m as ue}from"./JAddInput-2cbbbde9.js";import"./index-fde9c72f.js";import re from"./JOnlineSearchSelect-322768f7.js";import"./lodash-es-vendor-42c8d3d4.js";import"./index-8cf3aabb.js";import"./BasicModal-ff8f2086.js";import"./useWindowSizeFn-e5cad7ae.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./useFormItem-4a12ff45.js";import"./JUpload.vue_vue_type_style_index_0_lang-3f4c90f3.js";import"./download-c8889ed9.js";import"./base64Conver-4e359726.js";import"./index-ee020524.js";import"./index-53e807bd.js";import"./useCountdown-473e4dcc.js";import"./index-ed4be6fa.js";import"./areaDataUtil-b2642a1f.js";import"./useSelectBiz-c744cf20.js";import"./props-8e8dbf4f.js";import"./index-d4783a30.js";import"./bem-deccd0b6.js";import"./props-c3781b9d.js";import"./useContextMenu-c0be0b5c.js";import"./useTreeBiz-faf9875a.js";import"./index-63ed9c18.js";import"./depart.api-25dc3d39.js";var de=Object.defineProperty,$=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,A=(e,l,n)=>l in e?de(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,me=(e,l)=>{for(var n in l||(l={}))se.call(l,n)&&A(e,n,l[n]);if($)for(var n of $(l))pe.call(l,n)&&A(e,n,l[n]);return e};const P=L({name:"OnlineSearchFormItem",components:{JOnlineSearchSelect:re,JDictSelectTag:_,JTreeSelect:x,JCategorySelect:ee,JSelectUser:le,JSelectUserByDept:te,JSelectDept:ae,JPopup:ie,JAreaLinkage:oe,JAreaSelect:ne,JSelectMultiple:ue},props:{value:{type:String,default:""},item:{type:Object,default:()=>{},required:!0},dictOptions:{type:Object,default:()=>{},required:!1},onlineForm:{type:Object,default:()=>{},required:!1}},emits:["update:value","change"],setup(e,{emit:l}){const n="120px",q={style:{"max-width":n}},j="single";let y=O(""),s=O(""),f=O("");S(()=>e.value,()=>{F()?y.value=e.value?e.value:void 0:y.value=e.value,e.value||(s.value="",f.value="")},{deep:!0,immediate:!0}),S(y,a=>{l("update:value",a)},{immediate:!0}),S(s,a=>{l("change",e.item.field+"_begin",a),l("update:value","1")}),S(f,a=>{l("change",e.item.field+"_end",a),l("update:value","1")});function J(a){return a.dbField?a.dbField:a.field}function F(){let a=e.item;return a?a.view=="list"||a.view=="radio"||a.view=="switch":!1}function D(){let a=e.item;return a.dictTable&&a.dictTable.length>0?a.dictTable+","+a.dictText+","+a.dictCode:a.dictCode}function k(){let a=e.item,{dictTable:t,dictCode:v,dictText:d}=a,g=t.toLowerCase().split("where"),r="";return g.length>1&&(r=" where"+g[1]),"select "+v+" as 'value', "+d+" as 'text' from "+g[0]+r}function E(a){let{dictText:t,dictCode:v}=a;if(!t||t.length==0)return[];let d=t.split(","),c=v.split(","),g=[];for(let r=0;r<d.length;r++)g.push({target:d[r],source:c[r]});return g}function T(a){let{dictText:t}=e.item,d=t.split(",")[0];l("change",d,a[d])}function B(a){l("update:value",a)}function b(a,t,v){let d={labelKey:t,rowKey:v},c=a.fieldExtendJson;if(c&&typeof c=="string"){let g=JSON.parse(c),r=me({},g);r.text&&(d.labelKey=r.text),r.store&&(d.rowKey=r.store)}return d}let U=b(e.item,"realname","username"),Y=b(e.item,"departName","id");function V(a){a&&a.length>0?l("update:value",a.join(",")):l("update:value","")}return{getPopupFieldConfig:E,userSelectProp:U,depSelectProp:Y,handleSelectChange:V,setFieldsValue:T,innerValue:y,beginValue:s,endValue:f,isEasySelect:F,getDictOptionKey:J,getDictCode:D,labelTextMaxWidth:n,labelCol:q,single_mode:j,getSqlByDictCode:k,handleCategoryTreeChange:B}}}),K=()=>{z(e=>({"1e41a56d":e.labelTextMaxWidth}))},W=P.setup;P.setup=W?(e,l)=>(K(),W(e,l)):K;const ve=P,M=e=>(H("data-v-76dfb908"),e=e(),R(),e),ge=["title"],fe=M(()=>w("span",{class:"group-query-strig"},"~",-1)),ce=M(()=>w("span",{class:"group-query-strig"},"~",-1)),he=M(()=>w("span",{class:"group-query-strig"},"~",-1));function ye(e,l,n,q,j,y){const s=u("a-date-picker"),f=u("JDictSelectTag"),J=u("a-select-option"),F=u("a-select"),D=u("JTreeSelect"),k=u("JCategorySelect"),E=u("JOnlineSearchSelect"),T=u("JSelectUser"),B=u("JSelectDept"),b=u("JPopup"),U=u("JAreaSelect"),Y=u("JSelectMultiple"),V=u("a-input"),a=u("a-form-item");return i(),o(a,{labelCol:e.labelCol,class:G("jeecg-online-search")},{label:C(()=>[w("span",{title:e.item.label,class:"label-text"},I(e.item.label),9,ge)]),default:C(()=>[e.item.view=="date"?(i(),p(m,{key:0},[e.single_mode===e.item.mode?(i(),o(s,{key:0,style:{width:"100%"},showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[0]||(l[0]=t=>e.innerValue=t)},null,8,["placeholder","value"])):(i(),p(m,{key:1},[h(s,{showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"\u5F00\u59CB\u65E5\u671F",value:e.beginValue,"onUpdate:value":l[1]||(l[1]=t=>e.beginValue=t),style:{width:"calc(50% - 15px)"}},null,8,["value"]),fe,h(s,{showTime:!1,valueFormat:"YYYY-MM-DD",placeholder:"\u7ED3\u675F\u65E5\u671F",value:e.endValue,"onUpdate:value":l[2]||(l[2]=t=>e.endValue=t),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64)):e.item.view=="datetime"?(i(),p(m,{key:1},[e.single_mode===e.item.mode?(i(),o(s,{key:0,style:{width:"100%"},showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[3]||(l[3]=t=>e.innerValue=t)},null,8,["placeholder","value"])):(i(),p(m,{key:1},[h(s,{showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"\u5F00\u59CB\u65F6\u95F4",value:e.beginValue,"onUpdate:value":l[4]||(l[4]=t=>e.beginValue=t),style:{width:"calc(50% - 15px)"}},null,8,["value"]),ce,h(s,{showTime:!0,valueFormat:"YYYY-MM-DD hh:mm:ss",placeholder:"\u7ED3\u675F\u65F6\u95F4",value:e.endValue,"onUpdate:value":l[5]||(l[5]=t=>e.endValue=t),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64)):e.isEasySelect()?(i(),p(m,{key:2},[e.item.config==="1"?(i(),o(f,{key:0,placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[6]||(l[6]=t=>e.innerValue=t),dictCode:e.getDictCode()},null,8,["placeholder","value","dictCode"])):(i(),o(F,{key:1,placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[7]||(l[7]=t=>e.innerValue=t)},{default:C(()=>[(i(!0),p(m,null,Q(e.dictOptions[e.getDictOptionKey(e.item)],(t,v)=>(i(),o(J,{key:v,value:t.value},{default:C(()=>[X(I(t.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["placeholder","value"]))],64)):e.item.view==="sel_tree"?(i(),o(D,{key:3,placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[8]||(l[8]=t=>e.innerValue=t),dict:e.item.dict,pidField:e.item.pidField,pidValue:e.item.pidValue,hasChildField:e.item.hasChildField,"load-triggle-change":""},null,8,["placeholder","value","dict","pidField","pidValue","hasChildField"])):e.item.view==="cat_tree"?(i(),o(k,{key:4,onChange:e.handleCategoryTreeChange,loadTriggleChange:!0,pcode:e.item.pcode,value:e.innerValue,"onUpdate:value":l[9]||(l[9]=t=>e.innerValue=t),placeholder:"\u8BF7\u9009\u62E9"+e.item.label},null,8,["onChange","pcode","value","placeholder"])):e.item.view==="sel_search"?(i(),p(m,{key:5},[e.item.config==="1"?(i(),o(f,{key:0,value:e.innerValue,"onUpdate:value":l[10]||(l[10]=t=>e.innerValue=t),placeholder:"\u8BF7\u9009\u62E9"+e.item.label,dict:e.getDictCode()},null,8,["value","placeholder","dict"])):(i(),o(E,{key:1,value:e.innerValue,"onUpdate:value":l[11]||(l[11]=t=>e.innerValue=t),placeholder:"\u8BF7\u9009\u62E9"+e.item.label,sql:e.getSqlByDictCode()},null,8,["value","placeholder","sql"]))],64)):e.item.view=="sel_user"?(i(),o(T,N({key:6},e.userSelectProp,{value:e.innerValue,"onUpdate:value":l[12]||(l[12]=t=>e.innerValue=t),placeholder:"\u8BF7\u9009\u62E9"+e.item.label}),null,16,["value","placeholder"])):e.item.view=="sel_depart"?(i(),o(B,N({key:7,showButton:!1},e.depSelectProp,{value:e.innerValue,"onUpdate:value":l[13]||(l[13]=t=>e.innerValue=t),placeholder:"\u8BF7\u9009\u62E9"+e.item.label}),null,16,["value","placeholder"])):e.item.view=="popup"?(i(),o(b,{key:8,placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[14]||(l[14]=t=>e.innerValue=t),code:e.item.dictTable,setFieldsValue:e.setFieldsValue,"field-config":e.getPopupFieldConfig(e.item),multi:!0},null,8,["placeholder","value","code","setFieldsValue","field-config"])):e.item.view=="pca"?(i(),o(U,{key:9,placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[15]||(l[15]=t=>e.innerValue=t)},null,8,["placeholder","value"])):e.item.view=="checkbox"||e.item.view=="list_multi"?(i(),o(Y,{key:10,dictCode:e.getDictCode(),placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[16]||(l[16]=t=>e.innerValue=t)},null,8,["dictCode","placeholder","value"])):(i(),p(m,{key:11},[e.single_mode===e.item.mode?(i(),o(V,{key:0,placeholder:"\u8BF7\u9009\u62E9"+e.item.label,value:e.innerValue,"onUpdate:value":l[17]||(l[17]=t=>e.innerValue=t)},null,8,["placeholder","value"])):(i(),p(m,{key:1},[h(V,{placeholder:"\u5F00\u59CB\u503C",value:e.beginValue,"onUpdate:value":l[18]||(l[18]=t=>e.beginValue=t),style:{width:"calc(50% - 15px)"}},null,8,["value"]),he,h(V,{placeholder:"\u7ED3\u675F\u503C",value:e.endValue,"onUpdate:value":l[19]||(l[19]=t=>e.endValue=t),style:{width:"calc(50% - 15px)"}},null,8,["value"])],64))],64))]),_:1},8,["labelCol"])}var ll=Z(ve,[["render",ye],["__scopeId","data-v-76dfb908"]]);export{ll as default};
