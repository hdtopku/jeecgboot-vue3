import{_ as V}from"./ChartGroupCard.vue_vue_type_script_setup_true_lang-050e9f61.js";import T from"./SaleTabCard-cfd8c7cf.js";import{useECharts as B}from"./useECharts-01610e1b.js";import{c as j}from"./antd-vue-vendor-04f0af1d.js";import{d as x,k as f,r as H,s as L,a5 as m,a6 as h,an as N,V as _,aa as S,ab as k,E as O,f as a,W as R,am as z,a7 as r}from"./vue-5a09445c.js";import{D as C,b as A}from"./jeecg-online-vendor-9cc54e36.js";import"./index-26fb0584.js";import"./lodash-es-vendor-70833b4a.js";import"./tinymce-vendor-e2919cb0.js";import"./codemirror-vendor-f458506d.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-c5aaa9d2.js";import"./Bar-b4307272.js";import"./data-83d7c1d7.js";import"./echarts-7437c519.js";const M=x({name:"LineMulti",props:{chartData:{type:Array,default:()=>[],required:!0},option:{type:Object,default:()=>({})},type:{type:String,default:"line"},width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh - 78px)"}},emits:["click"],setup(t,{emit:l}){const o=f(null),{setOptions:s,getInstance:c}=B(o),e=H({tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#333"}}},legend:{top:30},grid:{top:60},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[]});L(()=>{t.chartData&&n()});function n(){var I,D;t.option&&Object.assign(e,j(t.option));let p=Array.from(new Set(t.chartData.map(u=>u.type))),d=Array.from(new Set(t.chartData.map(u=>u.name))),b=[];p.forEach(u=>{let $={name:u,type:t.type},y=[];d.forEach(E=>{let g=t.chartData.filter(w=>u===w.type&&w.name==E);g&&g.length>0?y.push(g[0].value):y.push(null)}),$.data=y,b.push($)}),e.series=b,e.xAxis.data=d,s(e),(I=c())==null||I.off("click",i),(D=c())==null||D.on("click",i)}function i(p){l("click",p)}return{chartRef:o}}});function P(t,l,o,s,c,e){return m(),h("div",{ref:"chartRef",style:N({height:t.height,width:t.width})},null,4)}const q=C(M,[["render",P]]),W=x({name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0},icon:{type:String,default:!1}}});const F={key:0};function G(t,l,o,s,c,e){const n=_("a-icon");return m(),h("div",{class:z(["head-info",t.center&&"center"])},[S("span",null,k(t.title),1),S("p",null,[O(k(t.content)+" ",1),a(n,{type:t.icon,style:{"font-size":"24px",color:"#2b99ff"}},null,8,["type"])]),t.bordered?(m(),h("em",F)):R("",!0)],2)}const v=C(W,[["render",G],["__scopeId","data-v-077283c4"]]),J=t=>A.get({url:"/sys/loginfo",params:t},{isTransformResponse:!1}),K=t=>A.get({url:"/sys/visitInfo",params:t},{isTransformResponse:!1}),Q={class:"p-4"},U=x({__name:"IndexChart",setup(t){const l=f(!0);setTimeout(()=>{l.value=!1},500);const o=f({}),s=f([]);function c(){J(null).then(e=>{e.success&&(Object.keys(e.result).forEach(n=>{e.result[n]=e.result[n]+""}),o.value=e.result)}),K(null).then(e=>{e.success&&(s.value=[],e.result.forEach(n=>{s.value.push({name:n.type,type:"ip",value:n.ip}),s.value.push({name:n.type,type:"visit",value:n.visit})}))})}return c(),(e,n)=>{const i=_("a-col"),p=_("a-row"),d=_("a-card");return m(),h("div",Q,[a(V,{class:"enter-y",loading:l.value,type:"chart"},null,8,["loading"]),a(T,{class:"!my-4 enter-y",loading:l.value},null,8,["loading"]),a(p,null,{default:r(()=>[a(i,{span:24},{default:r(()=>[a(d,{loading:l.value,bordered:!1,title:"最近一周访问量统计",style:{marginTop:"24px"}},{default:r(()=>[a(p,null,{default:r(()=>[a(i,{span:6},{default:r(()=>[a(v,{title:"今日IP",content:o.value.todayIp,icon:"environment"},null,8,["content"])]),_:1}),a(i,{span:6},{default:r(()=>[a(v,{title:"今日访问",content:o.value.todayVisitCount,icon:"team"},null,8,["content"])]),_:1}),a(i,{span:6},{default:r(()=>[a(v,{title:"总访问量",content:o.value.totalVisitCount,icon:"rise"},null,8,["content"])]),_:1})]),_:1}),a(q,{chartData:s.value,height:"50vh",type:"line",option:{legend:{top:"bottom"}}},null,8,["chartData"])]),_:1},8,["loading"])]),_:1})]),_:1})])}}});const dt=C(U,[["__scopeId","data-v-7791faf7"]]);export{dt as default};
