import{_ as k}from"./ChartGroupCard.vue_vue_type_script_setup_true_lang-94c912e9.js";import V from"./SaleTabCard-82eb2c81.js";import{useECharts as F}from"./useECharts-0c2ebf46.js";import{aa as T}from"./antd-vue-vendor-1561c1ba.js";import{d as E,k as f,r as j,s as H,aV as m,as as h,af as L,U as _,at as $,ag as A,E as N,f as a,V as O,ad as R,bi as r}from"./vue-c7e3516e.js";import{_ as C,ad as w}from"./jeecg-online-vendor-bf2efbcb.js";import"./index-fde9c72f.js";import"./lodash-es-vendor-42c8d3d4.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./Bar-64418809.js";import"./data-1a38e728.js";import"./echarts-fec4606d.js";const z=E({name:"LineMulti",props:{chartData:{type:Array,default:()=>[],required:!0},option:{type:Object,default:()=>({})},type:{type:String,default:"line"},width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh - 78px)"}},emits:["click"],setup(t,{emit:l}){const o=f(null),{setOptions:s,getInstance:c}=F(o),e=j({tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#333"}}},legend:{top:30},grid:{top:60},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[]});H(()=>{t.chartData&&n()});function n(){var D,I;t.option&&Object.assign(e,T(t.option));let u=Array.from(new Set(t.chartData.map(p=>p.type))),d=Array.from(new Set(t.chartData.map(p=>p.name))),x=[];u.forEach(p=>{let b={name:p,type:t.type},y=[];d.forEach(S=>{let g=t.chartData.filter(B=>p===B.type&&B.name==S);g&&g.length>0?y.push(g[0].value):y.push(null)}),b.data=y,x.push(b)}),e.series=x,e.xAxis.data=d,s(e),(D=c())==null||D.off("click",i),(I=c())==null||I.on("click",i)}function i(u){l("click",u)}return{chartRef:o}}});function M(t,l,o,s,c,e){return m(),h("div",{ref:"chartRef",style:L({height:t.height,width:t.width})},null,4)}const P=C(z,[["render",M]]),q=E({name:"HeadInfo",props:{title:{type:String,default:""},content:{type:String,default:""},bordered:{type:Boolean,default:!1},center:{type:Boolean,default:!0},icon:{type:String,default:!1}}});const U={key:0};function G(t,l,o,s,c,e){const n=_("a-icon");return m(),h("div",{class:R(["head-info",t.center&&"center"])},[$("span",null,A(t.title),1),$("p",null,[N(A(t.content)+" ",1),a(n,{type:t.icon,style:{"font-size":"24px",color:"#2b99ff"}},null,8,["type"])]),t.bordered?(m(),h("em",U)):O("",!0)],2)}const v=C(q,[["render",G],["__scopeId","data-v-077283c4"]]),J=t=>w.get({url:"/sys/loginfo",params:t},{isTransformResponse:!1}),K=t=>w.get({url:"/sys/visitInfo",params:t},{isTransformResponse:!1}),Q={class:"p-4"},W=E({__name:"IndexChart",setup(t){const l=f(!0);setTimeout(()=>{l.value=!1},500);const o=f({}),s=f([]);function c(){J(null).then(e=>{e.success&&(Object.keys(e.result).forEach(n=>{e.result[n]=e.result[n]+""}),o.value=e.result)}),K(null).then(e=>{e.success&&(s.value=[],e.result.forEach(n=>{s.value.push({name:n.type,type:"ip",value:n.ip}),s.value.push({name:n.type,type:"visit",value:n.visit})}))})}return c(),(e,n)=>{const i=_("a-col"),u=_("a-row"),d=_("a-card");return m(),h("div",Q,[a(k,{class:"enter-y",loading:l.value,type:"chart"},null,8,["loading"]),a(V,{class:"!my-4 enter-y",loading:l.value},null,8,["loading"]),a(u,null,{default:r(()=>[a(i,{span:24},{default:r(()=>[a(d,{loading:l.value,bordered:!1,title:"\u6700\u8FD1\u4E00\u5468\u8BBF\u95EE\u91CF\u7EDF\u8BA1",style:{marginTop:"24px"}},{default:r(()=>[a(u,null,{default:r(()=>[a(i,{span:6},{default:r(()=>[a(v,{title:"\u4ECA\u65E5IP",content:o.value.todayIp,icon:"environment"},null,8,["content"])]),_:1}),a(i,{span:6},{default:r(()=>[a(v,{title:"\u4ECA\u65E5\u8BBF\u95EE",content:o.value.todayVisitCount,icon:"team"},null,8,["content"])]),_:1}),a(i,{span:6},{default:r(()=>[a(v,{title:"\u603B\u8BBF\u95EE\u91CF",content:o.value.totalVisitCount,icon:"rise"},null,8,["content"])]),_:1})]),_:1}),a(P,{chartData:s.value,height:"50vh",type:"line",option:{legend:{top:"bottom"}}},null,8,["chartData"])]),_:1},8,["loading"])]),_:1})]),_:1})])}}});const ft=C(W,[["__scopeId","data-v-7791faf7"]]);export{ft as default};
