import{ad as v,l as B}from"./jeecg-online-vendor-12004772.js";import{aj as e}from"./index-6916e394.js";import{d as E,k as l,U as s,aV as x,ar as D,bi as S,at as k,f as y}from"./vue-c7e3516e.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./lodash-es-vendor-42c8d3d4.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";const C={style:{"margin-bottom":"8px"}},R=k("span",null,"\u542F\u7528\u6570\u636E\u53D8\u52A8\u7279\u6548\uFF1A",-1),K=E({__name:"SocketReload",setup(V){const{createMessage:r}=B(),p=l(),i=l(!0),c=l(!1),m=l([]),_=l([{key:"num",title:"\u5E8F\u53F7",width:80},{key:"enabled",title:"\u542F\u7528",width:80,type:e.checkbox},{key:"ship_name",title:"\u8239\u540D",width:180,type:e.input},{key:"call",title:"\u547C\u53EB",width:80,type:e.input},{key:"len",title:"\u957F",width:80,type:e.input},{key:"ton",title:"\u5428",width:120,type:e.input},{key:"payer",title:"\u4ED8\u6B3E\u65B9",width:120,type:e.input},{key:"count",title:"\u6570",width:40},{key:"company",title:"\u516C\u53F8",minWidth:180,type:e.input},{key:"trend",title:"\u52A8\u5411",width:120,type:e.input}]);w();function w(){c.value=!0,v.get({url:"/mock/vxe/getData",params:{pageNo:1,pageSize:200}}).then(t=>{m.value=t.records}).finally(()=>{c.value=!1})}function g(t){switch(t.type){case e.radio:case e.checkbox:f(t);break}}function F(t){f(t)}function f(t){let{$table:o,row:a,column:u}=t,n=u.property;o.isUpdateByRow(a,n)&&o.validate(a).then(d=>{if(!d){let b=r.loading(`\u6B63\u5728\u4FDD\u5B58"${u.title}"`,0);setTimeout(()=>{var h;b(),r.success(`"${u.title}"\u4FDD\u5B58\u6210\u529F\uFF01`),o.reloadRow(a,null,n),(h=p.value)==null||h.socketSendUpdateRow(a)},555)}})}return(t,o)=>{const a=s("a-switch"),u=s("JVxeTable"),n=s("a-card");return x(),D(n,{title:"\u65E0\u75D5\u5237\u65B0\u793A\u4F8B",bordered:!1},{default:S(()=>[k("div",C,[R,y(a,{checked:i.value,"onUpdate:checked":o[0]||(o[0]=d=>i.value=d)},null,8,["checked"])]),y(u,{ref_key:"tableRef",ref:p,rowNumber:"",rowSelection:"",keepSource:"",socketReload:"",socketKey:"demo-socket-reload",reloadEffect:i.value,height:340,loading:c.value,columns:_.value,dataSource:m.value,onValueChange:g,onEditClosed:F},null,8,["reloadEffect","loading","columns","dataSource"])]),_:1})}}});export{K as default};
