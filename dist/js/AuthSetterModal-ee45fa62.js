import D from"./LeftRole-6464edc6.js";import I from"./LeftDepart-347d710b.js";import O from"./LeftUser-460c32e0.js";import w from"./AuthFieldTree-8ee5a949.js";import L from"./AuthButtonTree-1983957c.js";import E from"./AuthDataTree-18526d60.js";import{B as K}from"./index-a882524d.js";import{bW as U}from"./jeecg-online-vendor-12004772.js";import"./BasicTable.vue_vue_type_style_index_0_lang-3c8b8bcc.js";import"./componentMap-90ab712d.js";import"./useTable-7c8820b4.js";import{A as F}from"./index-6916e394.js";import{d as V,k as p,e as j,n as T,U as c,aV as B,ar as N,bi as n,f as o,as as $,F as W,V as q}from"./vue-c7e3516e.js";import"./BasicTable-04058a09.js";import"./lodash-es-vendor-42c8d3d4.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./BasicForm-030e7c21.js";import"./BasicForm.vue_vue_type_style_index_0_lang-8cb333b2.js";import"./BasicModal-b901e352.js";import"./useWindowSizeFn-581ed1a8.js";import"./useFormItem-cc50e63d.js";import"./JUpload.vue_vue_type_style_index_0_lang-5851070a.js";import"./download-fc124faf.js";import"./base64Conver-4e359726.js";import"./index-d83c9bcd.js";import"./index-6d615beb.js";import"./useCountdown-61c82faf.js";import"./JAddInput-dff0b84f.js";import"./areaDataUtil-13d415af.js";import"./useSelectBiz-f95680cd.js";import"./props-18305405.js";import"./index-3ce15f67.js";import"./bem-2be191b9.js";import"./props-c3781b9d.js";import"./useContextMenu-1b1215cd.js";import"./useTreeBiz-cda2af6e.js";import"./index-c5567c31.js";import"./depart.api-de6ffddd.js";import"./index-fcc2460e.js";import"./useForm-ae9e1cbd.js";import"./injectionKey-5da932b3.js";import"./useListPage-8d85dabf.js";import"./auth.api-eba80a18.js";import"./auth.data-1d7a4570.js";var z=Object.defineProperty,G=Object.defineProperties,H=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,P=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))J.call(t,r)&&P(e,r,t[r]);if(M)for(var r of M(t))Q.call(t,r)&&P(e,r,t[r]);return e},Y=(e,t)=>G(e,H(t)),k=(e,t,r)=>new Promise((s,l)=>{var a=i=>{try{u(r.next(i))}catch(m){l(m)}},d=i=>{try{u(r.throw(i))}catch(m){l(m)}},u=i=>i.done?s(i.value):Promise.resolve(i.value).then(a,d);u((r=r.apply(e,t)).next())});const Z=V({name:"AuthSetterModal",components:{BasicModal:K,LeftRole:D,LeftDepart:I,LeftUser:O,AuthFieldTree:w,AuthButtonTree:L,AuthDataTree:E},props:{tableType:{type:Number,default:1}},setup(e){const t=p(""),r=p(!1),s=p("field"),l=p("role"),a={fieldRef:p(),buttonRef:p(),dataRef:p(),roleRef:p(),userRef:p(),departRef:p()},d=p(""),u=j(()=>e.tableType==1||e.tableType==2),[i,{closeModal:m}]=F(f=>{s.value="field",t.value=f.cgformId,h()});function v(f=s.value){var C;return(C=a[f+"Ref"])==null?void 0:C.value}function h(){return k(this,null,function*(){yield T(),g(),v().clear()})}function S(f){d.value=f,_(s.value),y()}function b(f){d.value=f,_(s.value),y()}function A(f){d.value=f,_(s.value),y()}function y(){l.value=="role"?(a.departRef.value.clearSelected(),a.userRef.value.clearSelected()):l.value=="depart"?(a.roleRef.value.clearSelected(),a.userRef.value.clearSelected()):l.value=="user"&&(a.departRef.value.clearSelected(),a.roleRef.value.clearSelected())}function g(){l.value=="role"?a.roleRef.value.clearSelected():l.value=="depart"?a.departRef.value.clearSelected():l.value=="user"&&a.userRef.value.clearSelected(),v().clearChecked()}function _(f){return k(this,null,function*(){yield T(),d.value&&v(f).loadChecked(d.value,l.value)})}function R(){g()}return Y(X({},a),{cgformId:t,loading:r,activeKey:s,hasDataAuth:u,authMode:l,onAuthModeChange:R,onAuthTypeChange:_,closeModal:m,onSelectRole:S,onSelectDepart:b,onSelectUser:A,registerModal:i})}});function x(e,t,r,s,l,a){const d=c("LeftRole"),u=c("a-tab-pane"),i=c("LeftDepart"),m=c("LeftUser"),v=c("a-tabs"),h=c("a-col"),S=c("AuthFieldTree"),b=c("AuthButtonTree"),A=c("AuthDataTree"),y=c("a-row"),g=c("a-spin"),_=c("BasicModal");return B(),N(_,{title:"Online\u6743\u9650\u6388\u6743",width:900,maskClosable:!1,defaultFullscreen:"",okButtonProps:{style:{display:"none"}},cancelText:"\u5173\u95ED",onCancel:e.closeModal,onRegister:e.registerModal},{default:n(()=>[o(g,{spinning:e.loading},{default:n(()=>[o(y,null,{default:n(()=>[o(h,{span:12},{default:n(()=>[o(v,{activeKey:e.authMode,"onUpdate:activeKey":t[0]||(t[0]=R=>e.authMode=R),onChange:e.onAuthModeChange},{default:n(()=>[o(u,{tab:"\u89D2\u8272\u6388\u6743",key:"role",forceRender:""},{default:n(()=>[o(d,{ref:"roleRef",onSelect:e.onSelectRole},null,8,["onSelect"])]),_:1}),o(u,{tab:"\u90E8\u95E8\u6388\u6743",key:"depart",forceRender:""},{default:n(()=>[o(i,{ref:"departRef",onSelect:e.onSelectDepart},null,8,["onSelect"])]),_:1}),o(u,{tab:"\u4EBA\u5458\u6388\u6743",key:"user",forceRender:""},{default:n(()=>[o(m,{ref:"userRef",onSelect:e.onSelectUser},null,8,["onSelect"])]),_:1})]),_:1},8,["activeKey","onChange"])]),_:1}),o(h,{span:1}),o(h,{span:11},{default:n(()=>[o(v,{activeKey:e.activeKey,"onUpdate:activeKey":t[1]||(t[1]=R=>e.activeKey=R),onChange:e.onAuthTypeChange},{default:n(()=>[o(u,{tab:"\u5B57\u6BB5\u6743\u9650",key:"field",forceRender:""},{default:n(()=>[o(S,{ref:"fieldRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1}),e.hasDataAuth?(B(),$(W,{key:0},[o(u,{tab:"\u6309\u94AE\u6743\u9650",key:"button",forceRender:""},{default:n(()=>[o(b,{ref:"buttonRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1}),o(u,{tab:"\u6570\u636E\u6743\u9650",key:"data",forceRender:""},{default:n(()=>[o(A,{ref:"dataRef",cgformId:e.cgformId},null,8,["cgformId"])]),_:1})],64)):q("",!0)]),_:1},8,["activeKey","onChange"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["onCancel","onRegister"])}var Qe=U(Z,[["render",x]]);export{Qe as default};
