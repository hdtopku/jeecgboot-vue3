var w=Object.defineProperty;var p=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var g=(a,s,e)=>s in a?w(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,B=(a,s)=>{for(var e in s||(s={}))v.call(s,e)&&g(a,e,s[e]);if(p)for(var e of p(s))y.call(s,e)&&g(a,e,s[e]);return a};var d=(a,s,e)=>new Promise((c,l)=>{var m=o=>{try{i(e.next(o))}catch(t){l(t)}},u=o=>{try{i(e.throw(o))}catch(t){l(t)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(m,u);i((e=e.apply(a,s)).next())});import{B as M}from"./index-8cf3aabb.js";import{B as b}from"./BasicForm-83ba9c88.js";import"./componentMap-a6d21ad6.js";import{u as k}from"./useForm-fa63344e.js";import"./JAddInput-2cbbbde9.js";import{A as D}from"./index-fde9c72f.js";import{f as R}from"./tenant.data-c14b7f8b.js";import{g as x,s as L}from"./tenant.api-de8dd33d.js";import{d as S,k as T,u as n,e as U,aV as V,ar as A,bi as C,f as I,aQ as O}from"./vue-c7e3516e.js";const J=S({__name:"TenantModal",emits:["register","success"],setup(a,{emit:s}){const e=T(!0),[c,{resetFields:l,setFieldsValue:m,validate:u,updateSchema:i}]=k({schemas:R,showActionButtonGroup:!1}),[o,{setModalProps:t,closeModal:F}]=D(r=>d(this,null,function*(){yield l(),t({confirmLoading:!1}),e.value=!!(r!=null&&r.isUpdate),n(e)?(i({field:"id",dynamicDisabled:!0}),r.record=yield x({id:r.record.id}),yield m(B({},r.record))):i({field:"id",dynamicDisabled:!1})})),_=U(()=>n(e)?"\u7F16\u8F91\u79DF\u6237":"\u65B0\u589E\u79DF\u6237");function h(r){return d(this,null,function*(){try{let f=yield u();t({confirmLoading:!0}),yield L(f,e.value),F(),s("success")}finally{t({confirmLoading:!1})}})}return(r,f)=>(V(),A(n(M),O(r.$attrs,{onRegister:n(o),title:_.value,onOk:h,width:"700px"}),{default:C(()=>[I(n(b),{onRegister:n(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{J as _};
