import{a3 as g,a4 as _,a5 as m,a6 as f,ao as v}from"./vue-5a09445c.js";import{q as k,t as y,u as h,D as S}from"./jeecg-online-vendor-231813f7.js";import"./antd-vue-vendor-e4fda4cf.js";import"./tinymce-vendor-e2919cb0.js";import"./vxe-table-vendor-c5aaa9d2.js";import"./lodash-es-vendor-3f622b6f.js";const T={name:"TokenLogin",setup(){const c=g();let d=_();const{createMessage:o,notification:a}=h(),{t}=k(),s=c.query;s||o.warning("参数无效");const r=s.loginToken;r||o.warning("token无效"),y().ThirdLogin({token:r,thirdType:"email",goHome:!1}).then(e=>{e&&e.userInfo?l(e):u(e)});function u(e){a.error({message:"登录失败",description:((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试",duration:4})}function l(e){let p=s.info;if(p){let i=JSON.parse(p),n="";i.isLowApp===1?n="/myapps/personalOffice/myTodo":n="/task/handle/"+i.taskId,d.replace({path:n,query:i}),a.success({message:t("sys.login.loginSuccessTitle"),description:`${t("sys.login.loginSuccessDesc")}: ${e.userInfo.realname}`,duration:3})}else a.error({message:"参数失效",description:"页面跳转参数丢失，请查看日志",duration:4})}}},E="/resource/img/logo.png";const I={class:"app-loading"},L=v('<div class="app-loading-wrap" data-v-0d7a6c75><img src="'+E+'" class="app-loading-logo" alt="Logo" data-v-0d7a6c75><div class="app-loading-dots" data-v-0d7a6c75><span class="dot dot-spin" data-v-0d7a6c75><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i><i data-v-0d7a6c75></i></span></div><div class="app-loading-title" data-v-0d7a6c75>JeecgBoot 企业级低代码平台</div></div>',1),$=[L];function q(c,d,o,a,t,s){return m(),f("div",I,$)}const N=S(T,[["render",q],["__scopeId","data-v-0d7a6c75"]]);export{N as default};
