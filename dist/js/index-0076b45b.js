var E=(_,D,s)=>new Promise((T,g)=>{var U=d=>{try{y(s.next(d))}catch(c){g(c)}},M=d=>{try{y(s.throw(d))}catch(c){g(c)}},y=d=>d.done?T(d.value):Promise.resolve(d.value).then(U,M);y((s=s.apply(_,D)).next())});import{d as ge,l as f,e as ve,r as I,w as ye,u as l,V as r,a7 as S,a8 as $,a9 as be,f as e,aa as t,F as he,W as q,ad as R,E as u,ae as A,ac as xe,ak as Ce,a5 as we,a6 as ke,J as Ie}from"./vue-50733b77.js";import{u as Se}from"./index-f191817e.js";import"./index-f7d688aa.js";import{g as O,a as Re,_ as De,b as Te,c as Ue,s as Me,d as Fe,e as Ke}from"./DemoModal-45446594.js";import{x as je}from"./JImportModal-0c143f01.js";import{t as Q}from"./JAddInput-9c2385b5.js";import{aT as Ee,_ as $e}from"./jeecg-online-vendor-d3e1865b.js";import{at as qe,F as Y,n as Be}from"./index-b34ff7bc.js";import{Q as Ne}from"./componentMap-5c02cfaf.js";import Ve from"./BasicTable-ca5b2c76.js";import"./antd-vue-vendor-c5335947.js";import"./tinymce-vendor-7c917b36.js";import"./index-fa22fec6.js";import"./BasicModal-064024e0.js";import"./useWindowSizeFn-34cbae37.js";import"./lodash-es-vendor-058e2396.js";import"./vxe-table-vendor-838914b0.js";import"./codemirror-vendor-9b2dceac.js";import"./echarts-vendor-ba343549.js";import"./index-7e7a94e9.js";import"./useForm-14ceb529.js";import"./JSelectUser-99e618da.js";import"./props-2079d80b.js";import"./JSelectBiz-f98b6288.js";import"./useFormItem-915d7f1b.js";import"./JSelectDept-0fd43050.js";import"./index-7963a080.js";import"./bem-e62027cc.js";import"./props-12d3a914.js";import"./useContextMenu-e6153f12.js";import"./JPopup-8bd4163b.js";import"./JEllipsis-66e02300.js";import"./renderUtils-74a3a0ef.js";import"./index-95220aa0.js";import"./areaDataUtil-5dfcdadb.js";import"./depart.api-1967d2cb.js";import"./download-49b89a1a.js";import"./base64Conver-fa2fe1af.js";import"./index-54db12ae.js";import"./index-f3acc26c.js";import"./useCountdown-9338ec9a.js";import"./useFormItemSingle-37938520.js";import"./cron-parser-vendor-19ac00ef.js";import"./JUpload-c8630cc9.js";import"./index-665aeeac.js";import"./index-1ac4dcff.js";import"./injectionKey-69710956.js";const z=_=>(we("data-v-ef347cb7"),_=_(),ke(),_),Ae=["onKeyup"],Oe=z(()=>R("span",null,"~",-1)),Qe={style:{float:"left",overflow:"hidden"},class:"table-page-search-submitButtons"},Ye=z(()=>R("span",null,"~",-1)),ze=ge({__name:"index",setup(_){const D=qe(),s=f([]),[T,{openModal:g}]=Y(),[U,{openModal:M}]=Y(),{handleExportXls:y,handleImportXls:d}=Ee(),c=f(),F=f(),w=f(!1),[J,{reload:v,setProps:B}]=Se({title:"单表示例",api:Te,columns:Ue,formConfig:{schemas:Me,fieldMapToTime:[["birthday",["birthday_begin","birthday_end"],"YYYY-MM-DD"]],fieldMapToNumber:[["age",["age_begin","age_end"]]],autoAdvancedCol:2,actionColOptions:{style:{textAlign:"left"}}},defSort:{column:"createTime,sex",order:"desc"},striped:!0,useSearchForm:!0,showTableSetting:!0,clickToRowSelect:!1,bordered:!0,showIndexColumn:!1,tableSetting:{fullScreen:!0},canResize:!1,rowKey:"id",actionColumn:{width:180,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:void 0}}),P={type:"checkbox",columnWidth:40,selectedRowKeys:s,onChange:G};function L(){M(!0)}const W=ve(()=>{let a={};return s.value&&s.value.length>0&&(a.selections=s.value.join(",")),Be(a)});function X(a){return[{label:"编辑",onClick:Z.bind(null,a)},{label:"详情",onClick:ee.bind(null,a)},{label:"删除",popConfirm:{title:"是否确认删除",confirm:te.bind(null,a)}}]}function G(a){s.value=a}function H(){w.value=!1,g(!0,{isUpdate:!1})}function Z(a){w.value=!1,g(!0,{record:a,isUpdate:!0})}function ee(a){w.value=!0,g(!0,{record:a,isUpdate:!0})}function te(a){return E(this,null,function*(){yield Fe({id:a.id},v)})}function oe(){return E(this,null,function*(){yield Ke({ids:s.value},v)})}function N(a,o){a[o]=[l(c),l(F)]}function ae(){D("/comp/jeecg/basic")}const Je=f(),ne=I({xs:{span:24},sm:{span:7}}),le=I({xs:{span:24},sm:{span:16}}),b=f(!1),m=f(!1),i=I({name:"",age_begin:"",age_end:"",sex:"",id:""});ye(m,()=>{B({useSearchForm:!l(m)})});function K(){B({searchInfo:Ie(i)}),v()}function ie(){Object.assign(i,{name:"",age_begin:"",age_end:"",sex:"",id:""}),v()}const se=I({name:{title:"名称",view:"text",type:"string",order:1},sex:{title:"性别",view:"list",type:"string",dictCode:"sex",order:2}});function re(a){Object.keys(a).map(o=>{i[o]=a[o]}),K()}return(a,o)=>{const h=r("a-input"),k=r("a-form-item"),x=r("a-col"),p=r("a-button"),j=r("Icon"),ue=r("a-row"),pe=r("a-form"),de=r("a-upload"),ce=r("super-query"),me=r("a-menu-item"),fe=r("a-menu"),_e=r("a-dropdown");return S(),$("div",null,[m.value?(S(),$("div",{key:0,class:"jeecg-basic-table-form-container",onKeyup:be(K,["enter"])},[e(pe,{ref:"formRef",model:i,"label-col":ne,"wrapper-col":le},{default:t(()=>[e(ue,{gutter:24},{default:t(()=>[e(x,{lg:8},{default:t(()=>[e(k,{label:"用户名"},{default:t(()=>[e(h,{placeholder:"请输入名称模糊查询",value:i.name,"onUpdate:value":o[0]||(o[0]=n=>i.name=n)},null,8,["value"])]),_:1})]),_:1}),e(x,{lg:8},{default:t(()=>[e(k,{label:"年龄"},{default:t(()=>[e(h,{placeholder:"最小年龄",type:"ge",value:i.age_begin,"onUpdate:value":o[1]||(o[1]=n=>i.age_begin=n),style:{width:"calc(50% - 15px)"}},null,8,["value"]),Oe,e(h,{placeholder:"最大年龄",type:"le",value:i.age_end,"onUpdate:value":o[2]||(o[2]=n=>i.age_end=n),style:{width:"calc(50% - 15px)"}},null,8,["value"])]),_:1})]),_:1}),b.value?(S(),$(he,{key:0},[e(x,{lg:8},{default:t(()=>[e(k,{label:"性别"},{default:t(()=>[e(Q,{value:i.sex,"onUpdate:value":o[3]||(o[3]=n=>i.sex=n),placeholder:"请选择性别",dictCode:"sex"},null,8,["value"])]),_:1})]),_:1}),e(x,{lg:8},{default:t(()=>[e(k,{label:"选择用户"},{default:t(()=>[e(Q,{value:i.id,"onUpdate:value":o[4]||(o[4]=n=>i.id=n),placeholder:"请选择用户",dictCode:"demo,name,id"},null,8,["value"])]),_:1})]),_:1})],64)):q("",!0),R("span",Qe,[e(x,{lg:6},{default:t(()=>[e(p,{type:"primary",preIcon:"ant-design:search-outlined",onClick:K},{default:t(()=>[u("查询")]),_:1}),e(p,{type:"primary",preIcon:"ant-design:reload-outlined",onClick:ie,style:{"margin-left":"8px"}},{default:t(()=>[u("重置")]),_:1}),R("a",{onClick:o[5]||(o[5]=n=>b.value=!b.value),style:{"margin-left":"8px"}},[u(A(b.value?"收起":"展开")+" ",1),e(j,{icon:b.value?"ant-design:up-outlined":"ant-design:down-outlined"},null,8,["icon"])])]),_:1})])]),_:1})]),_:1},8,["model","label-col","wrapper-col"])],40,Ae)):q("",!0),e(l(Ve),{onRegister:l(J),rowSelection:P,class:Ce({"p-4":m.value})},{"form-age":t(({model:n,field:V})=>[e(h,{placeholder:"最小年龄",type:"ge",value:c.value,"onUpdate:value":o[6]||(o[6]=C=>c.value=C),style:{width:"calc(50% - 15px)"},onChange:C=>N(n,V)},null,8,["value","onChange"]),Ye,e(h,{placeholder:"最大年龄",type:"le",value:F.value,"onUpdate:value":o[7]||(o[7]=C=>F.value=C),style:{width:"calc(50% - 15px)"},onChange:C=>N(n,V)},null,8,["value","onChange"])]),tableTitle:t(()=>[e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:H},{default:t(()=>[u("新增")]),_:1}),e(de,{name:"file",showUploadList:!1,customRequest:n=>l(d)(n,l(O),l(v))},{default:t(()=>[e(p,{preIcon:"ant-design:import-outlined",type:"primary"},{default:t(()=>[u("导入")]),_:1})]),_:1},8,["customRequest"]),e(p,{preIcon:"ant-design:export-outlined",type:"primary",onClick:o[8]||(o[8]=n=>l(y)("单表示例",l(Re),W.value))},{default:t(()=>[u("导出")]),_:1}),e(p,{preIcon:"ant-design:filter",type:"primary",onClick:o[9]||(o[9]=()=>{})},{default:t(()=>[u("高级查询")]),_:1}),e(p,{preIcon:"ant-design:plus-outlined",type:"primary",onClick:ae},{default:t(()=>[u("打开Tab页")]),_:1}),e(p,{preIcon:"ant-design:retweet-outlined",type:"primary",onClick:o[10]||(o[10]=n=>m.value=!m.value)},{default:t(()=>[u(A(m.value?"表单配置查询":"自定义查询"),1)]),_:1}),e(p,{preIcon:"ant-design:import-outlined",type:"primary",onClick:L},{default:t(()=>[u("弹窗导入")]),_:1}),e(ce,{config:se,onSearch:re},null,8,["config"]),s.value.length>0?(S(),xe(_e,{key:0},{overlay:t(()=>[e(fe,null,{default:t(()=>[e(me,{key:"1",onClick:oe},{default:t(()=>[e(j,{icon:"ant-design:delete-outlined"}),u(" 删除 ")]),_:1})]),_:1})]),default:t(()=>[e(p,null,{default:t(()=>[u("批量操作 "),e(j,{style:{fontsize:"12px"},icon:"ant-design:down-outlined"})]),_:1})]),_:1})):q("",!0)]),action:t(({record:n})=>[e(l(Ne),{actions:X(n)},null,8,["actions"])]),_:1},8,["onRegister","class"]),e(De,{onRegister:l(T),onSuccess:l(v),isDisabled:w.value},null,8,["onRegister","onSuccess","isDisabled"]),e(je,{onRegister:l(U),url:l(O),online:""},null,8,["onRegister","url"])])}}});const At=$e(ze,[["__scopeId","data-v-ef347cb7"]]);export{At as default};
