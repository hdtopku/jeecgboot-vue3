var _=Object.defineProperty;var f=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var b=(n,o,e)=>o in n?_(n,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[o]=e,h=(n,o)=>{for(var e in o||(o={}))w.call(o,e)&&b(n,e,o[e]);if(f)for(var e of f(o))v.call(o,e)&&b(n,e,o[e]);return n};var d=(n,o,e)=>new Promise((c,i)=>{var m=s=>{try{l(e.next(s))}catch(r){i(r)}},p=s=>{try{l(e.throw(s))}catch(r){i(r)}},l=s=>s.done?c(s.value):Promise.resolve(s.value).then(m,p);l((e=e.apply(n,o)).next())});import{d as B,l as F,e as M,u as a,a7 as x,ac as k,aa as y,f as P,af as O}from"./vue-86253b15.js";import{B as S}from"./index-5f3b36bb.js";import"./index-2b71c6a1.js";import{s as N}from"./Product.api-bd64d610.js";import{u as R,B as U}from"./useForm-61401b42.js";import{E as C}from"./index-4de4eaa0.js";const $=[{title:"\b商品名称",dataIndex:"name"},{title:"\b商品价格",dataIndex:"price"},{title:"\b商品进价",dataIndex:"cost"},{title:"备注",dataIndex:"remark"},{title:"\b商品图片",dataIndex:"pic"}],q=[{label:"\b商品名称",field:"name",component:"Input"},{label:"\b商品价格",field:"price",component:"InputNumber"}],L=[{label:"",field:"id",component:"Input",show:!1},{label:"\b商品名称",field:"name",component:"Input"},{label:"\b商品价格",field:"price",component:"InputNumber"},{label:"\b商品进价",field:"cost",component:"InputNumber"},{label:"备注",field:"remark",component:"Input"},{label:"\b商品图片",field:"pic",component:"Input"}],j=B({__name:"ProductModal",emits:["register","success"],setup(n,{emit:o}){const e=F(!0),[c,{resetFields:i,setFieldsValue:m,validate:p}]=R({labelWidth:150,schemas:L,showActionButtonGroup:!1}),[l,{setModalProps:s,closeModal:r}]=C(t=>d(this,null,function*(){yield i(),s({confirmLoading:!1,showCancelBtn:t==null?void 0:t.showFooter,showOkBtn:t==null?void 0:t.showFooter}),e.value=!!(t!=null&&t.isUpdate),a(e)&&(yield m(h({},t.record)))})),I=M(()=>a(e)?"编辑":"新增");function g(t){return d(this,null,function*(){try{let u=yield p();s({confirmLoading:!0}),yield N(u,e.value),r(),o("success",{isUpdate:e.value,values:u})}finally{s({confirmLoading:!1})}})}return(t,u)=>(x(),k(a(S),O(t.$attrs,{onRegister:a(l),title:I.value,onOk:g,width:"80%"}),{default:y(()=>[P(a(U),{onRegister:a(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}}),D=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"}));export{D as P,j as _,$ as c,q as s};
