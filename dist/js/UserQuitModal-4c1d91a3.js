var O=Object.defineProperty,P=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var h=(e,o,t)=>o in e?O(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,y=(e,o)=>{for(var t in o||(o={}))E.call(o,t)&&h(e,t,o[t]);if(b)for(var t of b(o))L.call(o,t)&&h(e,t,o[t]);return e},x=(e,o)=>P(e,q(o));var k=(e,o,t)=>new Promise((d,l)=>{var g=r=>{try{m(t.next(r))}catch(p){l(p)}},_=r=>{try{m(t.throw(r))}catch(p){l(p)}},m=r=>r.done?d(r.value):Promise.resolve(r.value).then(g,_);m((t=t.apply(e,o)).next())});import{d as Q,l as U,V as c,a7 as v,ac as R,aa as i,f as s,u as a,E as M,W as z,af as A,J as D}from"./vue-86253b15.js";import{B as F}from"./index-5f3b36bb.js";import"./index-4e790dc8.js";import{r as H}from"./user.data-32c287f0.js";import{j as J,p as W}from"./user.api-26c541a7.js";import{q as $,_ as G}from"./jeecg-online-vendor-bc5d810e.js";import{useListPage as X}from"./useListPage-6cefed71.js";import{M as Y}from"./antd-vue-vendor-371529c2.js";import{E as Z}from"./index-4de4eaa0.js";import{Q as oo}from"./componentMap-804f169d.js";import to from"./BasicTable-c5288ffa.js";import"./BasicModal-8033a6fa.js";import"./useWindowSizeFn-0b39b13a.js";import"./tinymce-vendor-7c917b36.js";import"./lodash-es-vendor-04a44d0a.js";import"./vxe-table-vendor-6a8d95c4.js";import"./codemirror-vendor-9b2dceac.js";import"./echarts-vendor-ba343549.js";import"./index-7eb57de2.js";import"./validator-c577537d.js";import"./renderUtils-3d92a36f.js";import"./index-6c9d1f87.js";import"./index-2b71c6a1.js";import"./useForm-61401b42.js";import"./JAddInput-eb55e093.js";import"./areaDataUtil-c66543dc.js";import"./useFormItem-48d9339b.js";import"./JSelectUser-43c751df.js";import"./props-edbd03b5.js";import"./JSelectBiz-4759b897.js";import"./index-6021b022.js";import"./bem-6904c165.js";import"./props-3eac2fce.js";import"./useContextMenu-368c1b38.js";import"./depart.api-b7cb4c93.js";import"./JSelectDept-1fac1b66.js";import"./JPopup-1441d476.js";import"./JEllipsis-08edf142.js";import"./download-dda5b956.js";import"./base64Conver-fa2fe1af.js";import"./index-c842bec9.js";import"./index-f5da07b2.js";import"./useCountdown-7a164eb2.js";import"./useFormItemSingle-1ae794f9.js";import"./cron-parser-vendor-8edbe50a.js";import"./JUpload-5d01fa2e.js";import"./index-8967d44c.js";import"./index-d90d28d1.js";import"./injectionKey-69710956.js";const eo=Q({name:"user-quit-modal"}),ro=Q(x(y({},eo),{emits:["success","register"],setup(e,{emit:o}){const{createConfirm:t}=$(),d=U([]),[l]=Z(()=>{d.value=[]}),{prefixCls:g,tableContext:_}=X({tableProps:{api:J,columns:H,rowKey:"id",canResize:!1,useSearchForm:!1,actionColumn:{width:120}}}),[m,{reload:r},{rowSelection:p,selectedRowKeys:w,selectedRows:T}]=_;function C(n){return k(this,null,function*(){yield W({userIds:n.id,usernames:n.username},r),o("success")})}function B(){Y.confirm({title:"取消离职",content:"取消离职交接人也会清空",okText:"确认",cancelText:"取消",onOk:()=>{let n=T.value,f=[];for(const u of n)f.push(u.username);C({id:D(a(w)).join(","),username:f.join(",")})}})}function I(n){return[{label:"取消离职",icon:"ant-design:redo-outlined",popConfirm:{title:"是否取消离职,取消离职交接人也会清空",confirm:C.bind(null,n)}}]}return(n,f)=>{const u=c("Icon"),V=c("a-menu-item"),K=c("a-menu"),S=c("a-button"),j=c("a-dropdown");return v(),R(a(F),A(n.$attrs,{onRegister:a(l),title:"离职人员信息",showOkBtn:!1,width:"1000px",destroyOnClose:""}),{default:i(()=>[s(a(to),{onRegister:a(m),rowSelection:a(p)},{tableTitle:i(()=>[a(w).length>0?(v(),R(j,{key:0},{overlay:i(()=>[s(K,null,{default:i(()=>[s(V,{key:"1",onClick:B},{default:i(()=>[s(u,{icon:"ant-design:redo-outlined"}),M(" 批量取消 ")]),_:1})]),_:1})]),default:i(()=>[s(S,null,{default:i(()=>[M("批量操作 "),s(u,{icon:"ant-design:down-outlined"})]),_:1})]),_:1})):z("",!0)]),action:i(({record:N})=>[s(a(oo),{actions:I(N)},null,8,["actions"])]),_:1},8,["onRegister","rowSelection"])]),_:1},16,["onRegister"])}}}));const tt=G(ro,[["__scopeId","data-v-7bfaefd9"]]);export{tt as default};
