import{U as S,b as w,u as q}from"./jeecg-online-vendor-216a3b98.js";import{k as p,w as d,U as h,a5 as i,a9 as m,a7 as f,a6 as C,F as k,a8 as y,E as x,ab as B}from"./vue-249e5fad.js";import{d as D}from"./index-679980cc.js";import"./antd-vue-vendor-31afcf32.js";import"./tinymce-vendor-676f8393.js";import"./lodash-es-vendor-c1987ca1.js";import"./echarts-vendor-6c8e2159.js";import"./vxe-table-vendor-0b109a77.js";const{createMessage:F}=q(),b={name:"JOnlineSearchSelect",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},sql:{type:String,required:!0}},emits:["update:value"],setup(s,{emit:u}){let t=p(""),a=p([]);d(()=>s.value,e=>{e?t.value=e:t.value=void 0},{immediate:!0}),d(()=>s.sql,()=>{o()},{immediate:!0});const c=D(n,800);function n(e=""){let g={keyword:e},v="/online/cgreport/api/getReportDictList?sql="+s.sql;w.get({url:v,params:g},{isTransformResponse:!1}).then(r=>{r.success?r.result&&r.result.length>0?a.value=r.result:a.value=[]:F.warning(r.message)})}function l(e){u("update:value",e),(!e||e=="")&&o()}function o(){a.value=[],n()}return{selectOptions:a,handleSearch:c,handleChange:l,selected:t}}};function O(s,u,t,a,c,n){const l=h("a-select-option"),o=h("a-select");return i(),m(o,{value:a.selected,placeholder:t.placeholder,"show-search":"","default-active-first-option":!1,"show-arrow":!0,"filter-option":!1,"not-found-content":null,onSearch:a.handleSearch,onChange:a.handleChange,allowClear:""},{default:f(()=>[(i(!0),C(k,null,y(a.selectOptions,e=>(i(),m(l,{key:e.value},{default:f(()=>[x(B(e.text),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder","onSearch","onChange"])}const J=S(b,[["render",O]]);export{J as default};
