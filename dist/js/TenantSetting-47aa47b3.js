var oe=Object.defineProperty,se=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var R=(d,i,u)=>i in d?oe(d,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):d[i]=u,W=(d,i)=>{for(var u in i||(i={}))ue.call(i,u)&&R(d,u,i[u]);if(L)for(var u of L(i))ie.call(i,u)&&R(d,u,i[u]);return d},X=(d,i)=>se(d,ae(i));var V=(d,i,u)=>new Promise((f,y)=>{var E=h=>{try{k(u.next(h))}catch(T){y(T)}},_=h=>{try{k(u.throw(h))}catch(T){y(T)}},k=h=>h.done?f(h.value):Promise.resolve(h.value).then(E,_);k((u=u.apply(d,i)).next())});import{d as G,k as v,o as le,U as m,aV as l,as as r,at as e,F as j,a_ as ce,ag as g,B as w,E as B,f as n,ar as O,v as de,A as re,V as q,bi as c,u as C,aX as _e,aW as pe}from"./vue-c7e3516e.js";import{c as fe,d as ve,e as ge,f as me}from"./UserSetting.api-279c855f.js";import{c as he,l as xe,_ as Fe}from"./jeecg-online-vendor-bf2efbcb.js";import{U as we}from"./index-ed4be6fa.js";import{a9 as Ce}from"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./lodash-es-vendor-42c8d3d4.js";import"./index-fde9c72f.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./index-8cf3aabb.js";import"./BasicModal-ff8f2086.js";import"./useWindowSizeFn-e5cad7ae.js";const a=d=>(_e("data-v-a81d2eeb"),d=d(),pe(),d),ye={class:"tenant-padding"},ke=a(()=>e("div",{class:"my-tenant"},"\u6211\u7684\u79DF\u6237",-1)),De={key:0,class:"tenant-list"},Be=["onClick"],Ee={class:"tenant-title"},Te={class:"item-left"},be={class:"item-name"},Ae=["onClick"],Se={class:"item-right"},ze={key:0},Ue=a(()=>e("span",{class:"examine"},"\u5F85\u5BA1\u6838",-1)),Ne=["onClick"],Ie={key:1,style:{width:"75px"}},Pe={style:{"margin-left":"24px"}},Ve={class:"item-content"},Oe={class:"content-box"},$e=a(()=>e("div",{class:"content-name"}," \u7EC4\u7EC7\u540D\u7247 ",-1)),Me={class:"content-desc"},Le={class:"flex-flow"},Re=a(()=>e("div",{class:"content-des-text"},"\u59D3\u540D",-1)),We={style:{"font-size":"13px",color:"#000000"}},Xe={class:"flex-flow"},je=a(()=>e("div",{class:"content-des-text"},"\u90E8\u95E8",-1)),qe={style:{"font-size":"13px"}},Ge={class:"flex-flow"},He=a(()=>e("div",{class:"content-des-text"},"\u804C\u4E1A",-1)),Je={style:{"font-size":"13px"}},Ke={class:"footer-box"},Qe=["onClick"],Ye=a(()=>e("span",null,"\u67E5\u770B\u79DF\u6237\u540D\u7247",-1)),Ze={key:1,class:"font-color9e flex-flow margin-right40 font-size13"},et=a(()=>e("span",null,"\u67E5\u770B\u79DF\u6237\u540D\u7247",-1)),tt=["onClick"],nt=a(()=>e("span",null,"\u79DF\u6237\u7BA1\u7406\uFF1F",-1)),ot={key:3,class:"font-color9e flex-flow margin-right40 font-size13"},st=a(()=>e("span",null,"\u79DF\u6237\u7BA1\u7406\uFF1F",-1)),at=["onClick"],ut=a(()=>e("span",null,"\u7533\u8BF7\u89D2\u8272\u6743\u9650\uFF1F",-1)),it={key:5,class:"font-color9e flex-flow margin-right40 font-size13"},lt=a(()=>e("span",null,"\u7533\u8BF7\u89D2\u8272\u6743\u9650\uFF1F",-1)),ct=["onClick"],dt=a(()=>e("span",null,"\u6211\u7684\u6C47\u62A5\u5173\u7CFB\uFF1F",-1)),rt={key:7,class:"font-color9e flex-flow margin-right40 font-size13"},_t=a(()=>e("span",null,"\u6211\u7684\u6C47\u62A5\u5173\u7CFB\uFF1F",-1)),pt=["onClick"],ft=a(()=>e("span",null,"\u9000\u51FA\u79DF\u6237",-1)),vt={key:9,class:"font-color9e flex-flow margin-right40 font-size13"},gt=a(()=>e("span",null,"\u9000\u51FA\u79DF\u6237",-1)),mt=a(()=>e("div",{style:{"font-size":"17px","font-weight":"700"}},"\u67E5\u770B\u540D\u7247",-1)),ht=a(()=>e("div",{style:{color:"#9e9e9e","margin-top":"10px","font-size":"13px"}}," \u540D\u7247\u662F\u60A8\u5728\u8BE5\u7EC4\u7EC7\u4E0B\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u53EA\u5728\u672C\u7EC4\u7EC7\u4E2D\u5C55\u793A\u3002 ",-1)),xt={style:{"margin-top":"24px","font-size":"13px",padding:"0 24px"}},Ft=a(()=>e("div",{class:"font-color75"},"\u59D3\u540D",-1)),wt={class:"margin-top6 margin-bottom-16"},Ct=a(()=>e("div",null,"\u90E8\u95E8",-1)),yt={class:"margin-top6 margin-bottom-16"},kt=a(()=>e("div",null,"\u804C\u4F4D",-1)),Dt={class:"margin-top6 margin-bottom-16"},Bt=a(()=>e("div",null,"\u5DE5\u4F5C\u5730\u70B9",-1)),Et={class:"margin-top6 margin-bottom-16"},Tt=a(()=>e("div",null,"\u5DE5\u53F7",-1)),bt={class:"margin-top6 margin-bottom-16"},At={class:"cancellation"},St={style:{padding:"20px"}},zt=a(()=>e("div",{class:"change-owen"}," \u53EA\u6709\u53D8\u66F4\u62E5\u6709\u7740\u4E4B\u540E,\u624D\u80FD\u9000\u51FA ",-1)),Ut=G({name:"tenant-setting"}),Nt=G(X(W({},Ut),{setup(d){const i=v([]),u=he(),{createMessage:f}=xe();v([]);const y=v(!1),E=v([]),_=v({realname:u.getUserInfo.realname,workNo:u.getUserInfo.workNo,orgCodeTxt:u.getUserInfo.orgCodeTxt,postText:u.getUserInfo.postText});function k(){return V(this,null,function*(){fe({userTenantStatus:"1,3"}).then(o=>{o.success?i.value=o.result:i.value=[]})})}function h(o){const s=document.createElement("input");s.setAttribute("value",o),document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),f.success("\u590D\u5236\u6210\u529F")}function T(o){Ce.confirm({title:"\u53D6\u6D88\u7533\u8BF7",content:"\u662F\u5426\u53D6\u6D88\u7533\u8BF7",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:()=>{ve({tenantId:o}).then(s=>{s.success?(f.success("\u53D6\u6D88\u7533\u8BF7\u6210\u529F"),k()):f.warning(s.message)}).catch(s=>{f.warning(s.message)})}})}function H(o){o.show?o.show=!1:o.show=!0}function b(o,s){E.value=s,o==="editTenant"?y.value=!0:o==="exitTenant"&&(x.value={loginPassword:"",tenantName:""},A.value=!0,D.value=!0,S.value=s)}const D=v(!1),x=v({}),S=v({}),A=v(!0),z=v(""),I=v(!1);function J(){let o=C(S).name,s=C(x).tenantName;o===s?A.value=!1:A.value=!0}function K(){return V(this,null,function*(){if(!C(x).loginPassword){f.warning("\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801");return}yield ge({id:C(S).tenantUserId,loginPassword:C(x).loginPassword}).then(o=>{o.success?(f.success(o.message),D.value=!1,window.location.reload()):o.message==="assignedOwen"?(I.value=!0,D.value=!1):f.warning(o.message)}).catch(o=>{f.warning(o.message)})})}function Q(){D.value=!1,A.value=!0}function Y(){if(!C(z)){f.warning("\u8BF7\u9009\u62E9\u53D8\u66F4\u62E5\u6709\u8005");return}me({userId:C(z)}).then(o=>{o.success?(f.success(o.message),window.location.reload()):f.warning(o.message)})}return le(()=>{k()}),(o,s)=>{const p=m("Icon"),Z=m("a-empty"),P=m("a-modal"),U=m("a-col"),ee=m("a-input"),N=m("a-row"),$=m("a-form-item"),te=m("a-input-password"),ne=m("a-form"),M=m("a-button");return l(),r(j,null,[e("div",ye,[ke,i.value.length>0?(l(),r("div",De,[(l(!0),r(j,null,ce(i.value,t=>(l(),r("div",{class:"tenant-list-item",onClick:F=>H(t)},[e("div",Ee,[e("div",Te,[e("div",be,g(t.name),1),e("div",{class:"item-house",onClick:w(F=>h(t.houseNumber),["stop"])},[e("span",null,[B(" \u7EC4\u7EC7\u95E8\u724C\u53F7\uFF1A"+g(t.houseNumber)+" ",1),n(p,{icon:"ant-design:copy-outlined",style:{"font-size":"13px","margin-left":"2px"}})])],8,Ae)]),e("div",Se,[t.userTenantStatus==="3"?(l(),r("span",ze,[Ue,e("span",{class:"pointer cancel-apply",onClick:w(F=>T(t.tenantUserId),["stop"])},"\u53D6\u6D88\u7533\u8BF7",8,Ne)])):(l(),r("div",Ie)),e("span",Pe,[t.show?(l(),O(p,{key:0,icon:"ant-design:down-outlined",style:{"font-size":"13px",color:"#707070"}})):(l(),O(p,{key:1,icon:"ant-design:right-outlined",style:{"font-size":"13px",color:"#707070"}}))])])]),de(e("div",Ve,[e("div",Oe,[$e,e("div",Me,[e("div",Le,[Re,e("div",We,g(_.value.realname),1)]),e("div",Xe,[je,e("div",qe,g(_.value.orgCodeTxt?_.value.orgCodeTxt:"\u672A\u586B\u5199"),1)]),e("div",Ge,[He,e("div",Je,g(_.value.postText?_.value.postText:"\u672A\u586B\u5199"),1)])])]),e("div",Ke,[t.userTenantStatus!=="3"?(l(),r("span",{key:0,onClick:w(F=>b("editTenant",t),["stop"]),class:"font-color333 flex-flow margin-right40 font-size13 pointer"},[n(p,{icon:"ant-design:edit-outlined",class:"footer-icon"}),Ye],8,Qe)):(l(),r("span",Ze,[n(p,{icon:"ant-design:edit-outlined",class:"footer-icon"}),et])),t.userTenantStatus!=="3"&&t.auth?(l(),r("span",{key:2,onClick:w(F=>b("tenantSetting",t),["stop"]),class:"font-color333 flex-flow margin-right40 font-size13 pointer"},[n(p,{icon:"ant-design:tool-outlined",class:"footer-icon"}),nt],8,tt)):t.userTenantStatus==="3"&&t.auth?(l(),r("span",ot,[n(p,{icon:"ant-design:tool-outlined",class:"footer-icon"}),st])):q("",!0),t.userTenantStatus!=="3"&&!t.auth?(l(),r("span",{key:4,onClick:w(F=>b("tenantSetting",t),["stop"]),class:"font-color333 flex-flow margin-right40 font-size13 pointer"},[n(p,{icon:"ant-design:tool-outlined",class:"footer-icon"}),ut],8,at)):t.userTenantStatus==="3"&&!t.auth?(l(),r("span",it,[n(p,{icon:"ant-design:tool-outlined",class:"footer-icon"}),lt])):q("",!0),t.userTenantStatus!=="3"?(l(),r("span",{key:6,onClick:w(F=>b("tenantSetting",t),["stop"]),class:"font-color333 flex-flow margin-right40 font-size13 pointer"},[n(p,{icon:"ant-design:gold-outlined",class:"footer-icon"}),dt],8,ct)):(l(),r("span",rt,[n(p,{icon:"ant-design:gold-outlined",class:"footer-icon"}),_t])),t.userTenantStatus!=="3"?(l(),r("span",{key:8,onClick:w(F=>b("exitTenant",t),["stop"]),class:"font-color333 flex-flow margin-right40 font-size13 pointer"},[n(p,{icon:"ant-design:export-outlined",class:"footer-icon"}),ft],8,pt)):(l(),r("span",vt,[n(p,{icon:"ant-design:export-outlined",class:"footer-icon"}),gt]))])],512),[[re,t.show]])],8,Be))),256))])):(l(),O(Z,{key:1,description:"\u6682\u65E0\u6570\u636E",style:{position:"relative",top:"50px"}}))]),n(P,{visible:y.value,"onUpdate:visible":s[0]||(s[0]=t=>y.value=t),width:"400px",wrapClassName:"edit-tenant-setting"},{title:c(()=>[mt,ht]),default:c(()=>[e("div",xt,[Ft,e("div",wt,g(_.value.realname),1),Ct,e("div",yt,g(_.value.orgCodeTxt?_.value.orgCodeTxt:"\u672A\u586B\u5199"),1),kt,e("div",Dt,g(_.value.postText?_.value.postText:"\u672A\u586B\u5199"),1),Bt,e("div",Et,g(E.value.workPlace?E.value.workPlace:"\u672A\u586B\u5199"),1),Tt,e("div",bt,g(_.value.workNo?_.value.workNo:"\u672A\u586B\u5199"),1)])]),_:1},8,["visible"]),n(P,{visible:D.value,"onUpdate:visible":s[3]||(s[3]=t=>D.value=t),width:"800","destroy-on-close":""},{title:c(()=>[e("div",At,[n(p,{icon:"ant-design:warning-outlined",style:{"font-size":"20px",color:"red"}}),B(" \u9000\u51FA\u79DF\u6237 "+g(S.value.name),1)])]),footer:c(()=>[n(M,{type:"primary",onClick:K,disabled:A.value},{default:c(()=>[B("\u786E\u5B9A")]),_:1},8,["disabled"]),n(M,{onClick:Q},{default:c(()=>[B("\u53D6\u6D88")]),_:1})]),default:c(()=>[n(ne,{model:x.value,ref:"cancelTenantRef"},{default:c(()=>[n($,{name:"tenantName"},{default:c(()=>[n(N,{span:24,style:{padding:"20px 20px 0","font-size":"13px"}},{default:c(()=>[n(U,{span:24},{default:c(()=>[B(" \u8BF7\u8F93\u5165\u79DF\u6237\u540D\u79F0 ")]),_:1}),n(U,{span:24,style:{"margin-top":"10px"}},{default:c(()=>[n(ee,{value:x.value.tenantName,"onUpdate:value":s[1]||(s[1]=t=>x.value.tenantName=t),onChange:J},null,8,["value"])]),_:1})]),_:1})]),_:1}),n($,{name:"loginPassword"},{default:c(()=>[n(N,{span:24,style:{padding:"0 20px","font-size":"13px"}},{default:c(()=>[n(U,{span:24},{default:c(()=>[B(" \u8BF7\u8F93\u5165\u60A8\u7684\u767B\u5F55\u5BC6\u7801 ")]),_:1}),n(U,{span:24,style:{"margin-top":"10px"}},{default:c(()=>[n(te,{value:x.value.loginPassword,"onUpdate:value":s[2]||(s[2]=t=>x.value.loginPassword=t)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),n(P,{title:"\u53D8\u66F4\u62E5\u6709\u8005",visible:I.value,"onUpdate:visible":s[5]||(s[5]=t=>I.value=t),width:"800","destroy-on-close":"",cancelButtonProps:{display:"none"},onOk:Y},{default:c(()=>[e("div",St,[n(N,{span:24},{default:c(()=>[zt]),_:1}),n(N,{span:24,style:{"margin-top":"10px"}},{default:c(()=>[n(we,{value:z.value,"onUpdate:value":s[4]||(s[4]=t=>z.value=t),izExcludeMy:""},null,8,["value"])]),_:1})])]),_:1},8,["visible"])],64)}}}));const Qt=Fe(Nt,[["__scopeId","data-v-a81d2eeb"]]);export{Qt as default};
