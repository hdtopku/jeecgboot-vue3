var A=Object.defineProperty,x=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var g=(e,t,o)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,b=(e,t)=>{for(var o in t||(t={}))R.call(t,o)&&g(e,o,t[o]);if(f)for(var o of f(t))P.call(t,o)&&g(e,o,t[o]);return e},B=(e,t)=>x(e,v(t));import H from"./BasicTable-04058a09.js";import{T as N}from"./componentMap-90ab712d.js";import"./BasicTable.vue_vue_type_style_index_0_lang-3c8b8bcc.js";import"./useTable-7c8820b4.js";import S from"./DetailModal-d7beadf0.js";import{g as k,e as F,s as h,a as Y,r as L}from"./mynews.api-b42cde6b.js";import{render as u}from"./renderUtils-d120321f.js";import{d as U,u as V}from"./jeecg-online-vendor-12004772.js";import"./index-a882524d.js";import{useListPage as G}from"./useListPage-8d85dabf.js";import{u as O}from"./useSysMessage-98c9f657.js";import{E as j}from"./index-6916e394.js";import{d as M,k as D,o as q,U as z,aV as J,as as K,f as s,bi as p,E as Q,u as l}from"./vue-c7e3516e.js";import"./lodash-es-vendor-42c8d3d4.js";import"./antd-vue-vendor-1561c1ba.js";import"./tinymce-vendor-40778af9.js";import"./codemirror-vendor-96aab763.js";import"./echarts-vendor-b30c7238.js";import"./html2canvas-vendor-654dcb8a.js";import"./vxe-table-vendor-8bace23a.js";import"./BasicForm-030e7c21.js";import"./BasicForm.vue_vue_type_style_index_0_lang-8cb333b2.js";import"./BasicModal-b901e352.js";import"./useWindowSizeFn-581ed1a8.js";import"./useFormItem-cc50e63d.js";import"./JUpload.vue_vue_type_style_index_0_lang-5851070a.js";import"./download-fc124faf.js";import"./base64Conver-4e359726.js";import"./index-d83c9bcd.js";import"./index-6d615beb.js";import"./useCountdown-61c82faf.js";import"./JAddInput-dff0b84f.js";import"./areaDataUtil-13d415af.js";import"./useSelectBiz-f95680cd.js";import"./props-18305405.js";import"./index-3ce15f67.js";import"./bem-2be191b9.js";import"./props-c3781b9d.js";import"./useContextMenu-1b1215cd.js";import"./useTreeBiz-cda2af6e.js";import"./index-c5567c31.js";import"./depart.api-de6ffddd.js";import"./index-fcc2460e.js";import"./useForm-ae9e1cbd.js";import"./injectionKey-5da932b3.js";const W=[{title:"\u6807\u9898",dataIndex:"titile",width:100,align:"left"},{title:"\u6D88\u606F\u7C7B\u578B",dataIndex:"msgCategory",width:80,customRender:({text:e})=>u.renderDictNative(e,[{label:"\u901A\u77E5\u516C\u544A",value:"1",color:"blue"},{label:"\u7CFB\u7EDF\u6D88\u606F",value:"2"}],!0)},{title:"\u53D1\u5E03\u4EBA",dataIndex:"sender",width:80},{title:"\u53D1\u5E03\u65F6\u95F4",dataIndex:"sendTime",width:80},{title:"\u4F18\u5148\u7EA7",dataIndex:"priority",width:80,customRender:({text:e})=>{const t=e=="L"?"blue":e=="M"?"yellow":"red";return u.renderTag(u.renderDict(e,"priority"),t)}},{title:"\u9605\u8BFB\u72B6\u6001",dataIndex:"readFlag",width:80,customRender:({text:e})=>u.renderDictNative(e,[{label:"\u672A\u8BFB",value:"0",color:"red"},{label:"\u5DF2\u8BFB",value:"1"}],!0)}],X=[{field:"titile",label:"\u6807\u9898",component:"Input",colProps:{span:8}},{field:"sender",label:"\u53D1\u5E03\u4EBA",component:"Input",colProps:{span:8}}],Z=M({name:"monitor-mynews"}),ze=M(B(b({},Z),{setup(e){U(),D([]),D({});const t={logType:"1"},[o,{openModal:d}]=j(),c=V(),{goPage:_}=O(),{prefixCls:$,tableContext:C}=G({designScope:"mynews-list",tableProps:{title:"\u6211\u7684\u6D88\u606F",api:k,columns:W,formConfig:{schemas:X,fieldMapToTime:[["fieldTime",["createTime_begin","createTime_end"],"YYYY-MM-DD HH:mm:ss"]]}}}),[E,{reload:m}]=C;function I(r){return[{label:"\u67E5\u770B",onClick:T.bind(null,r)}]}function T(r){let i=r.anntId;F({anntId:i}).then(n=>{m(),h({anntId:i})}),_(r,()=>{d(!0,{record:r,isUpdate:!0})})}function w(){L({},m)}q(()=>{y()});function y(){let r=c.getMessageHrefParams;if(r){let i=r.id;i&&F({anntId:i}).then(()=>{m(),h({anntId:i})});let a=r.detailId;a&&Y(a).then(n=>{d(!0,{record:n,isUpdate:!0}),c.setMessageHrefParams("")})}}return(r,i)=>{const a=z("a-button");return J(),K("div",null,[s(l(H),{onRegister:l(E),searchInfo:t},{tableTitle:p(()=>[s(a,{type:"primary",onClick:w},{default:p(()=>[Q("\u5168\u90E8\u6807\u6CE8\u5DF2\u8BFB")]),_:1})]),action:p(({record:n})=>[s(l(N),{actions:I(n)},null,8,["actions"])]),_:1},8,["onRegister"]),s(S,{onRegister:l(o)},null,8,["onRegister"])])}}}));export{ze as default};
